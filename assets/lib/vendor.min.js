function globalEval(e){eval.call(null,e)}function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,n,i){switch(n=n||"i8","*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":HEAP8[e>>0]=t;break;case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,t,n){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":return HEAP8[e>>0];case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}function allocate(e,t,n,i){var r,a;"number"==typeof e?(r=!0,a=e):(r=!1,a=e.length);var o,s="string"==typeof t?t:null;if(o=n==ALLOC_NONE?i:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===n?ALLOC_STATIC:n](Math.max(a,s?1:t.length)),r){var l,i=o;for(assert(0==(3&o)),l=o+(a&-4);i<l;i+=4)HEAP32[i>>2]=0;for(l=o+a;i<l;)HEAP8[i++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var c,u,d,f=0;f<a;){var h=e[f];"function"==typeof h&&(h=Runtime.getFunctionIndex(h)),c=s||t[f],0!==c?("i64"==c&&(c="i32"),setValue(o+f,h,c),d!==c&&(u=Runtime.getNativeTypeSize(c),d=c),f+=u):f++}return o}function getMemory(e){return staticSealed?"undefined"!=typeof _sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var n,i=0,r=0;;){if(n=HEAPU8[e+r>>0],i|=n,0==n&&!t)break;if(r++,t&&r==t)break}t||(t=r);var a="";if(i<128){for(var o,s=1024;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,s))),a=a?a+o:o,e+=s,t-=s;return a}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var n=HEAP8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var n,i,r,a,o,s,l="";;){if(n=e[t++],!n)return l;if(128&n)if(i=63&e[t++],192!=(224&n))if(r=63&e[t++],224==(240&n)?n=(15&n)<<12|i<<6|r:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|i<<12|r<<6|a:(o=63&e[t++],248==(252&n)?n=(3&n)<<24|i<<18|r<<12|a<<6|o:(s=63&e[t++],n=(1&n)<<30|i<<24|r<<18|a<<12|o<<6|s))),n<65536)l+=String.fromCharCode(n);else{var c=n-65536;l+=String.fromCharCode(55296|c>>10,56320|1023&c)}else l+=String.fromCharCode((31&n)<<6|i);else l+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,n,i){if(!(i>0))return 0;for(var r=n,a=n+i-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-r}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++n)),i<=127?++t:t+=i<=2047?2:i<=65535?3:i<=2097151?4:i<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,n="";;){var i=HEAP16[e+2*t>>1];if(0==i)return n;++t,n+=String.fromCharCode(i)}}function stringToUTF16(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;n-=2;for(var i=t,r=n<2*e.length?n/2:e.length,a=0;a<r;++a){var o=e.charCodeAt(a);HEAP16[t>>1]=o,t+=2}return HEAP16[t>>1]=0,t-i}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,n="";;){var i=HEAP32[e+4*t>>2];if(0==i)return n;if(++t,i>=65536){var r=i-65536;n+=String.fromCharCode(55296|r>>10,56320|1023&r)}else n+=String.fromCharCode(i)}}function stringToUTF32(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var i=t,r=i+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343){var s=e.charCodeAt(++a);o=65536+((1023&o)<<10)|1023&s}if(HEAP32[t>>2]=o,t+=4,t+4>r)break}return HEAP32[t>>2]=0,t-i}function lengthBytesUTF32(e){for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&++n,t+=4}return t}function demangle(e){function t(){l++,"K"===e[l]&&l++;for(var t=[];"E"!==e[l];)if("S"!==e[l])if("C"!==e[l]){var n=parseInt(e.substr(l)),i=n.toString().length;if(!n||!i){l--;break}var r=e.substr(l+i,n);t.push(r),u.push(r),l+=i+n}else t.push(t[t.length-1]),l+=2;else{l++;var a=e.indexOf("_",l),o=e.substring(l,a)||0;t.push(u[o]||"?"),l=a+1}return l++,t}function n(i,r,a){function o(){return"("+f.join(", ")+")"}r=r||1/0;var s,u="",f=[];if("N"===e[l]){if(s=t().join("::"),r--,0===r)return i?[s]:s}else{("K"===e[l]||d&&"L"===e[l])&&l++;var h=parseInt(e.substr(l));if(h){var m=h.toString().length;s=e.substr(l+m,h),l+=m+h}}if(d=!1,"I"===e[l]){l++;var p=n(!0),g=n(!0,1,!0);u+=g[0]+" "+s+"<"+p.join(", ")+">"}else u=s;e:for(;l<e.length&&r-- >0;){var v=e[l++];if(v in c)f.push(c[v]);else switch(v){case"P":f.push(n(!0,1,!0)[0]+"*");break;case"R":f.push(n(!0,1,!0)[0]+"&");break;case"L":l++;var b=e.indexOf("E",l),h=b-l;f.push(e.substr(l,h)),l+=h+2;break;case"A":var h=parseInt(e.substr(l));if(l+=h.toString().length,"_"!==e[l])throw"?";l++,f.push(n(!0,1,!0)[0]+" ["+h+"]");break;case"E":break e;default:u+="?"+v;break e}}return a||1!==f.length||"void"!==f[0]||(f=[]),i?(u&&f.push(u+"?"),f):u+o()}var i=!!Module.___cxa_demangle;if(i)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var a=_malloc(4),o=Module.___cxa_demangle(r,0,0,a);if(0===getValue(a,"i32")&&o)return Pointer_stringify(o)}catch(s){}finally{r&&_free(r),a&&_free(a),o&&_free(o)}var l=3,c={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},u=[],d=!0,f=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}f=n()}catch(s){f+="?"}return f.indexOf("?")>=0&&!i&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),f}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Runtime.dynCall("v",n):Runtime.dynCall("vi",n,[t.arg]):n(void 0===t.arg?null:t.arg)}else t()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,n){var i=n>0?n:lengthBytesUTF8(e)+1,r=new Array(i),a=stringToUTF8Array(e,r,0,r.length);return t&&(r.length=a),r}function intArrayToString(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i>255&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")}function writeStringToMemory(e,t,n){for(var i=intArrayFromString(e,n),r=0;r<i.length;){var a=i[r];HEAP8[t+r>>0]=a,r+=1}}function writeArrayToMemory(e,t){for(var n=0;n<e.length;n++)HEAP8[t++>>0]=e[n]}function writeAsciiToMemory(e,t,n){for(var i=0;i<e.length;++i)HEAP8[t++>>0]=e.charCodeAt(i);n||(HEAP8[t>>0]=0)}function unSign(e,t,n){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,n){if(e<=0)return e;var i=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=i&&(t<=32||e>i)&&(e=-2*i+e),e}function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function _emscripten_asm_const_33(e,t,n,i,r,a,o,s,l,c,u,d,f,h,m,p,g,v,b,y,E,w,_,x,M,k,T,S,A,C,$,R,P,N){return ASM_CONSTS[e](t,n,i,r,a,o,s,l,c,u,d,f,h,m,p,g,v,b,y,E,w,_,x,M,k,T,S,A,C,$,R,P,N)}function _emscripten_asm_const_4(e,t,n,i,r){return ASM_CONSTS[e](t,n,i,r)}function _emscripten_asm_const_5(e,t,n,i,r,a){return ASM_CONSTS[e](t,n,i,r,a)}function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,t,n,i){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",n,i?Pointer_stringify(i):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);embind_charCodes=e}function readLatin1String(e){for(var t="",n=e;HEAPU8[n];)t+=embind_charCodes[HEAPU8[n++]];return t}function makeLegalFunctionName(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=char_0&&t<=char_9?"_"+e:e}function createNamedFunction(e,t){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function extendError(e,t){var n=createNamedFunction(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}function throwBindingError(e){throw new BindingError(e)}function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,t,n){function i(t){var i=n(t);i.length!==e.length&&throwInternalError("Mismatched type converter count");for(var r=0;r<e.length;++r)registerType(e[r],i[r])}e.forEach(function(e){typeDependencies[e]=t});var r=new Array(t.length),a=[],o=0;t.forEach(function(e,t){registeredTypes.hasOwnProperty(e)?r[t]=registeredTypes[e]:(a.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){r[t]=registeredTypes[e],++o,o===a.length&&i(r)}))}),0===a.length&&i(r)}function registerType(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=t.name;if(e||throwBindingError('type "'+i+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+i+"' twice")}if(registeredTypes[e]=t,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var r=awaitingDependencies[e];delete awaitingDependencies[e],r.forEach(function(e){e()})}}function __embind_register_void(e,t){t=readLatin1String(t),registerType(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],n=t.type;if(!n)return 0|(asm.setTempRet0(0),e);var i=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(n);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var r=0;r<i.length;r++)if(i[r]&&Module.___cxa_can_catch(i[r],n,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm.setTempRet0(i[r]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(n),e)}function ___cxa_throw(e,t,n){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,t,n,i,r){var a=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?i:r},argPackAdvance:8,readValueFromPointer:function(e){var i;if(1===n)i=HEAP8;else if(2===n)i=HEAP16;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);i=HEAP32}return this.fromWireType(i[e>>a])},destructorFunction:null})}function _abort(){Module.abort()}function _free(){}function _malloc(e){var t=Runtime.dynamicAlloc(e+8);return t+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){for(var t=HEAPU32[e>>2],n=new Array(t),i=0;i<t;++i)n[i]=String.fromCharCode(HEAPU8[e+4+i]);return _free(e),n.join("")},toWireType:function(e,t){function n(e,t){return e[t]}function i(e,t){return e.charCodeAt(t)}t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r;t instanceof Uint8Array?r=n:t instanceof Int8Array?r=n:"string"==typeof t?r=i:throwBindingError("Cannot pass non-string to std::string");var a=t.length,o=_malloc(4+a);HEAPU32[o>>2]=a;for(var s=0;s<a;++s){var l=r(t,s);l>255&&(_free(o),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[o+4+s]=l}return null!==e&&e.push(_free,o),o},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,t,n){n=readLatin1String(n);var i,r;2===t?(i=function(){return HEAPU16},r=1):4===t&&(i=function(){return HEAPU32},r=2),registerType(e,{name:n,fromWireType:function(e){for(var t=i(),n=HEAPU32[e>>2],a=new Array(n),o=e+4>>r,s=0;s<n;++s)a[s]=String.fromCharCode(t[o+s]);return _free(e),a.join("")},toWireType:function(e,n){var a=i(),o=n.length,s=_malloc(4+o*t);HEAPU32[s>>2]=o;for(var l=s+4>>r,c=0;c<o;++c)a[l+c]=n.charCodeAt(c);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___lock(){}function ___unlock(){}function _embind_repr(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function integerReadValueFromPointer(e,t,n){switch(t){case 0:return n?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return n?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return n?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,t,n,i,r){t=readLatin1String(t),r===-1&&(r=4294967295);var a=getShiftFromSize(n),o=function(e){return e};if(0===i){var s=32-8*n;o=function(e){return e<<s>>>s}}registerType(e,{name:t,fromWireType:o,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+_embind_repr(n)+'" to '+this.name);if(n<i||n>r)throw new TypeError('Passing a number "'+_embind_repr(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+i+", "+r+"]!");return 0|n},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(t,a,0!==i),destructorFunction:null})}function __emval_decref(e){e>4&&0===--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,t=5;t<emval_handle_array.length;++t)void 0!==emval_handle_array[t]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[t]={refcount:1,value:e},t}}function __embind_register_emval(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){var t=emval_handle_array[e].value;return __emval_decref(e),t},toWireType:function(e,t){return __emval_register(t)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator?navigator.hardwareConcurrency||1:1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}function floatReadValueFromPointer(e,t){switch(t){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,t,n){var i=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+_embind_repr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(t,i),destructorFunction:null})}function _pthread_cleanup_push(e,t){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[t])}),_pthread_cleanup_push.level=__ATEXIT__.length}function new_(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=createNamedFunction(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return r instanceof Object?r:i}function runDestructors(e){for(;e.length;){var t=e.pop(),n=e.pop();n(t)}}function craftInvokerFunction(e,t,n,i,r){var a=t.length;a<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==n,s="",l="",c=0;c<a-2;++c)s+=(0!==c?", ":"")+"arg"+c,l+=(0!==c?", ":"")+"arg"+c+"Wired";for(var u="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n",d=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){d=!0;break}d&&(u+="var destructors = [];\n");var f=d?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[throwBindingError,i,r,runDestructors,t[0],t[1]];o&&(u+="var thisWired = classParam.toWireType("+f+", this);\n");for(var c=0;c<a-2;++c)u+="var arg"+c+"Wired = argType"+c+".toWireType("+f+", arg"+c+"); // "+t[c+2].name+"\n",h.push("argType"+c),m.push(t[c+2]);o&&(l="thisWired"+(l.length>0?", ":"")+l);var p="void"!==t[0].name;if(u+=(p?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",d)u+="runDestructors(destructors);\n";else for(var c=o?1:2;c<t.length;++c){var g=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(u+=g+"_dtor("+g+"); // "+t[c].name+"\n",h.push(g+"_dtor"),m.push(t[c].destructorFunction))}p&&(u+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),u+="}\n",h.push(u);var v=new_(Function,h).apply(null,m);return v}function ensureOverloadTable(e,t,n){if(void 0===e[t].overloadTable){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}}function exposePublicSymbol(e,t,n){Module.hasOwnProperty(e)?((void 0===n||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[n])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(n)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),Module[e].overloadTable[n]=t):(Module[e]=t,void 0!==n&&(Module[e].numArguments=n))}function heap32VectorToArray(e,t){for(var n=[],i=0;i<e;i++)n.push(HEAP32[(t>>2)+i]);return n}function replacePublicSymbol(e,t,n){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==n?Module[e].overloadTable[n]=t:Module[e]=t}function requireFunction(e,t){function n(n){for(var i=[],r=1;r<e.length;++r)i.push("a"+r);var a="dynCall_"+e+"_"+t,o="return function "+a+"("+i.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(i.length?", ":"")+i.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(n,t)}e=readLatin1String(e);var i;if(void 0!==Module["FUNCTION_TABLE_"+e])i=Module["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)i=FUNCTION_TABLE[t];else{var r=asm["dynCall_"+e];void 0===r&&(r=asm["dynCall_"+e.replace(/f/g,"d")],void 0===r&&throwBindingError("No dynCall invoker for signature: "+e)),i=n(r)}return"function"!=typeof i&&throwBindingError("unknown function pointer with signature "+e+": "+t),i}function getTypeName(e){var t=___getTypeName(e),n=readLatin1String(t);return _free(t),n}function throwUnboundTypeError(e,t){function n(e){if(!r[e]&&!registeredTypes[e]){if(typeDependencies[e])return void typeDependencies[e].forEach(n);i.push(e),r[e]=!0}}var i=[],r={};throw t.forEach(n),new UnboundTypeError(e+": "+i.map(getTypeName).join([", "]))}function __embind_register_function(e,t,n,i,r,a){var o=heap32VectorToArray(t,n);e=readLatin1String(e),r=requireFunction(i,r),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",o)},t-1),whenDependentTypesAreResolved([],o,function(n){var i=[n[0],null].concat(n.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,i,null,r,a),t-1),[]})}function __embind_register_constant(e,t,n){e=readLatin1String(e),whenDependentTypesAreResolved([],[t],function(t){return t=t[0],Module[e]=t.fromWireType(n),[]})}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function ___syscall5(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStr(),i=SYSCALLS.get(),r=SYSCALLS.get(),a=FS.open(n,i,r);return a.fd}catch(o){return"undefined"!=typeof FS&&o instanceof FS.ErrnoError||abort(o),-o.errno}}function _emscripten_memcpy_big(e,t,n){return HEAPU8.set(HEAPU8.subarray(t,t+n),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD();return FS.close(n),0}catch(i){return"undefined"!=typeof FS&&i instanceof FS.ErrnoError||abort(i),-i.errno}}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var n=DYNAMICTOP;if(0!=e){var i=t.alloc(e);if(!i)return-1>>>0}return n}function ___syscall54(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get();switch(i){case 21505:return n.tty?0:-ERRNO_CODES.ENOTTY;case 21506:return n.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!n.tty)return-ERRNO_CODES.ENOTTY;var r=SYSCALLS.get();return HEAP32[r>>2]=0,0;case 21520:return n.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:var r=SYSCALLS.get();return FS.ioctl(n,i,r);default:abort("bad ioctl syscall "+i)}}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function __embind_register_memory_view(e,t,n){function i(e){e>>=2;var t=HEAPU32,n=t[e],i=t[e+1];return new a(t.buffer,i,n)}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=r[t];n=readLatin1String(n),registerType(e,{name:n,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),r=SYSCALLS.get(),a=SYSCALLS.get(),o=SYSCALLS.get(),s=r;return assert(0===i),FS.llseek(n,s,o),HEAP32[a>>2]=n.position,n.getdents&&0===s&&0===o&&(n.getdents=null),0}catch(l){return"undefined"!=typeof FS&&l instanceof FS.ErrnoError||abort(l),-l.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),r=SYSCALLS.get();return SYSCALLS.doWritev(n,i,r)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall221(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get();switch(i){case 0:var r=SYSCALLS.get();if(r<0)return-ERRNO_CODES.EINVAL;var a;return a=FS.open(n.path,n.flags,0,r),a.fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=SYSCALLS.get();return n.flags|=r,0;case 12:case 12:var r=SYSCALLS.get(),o=0;return HEAP16[r+o>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(s){return"undefined"!=typeof FS&&s instanceof FS.ErrnoError||abort(s),-s.errno}}function ___syscall145(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),r=SYSCALLS.get();return SYSCALLS.doReadv(n,i,r)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function invoke_iiii(e,t,n,i){try{return Module.dynCall_iiii(e,t,n,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;asm.setThrew(1,0)}}function invoke_viiiii(e,t,n,i,r,a){try{Module.dynCall_viiiii(e,t,n,i,r,a)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;asm.setThrew(1,0)}}function invoke_dii(e,t,n){try{return Module.dynCall_dii(e,t,n)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_vid(e,t,n){try{Module.dynCall_vid(e,t,n)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_di(e,t){try{return Module.dynCall_di(e,t)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;asm.setThrew(1,0)}}function invoke_i(e){try{return Module.dynCall_i(e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;asm.setThrew(1,0)}}function invoke_vii(e,t,n){try{Module.dynCall_vii(e,t,n)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;asm.setThrew(1,0)}}function invoke_viii(e,t,n,i){try{Module.dynCall_viii(e,t,n,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;asm.setThrew(1,0)}}function invoke_viid(e,t,n,i){try{Module.dynCall_viid(e,t,n,i);
}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;asm.setThrew(1,0)}}function invoke_iiiii(e,t,n,i,r){try{return Module.dynCall_iiiii(e,t,n,i,r)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,n,i,r,a,o){try{Module.dynCall_viiiiii(e,t,n,i,r,a,o)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;asm.setThrew(1,0)}}function invoke_iii(e,t,n){try{return Module.dynCall_iii(e,t,n)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_viiii(e,t,n,i,r){try{Module.dynCall_viiii(e,t,n,i,r)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;asm.setThrew(1,0)}}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",n="abort("+e+") at "+stackTrace()+t;throw abortDecorators&&abortDecorators.forEach(function(t){n=t(n,e)}),n}!function(e){"use strict";function t(e){return E(e)?void(y(e.objectMaxDepth)&&(ci.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN)):ci}function n(e){return x(e)&&0<e}function i(e,t){return t=t||Error,function(){var n,i=arguments[0];for(n="["+(e?e+":":"")+i+"] http://errors.angularjs.org/1.6.6/"+(e?e+"/":"")+i,i=1;i<arguments.length;i++){n=n+(1==i?"?":"&")+"p"+(i-1)+"=";var r,a=encodeURIComponent;r=arguments[i],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,n+=a(r)}return new t(n)}}function r(e){if(null==e||A(e))return!1;if(xi(e)||_(e)||oi&&e instanceof oi)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function a(e,t,n){var i,o;if(e)if(T(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(xi(e)||r(e)){var s="object"!=typeof e;for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(w(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)di.call(e,i)&&t.call(n,e[i],i,e);return e}function o(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++wi}function c(e,t,n){for(var i=e.$$hashKey,r=0,a=t.length;r<a;++r){var o=t[r];if(E(o)||T(o))for(var s=Object.keys(o),l=0,u=s.length;l<u;l++){var d=s[l],f=o[d];n&&E(f)?M(f)?e[d]=new Date(f.valueOf()):S(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):P(f)?e[d]=f.clone():(E(e[d])||(e[d]=xi(f)?[]:{}),c(e[d],[f],!0)):e[d]=f}}return i?e.$$hashKey=i:delete e.$$hashKey,e}function u(e){return c(e,mi.call(arguments,1),!1)}function d(e){return c(e,mi.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return u(Object.create(e),t)}function m(){}function p(e){return e}function g(e){return function(){return e}}function v(e){return T(e.toString)&&e.toString!==vi}function b(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function E(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!bi(e)}function _(e){return"string"==typeof e}function x(e){return"number"==typeof e}function M(e){return"[object Date]"===vi.call(e)}function k(e){switch(vi.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}function T(e){return"function"==typeof e}function S(e){return"[object RegExp]"===vi.call(e)}function A(e){return e&&e.window===e}function C(e){return e&&e.$evalAsync&&e.$watch}function $(e){return"boolean"==typeof e}function R(e){return e&&x(e.length)&&Mi.test(vi.call(e))}function P(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function N(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function O(e){return fi(e.nodeName||e[0]&&e[0].nodeName)}function D(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function I(e,t,i){function r(e,t,n){if(n--,0>n)return"...";var i,r=t.$$hashKey;if(xi(e)){i=0;for(var a=e.length;i<a;i++)t.push(o(e[i],n))}else if(w(e))for(i in e)t[i]=o(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i],n));else for(i in e)di.call(e,i)&&(t[i]=o(e[i],n));return r?t.$$hashKey=r:delete t.$$hashKey,t}function o(e,t){if(!E(e))return e;var n=l.indexOf(e);if(-1!==n)return c[n];if(A(e)||C(e))throw yi("cpws");var n=!1,i=s(e);return void 0===i&&(i=xi(e)?[]:Object.create(bi(e)),n=!0),l.push(e),c.push(i),n?r(e,i,t):i}function s(e){switch(vi.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(T(e.cloneNode))return e.cloneNode(!0)}var l=[],c=[];if(i=n(i)?i:NaN,t){if(R(t)||"[object ArrayBuffer]"===vi.call(t))throw yi("cpta");if(e===t)throw yi("cpi");return xi(t)?t.length=0:a(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),c.push(t),r(e,t,i)}return o(e,i)}function L(e,t){return e===t||e!==e&&t!==t}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i=typeof e;if(i===typeof t&&"object"===i){if(!xi(e)){if(M(e))return!!M(t)&&L(e.getTime(),t.getTime());if(S(e))return!!S(t)&&e.toString()===t.toString();if(C(e)||C(t)||A(e)||A(t)||xi(t)||M(t)||S(t))return!1;i=ue();for(n in e)if("$"!==n.charAt(0)&&!T(e[n])){if(!F(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&y(t[n])&&!T(t[n]))return!1;return!0}if(!xi(t))return!1;if((i=e.length)===t.length){for(n=0;n<i;n++)if(!F(e[n],t[n]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(mi.call(t,n))}function U(e,t){var n=2<arguments.length?mi.call(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:A(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":C(n)&&(i="$SCOPE"),i}function j(e,t){if(!b(e))return x(t)||(t=t?2:null),JSON.stringify(e,B,t)}function V(e){return _(e)?JSON.parse(e):e}function z(e,t){e=e.replace(Ci,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return _i(n)?t:n}function W(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return t=z(t,i),n*=t-i,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function G(e){e=oi(e).clone().empty();var t=oi("<div>").append(e).html();try{return e[0].nodeType===Oi?fi(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+fi(t)})}catch(n){return fi(t)}}function q(e){try{return decodeURIComponent(e)}catch(t){}}function Y(e){var t={};return a((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=q(i),y(i)&&(r=!y(r)||q(r),di.call(t,i)?xi(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function X(e){var t=[];return a(e,function(e,n){xi(e)?a(e,function(e){t.push(Z(n,!0)+(!0===e?"":"="+Z(e,!0)))}):t.push(Z(n,!0)+(!0===e?"":"="+Z(e,!0)))}),t.length?t.join("&"):""}function K(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function J(e,t){var n,i,r=$i.length;for(i=0;i<r;++i)if(n=$i[i]+t,_(n=e.getAttribute(n)))return n;return null}function Q(t,n){var i,r,o={};a($i,function(e){e+="app",!i&&t.hasAttribute&&t.hasAttribute(e)&&(i=t,r=t.getAttribute(e))}),a($i,function(e){e+="app";var n;!i&&(n=t.querySelector("["+e.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(e))}),i&&(Ri?(o.strictDi=null!==J(i,"strict-di"),n(i,r?[r]:[],o)):e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function ee(t,n,i){E(i)||(i={}),i=u({strictDi:!1},i);var r=function(){if(t=oi(t),t.injector()){var r=t[0]===e.document?"document":G(t);throw yi("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),r=Ge(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),r},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name)?r():(e.name=e.name.replace(s,""),Ei.resumeBootstrap=function(e){return a(e,function(e){n.push(e)}),r()},void(T(Ei.resumeDeferredBootstrap)&&Ei.resumeDeferredBootstrap()))}function te(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ne(e){if(e=Ei.element(e).injector(),!e)throw yi("test");return e.get("$$testability")}function ie(e,t){return t=t||"_",e.replace(Pi,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;if(!Ni){var n=Ai();(si=b(n)?e.jQuery:n?e[n]:void 0)&&si.fn.on?(oi=si,u(si.fn,{scope:Yi.scope,isolateScope:Yi.isolateScope,controller:Yi.controller,injector:Yi.injector,inheritedData:Yi.inheritedData}),t=si.cleanData,si.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=si._data(i,"events"))&&n.$destroy&&si(i).triggerHandler("$destroy");t(e)}):oi=Ee,Ei.element=oi,Ni=!0}}function ae(e,t,n){if(!e)throw yi("areq",t||"?",n||"required");return e}function oe(e,t,n){return n&&xi(e)&&(e=e[e.length-1]),ae(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function se(e,t){if("hasOwnProperty"===e)throw yi("badname",t)}function le(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,a=t.length,o=0;o<a;o++)i=t[o],e&&(e=(r=e)[i]);return!n&&T(e)?U(r,e):e}function ce(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=oi(mi.call(e,0,r))),t.push(n));return t||e}function ue(){return Object.create(null)}function de(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!v(e)||xi(e)||M(e)?j(e):e.toString()}return e}function fe(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,a,o){var s={};if("hasOwnProperty"===i)throw r("badname","module");return a&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=l),function(){return i[n||"push"]([e,t,arguments]),f}}function t(e,t,n){return n||(n=l),function(r,a){return a&&T(a)&&(a.$$moduleName=i),n.push([e,t,arguments]),f}}if(!a)throw n("nomod",i);var l=[],c=[],u=[],d=e("$injector","invoke","push",c),f={_invokeQueue:l,_configBlocks:c,_runBlocks:u,info:function(e){if(y(e)){if(!E(e))throw r("aobj","value");return s=e,this}return s},requires:a,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",c),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:d,run:function(e){return u.push(e),this}};return o&&d(o),f})}})}function he(e,t){if(xi(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(E(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function me(e,t){var i=[];return n(t)&&(e=Ei.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=B(e,t),E(t)){if(0<=i.indexOf(t))return"...";i.push(t)}return t})}function pe(n){u(n,{errorHandlingConfig:t,bootstrap:ee,copy:I,extend:u,merge:d,equals:F,element:oi,forEach:a,injector:Ge,noop:m,bind:U,toJson:j,fromJson:V,identity:p,isUndefined:b,isDefined:y,isString:_,isFunction:T,isObject:E,isNumber:x,isElement:P,isArray:xi,version:Di,isDate:M,lowercase:fi,uppercase:hi,callbacks:{$$counter:0},getTestability:ne,reloadWithDebugInfo:te,$$minErr:i,$$csp:Si,$$encodeUriSegment:K,$$encodeUriQuery:Z,$$stringify:de}),li=fe(e),li("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:nn}),e.provider("$compile",tt).directive({a:ta,input:ba,textarea:ba,form:aa,script:oo,select:co,option:uo,ngBind:wa,ngBindHtml:xa,ngBindTemplate:_a,ngClass:ka,ngClassEven:Sa,ngClassOdd:Ta,ngCloak:Aa,ngController:Ca,ngForm:oa,ngHide:Qa,ngIf:Pa,ngInclude:Na,ngInit:Da,ngNonBindable:Ga,ngPluralize:Ka,ngRepeat:Za,ngShow:Ja,ngStyle:eo,ngSwitch:to,ngSwitchWhen:no,ngSwitchDefault:io,ngOptions:Xa,ngTransclude:ao,ngModel:Va,ngList:Ia,ngChange:Ma,pattern:ho,ngPattern:ho,required:fo,ngRequired:fo,minlength:po,ngMinlength:po,maxlength:mo,ngMaxlength:mo,ngValue:Ea,ngModelOptions:Wa}).directive({ngInclude:Oa}).directive(na).directive($a),e.provider({$anchorScroll:qe,$animate:ur,$animateCss:hr,$$animateJs:lr,$$animateQueue:cr,$$AnimateRunner:fr,$$animateAsyncRun:dr,$browser:Je,$cacheFactory:Qe,$controller:st,$document:lt,$$isDocumentHidden:ct,$exceptionHandler:ut,$filter:vn,$$forceReflow:Er,$interpolate:_t,$interval:xt,$http:bt,$httpParamSerializer:ft,$httpParamSerializerJQLike:ht,$httpBackend:Et,$xhrFactory:yt,$jsonpCallbacks:Ar,$location:It,$log:Lt,$parse:Kt,$rootScope:tn,$q:Zt,$$q:Jt,$sce:sn,$sceDelegate:on,$sniffer:ln,$templateCache:et,$templateRequest:cn,$$testability:un,$timeout:dn,$window:mn,$$rAF:en,$$jqLite:Be,$$Map:er,$$cookieReader:gn})}]).info({angularVersion:"1.6.6"})}function ge(e,t){return t.toUpperCase()}function ve(e){return e.replace(Fi,ge)}function be(e){return e=e.nodeType,1===e||!e||9===e}function ye(e,t){var n,i,r=t.createDocumentFragment(),o=[];if(Vi.test(e)){for(n=r.appendChild(t.createElement("div")),i=(zi.exec(e)||["",""])[1].toLowerCase(),i=Gi[i]||Gi._default,n.innerHTML=i[1]+e.replace(Wi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;o=H(o,n.childNodes),n=r.firstChild,n.textContent=""}else o.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",a(o,function(e){r.appendChild(e)}),r}function Ee(t){if(t instanceof Ee)return t;var n;if(_(t)&&(t=ki(t),n=!0),!(this instanceof Ee)){if(n&&"<"!==t.charAt(0))throw Bi("nosel");return new Ee(t)}if(n){n=e.document;var i;t=(i=ji.exec(t))?[n.createElement(i[1])]:(i=ye(t,n))?i.childNodes:[],$e(this,t)}else T(t)?Ie(t):$e(this,t)}function we(e){return e.cloneNode(!0)}function _e(e,t){!t&&be(e)&&oi.cleanData([e]),e.querySelectorAll&&oi.cleanData(e.querySelectorAll("*"))}function xe(e,t,n,i){if(y(i))throw Bi("offargs");var r=(i=ke(e))&&i.events,o=i&&i.handle;if(o)if(t){var s=function(t){var i=r[t];y(n)&&D(i||[],n),y(n)&&i&&0<i.length||(e.removeEventListener(t,o),delete r[t])};a(t.split(" "),function(e){s(e),Ui[e]&&s(Ui[e])})}else for(t in r)"$destroy"!==t&&e.removeEventListener(t,o),delete r[t]}function Me(e,t){var n=e.ng339,i=n&&Ii[n];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),xe(e)),delete Ii[n],e.ng339=void 0))}function ke(e,t){var n=e.ng339,n=n&&Ii[n];return t&&!n&&(e.ng339=n=++Li,n=Ii[n]={events:{},data:{},handle:void 0}),n}function Te(e,t,n){if(be(e)){var i,r=y(n),a=!r&&t&&!E(t),o=!t;if(e=(e=ke(e,!a))&&e.data,r)e[ve(t)]=n;else{if(o)return e;if(a)return e&&e[ve(t)];for(i in t)e[ve(i)]=t[i]}}}function Se(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Ae(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",ki((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ki(t)+" "," ")))})}function Ce(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=ki(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ki(n))}}function $e(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Re(e,t){return Pe(e,"$"+(t||"ngController")+"Controller")}function Pe(e,t,n){for(9===e.nodeType&&(e=e.documentElement),t=xi(t)?t:[t];e;){for(var i=0,r=t.length;i<r;i++)if(y(n=oi.data(e,t[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ne(e){for(_e(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Oe(e,t){t||_e(e);var n=e.parentNode;n&&n.removeChild(e)}function De(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):oi(n).on("load",t)}function Ie(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Le(e,t){var n=Xi[t.toLowerCase()];return n&&Ki[O(e)]&&n}function Fe(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],a=r?r.length:0;if(a){if(b(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||He;1<a&&(r=he(r));for(var l=0;l<a;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function He(e,t,n){n.call(e,t)}function Ue(e,t,n){var i=t.relatedTarget;i&&(i===e||qi.call(e,i))||n.call(e,t)}function Be(){this.$get=function(){return u(Ee,{hasClass:function(e,t){return e.attr&&(e=e[0]),Se(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ae(e,t)}})}}function je(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"===n||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Ve(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ze(e){return e=Function.prototype.toString.call(e).replace(ar,""),e.match(tr)||e.match(nr)}function We(e){return(e=ze(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ge(e,t){function n(e){return function(t,n){return E(t)?void a(t,s(e)):e(t,n)}}function i(e,t){if(se(e,"service"),(T(t)||xi(t))&&(t=m.instantiate(t)),!t.$get)throw or("pget",e);return h[e+"Provider"]=t}function r(e,t){return function(){var n=y.invoke(t,this);if(b(n))throw or("undef",e);return n}}function o(e,t,n){return i(e,{$get:!1!==n?r(e,t):t})}function l(e){ae(b(e)||xi(e),"modulesToLoad","not an array");var t,n=[];return a(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=m.get(i[0]);r[i[1]].apply(r,i[2])}}if(!f.get(e)){f.set(e,!0);try{_(e)?(t=li(e),y.modules[e]=t,n=n.concat(l(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):T(e)?n.push(m.invoke(e)):xi(e)?n.push(m.invoke(e)):oe(e,"module")}catch(r){throw xi(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1===r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),or("modulerr",e,r.stack||r.message||r)}}}),n}function c(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===u)throw or("cdep",t+" <- "+d.join(" <- "));return e[t]}try{return d.unshift(t),e[t]=u,e[t]=n(t,i),e[t]}catch(r){throw e[t]===u&&delete e[t],r}finally{d.shift()}}function r(e,n,r){var a=[];e=Ge.$$annotate(e,t,r);for(var o=0,s=e.length;o<s;o++){var l=e[o];if("string"!=typeof l)throw or("itkn",l);a.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return a}return{invoke:function(e,t,n,i){if("string"==typeof n&&(i=n,n=null),n=r(e,n,i),xi(e)&&(e=e[e.length-1]),i=e,ai||"function"!=typeof i)i=!1;else{var a=i.$$ngIsClass;$(a)||(a=i.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(i))),i=a}return i?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=xi(e)?e[e.length-1]:e;return e=r(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(i,e))},get:i,annotate:Ge.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var u={},d=[],f=new Qi,h={$provide:{provider:n(i),factory:n(o),service:n(function(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return o(e,g(t),!1)}),constant:n(function(e,t){se(e,"constant"),h[e]=t,p[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),i=n.$get;n.$get=function(){var e=y.invoke(i,n);return y.invoke(t,null,{$delegate:e})}}}},m=h.$injector=c(h,function(e,t){throw Ei.isString(t)&&d.push(t),or("unpr",d.join(" <- "))}),p={},v=c(p,function(e,t){var n=m.get(e+"Provider",t);return y.invoke(n.$get,n,void 0,e)}),y=v;h.$injectorProvider={$get:g(v)},y.modules=m.modules=ue();var w=l(e),y=v.get("$injector");return y.strictDi=t,a(w,function(e){e&&y.invoke(e)}),y}function qe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===O(e))return t=e,!0}),t}function a(e){if(e){e.scrollIntoView();var n;n=o.yOffset,T(n)?n=n():P(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):x(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function o(e){e=_(e)?e:x(e)?e.toString():n.hash();var t;e?(t=s.getElementById(e))?a(t):(t=r(s.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||De(function(){i.$evalAsync(o)})}),o}]}function Ye(e,t){return e||t?e?t?(xi(e)&&(e=e.join(" ")),xi(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Xe(e){_(e)&&(e=e.split(" "));var t=ue();return a(e,function(e){e.length&&(t[e]=!0)}),t}function Ke(e){return E(e)?e:{}}function Ze(e,t,n,i){function r(e){try{e.apply(null,mi.call(arguments,1))}finally{if(g--,0===g)for(;v.length;)try{v.pop()()}catch(t){n.error(t)}}}function o(){x=null,l()}function s(){y=M(),y=b(y)?null:y,F(y,S)&&(y=S),E=S=y}function l(){var e=E;s(),w===c.url()&&e===y||(w=c.url(),E=y,a(k,function(e){e(c.url(),y)}))}var c=this,u=e.location,d=e.history,f=e.setTimeout,h=e.clearTimeout,p={};c.isMock=!1;var g=0,v=[];c.$$completeOutstandingRequest=r,c.$$incOutstandingRequestCount=function(){g++},c.notifyWhenNoOutstandingRequests=function(e){0===g?e():v.push(e)};var y,E,w=u.href,_=t.find("base"),x=null,M=i.history?function(){try{return d.state}catch(e){}}:m;s(),c.url=function(t,n,r){if(b(r)&&(r=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var a=E===r;if(w===t&&(!i.history||a))return c;var o=w&&Ct(w)===Ct(t);return w=t,E=r,!i.history||o&&a?(o||(x=t),n?u.replace(t):o?(n=u,r=t.indexOf("#"),r=-1===r?"":t.substr(r),n.hash=r):u.href=t,u.href!==t&&(x=t)):(d[n?"replaceState":"pushState"](r,"",t),s()),x&&(x=t),c}return x||u.href.replace(/%27/g,"'")},c.state=function(){return y};var k=[],T=!1,S=null;c.onUrlChange=function(t){return T||(i.history&&oi(e).on("popstate",o),oi(e).on("hashchange",o),T=!0),k.push(t),t},c.$$applicationDestroyed=function(){oi(e).off("hashchange popstate",o)},c.$$checkUrlChange=l,c.baseHref=function(){var e=_.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return g++,n=f(function(){delete p[n],r(e)},t||0),p[n]=!0,n},c.defer.cancel=function(e){return!!p[e]&&(delete p[e],h(e),r(m),!0)}}function Je(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Ze(e,i,t,n)}]}function Qe(){this.$get=function(){function e(e,n){function r(e){e!==f&&(h?h===e&&(h=e.n):h=e,a(e.n,e.p),a(e,f),f=e,f.n=null)}function a(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var o=0,s=u({},n,{id:e}),l=ue(),c=n&&n.capacity||Number.MAX_VALUE,d=ue(),f=null,h=null;return t[e]={put:function(e,t){if(!b(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||o++,l[e]=t,o>c&&this.remove(h.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t===f&&(f=t.p),t===h&&(h=t.n),a(t.n,t.p),delete d[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=ue(),o=0,d=ue(),f=h=null},destroy:function(){d=s=l=null,delete t[e]},info:function(){return u({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function et(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function tt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=ue();return a(e,function(e,a){if(e in x)r[a]=x[e];else{var o=e.match(i);if(!o)throw mr("iscp",t,a,e,n?"controller bindings definition":"isolate scope definition");r[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(x[e]=r[a])}}),r}function r(e){var t=e.charAt(0);if(!t||t!==fi(t))throw mr("baddir",e);if(e!==e.trim())throw mr("baddir",e)}function o(e){var t=e.require||e.controller&&e.name;return!xi(t)&&E(t)&&a(t,function(e,n){var i=e.match(v);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}var l={},c=/^\s*directive:\s*([\w-]+)\s+(.*)$/,d=/(([\w-]+)(?::([^;]+))?;?)/,f=N("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,x=ue();this.directive=function H(e,n){return ae(e,"name"),se(e,"directive"),_(e)?(r(e),ae(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return a(l[e],function(r,a){try{var s=t.invoke(r);T(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=o(s);var l=s,c=s.restrict;if(c&&(!_(c)||!/[EACM]/.test(c)))throw mr("badrestrict",c,e);l.restrict=c||"EA",s.$$moduleName=r.$$moduleName,i.push(s)}catch(u){n(u)}}),i}])),l[e].push(n)):a(e,s(H)),this},this.component=function B(e,t){function n(e){function n(t){return T(t)||xi(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var r=t.template||t.templateUrl?t.template:"",o={controller:i,controllerAs:ot(t.controller)||t.controllerAs||"$ctrl",template:n(r),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return a(t,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}if(!_(e))return a(e,s(U(this,B))),this;var i=t.controller||function(){};return a(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,T(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var M=!0;this.debugInfoEnabled=function(e){return y(e)?(M=e,this):M};var S=!1;this.preAssignBindingsEnabled=function(e){return y(e)?(S=e,this):S};var A=!1;this.strictComponentBindingsEnabled=function(e){return y(e)?(A=e,this):A};var R=10;this.onChangesTtl=function(e){return arguments.length?(R=e,this):R};var P=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(P=e,this):P};var I=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(I=e,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,o,s,g,x,N,H,B){function j(){try{if(!--$e)throw ke=void 0,mr("infchng",R);x.$apply(function(){for(var e=[],t=0,n=ke.length;t<n;++t)try{ke[t]()}catch(i){e.push(i)}if(ke=void 0,e.length)throw e})}finally{$e++}}function V(e,t){if(t){var n,i,r,a=Object.keys(t);for(n=0,i=a.length;n<i;n++)r=a[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function z(e,t,n){Se.innerHTML="<span "+t+">",t=Se.firstChild.attributes;var i=t[0];t.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function W(e,t){try{e.addClass(t)}catch(n){}}function q(e,t,n,i,r){e instanceof oi||(e=oi(e));var a=Y(e,t,e,n,i,r);q.$$addScopeClass(e);var o=null;return function(t,n,i){if(!e)throw mr("multilink");ae(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers;if(i=i.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),o||(o=(i=i&&i[0])&&"foreignobject"!==O(i)&&vi.call(i).match(/SVG/)?"svg":"html"),i="html"!==o?oi(ge(o,oi("<div>").append(e).html())):n?Yi.clone.call(e):e,l)for(var c in l)i.data("$"+c+"Controller",l[c].instance);return q.$$addScopeInfo(i,t),n&&n(i,t),a&&a(t,i,i,s),n||(e=a=null),i}}function Y(e,t,n,i,r,a){function o(e,n,i,r){var a,o,s,l,c,u,h;if(d)for(h=Array(n.length),l=0;l<f.length;l+=3)a=f[l],h[a]=n[a];else h=n;for(l=0,c=f.length;l<c;)o=h[f[l++]],n=f[l++],a=f[l++],n?(n.scope?(s=e.$new(),q.$$addScopeInfo(oi(o),s)):s=e,u=n.transcludeOnThisElement?K(e,n.transclude,r):!n.templateOnThisElement&&r?r:!r&&t?K(e,t):null,n(a,s,o,i,u)):a&&a(e,o.childNodes,void 0,r)}for(var s,l,c,u,d,f=[],h=xi(e)||e instanceof oi,m=0;m<e.length;m++)s=new V,11===ai&&X(e,m,h),l=Z(e[m],[],s,0===m?i:void 0,r),(a=l.length?ne(l,e[m],s,t,n,null,[],[],a):null)&&a.scope&&q.$$addScopeClass(s.$$element),s=a&&a.terminal||!(c=e[m].childNodes)||!c.length?null:Y(c,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:t),(a||s)&&(f.push(m,a,s),u=!0,d=d||a),a=null;return u?o:null}function X(e,t,n){var i,r=e[t],a=r.parentNode;if(r.nodeType===Oi)for(;i=a?r.nextSibling:e[t+1],i&&i.nodeType===Oi;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function K(e,t,n){function i(i,r,a,o,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var r,a=i.$$slots=ue();for(r in t.$$slots)a[r]=t.$$slots[r]?K(e,t.$$slots[r],n):null;return i}function Z(e,t,n,i,r){var a,o=n.$attr;switch(e.nodeType){case 1:a=O(e),le(t,it(a),"E",i,r);for(var s,l,c,u,f=e.attributes,h=0,m=f&&f.length;h<m;h++){var p=!1,g=!1;s=f[h],l=s.name,c=s.value,s=it(l),(u=Oe.test(s))&&(l=l.replace(gr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(De))&&ce(s[1])&&(p=l,g=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),
s=it(l.toLowerCase()),o[s]=l,!u&&n.hasOwnProperty(s)||(n[s]=c,Le(e,s)&&(n[s]=!0)),be(e,t,c,s,u),le(t,s,"A",i,r,p,g)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Ce)break;if(o=e.className,E(o)&&(o=o.animVal),_(o)&&""!==o)for(;e=d.exec(o);)s=it(e[2]),le(t,s,"C",i,r)&&(n[s]=ki(e[3])),o=o.substr(e.index+e[0].length);break;case Oi:pe(t,e.nodeValue);break;case 8:if(!Ae)break;J(e,t,n,i,r)}return t.sort(he),t}function J(e,t,n,i,r){try{var a=c.exec(e.nodeValue);if(a){var o=it(a[1]);le(t,o,"M",i,r)&&(n[o]=ki(a[2]))}}catch(s){}}function Q(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw mr("uterdir",t,n);1===e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r)}else i.push(e);return oi(i)}function ee(e,t,n){return function(i,r,a,o,s){return r=Q(r[0],t,n),e(i,r,a,o,s)}}function te(e,t,n,i,r,a){var o;return e?q(t,n,i,r,a):function(){return o||(o=q(t,n,i,r,a),t=n=a=null),o.apply(this,arguments)}}function ne(e,t,n,i,o,s,l,c,d){function f(e,t,n,i){e&&(n&&(e=ee(e,n,i)),e.require=m.require,e.directiveName=p,(M===m||m.$$isolateScope)&&(e=Ee(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ee(t,n,i)),t.require=m.require,t.directiveName=p,(M===m||m.$$isolateScope)&&(t=Ee(t,{isolateScope:!0})),c.push(t))}function h(e,i,o,s,d){function f(e,t,n,i){var r;if(C(e)||(i=n,n=t,t=e,e=void 0),P&&(r=y),n||(n=P?A.parent():A),!i)return d(e,t,r,n,N);var a=d.$$slots[i];if(a)return a(e,t,r,n,N);if(b(a))throw mr("noslot",i,G(A))}var h,m,p,g,v,y,w,A;t===o?(s=n,A=n.$$element):(A=oi(o),s=new V(A,n)),v=i,M?g=i.$new(!0):_&&(v=i.$parent),d&&(w=f,w.$$boundTransclude=d,w.isSlotFilled=function(e){return!!d.$$slots[e]}),x&&(y=oe(A,s,w,x,g,i,M)),M&&(q.$$addScopeInfo(A,g,!0,!(k&&(k===M||k===M.$$originalDirective))),q.$$addScopeClass(A,!0),g.$$isolateBindings=M.$$isolateBindings,m=Me(i,s,g,g.$$isolateBindings,M),m.removeWatches&&g.$on("$destroy",m.removeWatches));for(h in y){m=x[h],p=y[h];var $=m.$$bindings.bindToController;if(S){p.bindingInfo=$?Me(v,s,p.instance,$,m):{};var R=p();R!==p.instance&&(p.instance=R,A.data("$"+m.name+"Controller",R),p.bindingInfo.removeWatches&&p.bindingInfo.removeWatches(),p.bindingInfo=Me(v,s,p.instance,$,m))}else p.instance=p(),A.data("$"+m.name+"Controller",p.instance),p.bindingInfo=Me(v,s,p.instance,$,m)}for(a(x,function(e,t){var n=e.require;e.bindToController&&!xi(n)&&E(n)&&u(y[t].instance,re(t,n,A,y))}),a(y,function(e){var t=e.instance;if(T(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){r(n)}if(T(t.$onInit))try{t.$onInit()}catch(i){r(i)}T(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),T(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),h=0,m=l.length;h<m;h++)p=l[h],_e(p,p.isolateScope?g:i,A,s,p.require&&re(p.directiveName,p.require,A,y),w);var N=i;for(M&&(M.template||null===M.templateUrl)&&(N=g),e&&e(N,o.childNodes,void 0,d),h=c.length-1;0<=h;h--)p=c[h],_e(p,p.isolateScope?g:i,A,s,p.require&&re(p.directiveName,p.require,A,y),w);a(y,function(e){e=e.instance,T(e.$postLink)&&e.$postLink()})}d=d||{};for(var m,p,g,v,y,w=-Number.MAX_VALUE,_=d.newScopeDirective,x=d.controllerDirectives,M=d.newIsolateScopeDirective,k=d.templateDirective,A=d.nonTlbTranscludeDirective,$=!1,R=!1,P=d.hasElementTranscludeDirective,N=n.$$element=oi(t),D=i,I=!1,L=!1,F=0,H=e.length;F<H;F++){m=e[F];var B=m.$$start,j=m.$$end;if(B&&(N=Q(t,B,j)),g=void 0,w>m.priority)break;if((y=m.scope)&&(m.templateUrl||(E(y)?(me("new/isolated scope",M||_,m,N),M=m):me("new/isolated scope",M,m,N)),_=_||m),p=m.name,!I&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(y=F+1;I=e[y++];)if(I.transclude&&!I.$$tlb||I.replace&&(I.templateUrl||I.template)){L=!0;break}I=!0}if(!m.templateUrl&&m.controller&&(x=x||ue(),me("'"+p+"' controller",x[p],m,N),x[p]=m),y=m.transclude)if($=!0,m.$$tlb||(me("transclusion",A,m,N),A=m),"element"===y)P=!0,w=m.priority,g=N,N=n.$$element=oi(q.$$createComment(p,n[p])),t=N[0],ye(o,mi.call(g,0),t),g[0].$$parentNode=g[0].parentNode,D=te(L,g,i,w,s&&s.name,{nonTlbTranscludeDirective:A});else{var z=ue();if(E(y)){g=[];var W=ue(),Y=ue();a(y,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,W[e]=t,z[t]=null,Y[t]=n}),a(N.contents(),function(e){var t=W[it(O(e))];t?(Y[t]=!0,z[t]=z[t]||[],z[t].push(e)):g.push(e)}),a(Y,function(e,t){if(!e)throw mr("reqslot",t)});for(var X in z)z[X]&&(z[X]=te(L,z[X],i))}else g=oi(we(t)).contents();N.empty(),D=te(L,g,i,void 0,void 0,{needsNewScope:m.$$isolateScope||m.$$newScope}),D.$$slots=z}if(m.template)if(R=!0,me("template",k,m,N),k=m,y=T(m.template)?m.template(N,n):m.template,y=Ne(y),m.replace){if(s=m,g=Vi.test(y)?at(ge(m.templateNamespace,ki(y))):[],t=g[0],1!==g.length||1!==t.nodeType)throw mr("tplrt",p,"");ye(o,N,t),H={$attr:{}},y=Z(t,[],H);var K=e.splice(F+1,e.length-(F+1));(M||_)&&se(y,M,_),e=e.concat(y).concat(K),de(n,H),H=e.length}else N.html(y);if(m.templateUrl)R=!0,me("template",k,m,N),k=m,m.replace&&(s=m),h=fe(e.splice(F,e.length-F),N,n,o,$&&D,l,c,{controllerDirectives:x,newScopeDirective:_!==m&&_,newIsolateScopeDirective:M,templateDirective:k,nonTlbTranscludeDirective:A}),H=e.length;else if(m.compile)try{v=m.compile(N,n,D);var J=m.$$originalDirective||m;T(v)?f(null,U(J,v),B,j):v&&f(U(J,v.pre),U(J,v.post),B,j)}catch(ne){r(ne,G(N))}m.terminal&&(h.terminal=!0,w=Math.max(w,m.priority))}return h.scope=_&&!0===_.scope,h.transcludeOnThisElement=$,h.templateOnThisElement=R,h.transclude=D,d.hasElementTranscludeDirective=P,h}function re(e,t,n,i){var r;if(_(t)){var o=t.match(v);t=t.substring(o[0].length);var s=o[1]||o[3],o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[t])&&r.instance,!r){var l="$"+t+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!o)throw mr("ctreq",t,e)}else if(xi(t))for(r=[],s=0,o=t.length;s<o;s++)r[s]=re(e,t[s],n,i);else E(t)&&(r={},a(t,function(t,a){r[a]=re(e,t,n,i)}));return r||null}function oe(e,t,n,i,r,a,o){var s,l=ue();for(s in i){var c=i[s],u={$scope:c===o||c.$$isolateScope?r:a,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]),u=g(d,u,!0,c.controllerAs),l[c.name]=u,e.data("$"+c.name+"Controller",u.instance)}return l}function se(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=h(e[i],{$$isolateScope:t,$$newScope:n})}function le(e,n,r,a,o,s,c){if(n===o)return null;var u=null;if(l.hasOwnProperty(n)){o=t.get(n+"Directive");for(var d=0,f=o.length;d<f;d++)if(n=o[d],(b(a)||a>n.priority)&&-1!==n.restrict.indexOf(r)){if(s&&(n=h(n,{$$start:s,$$end:c})),!n.$$bindings){var m=u=n,p=n.name,g={isolateScope:null,bindToController:null};if(E(m.scope)&&(!0===m.bindToController?(g.bindToController=i(m.scope,p,!0),g.isolateScope={}):g.isolateScope=i(m.scope,p,!1)),E(m.bindToController)&&(g.bindToController=i(m.bindToController,p,!0)),g.bindToController&&!m.controller)throw mr("noctrl",p);u=u.$$bindings=g,E(u.isolateScope)&&(n.$$isolateBindings=u.isolateScope)}e.push(n),u=n}}return u}function ce(e){if(l.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;i<r;i++)if(e=n[i],e.multiElement)return!0;return!1}function de(e,t){var n=t.$attr,i=e.$attr;a(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i=i.length?i+(("style"===r?";":" ")+t[r]):t[r]),e.$set(r,i,!0,n[r]))}),a(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function fe(e,t,n,i,s,l,c,u){var d,f,m=[],p=t[0],g=e.shift(),v=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),b=T(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),o(b).then(function(r){var o,h;if(r=Ne(r),g.replace){if(r=Vi.test(r)?at(ge(y,ki(r))):[],o=r[0],1!==r.length||1!==o.nodeType)throw mr("tplrt",g.name,b);r={$attr:{}},ye(i,t,o);var w=Z(o,[],r);E(g.scope)&&se(w,!0),e=w.concat(e),de(n,r)}else o=p,t.html(r);for(e.unshift(v),d=ne(e,o,n,s,t,g,l,c,u),a(i,function(e,n){e===o&&(i[n]=t[0])}),f=Y(t[0].childNodes,s);m.length;){r=m.shift(),h=m.shift();var _=m.shift(),x=m.shift(),w=t[0];if(!r.$$destroyed){if(h!==p){var M=h.className;u.hasElementTranscludeDirective&&g.replace||(w=we(o)),ye(_,oi(h),w),W(oi(w),M)}h=d.transcludeOnThisElement?K(r,d.transclude,x):x,d(f,r,w,i,h)}}m=null})["catch"](function(e){k(e)&&r(e)}),function(e,t,n,i,r){e=r,t.$$destroyed||(m?m.push(t,n,i,e):(d.transcludeOnThisElement&&(e=K(t,d.transclude,r)),d(f,t,n,i,e)))}}function he(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function me(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw mr("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,G(i))}function pe(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&q.$$addBindingClass(e),function(e,n){var r=n.parent();t||q.$$addBindingClass(r),q.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){n[0].nodeValue=e})}}})}function ge(t,n){switch(t=fi(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ve(e,t){if("srcdoc"===t)return N.HTML;var n=O(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return N.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return N.RESOURCE_URL}function be(e,t,i,r,a){var o=ve(e,r),s=f[r]||a,l=n(i,!a,o,s);if(l){if("multiple"===r&&"select"===O(e))throw mr("selmulti",G(e));if(w.test(r))throw mr("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,a){t=a.$$observers||(a.$$observers=ue());var c=a[r];c!==i&&(l=c&&n(c,!0,o,s),i=c),l&&(a[r]=l(e),(t[r]||(t[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||e).$watch(l,function(e,t){"class"===r&&e!==t?a.$updateClass(e,t):a.$set(r,e)}))}}}})}}function ye(t,n,i){var r,a,o=n[0],s=n.length,l=o.parentNode;if(t)for(r=0,a=t.length;r<a;r++)if(t[r]===o){t[r++]=i,a=r+s-1;for(var c=t.length;r<c;r++,a++)a<c?t[r]=t[a]:delete t[r];t.length-=s-1,t.context===o&&(t.context=i);break}for(l&&l.replaceChild(i,o),t=e.document.createDocumentFragment(),r=0;r<s;r++)t.appendChild(n[r]);for(oi.hasData(o)&&(oi.data(i,oi.data(o)),oi(o).off("$destroy")),oi.cleanData(t.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function Ee(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function _e(e,t,n,i,a,o){try{e(t,n,i,a,o)}catch(s){r(s,G(n))}}function xe(e,t){if(A)throw mr("missingattr",e,t)}function Me(e,t,i,r,o){function l(t,n,r){T(i.$onChanges)&&!L(n,r)&&(ke||(e.$$postDigest(j),ke=[]),u||(u={},ke.push(c)),u[t]&&(r=u[t].previousValue),u[t]=new nt(r,n))}function c(){i.$onChanges(u),u=void 0}var u,d=[],f={};return a(r,function(r,a){var c,u,h,p,g=r.attrName,v=r.optional;switch(r.mode){case"@":v||di.call(t,g)||(xe(g,o.name),i[a]=t[g]=void 0),v=t.$observe(g,function(e){(_(e)||$(e))&&(l(a,e,i[a]),i[a]=e)}),t.$$observers[g].$$scope=e,c=t[g],_(c)?i[a]=n(c)(e):$(c)&&(i[a]=c),f[a]=new nt(pr,i[a]),d.push(v);break;case"=":if(!di.call(t,g)){if(v)break;xe(g,o.name),t[g]=void 0}if(v&&!t[g])break;u=s(t[g]),p=u.literal?F:L,h=u.assign||function(){throw c=i[a]=u(e),mr("nonassign",t[g],g,o.name)},c=i[a]=u(e),v=function(t){return p(t,i[a])||(p(t,c)?h(e,t=i[a]):i[a]=t),c=t},v.$stateful=!0,v=r.collection?e.$watchCollection(t[g],v):e.$watch(s(t[g],v),null,u.literal),d.push(v);break;case"<":if(!di.call(t,g)){if(v)break;xe(g,o.name),t[g]=void 0}if(v&&!t[g])break;u=s(t[g]);var b=u.literal,y=i[a]=u(e);f[a]=new nt(pr,i[a]),v=e.$watch(u,function(e,t){if(t===e){if(t===y||b&&F(t,y))return;t=y}l(a,e,t),i[a]=e},b),d.push(v);break;case"&":if(v||di.call(t,g)||xe(g,o.name),u=t.hasOwnProperty(g)?s(t[g]):m,u===m&&v)break;i[a]=function(t){return u(e,t)}}}),{initialChanges:f,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var ke,Te=/^\w/,Se=e.document.createElement("div"),Ae=P,Ce=I,$e=R;V.prototype={$normalize:it,$addClass:function(e){e&&0<e.length&&H.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&H.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=rt(e,t);n&&n.length&&H.addClass(this.$$element,n),(n=rt(t,e))&&n.length&&H.removeClass(this.$$element,n)},$set:function(e,t,n,i){var o=Le(this.$$element[0],e),s=Zi[e],l=e;if(o?(this.$$element.prop(e,t),i=o):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=ie(e,"-")),o=O(this.$$element),"a"===o&&("href"===e||"xlinkHref"===e)||"img"===o&&"src"===e)this[e]=t=B(t,"src"===e);else if("img"===o&&"srcset"===e&&y(t)){for(var o="",s=ki(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),u=0;u<c;u++)var d=2*u,o=o+B(ki(s[d]),!0),o=o+(" "+ki(s[d+1]));s=ki(s[2*u]).split(/\s/),o+=B(ki(s[0]),!0),2===s.length&&(o+=" "+ki(s[1])),this[e]=t=o}!1!==n&&(null===t||b(t)?this.$$element.removeAttr(i):Te.test(i)?this.$$element.attr(i,t):z(this.$$element[0],i,t)),(e=this.$$observers)&&a(e[l],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ue()),r=i[e]||(i[e]=[]);return r.push(t),x.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){D(r,t)}}};var Re=n.startSymbol(),Pe=n.endSymbol(),Ne="{{"===Re&&"}}"===Pe?p:function(e){return e.replace(/\{\{/g,Re).replace(/}}/g,Pe)},Oe=/^ngAttr[A-Z]/,De=/^(.+)Start$/;return q.$$addBindingInfo=M?function(e,t){var n=e.data("$binding")||[];xi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,q.$$addBindingClass=M?function(e){W(e,"ng-binding")}:m,q.$$addScopeInfo=M?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:m,q.$$addScopeClass=M?function(e,t){W(e,t?"ng-isolate-scope":"ng-scope")}:m,q.$$createComment=function(t,n){var i="";return M&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},q}]}function nt(e,t){this.previousValue=e,this.currentValue=t}function it(e){return e.replace(gr,"").replace(vr,ge)}function rt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),a=0;e:for(;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o===r[s])continue e;n+=(0<n.length?" ":"")+o}return n}function at(e){e=oi(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===Oi&&""===n.nodeValue.trim())&&pi.call(e,t,1)}return e}function ot(e,t){if(t&&_(t))return t;if(_(e)){var n=yr.exec(e);if(n)return n[3]}}function st(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){se(t,"controller"),E(t)?u(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){function a(e,t,n,r){if(!e||!E(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,o,s,l){var c,d,f;if(s=!0===s,l&&_(l)&&(f=l),_(i)){if(l=i.match(yr),!l)throw br("ctrlfmt",i);if(d=l[1],f=f||l[3],i=e.hasOwnProperty(d)?e[d]:le(o.$scope,d,!0)||(t?le(r,d,!0):void 0),!i)throw br("ctrlreg",d);oe(i,d,!0)}return s?(s=(xi(i)?i[i.length-1]:i).prototype,c=Object.create(s||null),f&&a(o,f,c,d||i.name),u(function(){var e=n.invoke(i,c,o,d);return e!==c&&(E(e)||T(e))&&(c=e,f&&a(o,f,c,d||i.name)),c},{instance:c,identifier:f})):(c=n.instantiate(i,o,d),f&&a(o,f,c,d||i.name),c)}}]}function lt(){this.$get=["$window",function(e){return oi(e.document)}]}function ct(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function ut(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function dt(e){return E(e)?M(e)?e.toISOString():j(e):e}function ft(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||b(e)||T(e)||(xi(e)?a(e,function(e){t.push(Z(n)+"="+Z(dt(e)))}):t.push(Z(n)+"="+Z(dt(e))))}),t.join("&")}}}function ht(){this.$get=function(){return function(e){function t(e,i,r){null===e||b(e)||(xi(e)?a(e,function(e,n){t(e,i+"["+(E(e)?n:"")+"]")}):E(e)&&!M(e)?o(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(Z(i)+"="+Z(dt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function mt(e,t){if(_(e)){var n=e.replace(kr,"").trim();if(n){var i,r=t("Content-Type"),r=r&&0===r.indexOf(wr);if((i=r)||(i=(i=n.match(xr))&&Mr[i[0]].test(n)),i)try{e=V(n)}catch(a){if(!r)return e;throw Tr("baddata",e,a)}}}return e}function pt(e){var t,n=ue();return _(e)?a(e.split("\n"),function(e){t=e.indexOf(":");var i=fi(ki(e.substr(0,t)));e=ki(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):E(e)&&a(e,function(e,t){var i=fi(t),r=ki(e);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function gt(e){var t;return function(n){return t||(t=pt(e)),n?(n=t[fi(n)],void 0===n&&(n=null),n):t}}function vt(e,t,n,i){return T(i)?i(e,t,n):(a(i,function(i){e=i(e,t,n)}),e)}function bt(){var e=this.defaults={transformResponse:[mt],transformRequest:[function(e){return E(e)&&"[object File]"!==vi.call(e)&&"[object Blob]"!==vi.call(e)&&"[object FormData]"!==vi.call(e)?j(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:he(_r),put:he(_r),patch:he(_r)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,o,s,l,c,d,f,h){function p(t){function n(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],a=t[n++];e=e.then(r,a)}return t.length=0,e}function o(e,t){var n,i={};return a(e,function(e,r){T(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(e){var t=u({},e);return t.data=vt(e.data,e.headers,e.status,l.transformResponse),e=e.status,200<=e&&300>e?t:d.reject(t)}if(!E(t))throw i("$http")("badreq",t);if(!_(h.valueOf(t.url)))throw i("$http")("badreq",t.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);l.headers=function(t){var n,i,r,a=e.headers,s=u({},t.headers),a=u({},a.common,a[fi(t.method)]);e:for(n in a){i=fi(n);for(r in s)if(fi(r)===i)continue e;s[n]=a[n]}return o(s,he(t))}(t),l.method=hi(l.method),l.paramSerializer=_(l.paramSerializer)?f.get(l.paramSerializer):l.paramSerializer,r.$$incOutstandingRequestCount();var c=[],p=[];return t=d.resolve(l),a(M,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)}),t=n(t,c),t=t.then(function(t){var n=t.headers,i=vt(t.data,gt(n),void 0,t.transformRequest);return b(i)&&a(n,function(e,t){"content-type"===fi(t)&&delete n[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then(s,s)}),t=n(t,p),t=t["finally"](function(){r.$$completeOutstandingRequest(m)})}function g(n,i){function r(e){if(e){var n={};return a(e,function(e,i){n[i]=function(n){function i(){e(n)}t?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),n}}function l(e,n,i,r,a){function o(){u(n,e,i,r,a)}g&&(200<=e&&300>e?g.put($,[e,n,pt(i),r,a]):g.remove($)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,t,i,r,a){t=-1<=t?t:0,(200<=t&&300>t?k.resolve:k.reject)({data:e,status:t,headers:gt(i),config:n,statusText:r,xhrStatus:a})}function f(e){u(e.data,e.status,he(e.headers()),e.statusText,e.xhrStatus)}function m(){var e=p.pendingRequests.indexOf(n);-1!==e&&p.pendingRequests.splice(e,1)}var g,M,k=d.defer(),S=k.promise,A=n.headers,C="jsonp"===fi(n.method),$=n.url;return C?$=h.getTrustedResourceUrl($):_($)||($=h.valueOf($)),$=v($,n.paramSerializer(n.params)),C&&($=w($,n.jsonpCallbackParam)),p.pendingRequests.push(n),S.then(m,m),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(g=E(n.cache)?n.cache:E(e.cache)?e.cache:x),g&&(M=g.get($),y(M)?M&&T(M.then)?M.then(f,f):xi(M)?u(M[1],M[0],he(M[2]),M[3],M[4]):u(M,200,{},"OK","complete"):g.put($,S)),b(M)&&((M=hn(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0)&&(A[n.xsrfHeaderName||e.xsrfHeaderName]=M),o(n.method,$,i,l,A,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))),S}function v(e,t){return 0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function w(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Tr("badjsonp",e);if(new RegExp("[&?]"+t+"=").test(e))throw Tr("badjsonp",t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var x=l("$http");e.paramSerializer=_(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var M=[];return a(n,function(e){M.unshift(_(e)?f.get(e):f.invoke(e))}),p.pendingRequests=[],function(e){a(arguments,function(e){p[e]=function(t,n){return p(u({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){a(arguments,function(e){p[e]=function(t,n,i){return p(u({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),p.defaults=e,p}]}function yt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Et(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return wt(e,i,e.defer,t,n[0])}]}function wt(e,t,n,i,r){function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var a=r.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o),a.removeEventListener("error",o),r.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},a.addEventListener("load",o),a.addEventListener("error",o),r.body.appendChild(a),o}return function(r,s,l,c,u,d,f,h,m,p){function g(){w&&w(),_&&_.abort()}function v(e,t,i,r,a,o){y(M)&&n.cancel(M),w=_=null,e(t,i,r,a,o)}if(s=s||e.url(),"jsonp"===fi(r))var E=i.createCallback(s),w=o(s,E,function(e,t){var n=200===e&&i.getResponse(E);v(c,e,n,"",t,"complete"),i.removeCallback(E)});else{var _=t(r,s);if(_.open(r,s,!0),a(u,function(e,t){y(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"===fn(s).protocol?404:0),v(c,n,t,_.getAllResponseHeaders(),e,"complete")},_.onerror=function(){v(c,-1,null,null,"","error")},_.onabort=function(){v(c,-1,null,null,"","abort")},_.ontimeout=function(){v(c,-1,null,null,"","timeout")},a(m,function(e,t){_.addEventListener(t,e)}),a(p,function(e,t){_.upload.addEventListener(t,e)}),f&&(_.withCredentials=!0),h)try{_.responseType=h}catch(x){if("json"!==h)throw x}_.send(b(l)?null:l)}if(0<d)var M=n(g,d);else d&&T(d.then)&&d.then(g)}}function _t(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function a(e){return"\\\\\\"+e}function o(n){return n.replace(f,e).replace(h,t)}function s(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function l(a,l,f,h){function m(e){try{var t=e;return e=f?r.getTrusted(f,t):r.valueOf(t),h&&!y(e)?e:de(e)}catch(n){i(Sr.interr(a,n))}}if(!a.length||-1===a.indexOf(e)){var p;return l||(l=o(a),p=g(l),p.exp=a,p.expressions=[],p.$$watchDelegate=s),p}h=!!h;var v,E,w=0,_=[],x=[];p=a.length;for(var M=[],k=[];w<p;){if(-1===(v=a.indexOf(e,w))||-1===(E=a.indexOf(t,v+c))){w!==p&&M.push(o(a.substring(w)));break}w!==v&&M.push(o(a.substring(w,v))),w=a.substring(v+c,E),_.push(w),x.push(n(w,m)),w=E+d,k.push(M.length),M.push("")}if(f&&1<M.length&&Sr.throwNoconcat(a),!l||_.length){var S=function(e){for(var t=0,n=_.length;t<n;t++){if(h&&b(e[t]))return;M[k[t]]=e[t]}return M.join("")};return u(function(e){var t=0,n=_.length,r=Array(n);try{for(;t<n;t++)r[t]=x[t](e);return S(r)}catch(o){i(Sr.interr(a,o))}},{exp:a,expressions:_,$$watchDelegate:function(e,t){var n;return e.$watchGroup(x,function(i,r){var a=S(i);T(t)&&t.call(this,a,i!==r?n:a,e),n=a})}})}}var c=e.length,d=t.length,f=new RegExp(e.replace(/./g,a),"g"),h=new RegExp(t.replace(/./g,a),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function xt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function a(a,s,l,c){function u(){d?a.apply(null,f):a(p)}var d=4<arguments.length,f=d?mi.call(arguments,4):[],h=t.setInterval,m=t.clearInterval,p=0,g=y(c)&&!c,v=(g?i:n).defer(),b=v.promise;return l=y(l)?l:0,b.$$intervalId=h(function(){g?r.defer(u):e.$evalAsync(u),v.notify(p++),0<l&&p>=l&&(v.resolve(p),m(b.$$intervalId),delete o[b.$$intervalId]),g||e.$apply()},s),o[b.$$intervalId]=v,b}var o={};return a.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].promise.$$state.pur=!0,o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},a}]}function Mt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=K(e[t]);return e.join("/")}function kt(e,t){var n=fn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||$r[n.protocol]||null}function Tt(e,t){if(Pr.test(e))throw Rr("badpath",e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=fn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Y(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function St(e,t){return e.slice(0,t.length)===t}function At(e,t){if(St(t,e))return t.substr(e.length)}function Ct(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function $t(e){return e.replace(/(#.+)|#$/,"$1")}function Rt(e,t,n){this.$$html5=!0,n=n||"",kt(e,this),this.$$parse=function(e){var n=At(t,e);if(!_(n))throw Rr("ipthprfx",e,t);Tt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=X(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=Mt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return y(a=At(e,i))?(o=a,o=n&&y(a=At(n,a))?t+(At("/",a)||a):e+o):y(a=At(t,i))?o=t+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o}}function Pt(e,t,n){kt(e,this),this.$$parse=function(i){var r,a=At(e,i)||At(t,i);b(a)||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",b(a)&&(e=i,this.replace())):(r=At(n,a),b(r)&&(r=a)),Tt(r,this),i=this.$$path;var a=e,o=/^\/[A-Z]:(\/.*)/;St(r,a)&&(r=r.replace(a,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var t=X(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=Mt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return Ct(e)===Ct(t)&&(this.$$parse(t),!0)}}function Nt(e,t,n){this.$$html5=!0,Pt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return e===Ct(i)?a=i:(o=At(t,i))?a=e+n+o:t===i+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=X(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=Mt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function Ot(e){return function(){return this[e]}}function Dt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function It(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return $(e)?(t.enabled=e,this):E(e)?($(e.enabled)&&(t.enabled=e.enabled),$(e.requireBase)&&(t.requireBase=e.requireBase),($(e.rewriteLinks)||_(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,a,o){function s(e,t,n){var r=c.url(),a=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(o){throw c.url(r),c.$$state=a,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u;u=i.baseHref();var d,f=i.url();if(t.enabled){if(!u&&t.requireBase)throw Rr("nobase");d=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(u||"/"),u=r.history?Rt:Nt}else d=Ct(f),u=Pt;var h=d.substr(0,Ct(d).lastIndexOf("/")+1);c=new u(d,h,"#"+e),c.$$parseLinkUrl(f,f),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;a.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=oi(e.target);"a"!==O(s[0]);)if(s[0]===a[0]||!(s=s.parent())[0])return;if(!_(r)||!b(s.attr(r))){var r=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");E(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=fn(r.animVal).href),m.test(r)||!r||s.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(r,l)||(e.preventDefault(),c.absUrl()!==i.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}}),$t(c.absUrl())!==$t(f)&&i.url(c.absUrl(),!0);var p=!0;return i.onUrlChange(function(e,t){St(e,h)?(n.$evalAsync(function(){var i,r=c.absUrl(),a=c.$$state;e=$t(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,a).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=a,s(r,!1,a)):(p=!1,l(r,a)))}),n.$$phase||n.$digest()):o.location.href=e}),n.$watch(function(){if(p||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var e=$t(i.url()),t=$t(c.absUrl()),a=i.state(),o=c.$$replace,u=e!==t||c.$$html5&&r.history&&a!==c.$$state;(p||u)&&(p=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=a):(u&&s(t,o,a===c.$$state?null:c.$$state),l(e,a)))}))}c.$$replace=!1}),c}]}function Lt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return k(e)&&(e.stack&&o?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||m;return function(){var e=[];return a(arguments,function(t){e.push(i(t))}),Function.prototype.apply.call(r,t,e)}}var o=ai||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Ft(e){return e+""}function Ht(e,t){return"undefined"!=typeof e?e:t}function Ut(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Bt(e,t){switch(e.type){case Hr.MemberExpression:if(e.computed)return!1;break;case Hr.UnaryExpression:return 1;case Hr.BinaryExpression:return"+"!==e.operator&&1;case Hr.CallExpression:return!1}return void 0===t?Ur:t}function jt(e,t,n){var i,r,o=e.isPure=Bt(e,n);switch(e.type){case Hr.Program:i=!0,a(e.body,function(e){jt(e.expression,t,o),i=i&&e.expression.constant}),e.constant=i;break;case Hr.Literal:e.constant=!0,e.toWatch=[];break;case Hr.UnaryExpression:jt(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Hr.BinaryExpression:jt(e.left,t,o),jt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Hr.LogicalExpression:jt(e.left,t,o),jt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Hr.ConditionalExpression:jt(e.test,t,o),jt(e.alternate,t,o),jt(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Hr.Identifier:e.constant=!1,e.toWatch=[e];break;case Hr.MemberExpression:jt(e.object,t,o),e.computed&&jt(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Hr.CallExpression:i=n=!!e.filter&&!t(e.callee.name).$stateful,r=[],a(e.arguments,function(e){jt(e,t,o),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=n?r:[e];break;case Hr.AssignmentExpression:jt(e.left,t,o),jt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Hr.ArrayExpression:i=!0,r=[],a(e.elements,function(e){
jt(e,t,o),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case Hr.ObjectExpression:i=!0,r=[],a(e.properties,function(e){jt(e.value,t,o),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(jt(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case Hr.ThisExpression:e.constant=!1,e.toWatch=[];break;case Hr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Vt(e){if(1===e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function zt(e){return e.type===Hr.Identifier||e.type===Hr.MemberExpression}function Wt(e){if(1===e.body.length&&zt(e.body[0].expression))return{type:Hr.AssignmentExpression,left:e.body[0].expression,right:{type:Hr.NGValueParameter},operator:"="}}function Gt(e){this.$filter=e}function qt(e){this.$filter=e}function Yt(e,t,n){this.ast=new Hr(e,n),this.astCompiler=n.csp?new qt(t):new Gt(t)}function Xt(e){return T(e.valueOf)?e.valueOf():Dr.call(e)}function Kt(){var e,t,n=ue(),i={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function o(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&(e=Xt(e),"object"==typeof e&&!n))&&(e===t||e!==e&&t!==t)}function s(e,t,n,i,r){var a,s=i.inputs;if(1===s.length){var l=o,s=s[0];return e.$watch(function(e){var t=s(e);return o(t,l,s.isPure)||(a=i(e,void 0,void 0,[t]),l=t&&Xt(t)),a},t,n,r)}for(var c=[],u=[],d=0,f=s.length;d<f;d++)c[d]=o,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var l=s[n](e);(t||(t=!o(l,c[n],s[n].isPure)))&&(u[n]=l,c[n]=l&&Xt(l))}return t&&(a=i(e,void 0,void 0,u)),a},t,n,r)}function l(e,t,n,i,r){function a(e){return i(e)}function o(e,n,i){c=e,T(t)&&t(e,n,i),y(e)&&i.$$postDigest(function(){y(c)&&l()})}var l,c;return l=i.inputs?s(e,o,n,i,r):e.$watch(a,o,n)}function c(e,t,n,i){function r(e){var t=!0;return a(e,function(e){y(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return i(e)},function(e,n,i){s=e,T(t)&&t(e,n,i),r(e)&&i.$$postDigest(function(){r(s)&&o()})},n)}function u(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==c&&n!==l?function(n,r,a,o){return a=i&&o?o[0]:e(n,r,a,o),t(a,n,r)}:function(n,i,r,a){return r=e(n,i,r,a),n=t(r,n,i),y(r)?n:r},i=!e.inputs;return n&&n!==s?(r.$$watchDelegate=n,r.inputs=e.inputs):t.$stateful||(r.$$watchDelegate=s,r.inputs=e.inputs?e.inputs:[e]),r.inputs&&(r.inputs=r.inputs.map(function(e){return e.isPure===Ur?function(t){return e(t)}:e})),r}var f={csp:Si().noUnsafeEval,literals:I(i),isIdentifierStart:T(e)&&e,isIdentifierContinue:T(t)&&t};return function(e,t){var i,a,o;switch(typeof e){case"string":return o=e=e.trim(),i=n[o],i||(":"===e.charAt(0)&&":"===e.charAt(1)&&(a=!0,e=e.substring(2)),i=new Fr(f),i=new Yt(i,r,f).parse(e),i.constant?i.$$watchDelegate=u:a?i.$$watchDelegate=i.literal?c:l:i.inputs&&(i.$$watchDelegate=s),n[o]=i),d(i,t);case"function":return d(e,t);default:return d(m,t)}}}]}function Zt(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Qt(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function Jt(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Qt(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function Qt(e,t,n){function r(){return new o}function o(){var e=this.promise=new s;this.resolve=function(t){d(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){p(e,t)}}function s(){this.$$state={status:0}}function l(){for(;!x&&M.length;){var e=M.shift();if(!e.pur){e.pur=!0;var n=e.value,n="Possibly unhandled rejection: "+("function"==typeof n?n.toString().replace(/ \{[\s\S]*$/,""):b(n)?"undefined":"string"!=typeof n?me(n,void 0):n);k(e.value)?t(e.value,n):t(n)}}}function c(t){!n||t.pending||2!==t.status||t.pur||(0===x&&0===M.length&&e(l),M.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++x,e(function(){var i,r,a;a=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var o=0,s=a.length;o<s;++o){t.pur=!0,r=a[o][0],i=a[o][t.status];try{T(i)?d(r,i(t.value)):1===t.status?d(r,t.value):h(r,t.value)}catch(c){h(r,c)}}}finally{--x,n&&0===x&&e(l)}}))}function d(e,t){e.$$state.status||(t===e?m(e,_("qcycle",t)):f(e,t))}function f(e,t){function n(t){o||(o=!0,f(e,t))}function i(t){o||(o=!0,m(e,t))}function r(t){p(e,t)}var a,o=!1;try{(E(t)||T(t))&&(a=t.then),T(a)?(e.$$state.status=-1,a.call(t,n,i,r)):(e.$$state.value=t,e.$$state.status=1,c(e.$$state))}catch(s){i(s)}}function h(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,c(e.$$state)}function p(n,i){var r=n.$$state.pending;0>=n.$$state.status&&r&&r.length&&e(function(){for(var e,n,a=0,o=r.length;a<o;a++){n=r[a][0],e=r[a][3];try{p(n,T(e)?e(i):i)}catch(s){t(s)}}})}function g(e){var t=new s;return h(t,e),t}function v(e,t,n){var i=null;try{T(n)&&(i=n())}catch(r){return g(r)}return i&&T(i.then)?i.then(function(){return t(e)},g):t(e)}function y(e,t,n,i){var r=new s;return d(r,e),r.then(t,n,i)}function w(e){if(!T(e))throw _("norslvr",e);var t=new s;return e(function(e){d(t,e)},function(e){h(t,e)}),t}var _=i("$q",TypeError),x=0,M=[];u(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&c(this.$$state),i},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,S,e)},function(t){return v(t,g,e)},t)}});var S=y;return w.prototype=s.prototype,w.defer=r,w.reject=g,w.when=y,w.resolve=S,w.all=function(e){var t=new s,n=0,i=xi(e)?[]:{};return a(e,function(e,r){n++,y(e).then(function(e){i[r]=e,--n||d(t,i)},function(e){h(t,e)})}),0===n&&d(t,i),t},w.race=function(e){var t=r();return a(e,function(e){y(e).then(t.resolve,t.reject)}),t.promise},w}function en(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=r,a}]}function tn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++wi,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,l,c){function u(e){e.currentScope.$$destroyed=!0}function d(e){9===ai&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=++wi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(_.$$phase)throw n("inprog",_.$$phase);_.$$phase=e}function p(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function v(){}function y(){for(;k.length;)try{k.shift()()}catch(e){i(e)}s=null}function w(){null===s&&(s=c.defer(function(){_.$apply(y)}))}f.prototype={constructor:f,$new:function(t,n){var i;return n=n||this,t?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",u),i},$watch:function(e,t,n,i){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var a=this,s=a.$$watchers,c={fn:t,last:v,get:r,exp:i||e,eq:!!n};return o=null,T(t)||(c.fn=m),s||(s=a.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(c),s.$$digestWatchIndex++,p(this,1),function(){var e=D(s,c);0<=e&&(p(a,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),o=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(r,r,s)):t(r,i,s)}var i=Array(e.length),r=Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){r[0]=e,i[0]=n,t(r,e===n?r:i,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){r[t]=e,i[t]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,o,s;if(!b(i)){if(E(i))if(r(i))for(a!==f&&(a=f,p=a.length=0,u++),e=i.length,p!==e&&(u++,a.length=p=e),t=0;t<e;t++)s=a[t],o=i[t],n=s!==s&&o!==o,n||s===o||(u++,a[t]=o);else{a!==h&&(a=h={},p=0,u++),e=0;for(t in i)di.call(i,t)&&(e++,o=i[t],s=a[t],t in a?(n=s!==s&&o!==o,n||s===o||(u++,a[t]=o)):(p++,a[t]=o,u++));if(p>e)for(t in u++,a)di.call(i,t)||(p--,delete a[t])}else a!==i&&(a=i,u++);return u}}n.$stateful=!0;var i,a,o,s=this,c=1<t.length,u=0,d=l(e,n),f=[],h={},m=!0,p=0;return this.$watch(d,function(){if(m?(m=!1,t(i,i,s)):t(i,o,s),c)if(E(i))if(r(i)){o=Array(i.length);for(var e=0;e<i.length;e++)o[e]=i[e]}else for(e in o={},i)di.call(i,e)&&(o[e]=i[e]);else o=i})},$digest:function(){var e,r,a,l,u,d,f,m,p,g,b=t,E=[];h("$digest"),c.$$checkUrlChange(),this===_&&null!==s&&(c.defer.cancel(s),y()),o=null;do{for(f=!1,m=this,d=0;d<x.length;d++){try{g=x[d],(l=g.fn)(g.scope,g.locals)}catch(w){i(w)}o=null}x.length=0;e:do{if(d=m.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(u=e.get,(r=u(m))===(a=e.last)||(e.eq?F(r,a):_i(r)&&_i(a))){if(e===o){f=!1;break e}}else f=!0,o=e,e.last=e.eq?I(r,null):r,l=e.fn,l(r,a===v?r:a,m),5>b&&(p=4-b,E[p]||(E[p]=[]),E[p].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:a}))}catch(k){i(k)}if(!(d=m.$$watchersCount&&m.$$childHead||m!==this&&m.$$nextSibling))for(;m!==this&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((f||x.length)&&!b--)throw _.$$phase=null,n("infdig",t,E)}while(f||x.length);for(_.$$phase=null;S<M.length;)try{M[S++]()}catch(A){i(A)}M.length=S=0,c.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===_&&c.$$applicationDestroyed(),p(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){_.$$phase||x.length||c.defer(function(){x.length&&_.$digest()}),x.push({scope:this,fn:l(e),locals:t})},$$postDigest:function(e){M.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{_.$$phase=null}}catch(t){i(t)}finally{try{_.$digest()}catch(n){throw i(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&k.push(t),e=l(e),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,g(r,1,e))}},$emit:function(e,t){var n,r,a,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=H([c],arguments,1);do{for(n=s.$$listeners[e]||o,c.currentScope=s,r=0,a=n.length;r<a;r++)if(n[r])try{n[r].apply(null,u)}catch(d){i(d)}else n.splice(r,1),r--,a--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=this,a={name:e,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return a;for(var o,s,l=H([a],arguments,1);n=r;){for(a.currentScope=n,r=n.$$listeners[e]||[],o=0,s=r.length;o<s;o++)if(r[o])try{r[o].apply(null,l)}catch(c){i(c)}else r.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return a.currentScope=null,a}};var _=new f,x=_.$$asyncQueue=[],M=_.$$postDigestQueue=[],k=_.$$applyAsyncQueue=[],S=0;return _}]}function nn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,a=i?t:e;return r=fn(n).href,""===r||r.match(a)?n:"unsafe:"+r}}}function rn(e){if("self"===e)return e;if(_(e)){if(-1<e.indexOf("***"))throw Br("iwcard",e);return e=Ti(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw Br("imatcher")}function an(e){var t=[];return y(e)&&a(e,function(e){t.push(rn(e))}),t}function on(){this.SCE_CONTEXTS=jr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=an(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=an(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?hn(t):!!e.exec(t.href)}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=function(e){throw Br("unsafe")};n.has("$sanitize")&&(a=n.get("$sanitize"));var o=r(),s={};return s[jr.HTML]=r(o),s[jr.CSS]=r(o),s[jr.URL]=r(o),s[jr.JS]=r(o),s[jr.RESOURCE_URL]=r(s[jr.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Br("icontext",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw Br("itype",e);return new n(t)},getTrusted:function(n,r){if(null===r||b(r)||""===r)return r;var o=s.hasOwnProperty(n)?s[n]:null;if(o&&r instanceof o)return r.$$unwrapTrustedValue();if(n===jr.RESOURCE_URL){var l,c,o=fn(r.toString()),u=!1;for(l=0,c=e.length;l<c;l++)if(i(e[l],o)){u=!0;break}if(u)for(l=0,c=t.length;l<c;l++)if(i(t[l],o)){u=!1;break}if(u)return r;throw Br("insecurl",r.toString())}if(n===jr.HTML)return a(r);throw Br("unsafe")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function sn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>ai)throw Br("iequirks");var i=he(jr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=p),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return a(jr,function(e,t){var n=fi(t);i[("parse_as_"+n).replace(Vr,ge)]=function(t){return r(e,t)},i[("get_trusted_"+n).replace(Vr,ge)]=function(t){return o(e,t)},i[("trust_as_"+n).replace(Vr,ge)]=function(t){return s(e,t)}}),i}]}function ln(){this.$get=["$window","$document",function(e,t){var n={},i=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=f((/android (\d+)/.exec(fi((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},s=o.body&&o.body.style,l=!1,c=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),c=!!("animation"in s||"webkitAnimation"in s)),{history:!(!i||4>r||a),hasEvent:function(e){if("input"===e&&ai)return!1;if(b(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:Si(),transitions:l,animations:c,android:r}}]}function cn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,a){function o(s,l){o.totalPendingRequests++,_(s)&&!b(n.get(s))||(s=a.getTrustedResourceUrl(s));var c=i.defaults&&i.defaults.transformResponse;return xi(c)?c=c.filter(function(e){return e!==mt}):c===mt&&(c=null),i.get(s,u({cache:n,transformResponse:c},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},function(e){return l||(e=zr("tpload",s,e.status,e.statusText),t(e)),r.reject(e)})}return o.totalPendingRequests=0,o}]}function un(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return a(e,function(e){var r=Ei.element(e).data("$binding");r&&a(r,function(r){n?new RegExp("(^|\\s)"+Ti(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function dn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function a(a,s,l){T(a)||(l=s,s=a,a=m);var c,u=mi.call(arguments,3),d=y(l)&&!l,f=(d?i:n).defer(),h=f.promise;return c=t.defer(function(){try{f.resolve(a.apply(null,u))}catch(t){f.reject(t),r(t)}finally{delete o[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=c,o[c]=f,h}var o={};return a.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].promise.$$state.pur=!0,o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}function fn(e){return ai&&(Wr.setAttribute("href",e),e=Wr.href),Wr.setAttribute("href",e),{href:Wr.href,protocol:Wr.protocol?Wr.protocol.replace(/:$/,""):"",host:Wr.host,search:Wr.search?Wr.search.replace(/^\?/,""):"",hash:Wr.hash?Wr.hash.replace(/^#/,""):"",hostname:Wr.hostname,port:Wr.port,pathname:"/"===Wr.pathname.charAt(0)?Wr.pathname:"/"+Wr.pathname}}function hn(e){return e=_(e)?fn(e):e,e.protocol===Gr.protocol&&e.host===Gr.host}function mn(){this.$get=g(e)}function pn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,a,o,s,l;try{e=n.cookie||""}catch(c){e=""}if(e!==r)for(r=e,e=r.split("; "),i={},o=0;o<e.length;o++)a=e[o],s=a.indexOf("="),0<s&&(l=t(a.substring(0,s)),b(i[l])&&(i[l]=t(a.substring(s+1))));return i}}function gn(){this.$get=pn}function vn(e){function t(n,i){if(E(n)){var r={};return a(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",_n),t("date",Nn),t("filter",bn),t("json",On),t("limitTo",Dn),t("lowercase",Qr),t("number",xn),t("orderBy",Ln),t("uppercase",ea)}function bn(){return function(e,t,n,a){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}a=a||"$";var o;switch(wn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=yn(t,n,a,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function yn(e,t,n,i){var r=E(e)&&n in e;return!0===t?t=F:T(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(E(t)||E(e)&&!v(e))&&(e=fi(""+e),t=fi(""+t),-1!==e.indexOf(t)))}),function(a){return r&&!E(a)?En(a,e[n],t,n,!1):En(a,e,t,n,i)}}function En(e,t,n,i,r,a){var o=wn(e),s=wn(t);if("string"===s&&"!"===t.charAt(0))return!En(e,t.substring(1),n,i,r);if(xi(e))return e.some(function(e){return En(e,t,n,i,r)});switch(o){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&En(e[l],t,n,i,!0))return!0;return!a&&En(e,t,n,i,!1)}if("object"===s){for(l in t)if(a=t[l],!T(a)&&!b(a)&&(o=l===i,!En(o?e:e[l],a,n,i,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function wn(e){return null===e?"null":typeof e}function _n(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Tn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function xn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Tn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Mn(e){var t,n,i,r,a,o=0;for(-1<(n=e.indexOf(Yr))&&(e=e.replace(Yr,"")),0<(i=e.search(/e/i))?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)===Xr;i++);if(i===(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)===Xr;)a--;for(n-=i,t=[],r=0;i<=a;i++,r++)t[r]=+e.charAt(i)}return n>qr&&(t=t.splice(0,qr-1),o=n-1,n=1),{d:t,e:o,i:n}}function kn(e,t,n,i){var r=e.d,a=r.length-e.i;if(t=b(t)?Math.min(Math.max(n,a),i):+t,n=t+e.i,i=r[n],0<n){r.splice(Math.max(e.i,n));for(var o=n;o<r.length;o++)r[o]=0}else for(a=Math.max(0,a),e.i=1,r.length=Math.max(1,n=t+1),r[0]=0,o=1;o<n;o++)r[o]=0;if(5<=i)if(0>n-1){for(i=0;i>n;i--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[n-1]++;for(;a<Math.max(0,t);a++)r.push(0);(t=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0))&&(r.unshift(t),e.i++)}function Tn(e,t,n,i,r){if(!_(e)&&!x(e)||isNaN(e))return"";var a=!isFinite(e),o=!1,s=Math.abs(e)+"",l="";if(a)l="∞";else{for(o=Mn(s),kn(o,r,t.minFrac,t.maxFrac),l=o.d,s=o.i,r=o.e,a=[],o=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(0<s?a=l.splice(s,l.length):(a=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),a.length&&(l+=i+a.join("")),r&&(l+="e+"+r)}return 0>e&&!o?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Sn(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=Xr+e;return n&&(e=e.substr(e.length-t)),r+e}function An(e,t,n,i,r){return n=n||0,function(a){return a=a["get"+e](),(0<n||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Sn(a,t,i,r)}}function Cn(e,t,n){return function(i,r){var a=i["get"+e](),o=hi((n?"STANDALONE":"")+(t?"SHORT":"")+e);return r[o][a]}}function $n(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Rn(e){return function(t){var n=$n(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Sn(t,e)}}function Pn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Nn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=f(t[9]+t[10]),r=f(t[9]+t[11])),a.call(e,f(t[1]),f(t[2])-1,f(t[3])),i=f(t[4]||0)-i,r=f(t[5]||0)-r,a=f(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,i,r,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,s,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,_(n)&&(n=Jr.test(n)?f(n):t(n)),x(n)&&(n=new Date(n)),!M(n)||!isFinite(n.getTime()))return n;for(;i;)(s=Zr.exec(i))?(c=H(c,s,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=z(r,u),n=W(n,r,!0)),a(c,function(t){o=Kr[t],l+=o?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function On(){return function(e,t){return b(t)&&(t=2),j(e,t)}}function Dn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):f(t),_i(t)?e:(x(e)&&(e=e.toString()),r(e)?(n=!n||isNaN(n)?0:f(n),n=0>n?Math.max(0,e.length+n):n,0<=t?In(e,n,n+t):0===n?In(e,t,e.length):In(e,Math.max(0,n+t),n)):e)}}function In(e,t,n){return _(e)?e.slice(t,n):mi.call(e,t,n)}function Ln(e){function t(t){return t.map(function(t){var n=1,i=p;if(T(t))i=t;else if(_(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant)))var r=i(),i=function(e){return e[r]};return{get:i,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e,t){var n=0,i=e.type,r=t.type;if(i===r){var r=e.value,a=t.value;"string"===i?(r=r.toLowerCase(),a=a.toLowerCase()):"object"===i&&(E(r)&&(r=e.index),E(a)&&(a=t.index)),r!==a&&(n=r<a?-1:1)}else n=i<r?-1:1;return n}return function(e,o,s,l){if(null==e)return e;if(!r(e))throw i("orderBy")("notarray",e);xi(o)||(o=[o]),0===o.length&&(o=["+"]);var c=t(o),u=s?-1:1,d=T(l)?l:a;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:c.map(function(i){var r=i.get(e);return i=typeof r,null===r?(i="string",r="null"):"object"===i&&(T(r.valueOf)&&(r=r.valueOf(),n(r))||v(r)&&(r=r.toString(),n(r))),{value:r,type:i,index:t}})}}),e.sort(function(e,t){for(var n=0,i=c.length;n<i;n++){var r=d(e.predicateValues[n],t.predicateValues[n]);if(r)return r*c[n].descending*u}return(d(e.tieBreaker,t.tieBreaker)||a(e.tieBreaker,t.tieBreaker))*u}),e=e.map(function(e){return e.value})}}function Fn(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Hn(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=ia,this.$$element=e,this.$$animate=i,Un(this)}function Un(e){e.$$classCache={},e.$$classCache[Fa]=!(e.$$classCache[La]=e.$$element.hasClass(La))}function Bn(e){function t(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function n(e,n,i){n=n?"-"+ie(n,"-"):"",t(e,La+n,!0===i),t(e,Fa+n,!1===i)}var i=e.set,r=e.unset;e.clazz.prototype.$setValidity=function(e,a,o){b(a)?(this.$pending||(this.$pending={}),i(this.$pending,e,o)):(this.$pending&&r(this.$pending,e,o),jn(this.$pending)&&(this.$pending=void 0)),$(a)?a?(r(this.$error,e,o),i(this.$$success,e,o)):(i(this.$error,e,o),r(this.$$success,e,o)):(r(this.$error,e,o),r(this.$$success,e,o)),this.$pending?(t(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(t(this,"ng-pending",!1),this.$valid=jn(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),a=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),n(this,e,a),this.$$parentForm.$setValidity(e,a,this)}}function jn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Vn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function zn(e,t,n,i,r,a){var o=fi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var r=t.val();e=e&&e.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=ki(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),ga[o]&&i.$$hasNativeValidators&&o===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,i=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Wn(e,t){return function(n,i){var r,o;if(M(n))return n;if(_(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),sa.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function Gn(e,t,n,i){return function(r,a,o,s,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return y(e)&&!M(e)?n(e)||void 0:e}qn(r,a,o,s),zn(r,a,o,s,l,c);var h,m=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){return s.$isEmpty(e)?null:t.test(e)?(e=n(e,h),m&&(e=W(e,m)),e):void 0}),s.$formatters.push(function(e){if(e&&!M(e))throw Ba("datefmt",e);return d(e)?((h=e)&&m&&(h=W(h,m,!0)),u("date")(e,i,m)):(h=null,"")}),y(o.min)||o.ngMin){var p;s.$validators.min=function(e){return!d(e)||b(p)||n(e)>=p},o.$observe("min",function(e){p=f(e),s.$validate()})}if(y(o.max)||o.ngMax){var g;s.$validators.max=function(e){return!d(e)||b(g)||n(e)<=g},o.$observe("max",function(e){g=f(e),s.$validate()})}}}function qn(e,t,n,i){(i.$$hasNativeValidators=E(t[0].validity))&&i.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:e})}function Yn(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:ua.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!x(t))throw Ba("numfmt",t);t=t.toString()}return t})}function Xn(e){return y(e)&&!x(e)&&(e=parseFloat(e)),_i(e)?void 0:e}function Kn(e){var t=e.toString(),n=t.indexOf(".");return-1===n?-1<e&&1>e&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-n-1}function Zn(e,t,n){e=Number(e);var i=(0|e)!==e,r=(0|t)!==t,a=(0|n)!==n;if(i||r||a){var o=i?Kn(e):0,s=r?Kn(t):0,l=a?Kn(n):0,o=Math.max(o,s,l),o=Math.pow(10,o);e*=o,t*=o,n*=o,i&&(e=Math.round(e)),r&&(t=Math.round(t)),a&&(n=Math.round(n))}return 0===(e-t)%n}function Jn(e,t,n,i,r){if(y(i)){if(e=e(i),!e.constant)throw Ba("constexpr",n,i);return e(t)}return r}function Qn(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],a=0;a<t.length;a++)if(r===t[a])continue e;n.push(r)}return n}function i(e){var t=e;return xi(e)?t=e.map(i).join(" "):E(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function r(e){var t=e;if(xi(e))t=e.map(r);else if(E(e)){var n=!1,t=Object.keys(e).filter(function(t){return t=e[t],!n&&b(t)&&(n=!0),t});n&&t.push(void 0)}return t}e="ngClass"+e;var o;return["$parse",function(s){return{restrict:"AC",link:function(l,c,u){function d(e,t){var n=[];return a(e,function(e){(0<t||y[e])&&(y[e]=(y[e]||0)+t,y[e]===+(0<t)&&n.push(e))}),n.join(" ")}function f(e){if(e===t){var n=p,n=d(n&&n.split(" "),1);u.$addClass(n)}else n=p,n=d(n&&n.split(" "),-1),u.$removeClass(n);E=e}function h(e){e=i(e),e!==p&&m(e)}function m(e){if(E===t){var i=p&&p.split(" "),r=e&&e.split(" "),a=n(i,r),i=n(r,i),a=d(a,-1),i=d(i,1);u.$addClass(i),u.$removeClass(a)}p=e}var p,g=u[e].trim(),v=":"===g.charAt(0)&&":"===g.charAt(1),g=s(g,v?r:i),b=v?h:m,y=c.data("$classCounts"),E=!0;y||(y=ue(),c.data("$classCounts",y)),"ngClass"!==e&&(o||(o=s("$index",function(e){return 1&e})),l.$watch(o,f)),l.$watch(g,b,v)}}}]}function ei(e,t,n,i,r,a,o,s,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=ia,
this.$options=ja,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=i,this.$$animate=a,this.$$timeout=o,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,Un(this),ti(this)}function ti(e){e.$$scope.$watch(function(t){if(t=e.$$ngModelGet(t),t!==e.$modelValue&&(e.$modelValue===e.$modelValue||t===t)){e.$modelValue=e.$$rawModelValue=t,e.$$parserValid=void 0;for(var n=e.$formatters,i=n.length,r=t;i--;)r=n[i](r);e.$viewValue!==r&&(e.$$updateEmptyClasses(r),e.$viewValue=e.$$lastCommittedViewValue=r,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,m))}return t})}function ni(e){this.$$options=e}function ii(e,t){a(t,function(t,n){y(e[n])||(e[n]=t)})}function ri(e,t){e.prop("selected",t),e.attr("selected",t)}var ai,oi,si,li,ci={objectMaxDepth:5},ui=/^\/(.+)\/([a-z]*)$/,di=Object.prototype.hasOwnProperty,fi=function(e){return _(e)?e.toLowerCase():e},hi=function(e){return _(e)?e.toUpperCase():e},mi=[].slice,pi=[].splice,gi=[].push,vi=Object.prototype.toString,bi=Object.getPrototypeOf,yi=i("ng"),Ei=e.angular||(e.angular={}),wi=0;ai=e.document.documentMode;var _i=Number.isNaN||function(e){return e!==e};m.$inject=[],p.$inject=[];var xi=Array.isArray,Mi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,ki=function(e){return _(e)?e.trim():e},Ti=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Si=function(){if(!y(Si.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Si.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=Si;try{new Function(""),n=!1}catch(i){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return Si.rules},Ai=function(){if(y(Ai.name_))return Ai.name_;var t,n,i,r,a=$i.length;for(n=0;n<a;++n)if(i=$i[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Ai.name_=r},Ci=/:/g,$i=["ng-","data-ng-","ng:","x-ng-"],Ri=function(t){var n=t.currentScript;return!n||(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement)&&(n=n.attributes,[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document),Pi=/[A-Z]/g,Ni=!1,Oi=3,Di={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};Ee.expando="ng339";var Ii=Ee.cache={},Li=1;Ee._data=function(e){return this.cache[e[this.expando]]||{}};var Fi=/-([a-z])/g,Hi=/^-ms-/,Ui={mouseleave:"mouseout",mouseenter:"mouseover"},Bi=i("jqLite"),ji=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Vi=/<|&#?\w+;/,zi=/<([\w:-]+)/,Wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gi.optgroup=Gi.option,Gi.tbody=Gi.tfoot=Gi.colgroup=Gi.caption=Gi.thead,Gi.th=Gi.td;var qi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Yi=Ee.prototype={ready:Ie,toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return oi(0<=e?this[e]:this[this.length+e])},length:0,push:gi,sort:[].sort,splice:[].splice},Xi={};a("multiple selected checked disabled readOnly required open".split(" "),function(e){Xi[fi(e)]=e});var Ki={};a("input select option textarea button form details".split(" "),function(e){Ki[e]=!0});var Zi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};a({data:Te,removeData:Me,hasData:function(e){for(var t in Ii[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Me(e[t])}},function(e,t){Ee[t]=e}),a({data:Te,inheritedData:Pe,scope:function(e){return oi.data(e,"$scope")||Pe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return oi.data(e,"$isolateScope")||oi.data(e,"$isolateScopeNoTemplate")},controller:Re,injector:function(e){return Pe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Se,css:function(e,t,n){return t=ve(t.replace(Hi,"ms-")),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==Oi&&2!==i&&8!==i&&e.getAttribute){var i=fi(t),r=Xi[i];if(!y(n))return e=e.getAttribute(t),r&&null!==e&&(e=i),null===e?void 0:e;null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?i:n)}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return 1===n||n===Oi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===O(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(_e(e,!0),void(e.innerHTML=t))},empty:Ne},function(e,t){Ee.prototype[t]=function(t,n){var i,r,a=this.length;if(e!==Ne&&b(2===e.length&&e!==Se&&e!==Re?t:n)){if(E(t)){for(i=0;i<a;i++)if(e===Te)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(i=e.$dv,a=b(i)?Math.min(a,1):a,r=0;r<a;r++){var o=e(this[r],t,n);i=i?i+o:o}return i}for(i=0;i<a;i++)e(this[i],t,n);return this}}),a({removeData:Me,on:function(e,t,n,i){if(y(i))throw Bi("onargs");if(be(e)){i=ke(e,!0);var r=i.events,a=i.handle;a||(a=i.handle=Fe(e,r)),i=0<=t.indexOf(" ")?t.split(" "):[t];for(var o=i.length,s=function(t,i,o){var s=r[t];s||(s=r[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||o||e.addEventListener(t,a)),s.push(n)};o--;)t=i[o],Ui[t]?(s(Ui[t],Ue),s(t,void 0,!0)):s(t)}},off:xe,one:function(e,t,n){e=oi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;_e(e),a(new Ee(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new Ee(t);for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new Ee(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n=oi(t).eq(0).clone()[0],i=e.parentNode;i&&i.replaceChild(n,e),n.appendChild(e)},remove:Oe,detach:function(e){Oe(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new Ee(t);for(var r=0,a=t.length;r<a;r++){var o=t[r];i.insertBefore(o,n.nextSibling),n=o}}},addClass:Ce,removeClass:Ae,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var i=n;b(i)&&(i=!Se(e,t)),(i?Ce:Ae)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:we,triggerHandler:function(e,t,n){var i,r,o=t.type||t,s=ke(e);(s=(s=s&&s.events)&&s[o])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:o,target:e},t.type&&(i=u(i,t)),t=he(s),r=n?[i].concat(n):[i],a(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){Ee.prototype[t]=function(t,n,i){for(var r,a=0,o=this.length;a<o;a++)b(r)?(r=e(this[a],t,n,i),y(r)&&(r=oi(r))):$e(r,e(this[a],t,n,i));return y(r)?r:this}}),Ee.prototype.bind=Ee.prototype.on,Ee.prototype.unbind=Ee.prototype.off;var Ji=Object.create(null);Ve.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e))},_transformKey:function(e){return _i(e)?Ji:e},get:function(e){if(e=this._transformKey(e),e=this._idx(e),-1!==e)return this._values[e]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},"delete":function(e){return e=this._transformKey(e),e=this._idx(e),-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Qi=Ve,er=[function(){this.$get=[function(){return Qi}]}],tr=/^([^(]+?)=>/,nr=/^[^(]*\(\s*([^)]*)\)/m,ir=/,/,rr=/^\s*(_?)(\S+?)\1\s*$/,ar=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,or=i("$injector");Ge.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw _(n)&&n||(n=e.name||We(e)),or("strictdi",n);t=ze(e),a(t[1].split(ir),function(e){e.replace(rr,function(e,t,n){i.push(n)})})}e.$inject=i}}else xi(e)?(t=e.length-1,oe(e[t],"fn"),i=e.slice(0,t)):oe(e,"fn",!0);return i};var sr=i("$animate"),lr=function(){this.$get=m},cr=function(){var e=new Qi,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(e,t,n){var i=!1;return t&&(t=_(t)?t.split(" "):xi(t)?t:[],a(t,function(t){t&&(i=!0,e[t]=n)})),i}function o(){a(t,function(t){var n=e.get(t);if(n){var i=Xe(t.attr("class")),r="",o="";a(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)}),a(t,function(e){r&&Ce(e,r),o&&Ae(e,o)}),e["delete"](t)}}),t.length=0}return{enabled:m,on:m,off:m,pin:m,push:function(a,s,l,c){return c&&c(),l=l||{},l.from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,c=l.removeClass,l=e.get(a)||{},s=r(l,s,!0),c=r(l,c,!1),(s||c)&&(e.set(a,l),t.push(a),1===t.length&&i.$$postDigest(o))),a=new n,a.complete(),a}}}]},ur=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw sr("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=T(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(n.toString()))throw n=null,sr("nongcls","ng-animate");return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,a){return i=i&&oi(i),r=r&&oi(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",Ke(a))},move:function(n,i,r,a){return i=i&&oi(i),r=r&&oi(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",Ke(a))},leave:function(t,n){return e.push(t,"leave",Ke(n),function(){t.remove()})},addClass:function(t,n,i){return i=Ke(i),i.addClass=Ye(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=Ke(i),i.removeClass=Ye(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=Ke(r),r.addClass=Ye(r.addClass,n),r.removeClass=Ye(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,a){return a=Ke(a),a.from=a.from?u(a.from,n):n,a.to=a.to?u(a.to,i):i,a.tempClasses=Ye(a.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",a)}}}]}],dr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},fr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?r(e,0,!1):t(e)},this._state=0}return o.chain=function(e,t){function n(){i===e.length?t(!0):e[i](function(e){!1===e?t(!1):(i++,n())})}var i=0;n()},o.all=function(e,t){function n(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;a(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:m,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(a(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},hr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null),o||s.complete(),o=!0}),s}var a=i||{};a.$$prepared||(a=I(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var o,s=new n;return{start:r,end:r}}}]},mr=i("$compile"),pr=new function(){};tt.$inject=["$provide","$$sanitizeUriProvider"],nt.prototype.isFirstChange=function(){return this.previousValue===pr};var gr=/^((?:x|data)[:\-_])/i,vr=/[:\-_]+(.)/g,br=i("$controller"),yr=/^(\S+)(\s+as\s+([\w$]+))?$/,Er=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof oi&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},wr="application/json",_r={"Content-Type":wr+";charset=utf-8"},xr=/^\[|^\{(?!\{)/,Mr={"[":/]$/,"{":/}$/},kr=/^\)]\}',?\n/,Tr=i("$http"),Sr=Ei.$interpolateMinErr=i("$interpolate");Sr.throwNoconcat=function(e){throw Sr("noconcat",e)},Sr.interr=function(e,t){return Sr("interr",e,t.toString())};var Ar=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=Ei.callbacks,n={};return{createCallback:function(i){i="_"+(t.$$counter++).toString(36);var r="angular.callbacks."+i,a=e(i);return n[r]=t[i]=a,r},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){delete t[n[e].id],delete n[e]}}}},Cr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,$r={http:80,https:443,ftp:21},Rr=i("$location"),Pr=/^\s*[\\/]{2,}/,Nr={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Ot("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Cr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Ot("$$protocol"),host:Ot("$$host"),port:Ot("$$port"),path:Dt("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(_(e)||x(e))e=e.toString(),this.$$search=Y(e);else{if(!E(e))throw Rr("isrcharg");e=I(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Dt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([Nt,Pt,Rt],function(e){e.prototype=Object.create(Nr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Rt||!this.$$html5)throw Rr("nostate");return this.$$state=b(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Or=i("$parse"),Dr={}.constructor.prototype.valueOf,Ir=ue();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ir[e]=!0});var Lr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Fr=function(e){this.options=e};Fr.prototype={constructor:Fr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=Ir[t],r=Ir[n];Ir[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=i&&57343>=i?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Or("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=fi(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),i=i+a;if(r)"u"===a?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Lr[a]||a,r=!1;else if("\\"===a)r=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Hr=function(e,t){this.lexer=e,this.options=t};Hr.Program="Program",Hr.ExpressionStatement="ExpressionStatement",Hr.AssignmentExpression="AssignmentExpression",Hr.ConditionalExpression="ConditionalExpression",Hr.LogicalExpression="LogicalExpression",Hr.BinaryExpression="BinaryExpression",Hr.UnaryExpression="UnaryExpression",Hr.CallExpression="CallExpression",Hr.MemberExpression="MemberExpression",Hr.Identifier="Identifier",Hr.Literal="Literal",Hr.ArrayExpression="ArrayExpression",Hr.Property="Property",Hr.ObjectExpression="ObjectExpression",Hr.ThisExpression="ThisExpression",Hr.LocalsExpression="LocalsExpression",Hr.NGValueParameter="NGValueParameter",Hr.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Hr.Program,body:e}},expressionStatement:function(){return{type:Hr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!zt(e))throw Or("lval");e={type:Hr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Hr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Hr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Hr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Hr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Hr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Hr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Hr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Hr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=I(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Hr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Hr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Hr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Hr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:Hr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Hr.Identifier,name:e.text}},constant:function(){return{type:Hr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Hr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Hr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Hr.ObjectExpression,properties:t}},throwError:function(e,t){throw Or("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Or("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Or("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var a=e.text;if(a===t||a===n||a===i||a===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return!!(e=this.peek(e,t,n,i))&&(this.tokens.shift(),e)},selfReferential:{"this":{type:Hr.ThisExpression},$locals:{type:Hr.LocalsExpression}}};var Ur=2;Gt.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},jt(e,t.$filter);var n,i="";return this.stage="assign",(n=Wt(e))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),i="fn.assign="+this.generateFunction("assign","s,v,l")),n=Vt(e.body),t.stage="inputs",a(n,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",e=new Function("$filter","getStringValue","ifDefined","plus",e)(this.$filter,Ft,Ht,Ut),this.state=this.stage=void 0,e},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return a(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var s,l,c,u,d,f=this;if(i=i||m,!o&&y(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));else switch(e.type){case Hr.Program:a(e.body,function(t,n){f.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?f.current().body.push(l,";"):f.return_(l)});break;case Hr.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case Hr.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case Hr.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case Hr.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),i(t);break;case Hr.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),i(t);break;case Hr.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){r&&1!==r&&f.if_(f.isNull(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),i(t);break;case Hr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,s,void 0,function(){f.if_(f.notNull(s),function(){e.computed?(l=f.nextId(),f.recurse(e.property,l),f.getStringValue(l),r&&1!==r&&f.if_(f.not(f.computedMember(s,l)),f.lazyAssign(f.computedMember(s,l),"{}")),u=f.computedMember(s,l),f.assign(t,u),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&f.if_(f.isNull(f.nonComputedMember(s,e.property.name)),f.lazyAssign(f.nonComputedMember(s,e.property.name),"{}")),u=f.nonComputedMember(s,e.property.name),f.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){f.assign(t,"undefined")}),i(t)},!!r);break;case Hr.CallExpression:t=t||this.nextId(),e.filter?(l=f.filter(e.callee.name),c=[],a(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",f.assign(t,u),i(t)):(l=f.nextId(),s={},c=[],f.recurse(e.callee,l,s,function(){f.if_(f.notNull(l),function(){a(e.arguments,function(t){f.recurse(t,e.constant?void 0:f.nextId(),void 0,function(e){c.push(e)})}),u=s.name?f.member(s.context,s.name,s.computed)+"("+c.join(",")+")":l+"("+c.join(",")+")",f.assign(t,u)},function(){f.assign(t,"undefined")}),i(t)}));break;case Hr.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){f.if_(f.notNull(s.context),function(){f.recurse(e.right,l),u=f.member(s.context,s.name,s.computed)+e.operator+l,f.assign(t,u),i(t||u)})},1);break;case Hr.ArrayExpression:c=[],a(e.elements,function(t){f.recurse(t,e.constant?void 0:f.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),i(t||u);break;case Hr.ObjectExpression:c=[],d=!1,a(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),a(e.properties,function(e){e.computed?(s=f.nextId(),f.recurse(e.key,s)):s=e.key.type===Hr.Identifier?e.key.name:""+e.key.value,l=f.nextId(),f.recurse(e.value,l),f.assign(f.member(t,s,e.computed),l)})):(a(e.properties,function(t){f.recurse(t.value,e.constant?void 0:f.nextId(),void 0,function(e){c.push(f.escape(t.key.type===Hr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),i(t||u);break;case Hr.ThisExpression:this.assign(t,"s"),i(t||"s");break;case Hr.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case Hr.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){
return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,a){var o=this;return function(){o.recurse(e,t,n,i,r,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(_(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Or("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},qt.prototype={compile:function(e){var t=this;jt(e,t.$filter);var n,i;(n=Wt(e))&&(i=this.recurse(n)),n=Vt(e.body);var r;n&&(r=[],a(n,function(e,n){var i=t.recurse(e);i.isPure=e.isPure,e.input=i,r.push(i),e.watchId=n}));var o=[];return a(e.body,function(e){o.push(t.recurse(e.expression))}),e=0===e.body.length?m:1===e.body.length?o[0]:function(e,t){var n;return a(o,function(i){n=i(e,t)}),n},i&&(e.assign=function(e,t,n){return i(e,n,t)}),r&&(e.inputs=r),e},recurse:function(e,t,n){var i,r,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Hr.Literal:return this.value(e.value,t);case Hr.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Hr.BinaryExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Hr.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Hr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Hr.Identifier:return s.identifier(e.name,t,n);case Hr.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case Hr.CallExpression:return o=[],a(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));return e=r.apply(void 0,s,a),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){s=[];for(var c=0;c<o.length;++c)s.push(o[c](e,n,i,a));s=l.value.apply(l.context,s)}return t?{value:s}:s};case Hr.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,a,o){var s=i(e,n,a,o);return e=r(e,n,a,o),s.context[s.name]=e,t?{value:e}:e};case Hr.ArrayExpression:return o=[],a(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case Hr.ObjectExpression:return o=[],a(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===Hr.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case Hr.ThisExpression:return function(e){return t?{value:e}:e};case Hr.LocalsExpression:return function(e,n){return t?{value:n}:n};case Hr.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,a){return n=e(n,i,r,a),n=y(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,r,a){return n=e(n,i,r,a),n=y(n)?-n:-0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,r,a){return n=!e(n,i,r,a),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o);return i=t(i,r,a,o),s=Ut(s,i),n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o);return i=t(i,r,a,o),s=(y(s)?s:0)-(y(i)?i:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)*t(i,r,a,o),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)/t(i,r,a,o),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)%t(i,r,a,o),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)===t(i,r,a,o),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)!==t(i,r,a,o),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)==t(i,r,a,o),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)!=t(i,r,a,o),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)<t(i,r,a,o),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)>t(i,r,a,o),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)<=t(i,r,a,o),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)>=t(i,r,a,o),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)&&t(i,r,a,o),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,r,a,o){return i=e(i,r,a,o)||t(i,r,a,o),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(r,a,o,s){return r=e(r,a,o,s)?t(r,a,o,s):n(r,a,o,s),i?{value:r}:r}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,a,o){return i=r&&e in r?r:i,n&&1!==n&&i&&null==i[e]&&(i[e]={}),r=i?i[e]:void 0,t?{context:i,name:e,value:r}:r}},computedMember:function(e,t,n,i){return function(r,a,o,s){var l,c,u=e(r,a,o,s);return null!=u&&(l=t(r,a,o,s),l+="",i&&1!==i&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,i){return function(r,a,o,s){return r=e(r,a,o,s),i&&1!==i&&r&&null==r[t]&&(r[t]={}),a=null!=r?r[t]:void 0,n?{context:r,name:t,value:a}:a}},inputs:function(e,t){return function(n,i,r,a){return a?a[t]:e(n,i,r)}}},Yt.prototype={constructor:Yt,parse:function(e){e=this.ast.ast(e);var t=this.astCompiler.compile(e);return t.literal=0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Hr.Literal||e.body[0].expression.type===Hr.ArrayExpression||e.body[0].expression.type===Hr.ObjectExpression),t.constant=e.constant,t}};var Br=i("$sce"),jr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Vr=/_([a-z])/g,zr=i("$compile"),Wr=e.document.createElement("a"),Gr=fn(e.location.href);pn.$inject=["$document"],vn.$inject=["$provide"];var qr=22,Yr=".",Xr="0";_n.$inject=["$locale"],xn.$inject=["$locale"];var Kr={yyyy:An("FullYear",4,0,!1,!0),yy:An("FullYear",2,0,!0,!0),y:An("FullYear",1,0,!1,!0),MMMM:Cn("Month"),MMM:Cn("Month",!0),MM:An("Month",2,1),M:An("Month",1,1),LLLL:Cn("Month",!1,!0),dd:An("Date",2),d:An("Date",1),HH:An("Hours",2),H:An("Hours",1),hh:An("Hours",2,-12),h:An("Hours",1,-12),mm:An("Minutes",2),m:An("Minutes",1),ss:An("Seconds",2),s:An("Seconds",1),sss:An("Milliseconds",3),EEEE:Cn("Day"),EEE:Cn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(Sn(Math[0<e?"floor":"ceil"](e/60),2)+Sn(Math.abs(e%60),2))},ww:Rn(2),w:Rn(1),G:Pn,GG:Pn,GGG:Pn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Zr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Jr=/^-?\d+$/;Nn.$inject=["$locale"];var Qr=g(fi),ea=g(hi);Ln.$inject=["$parse"];var ta=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===vi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),na={};a(Xi,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=it("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),na[i]=function(){return{restrict:"A",priority:100,link:r}}}}),a(Zi,function(e,t){na[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"===i.ngPattern.charAt(0)&&(n=i.ngPattern.match(ui))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=it("ng-"+e);na[t]=function(){return{priority:99,link:function(n,i,r){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===vi.call(i.prop("href"))&&(o="xlinkHref",r.$attr[o]="xlink:href",a=null),r.$observe(t,function(t){t?(r.$set(o,t),ai&&a&&i.prop(a,r[o])):"href"===e&&r.$set(o,null)})}}}});var ia={$addControl:m,$$renameControl:function(e,t){e.$name=t},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m};Hn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Hn.prototype={$rollbackViewValue:function(){a(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){a(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){se(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],a(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),a(this.$error,function(t,n){this.$setValidity(n,null,e)},this),a(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),D(this.$$controls,e),e.$$parentForm=ia},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ha),this.$$animate.addClass(this.$$element,Ua),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ha,Ua+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,a(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){a(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Bn({clazz:Hn,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(D(i,n),0===i.length&&delete e[t])}});var ra=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||m}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Hn,compile:function(n,r){n.addClass(Ha).addClass(La);var a=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,o){var s=o[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(o[1]||s.$$parentForm).$addControl(s);var c=a?i(s.$name):m;a&&(c(e,s),r.$observe(a,function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(e,void 0),u(s,ia)})}}}}}]},aa=ra(),oa=ra(!0),sa=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,la=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ca=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ua=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,da=/^(\d{4,})-(\d{2})-(\d{2})$/,fa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ha=/^(\d{4,})-W(\d\d)$/,ma=/^(\d{4,})-(\d\d)$/,pa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ga=ue();a(["date","datetime-local","month","time","week"],function(e){ga[e]=!0});var va={text:function(e,t,n,i,r,a){zn(e,t,n,i,r,a),Vn(i)},date:Gn("date",da,Wn(da,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Gn("datetimelocal",fa,Wn(fa,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Gn("time",pa,Wn(pa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Gn("week",ha,function(e,t){if(M(e))return e;if(_(e)){ha.lastIndex=0;var n=ha.exec(e);if(n){var i=+n[1],r=+n[2],a=n=0,o=0,s=0,l=$n(i),r=7*(r-1);return t&&(n=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),s=t.getMilliseconds()),new Date(i,0,l.getDate()+r,n,a,o,s)}}return NaN},"yyyy-Www"),month:Gn("month",ma,Wn(ma,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,a){qn(e,t,n,i),Yn(i),zn(e,t,n,i,r,a);var o,s;if((y(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||b(o)||e>=o},n.$observe("min",function(e){o=Xn(e),i.$validate()})),(y(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||b(s)||e<=s},n.$observe("max",function(e){s=Xn(e),i.$validate()})),y(n.step)||n.ngStep){var l;i.$validators.step=function(e,t){return i.$isEmpty(t)||b(l)||Zn(t,o||0,l)},n.$observe("step",function(e){l=Xn(e),i.$validate()})}},url:function(e,t,n,i,r,a){zn(e,t,n,i,r,a),Vn(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||la.test(n)}},email:function(e,t,n,i,r,a){zn(e,t,n,i,r,a),Vn(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||ca.test(n)}},radio:function(e,t,n,i){var r=!n.ngTrim||"false"!==ki(n.ngTrim);b(n.name)&&t.attr("name",++wi),t.on("click",function(e){var a;t[0].checked&&(a=n.value,r&&(a=ki(a)),i.$setViewValue(a,e&&e.type))}),i.$render=function(){var e=n.value;r&&(e=ki(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)},range:function(e,t,n,i,r,a){function o(e,i){t.attr(e,n[e]),n.$observe(e,i)}function s(e){d=Xn(e),_i(i.$modelValue)||(u?(e=t.val(),d>e&&(e=d,t.val(e)),i.$setViewValue(e)):i.$validate())}function l(e){f=Xn(e),_i(i.$modelValue)||(u?(e=t.val(),f<e&&(t.val(f),e=f<d?d:f),i.$setViewValue(e)):i.$validate())}function c(e){h=Xn(e),_i(i.$modelValue)||(u&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate())}qn(e,t,n,i),Yn(i),zn(e,t,n,i,r,a);var u=i.$$hasNativeValidators&&"range"===t[0].type,d=u?0:void 0,f=u?100:void 0,h=u?1:void 0,m=t[0].validity;e=y(n.min),r=y(n.max),a=y(n.step);var p=i.$render;i.$render=u&&y(m.rangeUnderflow)&&y(m.rangeOverflow)?function(){p(),i.$setViewValue(t.val())}:p,e&&(i.$validators.min=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(d)||t>=d},o("min",s)),r&&(i.$validators.max=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(f)||t<=f},o("max",l)),a&&(i.$validators.step=u?function(){return!m.stepMismatch}:function(e,t){return i.$isEmpty(t)||b(h)||Zn(t,d||0,h)},o("step",c))},checkbox:function(e,t,n,i,r,a,o,s){var l=Jn(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Jn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return F(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:m,button:m,submit:m,reset:m,file:m},ba=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,o,s){s[0]&&(va[fi(o.type)]||va.text)(r,a,o,s[0],t,e,n,i)}}}}],ya=/^(true|false|\d+)$/,Ea=function(){function e(e,t,n){var i=y(n)?n:9===ai?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return ya.test(n.ngValue)?function(t,n,i){t=t.$eval(i.ngValue),e(n,i,t)}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},wa=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=de(e)})}}}}],_a=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){n=e(i.attr(r.$attr.ngBindTemplate)),t.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=b(e)?"":e})}}}}],xa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var a=t(r.ngBindHtml),o=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(o,function(){var n=a(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Ma=g({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ka=Qn("",!0),Ta=Qn("Odd",0),Sa=Qn("Even",1),Aa=Fn({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Ca=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],$a={},Ra={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=it("ng-"+e);$a[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,a){var o=n(a[t]);return function(t,n){n.on(e,function(n){var r=function(){o(t,{$event:n})};Ra[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Pa=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,a,o){var s,l,c;n.$watch(r.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=ce(s.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),s=null))})}}}],Na=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ei.noop,compile:function(i,r){var a=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,f,h,m=0,p=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).done(function(e){!1!==e&&(f=null)}),f=h,h=null)};i.$watch(a,function(a){var l=function(e){!1===e||!y(s)||s&&!i.$eval(s)||t()},f=++m;a?(e(a,!0).then(function(e){if(!i.$$destroyed&&f===m){var t=i.$new();c.template=e,e=u(t,function(e){p(),n.enter(e,null,r).done(l)}),d=t,h=e,d.$emit("$includeContentLoaded",a),i.$eval(o)}},function(){i.$$destroyed||f!==m||(p(),i.$emit("$includeContentError",a))}),i.$emit("$includeContentRequested",a)):(p(),c.template=null)})}}}}],Oa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,a){vi.call(i[0]).match(/SVG/)?(i.empty(),t(ye(a.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(a.template),t(i.contents())(n))}}}],Da=Fn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ia=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,s=o?ki(r):r;i.$parsers.push(function(e){if(!b(e)){var t=[];return e&&a(e.split(s),function(e){e&&t.push(o?ki(e):e)}),t}}),i.$formatters.push(function(e){if(xi(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},La="ng-valid",Fa="ng-invalid",Ha="ng-pristine",Ua="ng-dirty",Ba=i("ngModel");ei.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),ei.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return T(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){T(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Ba("nonassign",this.$$attr.ngModel,G(this.$$element))},$render:m,$isEmpty:function(e){return b(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ua),this.$$animate.addClass(this.$$element,Ha)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ha),this.$$animate.addClass(this.$$element,Ua),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!_i(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(t,e,function(e){r||n===e||(a.$modelValue=e?t:void 0,a.$modelValue!==i&&a.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function i(){var n=!0;return a(c.$validators,function(i,r){var a=Boolean(i(e,t));n=n&&a,o(r,a)}),!!n||(a(c.$asyncValidators,function(e,t){o(t,null)}),!1)}function r(){var n=[],i=!0;a(c.$asyncValidators,function(r,a){var s=r(e,t);if(!s||!T(s.then))throw Ba("nopromise",s);o(a,void 0),n.push(s.then(function(){o(a,!0)},function(){i=!1,o(a,!1)}))}),n.length?c.$$q.all(n).then(function(){s(i)},m):s(!0)}function o(e,t){l===c.$$currentValidationRunId&&c.$setValidity(e,t)}function s(e){l===c.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,c=this;(function(){var e=c.$$parserName||"parse";return b(c.$$parserValid)?(o(e,null),!0):(c.$$parserValid||(a(c.$validators,function(e,t){o(t,null)}),a(c.$asyncValidators,function(e,t){o(t,null)})),o(e,c.$$parserValid),c.$$parserValid)})()&&i()?r():s(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!b(e)||void 0)for(var n=0;n<this.$parsers.length;n++)if(e=this.$parsers[n](e),b(e)){this.$$parserValid=!1;break}_i(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,r&&(this.$modelValue=e,t.$modelValue!==i&&t.$$writeModelToScope()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){r||(t.$modelValue=n?e:void 0,t.$modelValue!==i&&t.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),a(this.$viewChangeListeners,function(e){try{e()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");x(t[e])?t=t[e]:x(t["default"])&&(t=t["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},Bn({clazz:ei,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ja,Va=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ei,priority:1,compile:function(t){return t.addClass(Ha).addClass("ng-untouched").addClass(La),{pre:function(e,t,n,i){var r=i[0];t=i[1]||r.$$parentForm,(i=i[2])&&(r.$options=i.$options),r.$$initGetterSetters(),t.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function a(){o.$setTouched()}var o=r[0];o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))})}}}}}],za=/(\s+|^)default(\s+|$)/;ni.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=u({},e),a(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=ki(n.replace(za,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],ii(e,this.$$options)),ii(e,ja.$$options),new ni(e)}},ja=new ni({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Wa=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ja,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},Ga=Fn({terminal:!0,priority:1e3}),qa=i("ngOptions"),Ya=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Xa=["$compile","$document","$parse",function(t,n,i){function o(e,t,n){function a(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function o(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Ya);if(!s)throw qa("iexp",e,G(t));var l=s[5]||s[7],c=s[6];e=/ as /.test(s[0])&&s[1];var u=s[9];t=i(s[2]?s[1]:l);var d=e&&i(e)||t,f=u&&i(u),h=u?function(e,t){return f(n,t)}:function(e){return je(e)},m=function(e,t){return h(e,E(e,t))},p=i(s[2]||s[1]),g=i(s[3]||""),v=i(s[4]||""),b=i(s[8]),y={},E=c?function(e,t){return y[c]=t,y[l]=e,y}:function(e){return y[l]=e,y};return{trackBy:u,getTrackByValue:m,getWatchables:i(b,function(e){var t=[];e=e||[];for(var i=o(e),r=i.length,a=0;a<r;a++){var l=e===i?a:i[a],c=e[l],l=E(c,l),c=h(c,l);t.push(c),(s[2]||s[1])&&(c=p(n,l),t.push(c)),s[4]&&(l=v(n,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},i=b(n)||[],r=o(i),s=r.length,l=0;l<s;l++){var c=i===r?l:r[l],f=E(i[c],c),y=d(n,f),c=h(y,f),w=p(n,f),_=g(n,f),f=v(n,f),y=new a(c,y,w,_,f);e.push(y),t[c]=y}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[m(e)]},getViewValueFromOption:function(e){return u?I(e.viewValue):e.viewValue}}}}}var s=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=m},post:function(e,i,r,c){function u(e){var t=(e=v.getOptionFromViewValue(e))&&e.element;return t&&!t.selected&&(t.selected=!0),e}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}var f=c[0],h=c[1],m=r.multiple;c=0;for(var p=i.children(),g=p.length;c<g;c++)if(""===p[c].value){f.hasEmptyOption=!0,f.emptyOption=p.eq(c);break}i.empty(),c=!!f.emptyOption,oi(s.cloneNode(!1)).val("?");var v,b=o(r.ngOptions,i,e),E=n[0].createDocumentFragment();f.generateUnknownOptionValue=function(e){return"?"},m?(f.writeValue=function(e){if(v){var t=e&&e.map(u)||[];v.items.forEach(function(e){e.element.selected&&-1===Array.prototype.indexOf.call(t,e)&&(e.element.selected=!1)})}},f.readValue=function(){var e=i.val()||[],t=[];return a(e,function(e){(e=v.selectValueMap[e])&&!e.disabled&&t.push(v.getViewValueFromOption(e))}),t},b.trackBy&&e.$watchCollection(function(){if(xi(h.$viewValue))return h.$viewValue.map(function(e){return b.getTrackByValue(e)})},function(){h.$render()})):(f.writeValue=function(e){if(v){var t=i[0].options[i[0].selectedIndex],n=v.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(f.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):f.selectUnknownOrEmptyOption(e)}},f.readValue=function(){var e=v.selectValueMap[i.val()];return e&&!e.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),v.getViewValueFromOption(e)):null},b.trackBy&&e.$watch(function(){return b.getTrackByValue(h.$viewValue)},function(){h.$render()})),c&&(t(f.emptyOption)(e),i.prepend(f.emptyOption),8===f.emptyOption[0].nodeType?(f.hasEmptyOption=!1,f.registerOption=function(e,t){""===t.val()&&(f.hasEmptyOption=!0,f.emptyOption=t,f.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",function(){var e=f.$isEmptyOptionSelected();f.hasEmptyOption=!1,f.emptyOption=void 0,e&&h.$render()}))}):f.emptyOption.removeClass("ng-scope")),e.$watchCollection(b.getWatchables,function(){var e=v&&f.readValue();if(v)for(var t=v.items.length-1;0<=t;t--){var n=v.items[t];Oe(y(n.group)?n.element.parentNode:n.element)}v=b.getOptions();var r={};v.items.forEach(function(e){var t;if(y(e.group)){t=r[e.group],t||(t=l.cloneNode(!1),E.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t);var n=s.cloneNode(!1);t.appendChild(n),d(e,n)}else t=s.cloneNode(!1),E.appendChild(t),d(e,t)}),i[0].appendChild(E),h.$render(),h.$isEmpty(e)||(t=f.readValue(),(b.trackBy||m?F(e,t):e===t)||(h.$setViewValue(t),h.$render()))})}}}}],Ka=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function c(e){s.text(e||"")}var u,d=l.count,f=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,p=o.$eval(f)||{},g={},v=t.startSymbol(),y=t.endSymbol(),E=v+d+"-"+h+y,w=Ei.noop;a(l,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+fi(n[2]),p[n]=s.attr(l.$attr[t]))}),a(p,function(e,n){g[n]=t(e.replace(i,E))}),o.$watch(d,function(t){var i=parseFloat(t),r=_i(i);r||i in p||(i=e.pluralCat(i-h)),i===u||r&&_i(u)||(w(),r=g[i],b(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),w=m,c()):w=o.$watch(r,c),u=i)})}}}],Za=["$parse","$animate","$compile",function(e,t,n){var o=i("ngRepeat"),s=function(e,t,n,i,r,a,o){e[n]=i,r&&(e[r]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var c=l.ngRepeat,u=n.$$createComment("end ngRepeat",c),d=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw o("iexp",c);var f=d[1],h=d[2],m=d[3],p=d[4],d=f.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!d)throw o("iidexp",f);var g=d[3]||d[1],v=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw o("badident",m);var b,y,E,w,_={$id:je};return p?b=e(p):(E=function(e,t){return je(t)},w=function(e){return e}),function(e,n,i,l,d){b&&(y=function(t,n,i){return v&&(_[v]=t),_[g]=n,_.$index=i,b(e,_)});var f=ue();e.$watchCollection(h,function(i){var l,h,p,b,_,x,M,k,T,S,A=n[0],C=ue();if(m&&(e[m]=i),r(i))k=i,h=y||E;else for(S in h=y||w,k=[],i)di.call(i,S)&&"$"!==S.charAt(0)&&k.push(S);for(b=k.length,S=Array(b),l=0;l<b;l++)if(_=i===k?l:k[l],x=i[_],M=h(_,x,l),f[M])T=f[M],delete f[M],C[M]=T,S[l]=T;else{if(C[M])throw a(S,function(e){e&&e.scope&&(f[e.id]=e)}),o("dupes",c,M,x);S[l]={id:M,scope:void 0,clone:void 0},C[M]=!0;
}for(p in f){if(T=f[p],M=ce(T.clone),t.leave(M),M[0].parentNode)for(l=0,h=M.length;l<h;l++)M[l].$$NG_REMOVED=!0;T.scope.$destroy()}for(l=0;l<b;l++)if(_=i===k?l:k[l],x=i[_],T=S[l],T.scope){p=A;do p=p.nextSibling;while(p&&p.$$NG_REMOVED);T.clone[0]!==p&&t.move(ce(T.clone),null,A),A=T.clone[T.clone.length-1],s(T.scope,l,g,x,v,_,b)}else d(function(e,n){T.scope=n;var i=u.cloneNode(!1);e[e.length++]=i,t.enter(e,null,A),A=i,T.clone=e,C[T.id]=T,s(T.scope,l,g,x,v,_,b)});f=C})}}}}],Ja=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Qa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],eo=Fn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),to=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var s=[],l=[],c=[],u=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){for(var i,r;c.length;)e.cancel(c.pop());for(i=0,r=u.length;i<r;++i){var f=ce(l[i].clone);u[i].$destroy(),(c[i]=e.leave(f)).done(d(c,i))}l.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&a(s,function(n){n.transclude(function(i,r){u.push(r);var a=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:i}),e.enter(i,a.parent(),a)})})})}}}],no=Fn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){e=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),a(e,function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),io=Fn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),ro=i("ngTransclude"),ao=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,a){function o(){n(e,function(e){t.append(e)})}if(!a)throw ro("orphan",G(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude=""),i=i.ngTransclude||i.ngTranscludeSlot,a(function(e,n){var i;if(i=e.length)e:{i=0;for(var r=e.length;i<r;i++){var a=e[i];if(a.nodeType!==Oi||a.nodeValue.trim()){i=!0;break e}}i=void 0}i?t.append(e):(o(),n.$destroy())},null,i),i&&!a.isSlotFilled(i)&&o()}}}}],oo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"===n.type&&e.put(n.id,t[0].text)}}}],so={$setViewValue:m,$render:m},lo=["$element","$scope",function(t,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,a.ngModelCtrl.$render()}))}function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),e&&a.ngModelCtrl.$render())}))}var a=this,o=new Qi;a.selectValueMap={},a.ngModelCtrl=so,a.multiple=!1,a.unknownOption=oi(e.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(e){e=a.generateUnknownOptionValue(e),a.unknownOption.val(e),t.prepend(a.unknownOption),ri(a.unknownOption,!0),t.val(e)},a.updateUnknownOption=function(e){e=a.generateUnknownOptionValue(e),a.unknownOption.val(e),ri(a.unknownOption,!0),t.val(e)},a.generateUnknownOptionValue=function(e){return"? "+je(e)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(t.val(""),ri(a.emptyOption,!0))},a.unselectEmptyOption=function(){a.hasEmptyOption&&ri(a.emptyOption,!1)},n.$on("$destroy",function(){a.renderUnknownOption=m}),a.readValue=function(){var e=t.val(),e=e in a.selectValueMap?a.selectValueMap[e]:e;return a.hasOption(e)?e:null},a.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];n&&ri(oi(n),!1),a.hasOption(e)?(a.removeUnknownOption(),n=je(e),t.val(n in a.selectValueMap?n:e),ri(oi(t[0].options[t[0].selectedIndex]),!0)):a.selectUnknownOrEmptyOption(e)},a.addOption=function(e,t){if(8!==t[0].nodeType){se(e,'"option value"'),""===e&&(a.hasEmptyOption=!0,a.emptyOption=t);var n=o.get(e)||0;o.set(e,n+1),i()}},a.removeOption=function(e){var t=o.get(e);t&&(1===t?(o["delete"](e),""===e&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):o.set(e,t-1))},a.hasOption=function(e){return!!o.get(e)},a.$hasEmptyOption=function(){return a.hasEmptyOption},a.$isUnknownOptionSelected=function(){return t[0].options[0]===a.unknownOption[0]},a.$isEmptyOptionSelected=function(){return a.hasEmptyOption&&t[0].options[t[0].selectedIndex]===a.emptyOption[0]},a.selectUnknownOrEmptyOption=function(e){null==e&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(e):a.renderUnknownOption(e)};var s=!1,l=!1;a.registerOption=function(e,t,n,o,s){if(n.$attr.ngValue){var l,c=NaN;n.$observe("value",function(e){var n,i=t.prop("selected");y(c)&&(a.removeOption(l),delete a.selectValueMap[c],n=!0),c=je(e),l=e,a.selectValueMap[c]=e,a.addOption(e,t),t.attr("value",c),n&&i&&r()})}else o?n.$observe("value",function(e){a.readValue();var n,i=t.prop("selected");y(l)&&(a.removeOption(l),n=!0),l=e,a.addOption(e,t),n&&i&&r()}):s?e.$watch(s,function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&a.removeOption(i),a.addOption(e,t),i&&o&&r()}):a.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(a.multiple?r(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=a.readValue(),t=n.value;a.removeOption(t),i(),(a.multiple&&e&&-1!==e.indexOf(t)||e===t)&&r(!0)})}}],co=function(){return{restrict:"E",require:["select","?ngModel"],controller:lo,priority:1,link:{pre:function(e,t,n,i){var r=i[0],o=i[1];if(o){if(r.ngModelCtrl=o,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return a(t.find("option"),function(t){t.selected&&!t.disabled&&(t=t.value,e.push(t in r.selectValueMap?r.selectValueMap[t]:t))}),e},r.writeValue=function(e){a(t.find("option"),function(t){var n=!!e&&(-1!==Array.prototype.indexOf.call(e,t.value)||-1!==Array.prototype.indexOf.call(e,r.selectValueMap[t.value]));n!==t.selected&&ri(oi(t),n)})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||F(s,o.$viewValue)||(s=he(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}else r.registerOption=m},post:function(e,t,n,i){var r=i[1];if(r){var a=i[0];r.$render=function(){a.writeValue(r.$viewValue)}}}}}},uo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return y(n.ngValue)||(y(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var a=t.parent();(a=a.data("$selectController")||a.parent().data("$selectController"))&&a.registerOption(e,t,n,i,r)}}}}],fo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},ho=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var a,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(_(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",o,e,G(t));a=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||b(a)||a.test(t)}}}}},mo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=f(e),r=_i(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},po=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=f(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(re(),pe(Ei),Ei.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var i=0|e,r=n;return void 0===r&&(r=Math.min(t(e),3)),Math.pow(10,r),1==i&&0==r?"one":"other"}})}]),oi(function(){Q(e.document,ee)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e,t,n){if(!e)throw X("areq",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(I(e)&&(e=e.join(" ")),I(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var i="";return e=I(e)?e:e&&B(e)&&e.length?e.split(/\s+/):[],D(e,function(e,r){e&&0<e.length&&(i+=0<r?" ":"",i+=n?t+e:e+t)}),i}function o(e){if(e instanceof V)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return V(s(e))}if(1===e.nodeType)return V(e)}function s(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function l(e,t,n){D(t,function(t){e.addClass(t,n)})}function c(e,t,n){D(t,function(t){e.removeClass(t,n)})}function u(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||z;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=z},e.$$prepared=!0}return e}function f(e,t){h(e,t),m(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function p(e,t,n){var i=t.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),a=(i.removeClass||"")+" "+(n.removeClass||"");return e=g(e.attr("class"),r,a),n.preparationClasses&&(i.preparationClasses=_(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==z?i.domOperation:null,O(i,n),r&&(i.domOperation=r),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function g(e,t,n){function i(e){B(e)&&(e=e.split(" "));var t={};return D(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),D(t,function(e,t){r[t]=1}),n=i(n),D(n,function(e,t){r[t]=1===r[t]?null:-1});var a={addClass:"",removeClass:""};return D(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+"-remove"]):-1===t&&(i="removeClass",r=e[n]||e[n+"-add"]),r&&(a[i].length&&(a[i]+=" "),a[i]+=n)}),a}function v(e){return e instanceof V?e[0]:e}function b(e,t,n){var i="";t&&(i=a(t,"ng-",!0)),n.addClass&&(i=_(i,a(n.addClass,"-add"))),n.removeClass&&(i=_(i,a(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,e.addClass(i))}function y(e,t){var n=t?"-"+t+"s":"";return w(e,[q,n]),[q,n]}function E(e,t){var n=t?"paused":"",i=R+"PlayState";return w(e,[i,n]),[i,n]}function w(e,t){e.style[t[0]]=t[1]}function _(e,t){return e?t?e+" "+t:e:t}function x(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return D(n,function(e,t){var n=r[e];if(n){var a=n.charAt(0);("-"===a||"+"===a||0<=a)&&(n=M(n)),0===n&&(n=null),i[t]=n}}),i}function M(e){var t=0;return e=e.split(/\s*,\s*/),D(e,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function k(e){return 0===e||null!=e}function T(e,t){var n=C,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function S(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function A(e,t,n){D(n,function(n){e[n]=L(e[n])?e[n]:t.style.getPropertyValue(n)})}var C,$,R,P;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(C="WebkitTransition",$="webkitTransitionEnd transitionend"):(C="transition",$="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(R="WebkitAnimation",P="webkitAnimationEnd animationend"):(R="animation",P="animationend");var N,O,D,I,L,F,H,U,B,j,V,z,W=R+"Delay",G=R+"Duration",q=C+"Delay",Y=C+"Duration",X=t.$$minErr("ng"),K={transitionDuration:Y,transitionDelay:q,transitionProperty:C+"Property",animationDuration:G,animationDelay:W,animationIterationCount:R+"IterationCount"},Z={transitionDuration:Y,transitionDelay:q,animationDuration:G,animationDelay:W};t.module("ngAnimate",[],function(){z=t.noop,N=t.copy,O=t.extend,V=t.element,D=t.forEach,I=t.isArray,B=t.isString,U=t.isObject,j=t.isUndefined,L=t.isDefined,H=t.isFunction,F=t.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,a){var o,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){o&&e.leave(o),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),a(s,function(t){o=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(t,n,i){function r(e){n.data("$$ngAnimateChildren","on"===e||"true"===e)}var a=i.ngAnimateChildren;B(a)&&0===a.length?n.data("$$ngAnimateChildren",!0):(r(e(a)(t)),i.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),a=0;a<t.length;a++)t[a]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(t){function i(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return D(e,function(e){t[e]=!0}),t}function r(e,t){if(e&&t){var n=i(t);return e.split(" ").some(function(e){return n[e]})}}function a(e,t,n){return c[e].some(function(e){return e(t,n)})}function l(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var c=this.rules={skip:[],cancel:[],join:[]};c.join.push(function(e,t){return!e.structural&&l(e)}),c.skip.push(function(e,t){return!e.structural&&!l(e)}),c.skip.push(function(e,t){return"leave"===t.event&&e.structural}),c.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),c.cancel.push(function(e,t){return t.structural&&e.structural}),c.cancel.push(function(e,t){return 2===t.state&&e.structural}),c.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,a=t.addClass,o=t.removeClass;return!(j(n)&&j(i)||j(a)&&j(o))&&(r(n,o)||r(i,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,c,h,m,g,y,E,w,_,x){function M(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function k(e,t,n){var i=[],r=G[n];return r&&D(r,function(r){Z.call(r.node,t)?i.push(r.callback):"leave"===n&&Z.call(r.node,e)&&i.push(r.callback)}),i}function T(e,t,n){var i=s(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function S(e,t,n){function s(e,t,n,r){_(function(){var e=k(E,m,t);e.length?i(function(){D(e,function(e){e(h,n,r)}),"close"!==n||m.parentNode||J.off(m)}):"close"!==n||m.parentNode||J.off(m)}),e.progress(t,n,r)}function c(e){var t=h,n=u;n.preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),K(h,u),f(h,u),u.domOperation(),w.complete(!e)}var u=N(n),h=o(e),m=v(h),E=m&&m.parentNode,u=d(u),w=new y,_=M();if(I(u.addClass)&&(u.addClass=u.addClass.join(" ")),u.addClass&&!B(u.addClass)&&(u.addClass=null),I(u.removeClass)&&(u.removeClass=u.removeClass.join(" ")),u.removeClass&&!B(u.removeClass)&&(u.removeClass=null),u.from&&!U(u.from)&&(u.from=null),u.to&&!U(u.to)&&(u.to=null),!(z&&m&&Y(m,t,n)&&X(m,u)))return c(),w;var T=0<=["enter","move","leave"].indexOf(t),S=x(),O=S||H.get(m);n=!O&&P.get(m)||{};var L=!!n.state;if(O||L&&1===n.state||(O=!$(m,E,t)),O)return S&&s(w,t,"start"),c(),S&&s(w,t,"close"),w;if(T&&A(m),S={structural:T,element:h,event:t,addClass:u.addClass,removeClass:u.removeClass,close:c,options:u,runner:w},L){if(a("skip",S,n))return 2===n.state?(c(),w):(p(h,n,S),n.runner);if(a("cancel",S,n))if(2===n.state)n.runner.end();else{if(!n.structural)return p(h,n,S),n.runner;n.close()}else if(a("join",S,n)){if(2!==n.state)return b(h,T?t:null,u),t=S.event=n.event,u=p(h,n,S),n.runner;p(h,S,{})}}else p(h,S,{});if((L=S.structural)||(L="animate"===S.event&&0<Object.keys(S.options.to||{}).length||l(S)),!L)return c(),C(m),w;var F=(n.counter||0)+1;return S.counter=F,R(m,1,S),r.$$postDigest(function(){h=o(e);var n=P.get(m),i=!n,n=n||{},r=0<(h.parent()||[]).length&&("animate"===n.event||n.structural||l(n));i||n.counter!==F||!r?(i&&(K(h,u),f(h,u)),(i||T&&n.event!==t)&&(u.domOperation(),w.end()),r||C(m)):(t=!n.structural&&l(n,!0)?"setClass":n.event,R(m,2),n=g(h,t,n.options),w.setHost(n),s(w,t,"start",{}),n.done(function(e){c(!e),(e=P.get(m))&&e.counter===F&&C(m),s(w,t,"close",{})}))}),w}function A(e){e=e.querySelectorAll("[data-ng-animate]"),D(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate"),10),n=P.get(e);if(n)switch(t){case 2:n.runner.end();case 1:P["delete"](e)}})}function C(e){e.removeAttribute("data-ng-animate"),P["delete"](e)}function $(e,t,n){n=h[0].body;var i,r=v(c),a=e===n||"HTML"===e.nodeName,o=e===r,s=!1,l=H.get(e);for((e=V.data(e,"$ngAnimatePin"))&&(t=v(e));t&&(o||(o=t===r),1===t.nodeType);){if(e=P.get(t)||{},!s){var u=H.get(t);if(!0===u&&!1!==l){l=!0;break}!1===u&&(l=!1),s=e.structural}if((j(i)||!0===i)&&(e=V.data(t,"$$ngAnimateChildren"),L(e)&&(i=e)),s&&!1===i)break;if(a||(a=t===n),a&&o)break;t=o||!(e=V.data(t,"$ngAnimatePin"))?t.parentNode:v(e)}return(!s||i)&&!0!==l&&o&&a}function R(e,t,n){n=n||{},n.state=t,e.setAttribute("data-ng-animate",t),n=(t=P.get(e))?O(t,n):n,P.set(e,n)}var P=new m,H=new m,z=null,W=r.$watch(function(){return 0===E.totalPendingRequests},function(e){e&&(W(),r.$$postDigest(function(){r.$$postDigest(function(){null===z&&(z=!0)})}))}),G=Object.create(null);m=t.customFilter();var q=t.classNameFilter();_=function(){return!0};var Y=m||_,X=q?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return q.test(n)}:_,K=u(w),Z=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},J={on:function(e,t,n){var i=s(t);G[e]=G[e]||[],G[e].push({node:i,callback:n}),V(t).on("$destroy",function(){P.get(i)||J.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||B(arguments[0])){var i=G[e];i&&(G[e]=1===arguments.length?null:T(i,t,n))}else for(i in t=arguments[0],G)G[i]=T(G[i],t)},pin:function(e,t){n(F(e),"element","not an element"),n(F(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,S(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!z;else if(F(e)){var i=v(e);1===n?t=!H.get(i):H.set(i,!t)}else t=z=!!e;return t}};return J}]}]).provider("$$animation",["$animateProvider",function(e){var t=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,n,r,a,o,s){function l(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,a=n.parentNode;r.set(n,e);for(var o;a;){if(o=r.get(a)){o.processed||(o=t(o));break}a=a.parentNode}return(o||i).children.push(e),e}var n,i={children:[]},r=new o;for(n=0;n<e.length;n++){var a=e[n];r.set(a.domNode,e[n]={domNode:a.domNode,fn:a.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var r=0,a=[];for(t=0;t<i.length;t++){var o=i[t];0>=e&&(e=r,r=0,n.push(a),a=[]),a.push(o.fn),o.children.forEach(function(e){r++,i.push(e)}),e--}return a.length&&n.push(a),n}(i)}var c=[],h=u(e);return function(o,u,m){function p(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return D(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}function g(e){var t=[],n={};D(e,function(e,i){var r=v(e.element),a=0<=["enter","move"].indexOf(e.event),r=e.structural?p(r):[];if(r.length){var o=a?"to":"from";D(r,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][o]={animationID:i,element:V(e)}})}else t.push(e)});var i={},r={};return D(n,function(n,a){var o=n.from,s=n.to;if(o&&s){var l=e[o.animationID],c=e[s.animationID],u=o.animationID.toString();if(!r[u]){var d=r[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:b(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(c))}r[u].anchors.push({out:o.element,"in":s.element})}else o=o?o.animationID:s.animationID,s=o.toString(),i[s]||(i[s]=!0,t.push(e[o]))}),t}function b(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var a=0;a<t.length;a++)if(r===t[a]){n.push(r);break}}return n.join(" ")}function y(e){for(var n=t.length-1;0<=n;n--){var i=r.get(t[n])(e);if(i)return i}}function E(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function w(){var e=o.data("$$animationRunner");!e||"leave"===u&&m.$$domOperationFired||e.end()}function _(t){o.off("$destroy",w),o.removeData("$$animationRunner"),h(o,m),f(o,m),m.domOperation(),T&&e.removeClass(o,T),o.removeClass("ng-animate"),M.complete(!t)}m=d(m);var x=0<=["enter","move","leave"].indexOf(u),M=new a({end:function(){_()},cancel:function(){_(!0)}});if(!t.length)return _(),M;o.data("$$animationRunner",M);var k=i(o.attr("class"),i(m.addClass,m.removeClass)),T=m.tempClasses;T&&(k+=" "+T,m.tempClasses=null);var S;return x&&(S="ng-"+u+"-prepare",e.addClass(o,S)),c.push({element:o,classes:k,event:u,structural:x,options:m,beforeStart:function(){o.addClass("ng-animate"),T&&e.addClass(o,T),S&&(e.removeClass(o,S),S=null)},close:_}),o.on("$destroy",w),1<c.length?M:(n.$$postDigest(function(){var e=[];D(c,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),c.length=0;var t=g(e),n=[];D(t,function(e){n.push({domNode:v(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if((e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var i=y(e);i&&(t=i.start)}t?(t=t(),t.done(function(e){n(!e)}),E(e,t)):n()}})}),s(l(n))}),M)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=S(),n=S();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,o,s,l,c,p,g){function b(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++L))+"-"+e.getAttribute("class")+"-"+t}function _(r,o,s,l){var c;return 0<t.count(s)&&(c=n.get(s),c||(o=a(o,"-stagger"),i.addClass(r,o),c=x(e,r,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,o),n.put(s,c))),c||{}}function M(e){F.push(e),p.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),i=0;i<F.length;i++)F[i](e);F.length=0})}function S(n,i,r){return i=t.get(r),i||(i=x(e,n,K),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),t.put(r,i),n=i,r=n.animationDelay,i=n.transitionDelay,n.maxDelay=r&&i?Math.max(r,i):r||i,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var O=u(i),L=0,F=[];return function(e,n){function l(){p()}function u(){p(!0)}function p(t){if(!(V||X&&Y)){V=!0,Y=!1,U.$$skipPreparationClasses||i.removeClass(e,de),i.removeClass(e,he),E(j,!1),y(j,!1),D(re,function(e){j.style[e[0]]=""}),O(e,U),f(e,U),Object.keys(B).length&&D(B,function(e,t){e?j.style.setProperty(t,e):j.style.removeProperty(t)}),U.onDone&&U.onDone(),se&&se.length&&e.off(se.join(" "),F);var n=e.data("$$animateCss");n&&(s.cancel(n[0].timer),e.removeData("$$animateCss")),K&&K.complete(!t)}}function x(e){ye.blockTransition&&y(j,e),ye.blockKeyframeAnimation&&E(j,!!e)}function L(){return K=new o({end:l,cancel:u}),M(z),p(),{$$willAnimate:!1,start:function(){return K},end:l}}function F(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ie,0)>=ee&&t>=te&&(X=!0,p())}function H(){function t(){if(!V){if(x(!1),D(re,function(e){j.style[e[0]]=e[1]}),O(e,U),i.addClass(e,he),ye.recalculateTimingStyles){if(fe=j.getAttribute("class")+" "+de,me=b(j,fe),ve=S(j,fe,me),be=ve.maxDelay,Q=Math.max(be,0),te=ve.maxDuration,0===te)return void p();ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration}if(ye.applyAnimationDelay&&(be="boolean"!=typeof U.delay&&k(U.delay)?parseFloat(U.delay):be,Q=Math.max(be,0),ve.animationDelay=be,Ee=[W,be+"s"],re.push(Ee),j.style[Ee[0]]=Ee[1]),ee=1e3*Q,ne=1e3*te,U.easing){var t,r=U.easing;ye.hasTransitions&&(t=C+"TimingFunction",re.push([t,r]),j.style[t]=r),ye.hasAnimations&&(t=R+"TimingFunction",re.push([t,r]),j.style[t]=r)}ve.transitionDuration&&se.push($),ve.animationDuration&&se.push(P),ie=Date.now();var a=ee+1.5*ne;t=ie+a;var r=e.data("$$animateCss")||[],o=!0;if(r.length){var l=r[0];(o=t>l.expectedEndTime)?s.cancel(l.timer):r.push(p)}o&&(a=s(n,a,!1),r[0]={timer:a,expectedEndTime:t},r.push(p),e.data("$$animateCss",r)),se.length&&e.on(se.join(" "),F),U.to&&(U.cleanupStyles&&A(B,j,Object.keys(U.to)),m(e,U))}}function n(){var t=e.data("$$animateCss");if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData("$$animateCss")}}if(!V)if(j.parentNode){var r=function(e){if(X)Y&&e&&(Y=!1,p());else if(Y=!e,ve.animationDuration)if(e=E(j,Y),Y)re.push(e);else{var t=re,n=t.indexOf(e);0<=e&&t.splice(n,1)}},a=0<ge&&(ve.transitionDuration&&0===pe.transitionDuration||ve.animationDuration&&0===pe.animationDuration)&&Math.max(pe.animationDelay,pe.transitionDelay);a?s(t,Math.floor(a*ge*1e3),!1):t(),J.resume=function(){r(!0)},J.pause=function(){r(!1)}}else p()}var U=n||{};U.$$prepared||(U=d(N(U)));var B={},j=v(e);if(!j||!j.parentNode||!g.enabled())return L();var V,Y,X,K,J,Q,ee,te,ne,ie,re=[],ae=e.attr("class"),oe=r(U),se=[];if(0===U.duration||!c.animations&&!c.transitions)return L();var le=U.event&&I(U.event)?U.event.join(" "):U.event,ce="",ue="";le&&U.structural?ce=a(le,"ng-",!0):le&&(ce=le),U.addClass&&(ue+=a(U.addClass,"-add")),U.removeClass&&(ue.length&&(ue+=" "),ue+=a(U.removeClass,"-remove")),U.applyClassesEarly&&ue.length&&O(e,U);var de=[ce,ue].join(" ").trim(),fe=ae+" "+de,he=a(de,"-active"),ae=oe.to&&0<Object.keys(oe.to).length;if(!(0<(U.keyframeStyle||"").length||ae||de))return L();var me,pe;0<U.stagger?(oe=parseFloat(U.stagger),pe={transitionDelay:oe,animationDelay:oe,transitionDuration:0,animationDuration:0}):(me=b(j,fe),pe=_(j,de,me,Z)),U.$$skipPreparationClasses||i.addClass(e,de),U.transitionStyle&&(oe=[C,U.transitionStyle],w(j,oe),re.push(oe)),0<=U.duration&&(oe=0<j.style[C].length,oe=T(U.duration,oe),w(j,oe),re.push(oe)),U.keyframeStyle&&(oe=[R,U.keyframeStyle],w(j,oe),re.push(oe));var ge=pe?0<=U.staggerIndex?U.staggerIndex:t.count(me):0;(le=0===ge)&&!U.skipBlocking&&y(j,9999);var ve=S(j,fe,me),be=ve.maxDelay;Q=Math.max(be,0),te=ve.maxDuration;var ye={};if(ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration,ye.hasTransitionAll=ye.hasTransitions&&"all"===ve.transitionProperty,ye.applyTransitionDuration=ae&&(ye.hasTransitions&&!ye.hasTransitionAll||ye.hasAnimations&&!ye.hasTransitions),ye.applyAnimationDuration=U.duration&&ye.hasAnimations,ye.applyTransitionDelay=k(U.delay)&&(ye.applyTransitionDuration||ye.hasTransitions),ye.applyAnimationDelay=k(U.delay)&&ye.hasAnimations,ye.recalculateTimingStyles=0<ue.length,(ye.applyTransitionDuration||ye.applyAnimationDuration)&&(te=U.duration?parseFloat(U.duration):te,ye.applyTransitionDuration&&(ye.hasTransitions=!0,ve.transitionDuration=te,oe=0<j.style[C+"Property"].length,re.push(T(te,oe))),ye.applyAnimationDuration&&(ye.hasAnimations=!0,ve.animationDuration=te,re.push([G,te+"s"]))),0===te&&!ye.recalculateTimingStyles)return L();if(null!=U.delay){var Ee;"boolean"!=typeof U.delay&&(Ee=parseFloat(U.delay),Q=Math.max(Ee,0)),ye.applyTransitionDelay&&re.push([q,Ee+"s"]),ye.applyAnimationDelay&&re.push([W,Ee+"s"])}return null==U.duration&&0<ve.transitionDuration&&(ye.recalculateTimingStyles=ye.recalculateTimingStyles||le),ee=1e3*Q,ne=1e3*te,U.skipBlocking||(ye.blockTransition=0<ve.transitionDuration,ye.blockKeyframeAnimation=0<ve.animationDuration&&0<pe.animationDelay&&0===pe.animationDuration),U.from&&(U.cleanupStyles&&A(B,j,Object.keys(U.from)),h(e,U)),ye.blockTransition||ye.blockKeyframeAnimation?x(te):U.skipBlocking||y(j,!1),{$$willAnimate:!0,end:l,start:function(){if(!V)return J={end:l,cancel:u,resume:null,pause:null},K=new o(J),M(H),K}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,i,r,a,o){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return B(e)&&(e=e.split(" ")),B(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function c(t,i,r){function a(e){var t={},n=v(e).getBoundingClientRect();return D(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=f.scrollTop;break;case"left":i+=f.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function o(){var t=s(r.attr("class")||""),n=l(t,d),t=l(d,t),n=e(u,{to:a(r),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+t,delay:!0});return n.$$willAnimate?n:null}function c(){u.remove(),i.removeClass("ng-animate-shim"),r.removeClass("ng-animate-shim")}var u=V(v(i).cloneNode(!0)),d=s(u.attr("class")||"");i.addClass("ng-animate-shim"),r.addClass("ng-animate-shim"),u.addClass("ng-anchor"),h.append(u);var m;if(t=function(){var t=e(u,{addClass:"ng-anchor-out",delay:!0,from:a(i)});return t.$$willAnimate?t:null}(),!t&&(m=o(),!m))return c();var p=t||m;return{start:function(){function e(){i&&i.end()}var t,i=p.start();return i.done(function(){return i=null,!m&&(m=o())?(i=m.start(),i.done(function(){i=null,c(),t.complete()}),i):(c(),void t.complete())}),t=new n({end:e,cancel:e})}}}function u(e,t,i,r){var a=d(e,z),o=d(t,z),s=[];if(D(r,function(e){(e=c(i,e.out,e["in"]))&&s.push(e)}),a||o||0!==s.length)return{start:function(){function e(){D(t,function(e){
e.end()})}var t=[];a&&t.push(a.start()),o&&t.push(o.start()),D(s,function(e){t.push(e.start())});var i=new n({end:e,cancel:e});return n.all(t,function(e){i.complete(e)}),i}}}function d(t){var n=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=_(i.event,i.preparationClasses)),t=e(n,i),t.$$willAnimate?t:null}if(!r.animations&&!r.transitions)return z;var f=o[0].body;t=v(i);var h=V(t.parentNode&&11===t.parentNode.nodeType||f.contains(t)?t:f);return function(e){return e.from&&e.to?u(e.from,e.to,e.classes,e.anchors):d(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=I(n)?n:n.split(" ");for(var i=[],r={},a=0;a<n.length;a++){var o=n[a],s=e.$$registeredAnimations[o];s&&!r[o]&&(i.push(t.get(s)),r[o]=!0)}return i}var a=u(i);return function(e,t,i,o){function s(){o.domOperation(),a(e,o)}function l(e,t,i,r,a){switch(i){case"animate":t=[t,r.from,r.to,a];break;case"setClass":t=[t,g,v,a];break;case"addClass":t=[t,g,a];break;case"removeClass":t=[t,v,a];break;default:t=[t,a]}if(t.push(r),e=e.apply(e,t))if(H(e.start)&&(e=e.start()),e instanceof n)e.done(a);else if(H(e))return e;return z}function c(e,t,i,r,a){var o=[];return D(r,function(r){var s=r[a];s&&o.push(function(){var r,a,o=!1,c=function(e){o||(o=!0,(a||z)(e),r.complete(!e))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),a=l(s,e,t,i,function(e){c(!1===e)}),r})}),o}function u(e,t,i,r,a){var o=c(e,t,i,r,a);if(0===o.length){var s,l;"beforeSetClass"===a?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===a&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(o=o.concat(s)),l&&(o=o.concat(l))}if(0!==o.length)return function(e){var t=[];return o.length&&D(o,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){D(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&U(i)&&(o=i,i=null),o=d(o),i||(i=e.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var m,p,g=o.addClass,v=o.removeClass,b=r(i);if(b.length){var y,E;"leave"===t?(E="leave",y="afterLeave"):(E="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(m=u(e,t,o,b,E)),p=u(e,t,o,b,y)}if(m||p){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(h=!0,s(),f(e,o),w=new n,w.complete(!0)),w},start:function(){function t(t){h=!0,s(),f(e,o),w.complete(t)}if(w)return w;w=new n;var i,r=[];return m&&r.push(function(e){i=m(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),p&&r.push(function(e){i=p(e)}),w.setHost({end:function(){h||((i||z)(void 0),t(void 0))},cancel:function(){h||((i||z)(!0),t(!0))}}),n.chain(r,t),w}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),r=n(e.to);return i||r?{start:function(){function e(){return function(){D(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),t.all(n,function(e){a.complete(e)});var a=new t({end:e(),cancel:e()});return a}}:void 0}}]}])}(window,window.angular),function(e,t){"use strict";var n="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),i=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};t.module("ngAria",["ng"]).info({angularVersion:"1.6.6"}).provider("$aria",function(){function e(e,t,r,a){return function(o,s,l){var c=l.$normalize(t);!n[c]||i(s,r)||l[c]||o.$watch(l[e],function(e){e=a?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}).directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",n,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",n,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",n,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",n,!1)}]).directive("ngModel",["$aria",function(e){function t(t,r,a,o){return e.config(r)&&!a.attr(t)&&(o||!i(a,n))}function r(e,t){return!t.attr("role")&&t.attr("type")===e&&!i(t,n)}function a(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(n,i){var o=a(i,n);return{post:function(n,i,a,s){function l(){return s.$modelValue}function c(e){i.attr("aria-checked",a.value==s.$viewValue)}function u(){i.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=t("tabindex","tabindex",i,!1);switch(o){case"radio":case"checkbox":r(o,i)&&i.attr("role",o),t("aria-checked","ariaChecked",i,!1)&&n.$watch(l,"radio"===o?c:u),d&&i.attr("tabindex",0);break;case"range":if(r(o,i)&&i.attr("role","slider"),e.config("ariaValue")){var f=!i.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),h=!i.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),m=!i.attr("aria-valuenow");f&&a.$observe("min",function(e){i.attr("aria-valuemin",e)}),h&&a.$observe("max",function(e){i.attr("aria-valuemax",e)}),m&&n.$watch(l,function(e){i.attr("aria-valuenow",e)})}d&&i.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&t("aria-required","ariaRequired",i,!1)&&a.$observe("required",function(){i.attr("aria-required",!!a.required)}),t("aria-invalid","ariaInvalid",i,!0)&&n.$watch(function(){return s.$invalid},function(e){i.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",n,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(r,a){var o=t(a.ngClick);return function(t,r,a){i(r,n)||(e.config("bindRoleForClick")&&!r.attr("role")&&r.attr("role","button"),e.config("tabindex")&&!r.attr("tabindex")&&r.attr("tabindex",0),!e.config("bindKeydown")||a.ngKeydown||a.ngKeypress||a.ngKeyup)||r.on("keydown",function(e){function n(){o(t,{$event:e})}var i=e.which||e.keyCode;32!==i&&13!==i||t.$apply(n)})}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,r,a){!e.config("tabindex")||r.attr("tabindex")||i(r,n)||r.attr("tabindex",0)}}])}(window,window.angular),angular.module("angular-spinkit",["ngRotatingPlaneSpinner","ngDoubleBounceSpinner","ngWaveSpinner","ngWanderingCubesSpinner","ngPulseSpinner","ngChasingDotsSpinner","ngCircleSpinner","ngThreeBounceSpinner","ngCubeGridSpinner","ngWordPressSpinner","ngFadingCircleSpinner","ngSpinkitImagePreloader"]),angular.module("ngRotatingPlaneSpinner",[]).directive("rotatingPlaneSpinner",function(){return{restrict:"E",templateUrl:"src/templates/rotatingPlaneSpinner.html"}}),angular.module("ngDoubleBounceSpinner",[]).directive("doubleBounceSpinner",function(){return{restrict:"E",templateUrl:"src/templates/doubleBounceSpinner.html"}}),angular.module("ngWaveSpinner",[]).directive("waveSpinner",function(){return{restrict:"E",templateUrl:"src/templates/waveSpinner.html"}}),angular.module("ngWanderingCubesSpinner",[]).directive("wanderingCubesSpinner",function(){return{restrict:"E",templateUrl:"src/templates/wanderingCubesSpinner.html"}}),angular.module("ngPulseSpinner",[]).directive("pulseSpinner",function(){return{restrict:"E",templateUrl:"src/templates/pulseSpinner.html"}}),angular.module("ngChasingDotsSpinner",[]).directive("chasingDotsSpinner",function(){return{restrict:"E",templateUrl:"src/templates/chasingDotsSpinner.html"}}),angular.module("ngCircleSpinner",[]).directive("circleSpinner",function(){return{restrict:"E",templateUrl:"src/templates/circleSpinner.html"}}),angular.module("ngThreeBounceSpinner",[]).directive("threeBounceSpinner",function(){return{restrict:"E",templateUrl:"src/templates/threeBounceSpinner.html"}}),angular.module("ngCubeGridSpinner",[]).directive("cubeGridSpinner",function(){return{restrict:"E",templateUrl:"src/templates/cubeGridSpinner.html"}}),angular.module("ngWordPressSpinner",[]).directive("wordPressSpinner",function(){return{restrict:"E",templateUrl:"src/templates/wordPressSpinner.html"}}),angular.module("ngFadingCircleSpinner",[]).directive("fadingCircleSpinner",function(){return{restrict:"E",templateUrl:"src/templates/fadingCircleSpinner.html"}}),angular.module("ngSpinkitImagePreloader",[]).directive("spinkitImagePreloader",["$compile","$injector","$rootScope",function(e,t,n){return{restrict:"A",scope:{ngSrc:"@",spinkitImagePreloader:"@",spinkitImagePreloaderClass:"@"},link:function(i,r,a){var o,s,l=i.spinkitImagePreloaderClass||"spinner-wrapper";t.has(a.$normalize(i.spinkitImagePreloader)+"Directive")&&(o=angular.element("<div/>").addClass(l),s=e("<"+i.spinkitImagePreloader+"/>")(i),o.append(s),o.css("overflow","hidden"),r.after(o),r.css("width")&&o.css("width",r.css("width")),a.width&&o.css("width",a.width+"px"),r.css("height")&&o.css("height",r.css("height")),a.height&&o.css("height",a.height+"px"),r.on("load",function(){o.css("display","none"),r.css("display","block"),n.$broadcast("angular-spinkit:imageLoaded")}),i.$watch("ngSrc",function(){o.css("display","block"),r.css("display","none")}))}}}]),angular.module("angular-spinkit").run(["$templateCache",function(e){e.put("src/templates/chasingDotsSpinner.html",'<div class="chasing-dots-spinner">\n  <div class="dot1"></div>\n  <div class="dot2"></div>\n</div>\n'),e.put("src/templates/circleSpinner.html",'<div class="spinning-dots-spinner">\n  <div class="spinner-container container1">\n    <div class="circle1"></div>\n    <div class="circle2"></div>\n    <div class="circle3"></div>\n    <div class="circle4"></div>\n  </div>\n  <div class="spinner-container container2">\n    <div class="circle1"></div>\n    <div class="circle2"></div>\n    <div class="circle3"></div>\n    <div class="circle4"></div>\n  </div>\n  <div class="spinner-container container3">\n    <div class="circle1"></div>\n    <div class="circle2"></div>\n    <div class="circle3"></div>\n    <div class="circle4"></div>\n  </div>\n</div>\n'),e.put("src/templates/cubeGridSpinner.html",'<div class="cube-grid-spinner">\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n  <div class="cube"></div>\n</div>'),e.put("src/templates/doubleBounceSpinner.html",'<div class="double-bounce-spinner">\n  <div class="double-bounce1"></div>\n  <div class="double-bounce2"></div>\n</div>\n'),e.put("src/templates/fadingCircleSpinner.html",'<div class="fading-circle-spinner">\n  <div class="fading-circle1 fading-circle"></div>\n  <div class="fading-circle2 fading-circle"></div>\n  <div class="fading-circle3 fading-circle"></div>\n  <div class="fading-circle4 fading-circle"></div>\n  <div class="fading-circle5 fading-circle"></div>\n  <div class="fading-circle6 fading-circle"></div>\n  <div class="fading-circle7 fading-circle"></div>\n  <div class="fading-circle8 fading-circle"></div>\n  <div class="fading-circle9 fading-circle"></div>\n  <div class="fading-circle10 fading-circle"></div>\n  <div class="fading-circle11 fading-circle"></div>\n  <div class="fading-circle12 fading-circle"></div>\n</div>'),e.put("src/templates/pulseSpinner.html",'<div class="pulse-spinner"></div>\n'),e.put("src/templates/rotatingPlaneSpinner.html",'<div class="three-dots-row-spinner"></div>\n'),e.put("src/templates/threeBounceSpinner.html",'<div class="three-bounce-spinner">\n  <div class="bounce1"></div>\n  <div class="bounce2"></div>\n  <div class="bounce3"></div>\n</div>'),e.put("src/templates/wanderingCubesSpinner.html",'<div class="wandering-cubes-spinner"></div>\n'),e.put("src/templates/waveSpinner.html",'<div class="wave-spinner">\n  <div class="rect1"></div>\n  <div class="rect2"></div>\n  <div class="rect3"></div>\n  <div class="rect4"></div>\n  <div class="rect5"></div>\n</div>\n'),e.put("src/templates/wordPressSpinner.html",'<div class="word-press-spinner">\n  <span class="inner-circle"></span>\n</div>')}]),function(e,t){"use strict";function n(){return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,n,i,a,o){var s,l=n[0],c=i.ngMessage||i.when;i=i.ngMessageExp||i.whenExp;var u=function(e){s=e?r(e)?e:e.split(/[\s,]+/):null,a.reRender()};i?(u(t.$eval(i)),t.$watchCollection(i,u)):u(c);var d,f;a.register(l,f={test:function(e){var t=s;return e=t?r(t)?0<=t.indexOf(e):t.hasOwnProperty(e):void 0},attach:function(){d||o(function(t,i){e.enter(t,null,n),d=t;var r=d.$$attachId=a.getAttachId();d.on("$destroy",function(){d&&d.$$attachId===r&&(a.deregister(l),f.detach()),i.$destroy()})})},detach:function(){if(d){var t=d;d=null,e.leave(t)}}})}}}]}var i,r,a,o;t.module("ngMessages",[],function(){i=t.forEach,r=t.isArray,a=t.isString,o=t.element}).info({angularVersion:"1.6.6"}).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||n(e.$eval(t))}function n(e){return a(e)?e.length:!!e}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,a,o){function s(e,t){for(var n=t,i=[];n&&n!==e;){var r=n.$$ngMessageNode;if(r&&r.length)return h[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}var l=this,c=0,u=0;this.getAttachId=function(){return u++};var d,f,h=this.messages={};this.render=function(s){s=s||{},d=!1,f=s;for(var c=t(a,o.ngMessagesMultiple)||t(a,o.multiple),u=[],h={},m=l.head,p=!1,g=0;null!=m;){g++;var v=m.message,b=!1;p||i(s,function(e,t){!b&&n(e)&&v.test(t)&&!h[t]&&(b=h[t]=!0,v.attach())}),b?p=!c:u.push(v),m=m.next}i(u,function(e){e.detach()}),u.length!==g?e.setClass(r,"ng-active","ng-inactive"):e.setClass(r,"ng-inactive","ng-active")},a.$watchCollection(o.ngMessages||o["for"],l.render),r.on("$destroy",function(){i(h,function(e){e.message.detach()})}),this.reRender=function(){d||(d=!0,a.$evalAsync(function(){d&&f&&l.render(f)}))},this.register=function(e,t){var n=c.toString();h[n]={message:t};var i=r[0],a=h[n];l.head?(i=s(i,e))?(a.next=i.next,i.next=a):(a.next=l.head,l.head=a):l.head=a,e.$$ngMessageNode=n,c++,l.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode;var n=h[t];(e=s(r[0],e))?e.next=n.next:l.head=n.next,delete h[t],l.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function i(e,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):t[0].createComment(" ngMessagesInclude: "+i+" "),r=o(r);e.after(r),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,r,o){var s=o.ngMessagesInclude||o.src;e(s).then(function(e){t.$$destroyed||(a(e)&&!e.trim()?i(r,s):n(e)(t,function(e){r.after(e),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.chips","material.components.checkbox","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.icon","material.components.gridList","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",i]),e.decorator("$q",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(e){return e.throttle=function(t){var n,i,r,a;return function(){n=arguments,a=this,r=t,i||(i=!0,e(function(){r.apply(a,Array.prototype.slice.call(n)),i=!1}))}},e}function r(e){return e.resolve||(e.resolve=e.when),e}e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],i.$inject=["$delegate"],r.$inject=["$delegate"],t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(e)}(),function(){function e(e){function n(n,i,r){function a(e){t.isUndefined(e)&&(e=!0),i.toggleClass("md-autofocus",!!e)}var o=r.mdAutoFocus||r.mdAutofocus||r.mdSidenavFocus;a(e(o)(n)),o&&n.$watch(o,a)}return{restrict:"A",link:{pre:n}}}e.$inject=["$parse"],t.module("material.core").directive("mdAutofocus",e).directive("mdAutoFocus",e).directive("mdSidenavFocus",e)}(),function(){function e(){function e(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),a=t.substr(2*n);return 1===n&&(i+=i,r+=r,a+=a),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(a,16)+",0.1)"}function t(e){e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);var t=e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"";return t.toUpperCase()}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}function i(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:t,hexToRgba:e,rgbToRgba:n,rgbaToRgb:i}}t.module("material.core").factory("$mdColorUtil",e)}(),function(){function e(){function e(e){var t=o+"-"+e,r=i(t),s=r.charAt(0).toLowerCase()+r.substring(1);return n(a,e)?e:n(a,r)?r:n(a,s)?s:e}function n(e,n){return t.isDefined(e.style[n])}function i(e){return e.replace(l,function(e,t,n,i){return i?n.toUpperCase():n})}function r(e){var t,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=i.exec(t))return n[0]}var a=document.createElement("div"),o=r(a),s=/webkit/i.test(o),l=/([:\-_]+(.))/g,c={isInputKey:function(e){return e.keyCode>=31&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&e.keyCode>=97&&e.keyCode<=105},isMetaKey:function(e){return e.keyCode>=91&&e.keyCode<=93},isFnLockKey:function(e){return e.keyCode>=112&&e.keyCode<=145},isNavigationKey:function(e){var t=c.KEY_CODE,n=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW];return n.indexOf(e.keyCode)!=-1},hasModifierKey:function(e){return e.ctrlKey||e.metaKey||e.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(s?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(s?" webkitAnimationEnd":""),TRANSFORM:e("transform"),TRANSFORM_ORIGIN:e("transformOrigin"),TRANSITION:e("transition"),TRANSITION_DURATION:e("transitionDuration"),ANIMATION_PLAY_STATE:e("animationPlayState"),ANIMATION_DURATION:e("animationDuration"),ANIMATION_NAME:e("animationName"),ANIMATION_TIMING:e("animationTimingFunction"),ANIMATION_DIRECTION:e("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return c}t.module("material.core").factory("$mdConstant",e)}(),function(){function e(e,n){function i(){return[].concat(b)}function r(){return b.length}function a(e){return b.length&&e>-1&&e<b.length}function o(e){return!!e&&a(f(e)+1)}function s(e){return!!e&&a(f(e)-1)}function l(e){return a(e)?b[e]:null}function c(e,t){return b.filter(function(n){return n[e]===t})}function u(e,n){return e?(t.isNumber(n)||(n=b.length),b.splice(n,0,e),f(e)):-1}function d(e){h(e)&&b.splice(f(e),1)}function f(e){return b.indexOf(e)}function h(e){return e&&f(e)>-1}function m(){return b.length?b[0]:null}function p(){return b.length?b[b.length-1]:null}function g(e,i,r,o){r=r||v;for(var s=f(i);;){if(!a(s))return null;var l=s+(e?-1:1),c=null;if(a(l)?c=b[l]:n&&(c=e?p():m(),l=f(c)),null===c||l===o)return null;if(r(c))return c;t.isUndefined(o)&&(o=l),s=l}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var b=e||[];return{items:i,count:r,inRange:a,contains:h,indexOf:f,itemAt:l,findBy:c,add:u,remove:d,first:m,last:p,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:o}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,i){function r(e){var n=f[e];t.isUndefined(n)&&(n=f[e]=a(e));var i=m[n];return t.isUndefined(i)&&(i=o(n)),i}function a(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function o(e){var t=h[e];return t||(t=h[e]=i.matchMedia(e)),t.addListener(s),m[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){m[e.media]=!!e.matches})}function l(e){return h[e]}function c(t,n){for(var i=0;i<e.MEDIA_PRIORITY.length;i++){var r=e.MEDIA_PRIORITY[i];if(h[f[r]].matches){var a=d(t,n+"-"+r);if(t[a])return t[a]}}return t[d(t,n)]}function u(n,i,r){var a=[];return n.forEach(function(n){var o=d(i,n);t.isDefined(i[o])&&a.push(i.$observe(o,t.bind(void 0,r,null)));for(var s in e.MEDIA)o=d(i,n+"-"+s),t.isDefined(i[o])&&a.push(i.$observe(o,t.bind(void 0,r,s)))}),function(){a.forEach(function(e){e()})}}function d(e,t){return p[t]||(p[t]=e.$normalize(t))}var f={},h={},m={},p={};return r.getResponsiveAttribute=c,r.getQuery=l,r.watchResponsiveAttributes=u,r}e.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").factory("$mdMedia",e)}(),function(){function e(e,n){function i(e){return e=t.isArray(e)?e:[e],e.forEach(function(t){l.forEach(function(n){e.push(n+"-"+t)})}),e}function r(e){return e=t.isArray(e)?e:[e],i(e).map(function(e){return"["+e+"]"}).join(",")}function a(e,t){if(e=s(e),!e)return!1;for(var n=i(t),r=0;r<n.length;r++)if(e.hasAttribute(n[r]))return!0;return!1}function o(e,t){e=s(e),e&&i(t).forEach(function(t){e.removeAttribute(t)})}function s(e){if(e=e[0]||e,e.nodeType)return e}var l=["data","x"];return e?n?r(e):i(e):{buildList:i,buildSelector:r,hasAttribute:a,removeAttribute:o}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.prefixer=e,t}])}])}(),function(){function i(i,a,o,s,l,c,u,d,f,h){function m(e){return e?p(e)||g(e)?e:e+"px":"0"}function p(e){return String(e).indexOf("px")>-1}function g(e){return String(e).indexOf("%")>-1}function v(e){return e[0]||e}var b=c.startSymbol(),y=c.endSymbol(),E="{{"===b&&"}}"===y,w=function(e,n,i){var r=!1;if(e&&e.length){var a=f.getComputedStyle(e[0]);r=t.isDefined(a[n])&&(!i||a[n]==i)}return r},_={dom:{},now:e.performance&&e.performance.now?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,n,r,a){var o=!("rtl"==i[0].dir||"rtl"==i[0].body.dir);if(0==arguments.length)return o?"ltr":"rtl";var s=t.element(e);o&&t.isDefined(r)?s.css(n,m(r)):!o&&t.isDefined(a)&&s.css(n,m(a))},bidiProperty:function(e,n,r,a){var o=!("rtl"==i[0].dir||"rtl"==i[0].body.dir),s=t.element(e);o&&t.isDefined(n)?(s.css(n,m(a)),s.css(r,"")):!o&&t.isDefined(r)&&(s.css(r,m(a)),s.css(n,""))},clientRect:function(e,t,n){var i=v(e);t=v(t||i.offsetParent||document.body);var r=i.getBoundingClientRect(),a=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-a.left,top:r.top-a.top,width:r.width,height:r.height}},offsetRect:function(e,t){return _.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return e.scrollY||e.pageYOffset||0},findFocusTarget:function(e,n){function i(e,n){var i,r=e[0].querySelectorAll(n);return r&&r.length&&r.length&&t.forEach(r,function(e){e=t.element(e);var n=e.hasClass("md-autofocus");n&&(i=e)}),i}var r,a=this.prefixer("md-autofocus",!0);return r=i(e,n||a),r||n==a||(r=i(e,this.prefixer("md-auto-focus",!0)),r||(r=i(e,a))),r},disableScrollAround:function(e,n,r){function a(e){function n(e){e.preventDefault()}e=t.element(e||s);var i;return r.disableScrollMask?i=e:(i=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(i)),i.on("wheel",n),i.on("touchmove",n),function(){i.off("wheel"),i.off("touchmove"),!r.disableScrollMask&&i[0].parentNode&&i[0].parentNode.removeChild(i[0])}}function o(){var e=i[0].documentElement,n=e.style.cssText||"",r=s.style.cssText||"",a=_.getViewportTop(),o=s.clientWidth,l=s.scrollHeight>s.clientHeight+1,c=e.scrollTop>0?e:s;return l&&t.element(s).css({position:"fixed",width:"100%",top:-a+"px"}),s.clientWidth<o&&(s.style.overflow="hidden"),l&&(e.style.overflowY="scroll"),function(){s.style.cssText=r,e.style.cssText=n,c.scrollTop=a}}if(r=r||{},_.disableScrollAround._count=Math.max(0,_.disableScrollAround._count||0),_.disableScrollAround._count++,_.disableScrollAround._restoreScroll)return _.disableScrollAround._restoreScroll;var s=i[0].body,l=o(),c=a(n);return _.disableScrollAround._restoreScroll=function(){--_.disableScrollAround._count<=0&&(l(),c(),delete _.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function r(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",r))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(e,t){return o(_.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var i=n.split("."),r=t;try{for(var a in i)i.hasOwnProperty(a)&&(r=r[i[a]])}catch(o){r=e}return"string"==typeof r||"number"==typeof r?r:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,i,r){var o;return function(){var s=i,l=Array.prototype.slice.call(arguments);a.cancel(o),o=a(function(){o=n,e.apply(s,l)},t||10,r)}},throttle:function(e,t){var n;return function(){var i=this,r=arguments,a=_.now();(!n||a-n>t)&&(e.apply(i,r),n=a)}},time:function(e){var t=_.now();return e(),_.now()-t},valueOnUse:function(e,t,n){var i=null,r=Array.prototype.slice.call(arguments),a=r.length>3?r.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===i&&(i=n.apply(e,a)),i}})},nextUid:function(){return""+r++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,i){if(t.isString(n)){var r=n.toUpperCase();n=function(e){return e.nodeName.toUpperCase()===r}}if(e instanceof t.element&&(e=e[0]),i&&(e=e.parentNode),!e)return null;do if(n(e))return e;while(e=e.parentNode);return null},elementContains:function(n,i){var r=e.Node&&e.Node.prototype&&Node.prototype.contains,a=r?t.bind(n,n.contains):t.bind(n,function(e){return n===i||!!(16&this.compareDocumentPosition(e))});return a(i)},extractElementByName:function(e,n,i,r){function a(e){return o(e)||(i?s(e):null)}function o(e){if(e)for(var t=0,i=e.length;t<i;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function s(e){var t;if(e)for(var n=0,i=e.length;n<i;n++){var r=e[n];if(!t)for(var o=0,s=r.childNodes.length;o<s;o++)t=t||a([r.childNodes[o]])}return t}var l=a(e);return!l&&r&&u.warn(_.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(l||e)},initOptionalProperties:function(e,n,i){i=i||{},t.forEach(e.$$isolateBindings,function(r,a){if(r.optional&&t.isUndefined(e[a])){var o=t.isDefined(n[r.attrName]);e[a]=t.isDefined(i[a])?i[a]:o}})},nextTick:function(e,t,n){function i(){var e=r.queue,t=r.digest;r.queue=[],r.timeout=null,r.digest=!1,e.forEach(function(e){var t=e.scope&&e.scope.$$destroyed;t||e.callback()}),t&&s.$digest()}var r=_.nextTick,o=r.timeout,l=r.queue||[];return l.push({scope:n,callback:e}),null==t&&(t=!0),r.digest=r.digest||t,r.queue=l,o||(r.timeout=a(i,0,!1))},processTemplate:function(e){return E?e:e&&t.isString(e)?e.replace(/\{\{/g,b).replace(/}}/g,y):e},getParentWithPointerEvents:function(e){for(var t=e.parent();w(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,n=t.element("<div>");
i[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],a=0;a<r.length;++a)if(n.css({position:r[a],top:0,"z-index":2}),n.css("position")==r[a]){e=r[a];break}return n.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(t===!1||"false"!==e&&"0"!==e)},hasComputedStyle:w,isParentFormSubmitted:function(e){var n=_.getClosest(e,"form"),i=n?t.element(n).controller("form"):null;return!!i&&i.$submitted},animateScrollTo:function(e,t,n){function i(){var n=r();e.scrollTop=n,(l?n<t:n>t)&&h(i)}function r(){var e=n||1e3,t=_.now()-c;return a(t,o,s,e)}function a(e,t,n,i){if(e>i)return t+n;var r=(e/=i)*e,a=r*e;return t+n*(-2*a+3*r)}var o=e.scrollTop,s=t-o,l=o<t,c=_.now();h(i)},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})}};return _.dom.animator=l(_),_}i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var r=0;t.module("material.core").factory("$mdUtil",i),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(){function e(){t.showWarnings=!1}var t={showWarnings:!0};return{disableWarnings:e,$get:["$$rAF","$log","$window","$interpolate",function(e,i,r,a){return n.apply(t,arguments)}]}}function n(e,n,i,r){function a(e,i,r){var a=t.element(e)[0]||e;!a||a.hasAttribute(i)&&0!==a.getAttribute(i).length||u(a,i)||(r=t.isString(r)?r.trim():"",r.length?e.attr(i,r):h&&n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',a))}function o(t,n,i){e(function(){a(t,n,i())})}function s(e,t){var n=c(e)||"",i=n.indexOf(r.startSymbol())>-1;i?o(e,t,function(){return c(e)}):a(e,t,n)}function l(e,t){var n=c(e),i=n.indexOf(r.startSymbol())>-1;i||n||a(e,t,n)}function c(e){function t(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0}e=e[0]||e;for(var n,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r="";n=i.nextNode();)t(n)||(r+=n.textContent);return r.trim()||""}function u(e,t){function n(e){var t=e.currentStyle?e.currentStyle:i.getComputedStyle(e);return"none"===t.display}var r=e.hasChildNodes(),a=!1;if(r)for(var o=e.childNodes,s=0;s<o.length;s++){var l=o[s];1===l.nodeType&&l.hasAttribute(t)&&(n(l)||(a=!0))}return a}function d(e){var n=t.element(e)[0]||e;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}function f(e,n){function i(e){if(!d(e))return!1;if(e.hasAttribute("role"))switch(e.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(e.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}n=n||1;var r=t.element(e)[0]||e;return!!r.parentNode&&(!!i(r.parentNode)||(n--,!!n&&f(r.parentNode,n)))}var h=this.showWarnings;return{expect:a,expectAsync:o,expectWithText:s,expectWithoutText:l,getText:c,hasAriaLabel:d,parentHasAriaLabel:f}}n.$inject=["$$rAF","$log","$window","$interpolate"],t.module("material.core").provider("$mdAria",e)}(),function(){function e(e){function n(){return!r||("function"==typeof e.preAssignBindingsEnabled?e.preAssignBindingsEnabled():1===t.version.major&&t.version.minor<6)}function i(e,t,n,i,r){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=i,this.$controller=r}var r=!1;this.respectPreAssignBindingsEnabled=function(e){return t.isDefined(e)?(r=e,this):r},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(e,t,n,r,a){return new i(e,t,n,r,a)}],i.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},i.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},i.prototype._compileTemplate=function(e){var n=this,i=e.templateUrl,r=e.template||"",a=t.extend({},e.resolve),o=t.extend({},e.locals),s=e.transformTemplate||t.identity;return t.forEach(a,function(e,i){t.isString(e)?a[i]=n.$injector.get(e):a[i]=n.$injector.invoke(e)}),t.extend(a,o),i?a.$$ngTemplate=this.$templateRequest(i):a.$$ngTemplate=this.$q.when(r),this.$q.all(a).then(function(i){var r=s(i.$$ngTemplate,e),a=e.element||t.element("<div>").html(r.trim()).contents();return n._compileElement(i,a,e)})},i.prototype._compileElement=function(e,n,i){function r(r){if(e.$scope=r,i.controller){var l=t.extend({},e,{$element:n}),c=a._createController(i,l,e);n.data("$ngControllerController",c),n.children().data("$ngControllerController",c),s.controller=c}return o(r)}var a=this,o=this.$compile(n),s={element:n,cleanup:n.remove.bind(n),locals:e,link:r};return s},i.prototype._createController=function(e,i,r){var a=this.$controller(e.controller,i,!0,e.controllerAs);n()&&e.bindToController&&t.extend(a.instance,r);var o=a();return!n()&&e.bindToController&&t.extend(a.instance,r),t.isFunction(o.$onInit)&&o.$onInit(),o},i.prototype._fetchContentElement=function(e){function n(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}var i=e.contentElement,r=null;return t.isString(i)?(i=document.querySelector(i),r=n(i)):(i=i[0]||i,r=document.contains(i)?n(i):function(){i.parentNode&&i.parentNode.removeChild(i)}),{element:t.element(i),restore:r}}}t.module("material.core").provider("$mdCompiler",e),e.$inject=["$compileProvider"]}(),function(){function n(){}function i(n,i,r){function a(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function o(e,t,n){var i=p[t.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(p).join(", "));return i.registerElement(e,n)}function l(e,i){var r=new n(e);return t.extend(r,i),p[e]=r,E}function c(){for(var e=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],i=0;i<n.length;i++){var r=n[i],a=r?r+"TouchAction":"touchAction";if(t.isDefined(e.style[a]))return a}}var d=navigator.userAgent||navigator.vendor||e.opera,h=d.match(/ipad|iphone|ipod/i),m=d.match(/android/i),b=c(),y="undefined"!=typeof e.jQuery&&t.element===e.jQuery,E={handler:l,register:o,isHijackingClicks:(h||m)&&!y&&!g};return E.isHijackingClicks&&(E.handler("click",{options:{maxDistance:v},onEnd:a("click")}),E.handler("focus",{options:{maxDistance:v},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&f(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),E.handler("mouseup",{options:{maxDistance:v},onEnd:a("mouseup")}),E.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})),E.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=r(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){b||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,i=this.state.pos.y-t.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){b&&(this.oldTouchAction=e[0].style[b],e[0].style[b]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[b]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,i;b||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,i=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,i=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(e){this.state.isRunning&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function r(e){this.name=e,this.state={}}function a(){function n(e,n,i){i=i||h;var r=new t.element.Event(n);r.$material=!0,r.pointer=i,r.srcEvent=e,t.extend(r,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(i.target).trigger(r)}function i(t,n,i){i=i||h;var r;"click"===n||"mouseup"==n||"mousedown"==n?(r=document.createEvent("MouseEvents"),r.initMouseEvent(n,!0,!0,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(n,!0,!0,{})),r.$material=!0,r.pointer=i,r.srcEvent=t,i.target.dispatchEvent(r)}var a="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return r.prototype={options:{},dispatchEvent:a?n:i,onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var i=this.getNearestParent(e.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,r),registeredParent:i},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[i.name],e.off("$destroy",n),i.onCleanup(e,t||{})}var i=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),i.onSetup(e,t||{}),n}},r}function o(e,n){function i(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||c(e)||"mousedown"===e.type&&(f(e.target)||f(document.activeElement))||(e.preventDefault(),e.stopPropagation())}function r(e){var t=0===e.clientX&&0===e.clientY,n=e.target&&"submit"===e.target.type;t||e.$material||e.isIonicTap||c(e)||n?(b=null,"label"==e.target.tagName.toLowerCase()&&(b={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),b=null)}function a(e,t){var i;for(var r in p)i=p[r],i instanceof n&&("start"===e&&i.cancel(),i[e](t,h))}function o(e){if(!h){var t=+Date.now();m&&!l(e,m)&&t-m.endTime<1500||(h=s(e),a("start",e))}}function d(e){h&&l(e,h)&&(u(e,h),a("move",e))}function g(e){h&&l(e,h)&&(u(e,h),h.endTime=+Date.now(),"pointercancel"!==e.type&&a("end",e),m=h,h=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!y&&e.isHijackingClicks&&(document.addEventListener("click",r,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("focus",i,!0),y=!0);var v="mousedown touchstart pointerdown",E="mousemove touchmove pointermove",w="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(v,o).on(E,d).on(w,g).on("$$mdGestureReset",function(){m=h=null})}function s(e){var t=d(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function l(e,t){return e&&t&&e.type.charAt(0)===t.type}function c(e){return b&&b.x==e.x&&b.y==e.y}function u(e,t){var n=d(e),i=t.x=n.pageX,r=t.y=n.pageY;t.distanceX=i-t.startX,t.distanceY=r-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function d(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function f(e){return!!e&&"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("disabled")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(e.nodeName)!=-1)}i.$inject=["$$MdGestureHandler","$$rAF","$timeout"],o.$inject=["$mdGesture","$$MdGestureHandler"];var h,m,p={},g=!1,v=6,b=null,y=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",a).run(o),n.prototype={skipClickHijack:function(){return g=!0},setMaxClickDistance:function(e){v=parseInt(e)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new i(e,t,n)}]}}(),function(){function n(e,n){this.$timeout=e,this.$mdUtil=n,this.bodyElement=t.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}n.$inject=["$timeout","$mdUtil"],t.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.initializeEvents=function(){var t="MSPointerEvent"in e?"MSPointerDown":"PointerEvent"in e?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},n.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(e){var n=t.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){function e(){function e(e){function n(e){return l.optionsFactory=e.options,l.methods=(e.methods||[]).concat(o),c}function i(e,t){return s[e]=t,c}function r(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return l.presets[t]={methods:n.methods.concat(o),optionsFactory:n.options,argOption:n.argOption},c}function a(n,i){function r(e){return e=e||{},e._options&&(e=e._options),d.show(t.extend({},u,e))}function a(e){return d.destroy(e)}function o(t,n){var r={};return r[e]=f,i.invoke(t||function(){return n},{},r)}var c,u,d=n(),f={hide:d.hide,cancel:d.cancel,show:r,destroy:a};return c=l.methods||[],u=o(l.optionsFactory,{}),t.forEach(s,function(e,t){f[t]=e}),t.forEach(l.presets,function(e,n){function i(e){this._options=t.extend({},r,e)}var r=o(e.optionsFactory,{}),a=(e.methods||[]).concat(c);if(t.extend(r,{$type:n}),t.forEach(a,function(e){i.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);f[s]=function(e){var t=f[n](e);return f.show(t)}}f[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new i)[e.argOption](n):new i(n)}}),f}a.$inject=["$$interimElement","$injector"];var o=["onHide","onShow","onRemove"],s={},l={presets:{}},c={setDefaults:n,addPreset:r,addMethod:i,$get:a};return c.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),c}function i(e,i,r,a,o,s,l,c,u,d,f){return function(){function h(e){e=e||{};var t=new b(e||{}),n=e.multiple?i.resolve():i.all(w);e.multiple||(n=n.then(function(){var e=_.concat(x.map(y.cancel));return i.all(e)}));var r=n.then(function(){return t.show()["catch"](function(e){return e})["finally"](function(){w.splice(w.indexOf(r),1),x.push(t)})});return w.push(r),t.deferred.promise["catch"](function(e){return e instanceof Error&&f(e),e}),t.deferred.promise}function m(e,t){function r(n){var i=n.remove(e,!1,t||{})["catch"](function(e){return e})["finally"](function(){_.splice(_.indexOf(i),1)});return x.splice(x.indexOf(n),1),_.push(i),n.deferred.promise}return t=t||{},t.closeAll?i.all(x.slice().reverse().map(r)):t.closeTo!==n?i.all(x.slice(t.closeTo).map(r)):r(x[x.length-1])}function p(e,n){var r=x.pop();if(!r)return i.when(e);var a=r.remove(e,!0,n||{})["catch"](function(e){return e})["finally"](function(){_.splice(_.indexOf(a),1)});return _.push(a),r.deferred.promise["catch"](t.noop)}function g(e){return function(){var t=arguments;return x.length?e.apply(y,t):w.length?w[0]["finally"](function(){return e.apply(y,t)}):i.when("No interim elements currently showing up.")}}function v(e){var n=e?null:x.shift(),r=t.element(e).length&&t.element(e)[0].parentNode;if(r){var a=x.filter(function(e){return e.options.element[0]===r});a.length&&(n=a[0],x.splice(x.indexOf(n),1))}return n?n.remove(E,!1,{$destroy:!0}):i.when(E)}function b(d){function f(){return i(function(e,t){function n(e){_.deferred.reject(e),t(e)}d.onCompiling&&d.onCompiling(d),p(d).then(function(t){x=g(t,d),d.cleanupElement=t.cleanup,M=E(x,d,t.controller).then(e,n)})["catch"](n)})}function h(e,n,r){function a(e){_.deferred.resolve(e)}function o(e){_.deferred.reject(e)}return x?(d=t.extend(d||{},r||{}),d.cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),d.$destroy===!0?w(d.element,d).then(function(){n&&o(e)||a(e)}):(i.when(M)["finally"](function(){w(d.element,d).then(function(){n?o(e):a(e)},o)}),_.deferred.promise)):i.when(!1)}function m(e){return e=e||{},e.template&&(e.template=l.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t){return t&&s.leave(t)||i.when()}},e)}function p(e){var t=e.skipCompile?null:c.compile(e);return t||i(function(t){t({locals:{},link:function(){return e.element}})})}function g(e,n){t.extend(e.locals,n);var i=e.link(n.scope);return n.element=i,n.parent=v(i,n),n.themable&&u(i),i}function v(n,i){var r=i.parent;if(r=t.isFunction(r)?r(i.scope,n,i):t.isString(r)?t.element(e[0].querySelector(r)):t.element(r),!(r||{}).length){var a;return o[0]&&o[0].querySelector&&(a=o[0].querySelector(":not(svg) > body")),a||(a=o[0]),"#comment"==a.nodeName&&(a=e[0].body),t.element(a)}return r}function b(){var e,i=t.noop;d.hideDelay&&(e=a(y.hide,d.hideDelay),i=function(){a.cancel(e)}),d.cancelAutoHide=function(){i(),d.cancelAutoHide=n}}function E(e,n,r){var a=n.onShowing||t.noop,o=n.onComplete||t.noop;try{a(n.scope,e,n,r)}catch(s){return i.reject(s)}return i(function(t,a){try{i.when(n.onShow(n.scope,e,n,r)).then(function(){o(n.scope,e,n),b(),t(e)},a)}catch(s){a(s.message)}})}function w(e,n){var r=n.onRemoving||t.noop;return i(function(t,a){try{var o=i.when(n.onRemove(n.scope,e,n)||!0);r(e,o),n.$destroy?(t(e),!n.preserveScope&&n.scope&&o.then(function(){n.scope.$destroy()})):o.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},a)}catch(s){a(s.message)}})}var _,x,M=i.when(!0);return d=m(d),_={options:d,deferred:i.defer(),show:f,remove:h}}var y,E=!1,w=[],_=[],x=[];return y={show:h,hide:g(m),cancel:g(p),destroy:v,$injector_:d}}}return i.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],e.$get=i,e}t.module("material.core").provider("$$interimElement",e)}(),function(){!function(){function e(e){function s(e){return e.replace(d,"").replace(f,function(e,t,n,i){return i?n.toUpperCase():n})}var d=/^((?:x|data)[\:\-_])/i,f=/([\:\-\_]+(.))/g,h=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],m=["layout","flex","flex-order","flex-offset","layout-align"],p=["show","hide","layout-padding","layout-margin"];t.forEach(h,function(n){t.forEach(m,function(t){var i=n?t+"-"+n:t;e.directive(s(i),a(i))}),t.forEach(p,function(t){var i=n?t+"-"+n:t;e.directive(s(i),o(i))})}),e.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:u,validateAttributeUsage:c,disableLayouts:function(e){k.enabled=e!==!0}}}).directive("mdLayoutCss",i).directive("ngCloak",r("ng-cloak")).directive("layoutWrap",o("layout-wrap")).directive("layoutNowrap",o("layout-nowrap")).directive("layoutNoWrap",o("layout-no-wrap")).directive("layoutFill",o("layout-fill")).directive("layoutLtMd",l("layout-lt-md",!0)).directive("layoutLtLg",l("layout-lt-lg",!0)).directive("flexLtMd",l("flex-lt-md",!0)).directive("flexLtLg",l("flex-lt-lg",!0)).directive("layoutAlignLtMd",l("layout-align-lt-md")).directive("layoutAlignLtLg",l("layout-align-lt-lg")).directive("flexOrderLtMd",l("flex-order-lt-md")).directive("flexOrderLtLg",l("flex-order-lt-lg")).directive("offsetLtMd",l("flex-offset-lt-md")).directive("offsetLtLg",l("flex-offset-lt-lg")).directive("hideLtMd",l("hide-lt-md")).directive("hideLtLg",l("hide-lt-lg")).directive("showLtMd",l("show-lt-md")).directive("showLtLg",l("show-lt-lg")).config(n)}function n(){var e=!!document.querySelector("[md-layouts-disabled]");k.enabled=!e}function i(){return k.enabled=!1,{restrict:"A",priority:"900"}}function r(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(i){return k.enabled?(i.addClass(e),function(t,i){n(function(){i.removeClass(e)},10,!1)}):t.noop}}}]}function a(e){function n(t,n,i){var r=s(n,e,i),a=i.$observe(i.$normalize(e),r);r(h(e,i,"")),t.$on("$destroy",function(){a()})}return["$mdUtil","$interpolate","$log",function(i,r,a){return g=i,v=r,b=a,{restrict:"A",compile:function(i,r){var a;return k.enabled&&(c(e,r,i,b),u(e,h(e,r,""),d(i,e,r)),a=n),a||t.noop}}}]}function o(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(i,r,a){return g=i,v=r,b=a,{restrict:"A",compile:function(i,r){var a;return k.enabled&&(u(e,h(e,r,""),d(i,e,r)),n(null,i),a=n),a||t.noop}}}]}function s(e,n){var i;return function(r){var a=u(n,r||"");t.isDefined(a)&&(i&&e.removeClass(i),i=a?n+"-"+a.trim().replace(E,"-"):n,e.addClass(i))}}function l(e){var n=e.split("-");return["$log",function(i){return i.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function c(e,t,n,i){var r,a,o,s=n[0].nodeName.toLowerCase();switch(e.replace(y,"")){case"flex":"md-button"!=s&&"fieldset"!=s||(a="<"+s+" "+e+"></"+s+">",o="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",r="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",i.warn(g.supplant(r,[a,o])))}}function u(e,n,i){var r;if(!f(n)){switch(e.replace(y,"")){case"layout":m(n,_)||(n=_[0]);break;case"flex":m(n,w)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var a=p(n);n=g.supplant("{main}-{cross}",a);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":n=""}n!=r&&(i||t.noop)(n)}return n?n.trim():""}function d(e,t,n){return function(e){f(e)||(n[n.$normalize(t)]=e)}}function f(e){return(e||"").indexOf(v.startSymbol())>-1}function h(e,t,n){var i=t.$normalize(e);return t[i]?t[i].trim().replace(E,"-"):n||null}function m(e,t,n){e=n&&e?e.replace(E,n):e;var i=!1;return e&&t.forEach(function(t){t=n?t.replace(E,n):t,i=i||t===e}),i}function p(e){var t,n={main:"start",cross:"stretch"};return e=e||"",0!==e.indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e),t=e.toLowerCase().trim().replace(E,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),x.indexOf(n.main)<0&&(n.main="start"),M.indexOf(n.cross)<0&&(n.cross="stretch"),n}var g,v,b,y=/(-gt)?-(sm|md|lg|print)/g,E=/\s+/g,w=["grow","initial","auto","none","noshrink","nogrow"],_=["row","column"],x=["","start","center","end","stretch","space-around","space-between"],M=["","start","center","end","stretch"],k={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}e.$inject=["$timeout"],t.module("material.core").service("$mdLiveAnnouncer",e),e.prototype.announce=function(e,t){t||(t="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){n._liveElement.textContent=e},n._announceTimeout,!1)},e.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}}(),function(){t.module("material.core.meta",[]).provider("$$mdMeta",function(){function e(e){if(a[e])return!0;var n=document.getElementsByName(e)[0];return!!n&&(a[e]=t.element(n),!0)}function n(n,i){if(e(n),a[n])a[n].attr("content",i);else{var o=t.element('<meta name="'+n+'" content="'+i+'"/>');r.append(o),a[n]=o}return function(){a[n].attr("content",""),a[n].remove(),delete a[n]}}function i(t){if(!e(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return a[t].attr("content")}var r=t.element(document.head),a={},o={setMeta:n,getMeta:i};return t.extend({},o,{$get:function(){return o}})})}(),function(){function e(e,i){function r(e){return e&&""!==e}var a,o=[],s={};return a={notFoundError:function(t,n){e.error((n||"")+"No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!r(e))return null;var t,n,i;for(t=0,n=o.length;t<n;t++)if(i=o[t],i.$$mdHandle===e)return i;return null},register:function(e,n){function i(){var t=o.indexOf(e);t!==-1&&o.splice(t,1)}function r(){var t=s[n];t&&(t.forEach(function(t){t.resolve(e)}),delete s[n])}return n?(e.$$mdHandle=n,o.push(e),r(),i):t.noop},when:function(e){if(r(e)){var t=i.defer(),o=a.get(e);return o?t.resolve(o):(s[e]===n&&(s[e]=[]),s[e].push(t)),t.promise}return i.reject("Invalid `md-component-id` value.")}}}e.$inject=["$log","$q"],t.module("material.core").factory("$mdComponentRegistry",e)}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(i,r,a){return a=t.extend(n(r),a),e.attach(i,r,a)}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdButtonInkRipple",e)}()}(),function(){!function(){function e(e){function n(n,i,r){return e.attach(n,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdCheckboxInkRipple",e)}()}(),function(){!function(){function e(e){function n(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdListInkRipple",e)}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,i):e.attach(t,i)}}}function n(){function e(){n=!0}var n=!1;return{disableInkRipple:e,$get:["$injector",function(e){function r(r,a,o){return n||a.controller("mdNoInk")?t.noop:e.instantiate(i,{$scope:r,$element:a,rippleOptions:o})}return{attach:r}}]}}function i(e,n,i,r,a,o,s){this.$window=r,this.$timeout=a,this.$mdUtil=o,this.$mdColorUtil=s,this.$scope=e,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,o.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function r(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function a(){return{controller:t.noop}}i.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],t.module("material.core").provider("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",a).directive("mdNoBar",a).directive("mdNoStretch",a);var o=450;i.prototype.color=function(e){function n(){var e=i.options&&i.options.colorElement?i.options.colorElement:[],t=e.length?e[0]:i.$element[0];return t?i.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var i=this;return t.isDefined(e)&&(i._color=i._parseColor(e)),i._color||i._parseColor(i.inkRipple())||i._parseColor(n())},i.prototype.calculateColor=function(){return this.color()},i.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0},i.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},i.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.createRipple(n,i)}else this.createRipple(e.offsetX,e.offsetY)},i.prototype.handleMouseup=function(){r(this,this.clearRipples)},i.prototype.handleTouchmove=function(){r(this,this.deleteRipples)},i.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},i.prototype.clearRipples=function(){
for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},i.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},i.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},i.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},i.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},i.prototype.createRipple=function(e,n){function i(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var r=this,a=r.$mdColorUtil,s=t.element('<div class="md-ripple"></div>'),l=this.$element.prop("clientWidth"),c=this.$element.prop("clientHeight"),u=2*Math.max(Math.abs(l-e),e),d=2*Math.max(Math.abs(c-n),n),f=i(this.options.fitRipple,u,d),h=this.calculateColor();s.css({left:e+"px",top:n+"px",background:"black",width:f+"px",height:f+"px",backgroundColor:a.rgbaToRgb(h),borderColor:a.rgbaToRgb(h)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(s)},.35*o,!1),this.options.dimBackground&&this.container.css({backgroundColor:h}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},o,!1)},!1)}},i.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},i.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);n<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),e.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},o,!1))},i.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdTabInkRipple",e)}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(e){function t(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}function i(t,i){function r(e,t){return t=t||{},h[e]=o(e,t),m}function a(t,n){return o(t,e.extend({},h[t]||{},n))}function o(e,t){var n=T.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function l(t,n){if(y[t])return y[t];n=n||"default";var i="string"==typeof n?y[n]:n,r=new u(t);return i&&e.forEach(i.colors,function(t,n){r.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),y[t]=r,r}function u(t){function n(t){if(t=0===arguments.length||!!t,t!==i.isDark){i.isDark=t,i.foregroundPalette=i.isDark?g:p,i.foregroundShadow=i.isDark?v:b;var n=i.isDark?k:M,r=i.isDark?M:k;return e.forEach(n,function(e,t){var n=i.colors[t],a=r[t];if(n)for(var o in n.hues)n.hues[o]===a[o]&&(n.hues[o]=e[o])}),i}}var i=this;i.name=t,i.colors={},i.dark=n,n(!1),_.forEach(function(t){var n=(i.isDark?k:M)[t];i[t+"Palette"]=function(r,a){var o=i.colors[t]={name:r,hues:e.extend({},n,a)};return Object.keys(o.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",i.name).replace("%3",r).replace("%4",Object.keys(n).join(", ")))}),Object.keys(o.hues).map(function(e){return o.hues[e]}).forEach(function(e){if(T.indexOf(e)==-1)throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",i.name).replace("%3",t).replace("%4",r).replace("%5",T.join(", ")))}),i},i[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),i[t+"Palette"].apply(i,e)}})}function d(t,i,r,a){function o(e){return e===n||""===e||u.THEMES[e]!==n}function s(e,t){function n(){return s&&s.$mdTheme||("default"==w?"":w)}function r(t){if(t){o(t)||a.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var n=e.data("$mdThemeName");n&&e.removeClass("md-"+n+"-theme"),e.addClass("md-"+t+"-theme"),e.data("$mdThemeName",t),s&&e.data("$mdThemeController",s)}}var s=t.controller("mdTheme")||e.data("$mdThemeController");if(r(n()),s)var l=E||s.$shouldWatch||i.parseAttributeBoolean(e.attr("md-theme-watch")),c=s.registerChanges(function(t){r(t),l?e.on("$destroy",c):c()})}var u=function(e,i){i===n&&(i=e,e=n),e===n&&(e=t),u.inherit(i,i)};return Object.defineProperty(u,"THEMES",{get:function(){return e.extend({},y)}}),Object.defineProperty(u,"PALETTES",{get:function(){return e.extend({},h)}}),Object.defineProperty(u,"ALWAYS_WATCH",{get:function(){return E}}),u.inherit=s,u.registered=o,u.defaultTheme=function(){return w},u.generateTheme=function(e){c(y[e],e,S.nonce)},u.defineTheme=function(e,t){t=t||{};var n=l(e);return t.primary&&n.primaryPalette(t.primary),t.accent&&n.accentPalette(t.accent),t.warn&&n.warnPalette(t.warn),t.background&&n.backgroundPalette(t.background),t.dark&&n.dark(),this.generateTheme(e),r.resolve(e)},u.setBrowserColor=A,u}d.$inject=["$rootScope","$mdUtil","$q","$log"],h={};var m,y={},E=!1,w="default";e.extend(h,t);var x=function(e){var t=i.setMeta("theme-color",e),n=i.setMeta("msapplication-navbutton-color",e);return function(){t(),n()}},A=function(t){t=e.isObject(t)?t:{};var n=t.theme||"default",i=t.hue||"800",r=h[t.palette]||h[y[n].colors[t.palette||"primary"].name],a=e.isObject(r[i])?r[i].hex:r[i];return x(a)};return m={definePalette:r,extendPalette:a,theme:l,configuration:function(){return e.extend({},S,{defaultTheme:w,alwaysWatchTheme:E,registeredStyles:[].concat(S.registeredStyles)})},disableTheming:function(t){S.disableTheming=e.isUndefined(t)||!!t},registerStyles:function(e){S.registeredStyles.push(e)},setNonce:function(e){S.nonce=e},generateThemesOnDemand:function(e){S.generateOnDemand=e},setDefaultTheme:function(e){w=e},alwaysWatchTheme:function(e){E=e},enableBrowserColor:A,$get:d,_LIGHT_DEFAULT_HUES:M,_DARK_DEFAULT_HUES:k,_PALETTES:h,_THEMES:y,_parseRules:s,_rgba:f}}function r(t,n,i,r,a,o){return{priority:101,link:{pre:function(s,l,c){var u=[],d=n.startSymbol(),f=n.endSymbol(),h=c.mdTheme.trim(),m=h.substr(0,d.length)===d&&h.lastIndexOf(f)===h.length-f.length,p="::",g=c.mdTheme.split(d).join("").split(f).join("").trim().substr(0,p.length)===p,v={registerChanges:function(t,n){return n&&(t=e.bind(n,t)),u.push(t),function(){var e=u.indexOf(t);e>-1&&u.splice(e,1)}},$setTheme:function(e){t.registered(e)||o.warn("attempted to use unregistered theme '"+e+"'"),v.$mdTheme=e;for(var n=u.length;n--;)u[n](e)},$shouldWatch:r.parseAttributeBoolean(l.attr("md-theme-watch"))||t.ALWAYS_WATCH||m&&!g};l.data("$mdThemeController",v);var b=function(){var e=n(c.mdTheme)(s);return i(e)(s)||e},y=function(t){return"string"==typeof t?v.$setTheme(t):void a.when(e.isFunction(t)?t():t).then(function(e){v.$setTheme(e)})};y(b());var E=s.$watch(b,function(e){e&&(y(e),v.$shouldWatch||E())})}}}}function a(){return S.disableTheming=!0,{restrict:"A",priority:"900"}}function o(e){return e}function s(t,n,i){u(t,n),i=i.replace(/THEME_NAME/g,t.name);var r=[],a=t.colors[n],o=new RegExp("\\.md-"+t.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),l=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,c=h[a.name];return i=i.replace(l,function(e,n,i,r,a){return"foreground"===n?"shadow"==i?t.foregroundShadow:t.foregroundPalette[i]||t.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=t.colors[n].hues[i]),f((h[t.colors[n].name][i]||"")[a?"contrast":"value"],r))}),e.forEach(a.hues,function(e,n){var a=i.replace(s,function(t,n,i,r,a){return f(c[e]["color"===r?"value":"contrast"],a)});if("default"!==n&&(a=a.replace(o,".md-"+t.name+"-theme.md-"+n)),"default"==t.name){var l=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;a=a.replace(l,function(e,t,n){return e+", "+t+n})}r.push(a)}),r}function l(t,n){function i(t,n){var i=t.contrastDefaultColor,r=t.contrastLightColors||[],a=t.contrastStrongLightColors||[],o=t.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof a&&(a=a.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(n,s){function l(){return"light"===i?o.indexOf(s)>-1?y:a.indexOf(s)>-1?w:E:r.indexOf(s)>-1?a.indexOf(s)>-1?w:E:y}if(!e.isObject(n)){var c=d(n);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",t.name).replace("%3",s));t[s]={hex:t[s],value:c,contrast:l()}}})}var r=document.head,a=r?r.firstElementChild:null,o=!S.disableTheming&&t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(o+=S.registeredStyles.join(""),a&&0!==o.length){e.forEach(h,i);var s=o.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"}),l=new RegExp("md-("+_.join("|")+")","g");_.forEach(function(e){A[e]=""}),s.forEach(function(e){for(var t,n=(e.match(l),0);t=_[n];n++)if(e.indexOf(".md-"+t)>-1)return A[t]+=e;for(n=0;t=_[n];n++)if(e.indexOf(t)>-1)return A[t]+=e;return A[x]+=e}),S.generateOnDemand||e.forEach(n.THEMES,function(e){m[e.name]||"default"!==n.defaultTheme()&&"default"===e.name||c(e,e.name,S.nonce)})}}function c(e,t,n){var i=document.head,r=i?i.firstElementChild:null;m[t]||(_.forEach(function(t){for(var a=s(e,t,A[t]);a.length;){var o=a.shift();if(o){var l=document.createElement("style");l.setAttribute("md-theme-style",""),n&&l.setAttribute("nonce",n),l.appendChild(document.createTextNode(o)),i.insertBefore(l,r)}}}),m[e.name]=!0)}function u(e,t){if(!h[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(h).join(", ")))}function d(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),a=t.substr(2*n);return 1===n&&(i+=i,r+=r,a+=a),[parseInt(i,16),parseInt(r,16),parseInt(a,16)]}}function f(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}t.$inject=["$mdThemingProvider"],r.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],o.$inject=["$mdTheming"],i.$inject=["$mdColorPalette","$$mdMetaProvider"],l.$inject=["$injector","$mdTheming"],e.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",r).directive("mdThemable",o).directive("mdThemesDisabled",a).provider("$mdTheming",i).config(t).run(l);var h,m={},p={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},g={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},v="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",b="",y=d("rgba(0,0,0,0.87)"),E=d("rgba(255,255,255,0.87)"),w=d("rgb(255,255,255)"),_=["primary","accent","warn","background"],x="primary",M={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},k={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};_.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};M[e]||(M[e]=t),k[e]||(k[e]=t)});var T=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],S={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},A={}}(e.angular)}(),function(){function n(n,i,r,a,o){var s;return s={translate3d:function(e,t,n,i){function r(n){return o(e,{to:n||t,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}return o(e,{from:t,to:n,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then(function(){return r})},waitTransitionEnd:function(t,n){var o=3e3;return i(function(i,s){function l(e){e&&e.target!==t[0]||(e&&r.cancel(u),t.off(a.CSS.TRANSITIONEND,l),i())}function c(n){return n=n||e.getComputedStyle(t[0]),"0s"==n.transitionDuration||!n.transition&&!n.transitionProperty}n=n||{},c(n.cachedTransitionStyles)&&(o=0);var u=r(l,n.timeout||o);t.on(a.CSS.TRANSITIONEND,l)})},calculateTransformValues:function(e,t){function n(){var t=e?e.parent():null,n=t?t.parent():null;return n?s.clientRect(n):null}var i=t.element,r=t.bounds;if(i||r){var a=i?s.clientRect(i)||n():s.copyRect(r),o=s.copyRect(e[0].getBoundingClientRect()),l=s.centerPointFor(o),c=s.centerPointFor(a);return{centerX:c.x-l.x,centerY:c.y-l.y,scaleX:Math.round(100*Math.min(.5,a.width/o.width))/100,scaleY:Math.round(100*Math.min(.5,a.height/o.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,i){var r="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",a=t.bind(null,n.supplant,r);return a(s.calculateTransformValues(e,i))},calculateSlideToOrigin:function(e,i){var r="translate3d( {centerX}px, {centerY}px, 0 )",a=t.bind(null,n.supplant,r);return a(s.calculateTransformValues(e,i))},toCss:function(e){function n(e,n,r){t.forEach(n.split(" "),function(e){i[e]=r})}var i={},r="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,o){if(!t.isUndefined(e))if(r.indexOf(o)>=0)i[o]=e+"px";else switch(o){case"transition":n(o,a.CSS.TRANSITION,e);break;case"transform":n(o,a.CSS.TRANSFORM,e);break;case"transformOrigin":n(o,a.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":i["font-size"]=e}}),i},toTransformCss:function(e,n,i){var r={};return t.forEach(a.CSS.TRANSFORM.split(" "),function(t){r[t]=e}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),i=function(e){return e&&e.width>0&&e.height>0};return i(n)?s.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(e,t,i,r){return function(a){return n(a,e,t,i,r)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,i=t.isDefined(document.documentElement.style.WebkitAppearance),r=i?"-webkit-":"",a=(i?"webkitTransitionEnd ":"")+"transitionend",o=(i?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],l=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],c=["$q","$$rAFMutex",function(e,i){function r(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}var a=0,o=1,s=2;return r.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===a&&(t._state=o,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},r.all=function(e,t){function i(n){a=a&&n,++r===e.length&&t(a)}var r=0,a=!0;n(e,function(e){e.done(i)})},r}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",c).factory("$$rAFMutex",l).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,s,l,c,u,d,f){function h(i,s){var c=[],u=w(i),h=u&&f.enabled(),g=!1,x=!1;h&&(s.transitionStyle&&c.push([r+"transition",s.transitionStyle]),s.keyframeStyle&&c.push([r+"animation",s.keyframeStyle]),s.delay&&c.push([r+"transition-delay",s.delay+"s"]),s.duration&&c.push([r+"transition-duration",s.duration+"s"]),g=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),x=!!s.addClass||!!s.removeClass,_(i,!0));var M=h&&(g||x);y(i,s);var k,T,S=!1;return{close:t.close,start:function(){function t(){if(!S)return S=!0,k&&T&&i.off(k,T),m(i,s),b(i,s),n(c,function(t){u.style[e(t[0])]=""}),f.complete(!0),f}var f=new l;return v(function(){if(_(i,!1),!M)return t();n(c,function(t){var n=t[0],i=t[1];u.style[e(n)]=i}),m(i,s);var l=p(i);if(0===l.duration)return t();var f=[];s.easing&&(l.transitionDuration&&f.push([r+"transition-timing-function",s.easing]),l.animationDuration&&f.push([r+"animation-timing-function",s.easing])),s.delay&&l.animationDelay&&f.push([r+"animation-delay",s.delay+"s"]),s.duration&&l.animationDuration&&f.push([r+"animation-duration",s.duration+"s"]),n(f,function(t){var n=t[0],i=t[1];u.style[e(n)]=i,c.push(t)});var h=l.delay,g=1e3*h,v=l.duration,b=1e3*v,y=Date.now();k=[],l.transitionDuration&&k.push(a),l.animationDuration&&k.push(o),k=k.join(" "),T=function(e){e.stopPropagation();var n=e.originalEvent||e,i=n.timeStamp||Date.now(),r=parseFloat(n.elapsedTime.toFixed(3));Math.max(i-y,0)>=g&&r>=v&&t()},i.on(k,T),E(i,s),d(t,g+1.5*b,!1)}),f}}}function m(e,t){t.addClass&&(u.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(u.removeClass(e,t.removeClass),t.removeClass=null)}function p(e){function n(e){return i?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var r=w(e),a=t.getComputedStyle(r),o=g(a[n("transitionDuration")]),s=g(a[n("animationDuration")]),l=g(a[n("transitionDelay")]),c=g(a[n("animationDelay")]);s*=parseInt(a[n("animationIterationCount")],10)||1;var u=Math.max(s,o),d=Math.max(c,l);return{duration:u,delay:d,animationDuration:s,transitionDuration:o,animationDelay:c,transitionDelay:l}}function g(e){var t=0,i=(e||"").split(/\s*,\s*/);return n(i,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function v(e){x&&x(),M.push(e),x=s(function(){x=null;for(var e=c(),t=0;t<M.length;t++)M[t](e);M.length=0})}function b(e,t){y(e,t),E(e,t)}function y(e,t){t.from&&(e.css(t.from),t.from=null)}function E(e,t){t.to&&(e.css(t.to),t.to=null)}function w(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function _(t,n){var i=w(t),a=e(r+"transition-delay");i.style[a]=n?"-9999s":""}var x,M=[];return h}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,n,i,r,a,o,s,l){function c(c,d,f){function h(){var e=parseInt(m.height,10)+Math.abs(parseInt(m.top,10));d.css("height",e+"px")}i.pin&&i.pin(d,r);var m;s(function(){if(m=a.getComputedStyle(l[0].body),"fixed"===m.position){var i=n.debounce(function(){m=a.getComputedStyle(l[0].body),h()},60,null,!1);h(),t.element(a).on("resize",i),c.$on("$destroy",function(){t.element(a).off("resize",i)})}var r=d.parent();if(r.length){"BODY"===r[0].nodeName&&d.css("position","fixed");var s=a.getComputedStyle(r[0]);"static"===s.position&&o.warn(u),e.inherit(d,r)}})}var u="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:c}}])}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,a,o,s,l,c,u){function d(i,r,c,d){if(r=a.extractElementByName(r,"md-bottom-sheet"),r.attr("tabindex","-1"),r.hasClass("ng-cloak")){var f="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.";u.warn(f,r[0])}c.disableBackdrop||(m=a.createBackdrop(i,"md-bottom-sheet-backdrop md-opaque"),m[0].tabIndex=-1,c.clickOutsideToClose&&m.on("click",function(){a.nextTick(s.cancel,!0)}),o.inherit(m,c.parent),e.enter(m,c.parent,null));var p=new h(r,c.parent);return c.bottomSheet=p,o.inherit(p.element,c.parent),c.disableParentScroll&&(c.restoreScroll=a.disableScrollAround(p.element,c.parent)),e.enter(p.element,c.parent,m).then(function(){var e=a.findFocusTarget(r)||t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector(a.prefixer("ng-click",!0)))||m;c.escapeToClose&&(c.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&a.nextTick(s.cancel,!0)},l.on("keyup",c.rootElementKeyupCallback),e&&e.focus())})}function f(t,n,i){var r=i.bottomSheet;return i.disableBackdrop||e.leave(m),e.leave(r.element).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),r.cleanup()})}function h(e,t){function o(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function l(t){var i=t.pointer.distanceY;i<5&&(i=Math.max(-r,i/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(r+i)+"px,0)")}function u(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>i)){var r=e.prop("offsetHeight")-t.pointer.distanceY,o=Math.min(r/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,o+"ms"),a.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var d=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",o).on("$md.drag",l).on("$md.dragend",u),{element:e,cleanup:function(){d(),t.off("$md.dragstart",o),t.off("$md.drag",l),t.off("$md.dragend",u)}}}var m;return{themable:!0,onShow:d,onRemove:f,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var i=.5,r=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n)}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}function n(e,n,i,r){function a(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function o(e,t){if(a(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(o,s,l){n(s),e.attach(o,s),i.expectWithoutText(s,"aria-label"),a(l)&&t.isDefined(l.ngDisabled)&&o.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){l.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),s.hasClass("md-no-focus")||(s.on("focus",function(){r.isUserInvoked()&&"keyboard"!==r.getLastInteractionType()||s.addClass("md-focused")}),s.on("blur",function(){s.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:o,link:s}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],e.$inject=["$mdTheming"],t.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){n.addClass("_md"),e(n)}}}e.$inject=["$mdTheming"],t.module("material.components.card",["material.core"]).directive("mdCard",e)}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e,n,i,r,a,o){function s(s,l){function c(s,l,c,u){function d(e,t,n){c[e]&&s.$watch(c[e],function(e){n[e]&&l.attr(t,n[e])})}function f(e){var t=e.which||e.keyCode;t!==i.KEY_CODE.SPACE&&t!==i.KEY_CODE.ENTER||(e.preventDefault(),l.addClass("md-focused"),h(e))}function h(e){l[0].hasAttribute("disabled")||s.skipToggle||s.$apply(function(){var t=c.ngChecked&&c.ngClick?c.checked:!b.$viewValue;b.$setViewValue(t,e&&e.type),b.$render()})}function m(){l.toggleClass("md-checked",!!b.$viewValue&&!g)}function p(e){g=e!==!1,g&&l.attr("aria-checked","mixed"),l.toggleClass("md-indeterminate",g)}var g,v=u[0],b=u[1]||a.fakeNgModel(),y=u[2];if(v){var E=v.isErrorGetter||function(){return b.$invalid&&(b.$touched||y&&y.$submitted)};v.input=l,s.$watch(E,v.setInvalid)}r(l),l.children().on("focus",function(){l.focus()}),a.parseAttributeBoolean(c.mdIndeterminate)&&(p(),s.$watch(c.mdIndeterminate,p)),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),function(e){b.$setViewValue(e),b.$render()}),d("ngDisabled","tabindex",{"true":"-1","false":c.tabindex
}),n.expectWithText(l,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[b]),l.on("click",h).on("keypress",f).on("focus",function(){"keyboard"===o.getLastInteractionType()&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),b.$render=m}return l.$set("tabindex",l.tabindex||"0"),l.$set("type","checkbox"),l.$set("role",l.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:c}}return e=e[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:i.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e)}(),function(){!function(){function e(e,n,i){function a(e,t){try{t&&e.css(l(t))}catch(n){i.error(n.message)}}function o(e){var t=u(e);return s(t)}function s(t,i){i=i||!1;var r=e.PALETTES[t.palette][t.hue];return r=i?r.contrast:r.value,n.supplant("rgba({0}, {1}, {2}, {3})",[r[0],r[1],r[2],r[3]||t.opacity])}function l(e){var n={},i=e.hasOwnProperty("color");return t.forEach(e,function(e,t){var r=u(e),a=t.indexOf("background")>-1;n[t]=s(r),a&&!i&&(n.color=s(r,!0))}),n}function c(n){return t.isDefined(e.THEMES[n.split("-")[0]])}function u(n){var i=n.split("-"),r=t.isDefined(e.THEMES[i[0]]),a=r?i.splice(0,1)[0]:e.defaultTheme();return{theme:a,palette:d(i,a),hue:f(i,a),opacity:i[2]||1}}function d(t,i){var a=t.length>1&&r.indexOf(t[1])!==-1,o=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(a&&(o=t[0]+"-"+t.splice(1,1)),r.indexOf(o)===-1){var s=e.THEMES[i].colors[o];if(!s)throw new Error(n.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:o}));o=s.name}return o}function f(t,i){var r=e.THEMES[i].colors;if("hue"===t[1]){var a=parseInt(t.splice(2,1)[0],10);if(a<1||a>3)throw new Error(n.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:a}));if(t[1]="hue-"+a,!(t[0]in r))throw new Error(n.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(r).join(", "),usedTheme:t[0]}));return r[t[0]].hues[t[1]]}return t[1]||r[t[0]in r?t[0]:"primary"].hues["default"]}return r=r||Object.keys(e.PALETTES),{applyThemeColors:a,getThemeColor:o,hasTheme:c}}function n(e,n,r,a){return{restrict:"A",require:["^?mdTheme"],compile:function(o,s){function l(){var e=s.mdColors,r=e.indexOf("::")>-1,a=!!r||i.test(s.mdColors);s.mdColors=e.replace("::","");var o=t.isDefined(s.mdColorsWatch);return!r&&!a&&(!o||n.parseAttributeBoolean(s.mdColorsWatch))}var c=l();return function(n,i,o,s){var l=s[0],u={},d=function(t){"string"!=typeof t&&(t=""),o.mdColors||(o.mdColors="{}");var i=a(o.mdColors)(n);return l&&Object.keys(i).forEach(function(n){var r=i[n];e.hasTheme(r)||(i[n]=(t||l.$mdTheme)+"-"+r)}),f(i),i},f=function(e){if(!t.equals(e,u)){var n=Object.keys(u);u.background&&!n.color&&n.push("color"),n.forEach(function(e){i.css(e,"")})}u=e},h=t.noop;l&&(h=l.registerChanges(function(t){e.applyThemeColors(i,d(t))})),n.$on("$destroy",function(){h()});try{c?n.$watch(d,t.bind(this,e.applyThemeColors,i),!0):e.applyThemeColors(i,d())}catch(m){r.error(m.message)}}}}}n.$inject=["$mdColors","$mdUtil","$log","$parse"],e.$inject=["$mdTheming","$mdUtil","$log"];var i=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,r=null;t.module("material.components.colors",["material.core"]).directive("mdColors",n).service("$mdColors",e)}()}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,i){i.addClass("_md"),e(i),t.$broadcast("$mdContentLoaded",i),n(i[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}e.$inject=["$mdTheming"],t.module("material.components.content",["material.core"]).directive("mdContent",e)}(),function(){t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function e(e,n,i){return{restrict:"E",link:function(r,a){a.addClass("_md"),n(a),e(function(){function e(){a.toggleClass("md-content-overflow",o.scrollHeight>o.clientHeight)}var n,o=a[0].querySelector("md-dialog-content");o&&(n=o.getElementsByTagName("img"),e(),t.element(n).on("load",e)),r.$on("$destroy",function(){i.destroy(a)})})}}}function i(e){function i(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:r,controllerAs:"dialog",bindToController:!0}}function r(e,t){this.$onInit=function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!n||this.result)},this.abort=function(){e.cancel()},this.keypress=function(n){n.keyCode===t.KEY_CODE.ENTER&&e.hide(this.result)}}}function a(e,i,r,a,l,c,u,d,f,h,m,p,g){function v(e){e.defaultTheme=m.defaultTheme(),w(e)}function b(e,t,n,i){if(i){var r=i.htmlContent||n.htmlContent||"",a=i.textContent||n.textContent||i.content||n.content||"";if(r&&!h.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r&&a)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=r,i.mdTextContent=a}}function y(e,n,i,a){function o(){n[0].querySelector(".md-actions")&&f.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function s(){function e(){return n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}if(i.focusOnOpen){var t=r.findFocusTarget(n)||e()||l;t.focus()}}t.element(c[0].body).addClass("md-dialog-is-showing");var l=n.find("md-dialog");if(l.hasClass("ng-cloak")){var u="$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.";f.warn(u,n[0])}return _(i),k(l,i),M(e,n,i),x(n,i),A(n,i).then(function(){T(n,i),o(),s()})}function E(e,n,i){function r(){return C(n,i)}function a(){t.element(c[0].body).removeClass("md-dialog-is-showing"),i.contentElement&&i.reverseContainerStretch(),i.cleanupElement(),i.$destroy||"keyboard"!==i.originInteraction||i.origin.focus()}return i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),o&&o.parentNode&&o.parentNode.removeChild(o),s&&s.parentNode&&s.parentNode.removeChild(s),i.$destroy?a():r().then(a)}function w(e){var n;e.targetEvent&&e.targetEvent.target&&(n=t.element(e.targetEvent.target));var i=n&&n.controller("mdTheme");if(i){e.themeWatch=i.$shouldWatch;var r=e.theme||i.$mdTheme;r&&(e.scope.theme=r);var a=i.registerChanges(function(t){e.scope.theme=t,e.themeWatch||a()})}}function _(e){function i(e,i){var r=t.element(e||{});if(r&&r.length){var a={top:0,left:0,height:0,width:0},o=t.isFunction(r[0].getBoundingClientRect);return t.extend(i||{},{element:o?r:n,bounds:o?r[0].getBoundingClientRect():t.extend({},a,r[0]),focus:t.bind(r,r.focus)})}}function r(e,n){return t.isString(e)&&(e=c[0].querySelector(e)),t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=r(e.parent,d),e.closeTo=i(r(e.closeTo)),e.openFrom=i(r(e.openFrom)),e.targetEvent&&(e.origin=i(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType())}function x(n,i){var o=t.element(u),s=r.debounce(function(){S(n,i)},60),l=[],c=function(){var t="alert"==i.$type?e.hide:e.cancel;r.nextTick(t,!0)};if(i.escapeToClose){var d=i.parent,f=function(e){e.keyCode===a.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",f),d.on("keydown",f),l.push(function(){n.off("keydown",f),d.off("keydown",f)})}if(o.on("resize",s),l.push(function(){o.off("resize",s)}),i.clickOutsideToClose){var h,m=n,p=function(e){h=e.target},g=function(e){h===m[0]&&e.target===m[0]&&(e.stopPropagation(),e.preventDefault(),c())};m.on("mousedown",p),m.on("mouseup",g),l.push(function(){m.off("mousedown",p),m.off("mouseup",g)})}i.deactivateListeners=function(){l.forEach(function(e){e()}),i.deactivateListeners=null}}function M(e,t,n){n.disableParentScroll&&(n.restoreScroll=r.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=r.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function k(e,t){var n="alert"===t.$type?"alertdialog":"dialog",a=e.find("md-dialog-content"),l=e.attr("id"),c="dialogContent_"+(l||r.nextUid());e.attr({role:n,tabIndex:"-1"}),0===a.length&&(a=e,l&&(c=l)),a.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?i.expect(e,"aria-label",t.ariaLabel):i.expectAsync(e,"aria-label",function(){if(t.title)return t.title;var e=a.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),o=document.createElement("div"),o.classList.add("md-dialog-focus-trap"),o.tabIndex=0,s=o.cloneNode(!1);var u=function(){e.focus()};o.addEventListener("focus",u),s.addEventListener("focus",u),e[0].parentNode.insertBefore(o,e[0]),e.after(s)}function T(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,r=0;r<t.length;r++)e===t[r]||$(t[r],["SCRIPT","STYLE"])||t[r].hasAttribute("aria-live")||t[r].setAttribute("aria-hidden",i);n(e=e.parentNode)}}var i=!0;n(e[0]),t.unlockScreenReader=function(){i=!1,n(e[0]),t.unlockScreenReader=null}}function S(e,t){var n="fixed"==u.getComputedStyle(c[0].body).position,i=t.backdrop?u.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,a={top:e.css("top"),height:e.css("height")},o=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?o:0)+"px",height:r?r+"px":"100%"}),function(){e.css(a)}}function A(e,t){t.parent.append(e),t.reverseContainerStretch=S(e,t);var n=e.find("md-dialog"),i=r.dom.animator,a=i.calculateZoomToOrigin,o={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(a(n,t.openFrom||t.origin)),l=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),i.translate3d(n,s,l,o).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(o={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=i.toTransformCss(a(n,t.closeTo)),i.translate3d(n,s,l,o)):e(l=i.toTransformCss(a(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([o.transitionOutClass,o.transitionInClass].join(" ")),i.translate3d(n,l,i.toTransformCss(""),{})},!0})}function C(e,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}function $(e,t){if(t.indexOf(e.nodeName)!==-1)return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:v,onShow:y,onShowing:b,onRemove:E,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}var i=p.startSymbol(),r=p.endSymbol(),a=i+(t.themeWatch?"":"::")+"theme"+r;return'<div class="md-dialog-container" tabindex="-1" md-theme="'+a+'">'+n(e)+"</div>"}}}r.$inject=["$mdDialog","$mdConstant"],a.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var o,s;return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:a}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:i})}e.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"],t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",i)}(),function(){function e(e){return{restrict:"E",link:e}}e.$inject=["$mdTheming"],t.module("material.components.divider",["material.core"]).directive("mdDivider",e)}(),function(){!function(){function e(e){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,n){var i=t.children(),r=e.prefixer().hasAttribute(i,"ng-repeat");r?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}e.$inject=["$mdUtil"],t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,i,r,a,o){function s(){$.direction=$.direction||"down",$.isOpen=$.isOpen||!1,u(),n.addClass("md-animations-waiting")}function l(){var i=["click","focusin","focusout"];t.forEach(i,function(e){n.on(e,c)}),e.$on("$destroy",function(){t.forEach(i,function(e){n.off(e,c)}),m()})}function c(e){"click"==e.type&&S(e),"focusout"!=e.type||P||(P=o(function(){$.close()},100,!1)),"focusin"==e.type&&P&&(o.cancel(P),P=null)}function u(){$.currentActionIndex=-1}function d(){e.$watch("vm.direction",function(e,t){i.removeClass(n,"md-"+t),i.addClass(n,"md-"+e),u()});var t,r;e.$watch("vm.isOpen",function(e){u(),t&&r||(t=A(),r=C()),e?h():m();var a=e?"md-is-open":"",o=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),r.attr("aria-hidden",!e),i.setClass(n,a,o)})}function f(){n[0].scrollHeight>0?i.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):R<10&&(o(f,100),R+=1)}function h(){n.on("keydown",g),r.nextTick(function(){t.element(document).on("click touchend",p)})}function m(){n.off("keydown",g),t.element(document).off("click touchend",p)}function p(e){if(e.target){var t=r.getClosest(e.target,"md-fab-trigger"),n=r.getClosest(e.target,"md-fab-actions");t||n||$.close()}}function g(e){switch(e.which){case a.KEY_CODE.ESCAPE:return $.close(),e.preventDefault(),!1;case a.KEY_CODE.LEFT_ARROW:return w(e),!1;case a.KEY_CODE.UP_ARROW:return _(e),!1;case a.KEY_CODE.RIGHT_ARROW:return x(e),!1;case a.KEY_CODE.DOWN_ARROW:return M(e),!1}}function v(e){y(e,-1)}function b(e){y(e,1)}function y(e,n){var i=E();$.currentActionIndex=$.currentActionIndex+n,$.currentActionIndex=Math.min(i.length-1,$.currentActionIndex),$.currentActionIndex=Math.max(0,$.currentActionIndex);var r=t.element(i[$.currentActionIndex]).children()[0];t.element(r).attr("tabindex",0),r.focus(),e.preventDefault(),e.stopImmediatePropagation()}function E(){var e=C()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function w(e){"left"===$.direction?b(e):v(e)}function _(e){"down"===$.direction?v(e):b(e)}function x(e){"left"===$.direction?v(e):b(e)}function M(e){"up"===$.direction?v(e):b(e)}function k(e){return r.getClosest(e,"md-fab-trigger")}function T(e){return r.getClosest(e,"md-fab-actions")}function S(e){k(e.target)&&$.toggle(),T(e.target)&&$.close()}function A(){return n.find("md-fab-trigger")}function C(){return n.find("md-fab-actions")}var $=this,R=0;$.open=function(){e.$evalAsync("vm.isOpen = true")},$.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},$.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},$.$onInit=function(){s(),l(),d(),f()},1===t.version.major&&t.version.minor<=4&&this.$onInit();var P}e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],t.module("material.components.fabShared",["material.core"]).controller("MdFabController",e)}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function i(n){function i(e){n(e,a,!1)}function r(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var i=n[0],r=n.controller("mdFabSpeedDial"),a=i.querySelectorAll(".md-fab-action-item"),o=i.querySelector("md-fab-trigger"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(a,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=a.length-t+l}),o.style.zIndex=l+a.length+1,r.isOpen||t.forEach(a,function(e,t){var n,i,a=e.style,s=(o.clientHeight-e.clientHeight)/2,l=(o.clientWidth-e.clientWidth)/2;switch(r.direction){case"up":n=e.scrollHeight*(t+1)+s,i="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),i="Y";break;case"left":n=e.scrollWidth*(t+1)+l,i="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),i="X"}var c="translate"+i+"("+n+"px)";a.transform=a.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(r(e),i(n)):n()},removeClass:function(e,t,n){r(e),i(n)}}}function r(n){function i(e){n(e,a,!1)}function r(n){var i=n[0],r=n.controller("mdFabSpeedDial"),a=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(a,function(e,t){var n=e.style,i=t*o;n.opacity=r.isOpen?1:0,n.transform=n.webkitTransform=r.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(r.isOpen?i:a.length-i)+"ms",n.zIndex=a.length-t+l})}var o=65;return{addClass:function(e,t,n){r(e),i(n)},removeClass:function(e,t,n){r(e),i(n)}}}i.$inject=["$timeout"],r.$inject=["$timeout"];var a=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",i).animation(".md-scale",r).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",r)}()}(),function(){!function(){function n(){function e(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function i(){function n(n,i,r){if(i){var a=n[0],o=n.controller("mdFabToolbar"),s=a.querySelector(".md-fab-toolbar-background"),l=a.querySelector("md-fab-trigger button"),c=a.querySelector("md-toolbar"),u=a.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(l&&s){var f=e.getComputedStyle(l).getPropertyValue("background-color"),h=a.offsetWidth,m=(a.offsetHeight,2*(h/l.offsetWidth));s.style.backgroundColor=f,s.style.borderRadius=h+"px",o.isOpen?(c.style.pointerEvents="inherit",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+m+")",s.style.transitionDelay="0ms",u&&(u.style.transitionDelay=".3s"),t.forEach(d,function(e,t){e.style.transitionDelay=25*(d.length-t)+"ms"})):(c.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",u&&(u.style.transitionDelay="0ms"),t.forEach(d,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,i){n(e,t,i),i()},removeClass:function(e,t,i){n(e,t,i),i()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",i).service("mdFabToolbarAnimation",i)}()}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function e(e,i,r,a){function o(n,o,s,l){function c(){for(var e in i.MEDIA)a(e),a.getQuery(i.MEDIA[e]).addListener(x);return a.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,d)}function u(){l.layoutDelegate=t.noop,M();for(var e in i.MEDIA)a.getQuery(i.MEDIA[e]).removeListener(x)}function d(e){null==e?l.invalidateLayout():a(e)&&l.invalidateLayout()}function f(e){var i=g(),a={tileSpans:v(i),colCount:b(),rowMode:w(),rowHeight:E(),gutter:y()};if(e||!t.equals(a,k)){var s=r(a.colCount,a.tileSpans,i).map(function(e,n){return{grid:{element:o,style:p(a.colCount,n,a.gutter,a.rowMode,a.rowHeight)},tiles:e.map(function(e,r){return{element:t.element(i[r]),style:m(e.position,e.spans,a.colCount,n,a.gutter,a.rowMode,a.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),k=a}}function h(e){return T+e+S}function m(e,t,n,i,r,a,o){var s=1/n*100,l=(n-1)/n,c=A({share:s,gutterShare:l,gutter:r}),u="rtl"!=document.dir&&"rtl"!=document.body.dir,d=u?{left:C({unit:c,offset:e.col,gutter:r}),width:$({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""}:{right:C({unit:c,offset:e.col,gutter:r}),width:$({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(a){case"fixed":d.top=C({unit:o,offset:e.row,gutter:r}),d.height=$({unit:o,span:t.row,gutter:r});break;case"ratio":var f=s/o,h=A({share:f,gutterShare:l,gutter:r});d.paddingTop=$({unit:h,span:t.row,gutter:r}),d.marginTop=C({unit:h,offset:e.row,gutter:r});break;case"fit":var m=(i-1)/i,f=1/i*100,h=A({share:f,gutterShare:m,gutter:r});d.top=C({unit:h,offset:e.row,gutter:r}),d.height=$({unit:h,span:t.row,gutter:r})}return d}function p(e,t,n,i,r){var a={};switch(i){case"fixed":a.height=$({unit:r,span:t,gutter:n}),a.paddingBottom="";break;case"ratio":var o=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/r),c=A({share:l,gutterShare:o,gutter:n});a.height="",a.paddingBottom=$({unit:c,span:t,gutter:n});break;case"fit":}return a}function g(){return[].filter.call(o.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(a.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(a.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function b(){var e=parseInt(a.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function y(){return _(a.getResponsiveAttribute(s,"md-gutter")||1)}function E(){var e=a.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(w()){case"fixed":return _(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function w(){var e=a.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":e.indexOf(":")!==-1?"ratio":"fixed"}function _(e){return/\D$/.test(e)?e:e+"px"}o.addClass("_md"),o.attr("role","list"),l.layoutDelegate=f;var x=t.bind(l,l.invalidateLayout),M=c();n.$on("$destroy",u);var k,T=e.startSymbol(),S=e.endSymbol(),A=e(h("share")+"% - ("+h("gutter")+" * "+h("gutterShare")+")"),C=e("calc(("+h("unit")+" + "+h("gutter")+") * "+h("offset")+")"),$=e("calc(("+h("unit")+") * "+h("span")+" + ("+h("span")+" - 1) * "+h("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:o}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function i(e){function n(t,n){var i,o,s,l,c,u;return l=e.time(function(){o=r(t,n)}),i={layoutInfo:function(){return o},map:function(t){return c=e.time(function(){var e=i.layoutInfo();s=t(e.positioning,e.rowCount)}),i},reflow:function(t){return u=e.time(function(){var e=t||a;e(s.grid,s.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:l,mapTime:c,reflowTime:u,totalTime:l+c+u}}}}function i(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function r(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var o=0,u=0;u-o<t.col;)s>=e?i():(o=c.indexOf(0,s),o!==-1&&(u=a(o+1))!==-1?s=u+1:(o=u=0,i()));return r(o,t.col,t.row),s=o+t.col,{col:o,row:l}}function i(){s=0,l++,r(0,e,-1)}function r(e,t,n){for(var i=e;i<e+t;i++)c[i]=Math.max(c[i]+n,0)}function a(e){var t;for(t=e;t<c.length;t++)if(0!==c[t])return t;if(t===c.length)return t}function o(){for(var t=[],n=0;n<e;n++)t.push(0);return t}var s=0,l=0,c=o();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:l+Math.max.apply(Math,c)}}var a=i;return n.animateWith=function(e){a=t.isFunction(e)?e:i},n}function r(e){function n(n,i,r,a){i.attr("role","listitem");var o=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,t.bind(a,a.invalidateLayout));a.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,o(),a.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&a.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function a(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],i.$inject=["$mdUtil"],e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],r.$inject=["$mdMedia"],t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",a).directive("mdGridTileHeader",a).factory("$mdGridLayout",i),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){function n(e,t){function n(t){var n=t[0].querySelector(a),i=t[0].querySelector(o);return n&&t.addClass("md-icon-left"),i&&t.addClass("md-icon-right"),function(t,n){e(n)}}function i(e,n,i,r){var a=this;a.isErrorGetter=i.mdIsError&&t(i.mdIsError),a.delegateClick=function(){a.input.focus()},a.element=n,a.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},a.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},a.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},a.setInvalid=function(e){e?r.addClass(n,"md-input-invalid"):r.removeClass(n,"md-input-invalid")},e.$watch(function(){return a.label&&a.input},function(e){e&&!a.label.attr("for")&&a.label.attr("for",a.input.attr("id"))})}i.$inject=["$scope","$element","$attrs","$animate"];var r=["INPUT","TEXTAREA","SELECT","MD-SELECT"],a=r.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),o=r.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:n,controller:i}}function i(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,i){!i||n.mdNoFloat||t.hasClass("md-container-ignore")||(i.label=t,e.$on("$destroy",function(){i.label=null}))}}}function r(e,n,i,r,a){function o(o,s,l,c){function u(e){return m.setHasValue(!g.$isEmpty(e)),e}function d(){m.label&&l.$observe("required",function(e){m.label.toggleClass("md-required",e&&!y)})}function f(){m.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}function h(){function i(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var e=c();if(!E){var t=s[0].style.padding||"";E=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=t}if(v&&E&&(e=Math.max(e,E*v)),b&&E){var n=E*b;n<e?(s.attr("md-no-autogrow",""),e=n):s.removeAttr("md-no-autogrow")}E&&s.attr("rows",Math.round(e/E)),s.css("height",e+"px").removeClass("md-no-flex")}function c(){var e=w.offsetHeight,t=w.scrollHeight-e;return e+Math.max(t,0)}function u(t){return e.nextTick(i),t}function d(){if(h&&(h=!1,t.element(n).off("resize",i),y&&y(),s.attr("md-no-autogrow","").off("input",i),p)){var e=g.$formatters.indexOf(u);e>-1&&g.$formatters.splice(e,1)}}function f(){function e(e){e.preventDefault(),u=!0,f=e.clientY,h=parseFloat(s.css("height"))||s.prop("offsetHeight")}function n(e){u&&(e.preventDefault(),d(),p.addClass("md-input-resized"))}function i(e){u&&s.css("height",h+e.pointer.distanceY+"px")}function r(e){u&&(u=!1,p.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var c=t.element('<div class="md-resize-handle"></div>'),u=!1,f=null,h=0,p=m.element,g=a.register(c,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(c),c.on("mousedown",e),p.on("$md.dragstart",n).on("$md.drag",i).on("$md.dragend",r),o.$on("$destroy",function(){c.off("mousedown",e).remove(),p.off("$md.dragstart",n).off("$md.drag",i).off("$md.dragend",r),g(),c=null,p=null,g=null})}}var h=!l.hasOwnProperty("mdNoAutogrow");if(f(),h){var v=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,b=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,y=o.$on("md-resize-textarea",i),E=null,w=s[0];if(r(function(){e.nextTick(i)},10,!1),s.on("input",i),p&&g.$formatters.push(u),v||s.attr("rows",1),t.element(n).on("resize",i),o.$on("$destroy",d),l.hasOwnProperty("mdDetectHidden")){var _=function(){var e=!1;return function(){var t=0===w.offsetHeight;t===!1&&e===!0&&i(),e=t}}();o.$watch(function(){return e.nextTick(_,!1),!0})}}}var m=c[0],p=!!c[1],g=c[1]||e.fakeNgModel(),v=c[2],b=t.isDefined(l.readonly),y=e.parseAttributeBoolean(l.mdNoAsterisk),E=s[0].tagName.toLowerCase();if(m){if("hidden"===l.type)return void s.attr("aria-hidden","true");if(m.input){if(m.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}m.input=s,d();var w=t.element('<div class="md-errors-spacer">');s.after(w);var _=t.isString(l.placeholder)?l.placeholder.trim():"";m.label||_.length||i.expect(s,"aria-label"),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+e.nextUid()),"input"===E&&"number"===l.type&&l.min&&l.max&&!l.step?s.attr("step","any"):"textarea"===E&&h(),p||f();var x=m.isErrorGetter||function(){return g.$invalid&&(g.$touched||v&&v.$submitted)};o.$watch(x,m.setInvalid),
l.ngValue&&l.$observe("value",f),g.$parsers.push(u),g.$formatters.push(u),s.on("input",f),b||s.on("focus",function(t){e.nextTick(function(){m.setFocused(!0)})}).on("blur",function(t){e.nextTick(function(){m.setFocused(!1),f()})}),o.$on("$destroy",function(){m.setFocused(!1),m.setHasValue(!1),m.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:o}}function a(e,n){function i(i,r,a,o){function s(e){return c.parent?(c.text(String(r.val()||e||"").length+" / "+l),e):e}var l,c,u,d=o[0],f=o[1];n.nextTick(function(){u=t.element(f.element[0].querySelector(".md-errors-spacer")),c=t.element('<div class="md-char-counter">'),u.append(c),a.$set("ngTrim","false"),i.$watch(a.mdMaxlength,function(n){l=n,t.isNumber(n)&&n>0?(c.parent().length||e.enter(c,u),s()):e.leave(c)}),d.$validators["md-maxlength"]=function(e,n){return!t.isNumber(l)||l<0||(s(),(e||r.val()||n||"").length<=l)}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:i}}function o(e){function n(n,i,r,a){if(a){var o=a.element.find("label"),s=a.element.attr("md-no-float");if(o&&o.length||""===s||n.$eval(s))return void a.setHasPlaceholder(!0);if("MD-SELECT"!=i[0].nodeName){var l=t.element('<label ng-click="delegateClick()" tabindex="-1">'+r.placeholder+"</label>");r.$set("placeholder",null),a.element.addClass("md-icon-float").prepend(l),e(l)(n)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:n}}}function s(e){function t(t,n,i){function r(){o=!0,e(function(){n[0].select(),o=!1},1,!1)}function a(e){o&&e.preventDefault()}if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var o=!1;n.on("focus",r).on("mouseup",a),t.$on("$destroy",function(){n.off("focus",r).off("mouseup",a)})}}return{restrict:"A",link:t}}function l(){function e(e,n,i,r){r&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==i.mdAutoHide||t(i))&&n.toggleClass("md-auto-hide",!1))}function t(e){return k.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function c(e){function t(t){function n(){for(var e=t[0];e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function i(t){return!!e.getClosest(t,"md-input-container")}function r(e){e.toggleClass("md-input-message-animation",!0)}if(i(t))r(t);else if(n())return function(e,n){i(n)&&r(t)}}return{restrict:"EA",compile:t,priority:100}}function u(e,t,n,i){return y(e,t,n,i),{addClass:function(e,t,n){h(e,n)}}}function d(e,t,n,i){return y(e,t,n,i),{enter:function(e,t){h(e,t)},leave:function(e,t){m(e,t)},addClass:function(e,t,n){"ng-hide"==t?m(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?h(e,n):n()}}}function f(e,t,n,i){return y(e,t,n,i),{enter:function(e,t){var n=p(e);n.start().done(t)},leave:function(e,t){var n=g(e);n.start().done(t)}}}function h(e,n){var i,r=[],a=b(e),o=a.children();return 0==a.length||0==o.length?(M.warn("mdInput messages show animation called on invalid messages element: ",e),void n()):(t.forEach(o,function(e){i=p(t.element(e)),r.push(i.start())}),void w.all(r,n))}function m(e,n){var i,r=[],a=b(e),o=a.children();return 0==a.length||0==o.length?(M.warn("mdInput messages hide animation called on invalid messages element: ",e),void n()):(t.forEach(o,function(e){i=g(t.element(e)),r.push(i.start())}),void w.all(r,n))}function p(t){var n=parseInt(e.getComputedStyle(t[0]).height),i=parseInt(e.getComputedStyle(t[0]).marginTop),r=b(t),a=v(t),o=i>-n;return o||r.hasClass("md-auto-hide")&&!a.hasClass("md-input-invalid")?_(t,{}):_(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function g(t){var n=t[0].offsetHeight,i=e.getComputedStyle(t[0]);return 0===parseInt(i.opacity)?_(t,{}):_(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function v(e){var t=e.controller("mdInputContainer");return t.element}function b(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?t.element(x.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):t.element(e[0].querySelector(".md-input-messages-animation"))}function y(e,t,n,i){w=e,_=t,x=n,M=i}n.$inject=["$mdTheming","$parse"],r.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],a.$inject=["$animate","$mdUtil"],o.$inject=["$compile"],c.$inject=["$mdUtil"],s.$inject=["$timeout"],u.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],d.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],f.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var E=t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",i).directive("input",r).directive("textarea",r).directive("mdMaxlength",a).directive("placeholder",o).directive("ngMessages",l).directive("ngMessage",c).directive("ngMessageExp",c).directive("mdSelectOnFocus",s).animation(".md-input-invalid",u).animation(".md-input-messages-animation",d).animation(".md-input-message-animation",f);e._mdMocksIncluded&&E.service("$$mdInput",function(){return{messages:{show:h,hide:m,getElement:b}}}).service("mdInputInvalidAnimation",u).service("mdInputMessagesAnimation",d).service("mdInputMessageAnimation",f);var w,_,x,M,k=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,i,r){var a=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(o,s){function l(){for(var e,t,n=["md-switch","md-checkbox"],i=0;t=n[i];++i)if((e=o.find(t)[0])&&!e.hasAttribute("aria-label")){var r=o.find("p")[0];if(!r)return;e.setAttribute("aria-label","Toggle "+r.textContent)}}function c(){var e=t.element(y),n=e.parent().hasClass("md-secondary-container")||y.parentNode.firstElementChild!==y,i="left";n&&(i="right"),e.attr("md-position-mode")||e.attr("md-position-mode",i+" target");var r=e.children().eq(0);g(r[0])||r.attr("ng-click","$mdMenu.open($event)"),r.attr("aria-label")||r.attr("aria-label","Open List Menu")}function u(n){if("div"==n)w=t.element('<div class="md-no-style md-list-item-inner">'),w.append(o.contents()),o.addClass("md-proxy-focus");else{w=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var i=t.element('<md-button class="md-no-style"></md-button>');h(o[0],i[0]),i.attr("aria-label")||i.attr("aria-label",e.getText(o)),o.hasClass("md-no-focus")&&i.addClass("md-no-focus"),w.prepend(i),w.children().eq(1).append(o.contents()),o.addClass("_md-button-wrap")}o[0].setAttribute("tabindex","-1"),o.append(w)}function d(){var e=t.element('<div class="md-secondary-container">');t.forEach(E,function(t){f(t,e)}),w.append(e)}function f(n,i){if(n&&!p(n)&&n.hasAttribute("ng-click")){e.expect(n,"aria-label");var r=t.element('<md-button class="md-secondary md-icon-button">');h(n,r[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),r.append(n),n=r[0]}n&&(!g(n)||!s.ngClick&&m(n))&&t.element(n).removeClass("md-secondary"),o.addClass("md-with-secondary"),i.append(n)}function h(e,n,r){var a=i.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts"]);r&&(a=a.concat(i.prefixer(r))),t.forEach(a,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function m(e){return a.indexOf(e.nodeName.toLowerCase())!=-1}function p(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function g(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function v(e,o,s,l){function c(){h&&h.children&&!v&&!b&&t.forEach(a,function(e){t.forEach(h.querySelectorAll(e+":not(.md-secondary)"),function(e){f.push(e)})})}function u(){(1==f.length||v)&&(o.addClass("md-clickable"),v||l.attachRipple(e,t.element(o[0].querySelector(".md-no-style"))))}function d(e){var t=["md-slider"];if(!e.path)return t.indexOf(e.target.tagName.toLowerCase())!==-1;for(var n=e.path.indexOf(o.children()[0]),i=0;i<n;i++)if(t.indexOf(e.path[i].tagName.toLowerCase())!==-1)return!0}o.addClass("_md");var f=[],h=o[0].firstElementChild,m=o.hasClass("_md-button-wrap"),p=m?h.firstElementChild:h,v=p&&g(p),b=o.hasClass("md-no-proxy");c(),u(),f.length&&t.forEach(f,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,r(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&o.addClass("md-focused"),n.on("blur",function t(){o.removeClass("md-focused"),n.off("blur",t)})})});var y=function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName&&!e.target.isContentEditable){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&p&&(p.click(),e.preventDefault(),e.stopPropagation())}};v||f.length||p&&p.addEventListener("keypress",y),o.off("click"),o.off("keypress"),1==f.length&&p&&o.children().eq(0).on("click",function(e){if(!d(e)){var n=i.getClosest(e.target,"BUTTON");!n&&p.contains(e.target)&&t.forEach(f,function(n){e.target===n||n.contains(e.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),t.element(n).triggerHandler("click"))})}}),e.$on("$destroy",function(){p&&p.removeEventListener("keypress",y)})}var b,y,E=o[0].querySelectorAll(".md-secondary"),w=o;if(o[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)u("button");else if(!o.hasClass("md-no-proxy")){for(var _,x=0;_=a[x];++x)if(y=o[0].querySelector(_)){b=!0;break}b?u("div"):o.addClass("md-no-proxy")}return d(),l(),b&&"MD-MENU"===y.nodeName&&c(),v}}}function i(e,t,n){function i(e,t){var i={};n.attach(e,t,i)}var r=this;r.attachRipple=i}i.$inject=["$scope","$element","$mdListInkRipple"],e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],t.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",e).directive("mdListItem",n)}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function e(e,n){return{restrict:"E",transclude:!0,controller:i,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(i,r,a,o){n(r),o.navBarAriaLabel||e.expectAsync(r,"aria-label",t.noop)}}}function i(e,t,n,i){this._$timeout=n,this._$scope=t,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var r=this,a=this._$scope.$watch(function(){return r._navBarEl.querySelectorAll("._md-nav-button").length},function(e){e>0&&(r._initTabs(),a())})}function r(e,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:a,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,i,r,a=t.mdNavClick,o=t.mdNavHref,s=t.mdNavSref,l=t.srefOpts;if((a?1:0)+(o?1:0)+(s?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return a?n='ng-click="ctrl.mdNavClick()"':o?n='ng-href="{{ctrl.mdNavHref}}"':s&&(n='ui-sref="{{ctrl.mdNavSref}}"'),i=l?'ui-sref-opts="{{ctrl.srefOpts}}" ':"",n&&(r='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+i+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(r||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(i,r,a,o){n(function(){var n=o[0],a=o[1],s=t.element(r[0].querySelector("._md-nav-button"));n.name||(n.name=t.element(r[0].querySelector("._md-nav-button-text")).text().trim()),s.on("click",function(){a.mdSelectedNavItem=n.name,i.$apply()}),e.expectWithText(r,"aria-label")})}}}function a(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}i.$inject=["$element","$scope","$timeout","$mdConstant"],r.$inject=["$mdAria","$$rAF"],a.$inject=["$element"],e.$inject=["$mdAria","$mdTheming"],t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",i).directive("mdNavBar",e).controller("MdNavItemController",a).directive("mdNavItem",r),i.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.querySelector("md-nav-ink-bar"));var e=this;this._$timeout(function(){e._updateTabs(e.mdSelectedNavItem,n)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,n){e._$timeout(function(){e._updateTabs(t,n)})})},i.prototype._updateTabs=function(e,t){var n=this,i=this._getTabs();if(i){var r=-1,a=-1,o=this._getTabByName(e),s=this._getTabByName(t);s&&(s.setSelected(!1),r=i.indexOf(s)),o&&(o.setSelected(!0),a=i.indexOf(o)),this._$timeout(function(){n._updateInkBarStyles(o,a,r)})}},i.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",t>n),this._inkbar.css({display:t<0?"none":""}),e){var i=e.getButtonEl(),r=i.offsetLeft;this._inkbar.css({left:r+"px",width:i.offsetWidth+"px"})}},i.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return t.element(e).controller("mdNavItem")});return e.indexOf(n)?e:null},i.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},i.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},i.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},i.prototype._findTab=function(e){for(var t=this._getTabs(),n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},i.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},i.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},i.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i){var r=n.indexOf(i);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:r>0&&this._moveFocus(i,n[r-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:r<n.length-1&&this._moveFocus(i,n[r+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){i.getButtonEl().click()})}}},a.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},a.prototype.getName=function(){return this.name},a.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},a.prototype.setSelected=function(e){this._selected=e},a.prototype.isSelected=function(){return this._selected},a.prototype.setFocused=function(e){this._focused=e,e&&this.getButtonEl().focus()},a.prototype.hasFocus=function(){return this._focused}}(),function(){function e(){return{definePreset:i,getAllPresets:r,clearPresets:a,$get:o()}}function i(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(g.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,g[e]=t}function r(){return t.copy(g)}function a(){g={}}function o(){return["$rootElement","$rootScope","$injector","$window",function(e,t,n,i){return new s(g,e,t,n,i)}]}function s(e,n,i,r,a){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:h},this._config={},this._presets=e,this._$rootElement=n,this._$rootScope=i,this._$injector=r,this._$window=a,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=u.animation,this.xPosition=c.xPosition,this.yPosition=c.yPosition,this.interceptorTypes=l.interceptorTypes,this.closeReasons=l.closeReasons,this.absPosition=c.absPosition}function l(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function c(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function u(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function d(e){var n=t.isString(e)?document.querySelector(e):e;return t.element(n)}function f(e,t){var n=getComputedStyle(e[0]||e)[t],i=n.indexOf("("),r=n.lastIndexOf(")"),a={x:0,y:0};if(i>-1&&r>-1){var o=n.substring(i+1,r).split(", ").slice(-2);a.x=parseInt(o[0]),a.y=parseInt(o[1])}return a}s.$inject=["presets","$rootElement","$rootScope","$injector","$window"],t.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",e);var h=80,m="_md-panel-hidden",p=t.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),g={};s.prototype.create=function(e,n){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!t.isUndefined(n)&&n||(n=e,e={}),e=e||{},n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id]){var i=this._trackedPanels[n.id];return t.extend(i.config,n),i}this._config=t.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,e);var r=new l(this._config,this._$injector);return this._trackedPanels[n.id]=r,this._config.groupName&&(t.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),t.forEach(this._config.groupName,function(e){r.addToGroup(e)})),this._config.scope.$on("$destroy",t.bind(r,r.detach)),r},s.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},s.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},s.prototype.newPanelPosition=function(){return new c(this._$injector)},s.prototype.newPanelAnimation=function(){return new u(this._$injector)},s.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){t=t||{};var n={panels:[],openPanels:[],maxOpen:t.maxOpen>0?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},s.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},s.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return t.maxOpen>0&&t.openPanels.length>t.maxOpen}return!1},s.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},s.prototype._wrapTemplate=function(e){var t=e||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+t+"</div></div>"},s.prototype._wrapContentElement=function(e){var n=t.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel _md-panel-offscreen"),n.append(e),n},l.interceptorTypes={CLOSE:"onClose"},l.prototype.open=function(){var e=this;return this._$q(function(n,i){var r=e._done(n,e),a=e._simpleBind(e.show,e),o=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._openCountExceedsMaxOpen(t)&&e._$mdPanel._closeFirstOpenedPanel(t)})};e.attach().then(a).then(o).then(r)["catch"](i)})},l.prototype.close=function(e){var n=this;return this._$q(function(i,r){n._callInterceptors(l.interceptorTypes.CLOSE).then(function(){var a=n._done(i,n),o=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||t.noop;s=t.bind(n,s,n,e),n.hide().then(o).then(a).then(s)["catch"](r)},r)})},l.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),a=e.config.onDomAdded||t.noop,o=function(t){return e.isAttached=!0,e._addEventListeners(),t};e._$q.all([e._createBackdrop(),e._createPanel().then(o)["catch"](i)]).then(a).then(r)["catch"](i)})},l.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var e=this,n=e.config.onDomRemoved||t.noop,i=function(){return e._removeEventListeners(),e._topFocusTrap&&e._topFocusTrap.parentNode&&e._topFocusTrap.parentNode.removeChild(e._topFocusTrap),e._bottomFocusTrap&&e._bottomFocusTrap.parentNode&&e._bottomFocusTrap.parentNode.removeChild(e._bottomFocusTrap),e._restoreCache.classes&&(e.panelEl[0].className=e._restoreCache.classes),e.panelEl[0].style.cssText=e._restoreCache.styles||"",e._compilerCleanup(),e.panelContainer.remove(),e.isAttached=!1,e._$q.when(e)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,r){var a=e._done(t,e);e._$q.all([i(),!e._backdropRef||e._backdropRef.detach()]).then(n).then(a)["catch"](r)})},l.prototype.destroy=function(){var e=this;this.config.groupName&&t.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},l.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(m))return this._$q.when(this);var e=this,n=function(){return e.panelContainer.removeClass(m),e._animateOpen()};return this._$q(function(i,r){var a=e._done(i,e),o=e.config.onOpenComplete||t.noop,s=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._groups[t].openPanels.push(e)})};e._$q.all([e._backdropRef?e._backdropRef.show():e,n().then(function(){e._focusOnOpen()},r)]).then(o).then(s).then(a)["catch"](r)})},l.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(m))return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),a=e.config.onRemoving||t.noop,o=function(){e.panelContainer.addClass(m)},s=function(){if(e.config.groupName){var n;t.forEach(e.config.groupName,function(t){t=e._$mdPanel._groups[t],n=t.openPanels.indexOf(e),n>-1&&t.openPanels.splice(n,1)})}},l=function(){var t=e.config.origin;t&&d(t).focus()};e._$q.all([e._backdropRef?e._backdropRef.hide():e,e._animateClose().then(a).then(o).then(s).then(l)["catch"](i)]).then(r,i)})},l.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},l.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},l.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},l.prototype._compile=function(){var e=this;return e._$mdCompiler.compile(e.config).then(function(n){var i=e.config;if(i.contentElement){var r=n.element;e._restoreCache.styles=r[0].style.cssText,e._restoreCache.classes=r[0].className,e.panelContainer=e._$mdPanel._wrapContentElement(r),e.panelEl=r}else e.panelContainer=n.link(i.scope),e.panelEl=t.element(e.panelContainer[0].querySelector(".md-panel"));return e._compilerCleanup=n.cleanup,d(e.config.attachTo).append(e.panelContainer),e})},l.prototype._createPanel=function(){var e=this;return this._$q(function(t,n){e.config.locals||(e.config.locals={}),e.config.locals.mdPanelRef=e,e._compile().then(function(){e.config.disableParentScroll&&(e._restoreScroll=e._$mdUtil.disableScrollAround(null,e.panelContainer,{disableScrollMask:!0})),e.config.panelClass&&e.panelEl.addClass(e.config.panelClass),e.config.propagateContainerEvents&&(e.panelContainer.css("pointer-events","none"),e.panelEl.css("pointer-events","all")),e._$animate.pin&&e._$animate.pin(e.panelContainer,d(e.config.attachTo)),e._configureTrapFocus(),e._addStyles().then(function(){t(e)},n)},n)})},l.prototype._addStyles=function(){var e=this;return this._$q(function(t){e.panelContainer.css("z-index",e.config.zIndex),e.panelEl.css("z-index",e.config.zIndex+1);var n=function(){e._setTheming(),e.panelEl.removeClass("_md-panel-offscreen"),e.panelContainer.addClass(m),t(e)};if(e.config.fullscreen)return e.panelEl.addClass("_md-panel-fullscreen"),void n();var i=e.config.position;return i?void e._$rootScope.$$postDigest(function(){e._updatePosition(!0),e._setTheming(),t(e)}):void n()})},l.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},l.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},l.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass(m)),this.panelEl.css(c.absPosition.TOP,t.getTop()),this.panelEl.css(c.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(c.absPosition.LEFT,t.getLeft()),this.panelEl.css(c.absPosition.RIGHT,t.getRight()))},l.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){var t=e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl;t.focus()})}},l.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},l.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},l.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},l.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=d(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(l.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},l.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?t.element(document.body):this.panelContainer,i=function(t){e=t.target},r=this,a=function(t){r.config.propagateContainerEvents?e===r.panelEl[0]||r.panelEl[0].contains(e)||r.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),r.close(l.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",i),n.on("mouseup",a),this._removeListeners.push(function(){n.off("mousedown",i),n.off("mouseup",a)})}},l.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=t.bind(this,this._updatePosition),n=this._$$rAF.throttle(e),i=this,r=function(){n()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push(function(){i._$window.removeEventListener("scroll",r,!0)})}},l.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=p.clone()[0],this._bottomFocusTrap=p.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},l.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},l.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var e=this.config.animation;if(!e)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=t._done(n,t),r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),i()};e.animateOpen(t.panelEl).then(i,r)})},l.prototype._animateClose=function(){var e=this.config.animation;if(!e)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=function(){t.panelContainer.removeClass("md-panel-is-showing"),n(t)},r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),i()};e.animateClose(t.panelEl).then(i,r)})},l.prototype.registerInterceptor=function(e,n){var i=null;if(t.isString(e)?t.isFunction(n)||(i="Interceptor callback must be a function, instead got "+typeof n):i="Interceptor type must be a string, instead got "+typeof e,i)throw new Error("MdPanel: "+i);var r=this._interceptors[e]=this._interceptors[e]||[];return r.indexOf(n)===-1&&r.push(n),this},l.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return n>-1&&this._interceptors[e].splice(n,1),this},l.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),
this},l.prototype._callInterceptors=function(e){var n=this,i=n._$q,r=n._interceptors&&n._interceptors[e]||[];return r.reduceRight(function(e,r){var a=r&&t.isFunction(r.then),o=a?r:null;return e.then(function(){if(!o)try{o=r(n)}catch(e){o=i.reject(e)}return o})},i.resolve(n))},l.prototype._simpleBind=function(e,t){return function(n){return e.apply(t,n)}},l.prototype._done=function(e,t){return function(){e(t)}},l.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n<0&&t.panels.push(this)},l.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n>-1&&t.panels.splice(n,1)},l.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},c.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},c.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},c.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c.viewportMargin=8,c.prototype.absolute=function(){return this._absolute=!0,this},c.prototype._setPosition=function(e,n){if(e===c.absPosition.RIGHT||e===c.absPosition.LEFT)this._left=this._right="";else{if(e!==c.absPosition.BOTTOM&&e!==c.absPosition.TOP){var i=Object.keys(c.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+i+".")}this._top=this._bottom=""}return this["_"+e]=t.isString(n)?n:"0",this},c.prototype.top=function(e){return this._setPosition(c.absPosition.TOP,e)},c.prototype.bottom=function(e){return this._setPosition(c.absPosition.BOTTOM,e)},c.prototype.start=function(e){var t=this._isRTL?c.absPosition.RIGHT:c.absPosition.LEFT;return this._setPosition(t,e)},c.prototype.end=function(e){var t=this._isRTL?c.absPosition.LEFT:c.absPosition.RIGHT;return this._setPosition(t,e)},c.prototype.left=function(e){return this._setPosition(c.absPosition.LEFT,e)},c.prototype.right=function(e){return this._setPosition(c.absPosition.RIGHT,e)},c.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},c.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},c.prototype.center=function(){return this.centerHorizontally().centerVertically()},c.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=d(e),this},c.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},c.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(c.yPosition),i=[],r=0;t=n[r];r++){var a=c.yPosition[t];if(i.push(a),a===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+i.join(" | "))}},c.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(c.xPosition),i=[],r=0;t=n[r];r++){var a=c.xPosition[t];if(i.push(a),a===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+i.join(" | "))}},c.prototype.withOffsetX=function(e){return this._translateX.push(e),this},c.prototype.withOffsetY=function(e){return this._translateY.push(e),this},c.prototype.getTop=function(){return this._top},c.prototype.getBottom=function(){return this._bottom},c.prototype.getLeft=function(){return this._left},c.prototype.getRight=function(){return this._right},c.prototype.getTransform=function(){var e=this._reduceTranslateValues("translateX",this._translateX),t=this._reduceTranslateValues("translateY",this._translateY);return(e+" "+t).trim()},c.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},c.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=this._$mdConstant.CSS.TRANSFORM,r=f(e,i);t+=r.x,n+=r.y}var a=t+e[0].offsetWidth,o=n+e[0].offsetHeight;return t>=0&&n>=0&&o<=this._$window.innerHeight&&a<=this._$window.innerWidth},c.prototype.getActualPosition=function(){return this._actualPosition},c.prototype._reduceTranslateValues=function(e,n){return n.map(function(n){var i=t.isFunction(n)?n(this):n;return e+"("+i+")"},this).join(" ")},c.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)return void this._setTransform(e);if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)},c.prototype._constrainToViewport=function(e){var t=c.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var r=parseInt(this.getTop()),a=e[0].offsetHeight+r,o=this._$window.innerHeight;r<t?this._top=t+"px":a>o&&(this._top=r-(a-o+t)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=e[0].offsetWidth+s,u=this._$window.innerWidth;s<t?this._left=t+"px":l>u&&(this._left=s-(l-u+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},c.prototype._reverseXPosition=function(e){if(e===c.xPosition.CENTER)return e;var t="start",n="end";return e.indexOf(t)>-1?e.replace(t,n):e.replace(n,t)},c.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},c.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),i=n.width,r=n.height,a=this._relativeToEl[0].getBoundingClientRect(),o=a.left,s=a.right,l=a.width;switch(this._bidi(t.x)){case c.xPosition.OFFSET_START:this._left=o-i+"px";break;case c.xPosition.ALIGN_END:this._left=s-i+"px";break;case c.xPosition.CENTER:var u=o+.5*l-.5*i;this._left=u+"px";break;case c.xPosition.ALIGN_START:this._left=o+"px";break;case c.xPosition.OFFSET_END:this._left=s+"px"}var d=a.top,f=a.bottom,h=a.height;switch(t.y){case c.yPosition.ABOVE:this._top=d-r+"px";break;case c.yPosition.ALIGN_BOTTOMS:this._top=f-r+"px";break;case c.yPosition.CENTER:var m=d+.5*h-.5*r;this._top=m+"px";break;case c.yPosition.ALIGN_TOPS:this._top=d+"px";break;case c.yPosition.BELOW:this._top=f+"px"}},u.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},u.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},u.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},u.prototype.duration=function(e){function n(e){if(t.isNumber(e))return e/1e3}return e&&(t.isNumber(e)?this._openDuration=this._closeDuration=n(e):t.isObject(e)&&(this._openDuration=n(e.open),this._closeDuration=n(e.close))),this._rawDuration=e,this},u.prototype._getPanelAnimationTarget=function(e){return t.isDefined(e.top)||t.isDefined(e.left)?{element:n,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(d(e))},u.prototype.withAnimation=function(e){return this._animationClass=e,this},u.prototype.animateOpen=function(e){var n=this._$mdUtil.dom.animator;this._fixBounds(e);var i={},r=e[0].style.transform||"",a=n.toTransformCss(r),o=n.toTransformCss(r);switch(this._animationClass){case u.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(e,this._openFrom)||"";a=n.toTransformCss(s+" "+r);break;case u.animation.SCALE:i={transitionInClass:"_md-panel-animate-enter"};var l=n.calculateZoomToOrigin(e,this._openFrom)||"";a=n.toTransformCss(l+" "+r);break;case u.animation.FADE:i={transitionInClass:"_md-panel-animate-enter"};break;default:i=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.duration=this._openDuration,n.translate3d(e,a,o,i)},u.prototype.animateClose=function(e){var n=this._$mdUtil.dom.animator,i={},r=e[0].style.transform||"",a=n.toTransformCss(r),o=n.toTransformCss(r);switch(this._animationClass){case u.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(e,this._closeTo)||"";o=n.toTransformCss(s+" "+r);break;case u.animation.SCALE:i={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var l=n.calculateZoomToOrigin(e,this._closeTo)||"";o=n.toTransformCss(l+" "+r);break;case u.animation.FADE:i={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:i=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.duration=this._closeDuration,n.translate3d(e,a,o,i)},u.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},u.prototype._getBoundingClientRect=function(e){if(e instanceof t.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),function(){t.module("material.components.progressCircular",["material.core"])}(),function(){function e(e,n,i){function r(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(i,r,a){function f(){a.$observe("value",function(e){var t=o(e);r.attr("aria-valuenow",t),m()!=u&&p(E,t)}),a.$observe("mdBufferValue",function(e){p(y,o(e))}),a.$observe("disabled",function(e){v=e===!0||e===!1?!!e:t.isDefined(e),r.toggleClass(d,v),w.toggleClass(g,!v)}),a.$observe("mdMode",function(e){switch(g&&w.removeClass(g),e){case u:case c:case s:case l:w.addClass(g="md-mode-"+e);break;default:w.addClass(g="md-mode-"+l)}})}function h(){if(t.isUndefined(a.mdMode)){var e=t.isDefined(a.value),n=e?s:l;r.attr("md-mode",n),a.mdMode=n}}function m(){var e=(a.mdMode||"").trim();if(e)switch(e){case s:case l:case c:case u:break;default:e=l}return e}function p(e,i){if(!v&&m()){var r=n.supplant("translateX({0}%) scale({1},1)",[(i-100)/2,i/100]),a=b({transform:r});t.element(e).css(a)}}e(r);var g,v=a.hasOwnProperty("disabled"),b=n.dom.animator.toCss,y=t.element(r[0].querySelector(".md-bar1")),E=t.element(r[0].querySelector(".md-bar2")),w=t.element(r[0].querySelector(".md-container"));r.attr("md-mode",m()).toggleClass(d,v),h(),f()}function o(e){return Math.max(0,Math.min(e||0,100))}var s="determinate",l="indeterminate",c="buffer",u="query",d="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:r}}e.$inject=["$mdTheming","$mdUtil","$log"],t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e)}(),function(){function e(e,n,i,r){function a(a,o,s,l){function c(){o.hasClass("md-focused")||o.addClass("md-focused")}function u(i){var r=i.which||i.keyCode;if(r==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),d.selectPrevious(),c();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),d.selectNext(),c();break;case n.KEY_CODE.ENTER:var a=t.element(e.getClosest(o[0],"form"));a.length>0&&a.triggerHandler("submit")}}o.addClass("_md"),i(o);var d=l[0],f=l[1]||e.fakeNgModel();d.init(f),a.mouseActive=!1,o.attr({role:"radiogroup",tabIndex:o.attr("tabindex")||"0"}).on("keydown",u).on("mousedown",function(e){a.mouseActive=!0,r(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function o(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);t!==-1&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function l(n,i){var r=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var a=function(e){return!t.element(e).attr("disabled")},o=n[0].querySelector("md-radio-button.md-checked"),s=r[i<0?"previous":"next"](o,a)||r.first();t.element(s).triggerHandler("click")}}return o.prototype=s(),{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:a}}}function n(e,t,n){function i(i,a,o,s){function l(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(u),o.$observe("value",u),a.on("click",c).on("$destroy",function(){s.remove(u)})}function c(e){a[0].hasAttribute("disabled")||s.isDisabled()||i.$apply(function(){s.setViewValue(o.value,e&&e.type)})}function u(){var e=s.getViewValue()==o.value;e!==f&&("md-radio-group"!==a[0].parentNode.nodeName.toLowerCase()&&a.parent().toggleClass(r,e),e&&s.setActiveDescendant(a.attr("id")),f=e,a.attr("aria-checked",e).toggleClass(r,e))}function d(n,i){n.attr({id:o.id||"radio_"+t.nextUid(),role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var f;n(a),d(a,i),o.ngValue?t.nextTick(l,!1):l()}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n)}(),function(){function i(e,i,r,a,o,s,l,u){function d(u,d){var f=t.element("<md-select-value><span></span></md-select-value>");f.append('<span class="md-select-icon" aria-hidden="true"></span>'),f.addClass("md-select-value"),f[0].hasAttribute("id")||f.attr("id","select_value_label_"+i.nextUid());var h=u.find("md-content");if(h.length||u.append(t.element("<md-content>").append(u.contents())),h.attr("role","presentation"),d.mdOnOpen&&(u.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),u.find("md-option").attr("ng-show","$$loadingAsyncDone")),d.name){var m=t.element('<select class="md-visually-hidden">');m.attr({name:d.name,"aria-hidden":"true",tabindex:"-1"});var p=u.find("md-option");t.forEach(p,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),m.append(n)}),m.append('<option ng-value="'+d.ngModel+'" selected></option>'),u.parent().append(m)}var g=i.parseAttributeBoolean(d.multiple),v=g?"multiple":"",b='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';return b=i.supplant(b,[v,u.html()]),u.empty().append(f),u.append(b),d.tabindex||d.$set("tabindex",0),function(u,d,f,h){function m(){var e=d.attr("aria-label")||d.attr("placeholder");!e&&k&&k.label&&(e=k.label.text()),x=e,o.expect(d,"aria-label",e)}function p(){N&&(D=D||N.find("md-select-menu").controller("mdSelectMenu"),T.setLabelText(D.selectedLabels()))}function v(){if(x){var e=D.selectedLabels({mode:"aria"});d.attr("aria-label",e.length?x+": "+e:x)}}function b(){k&&k.setHasValue(D.selectedLabels().length>0||(d[0].validity||{}).badInput)}function y(){if(N=t.element(d[0].querySelector(".md-select-menu-container")),O=u,f.mdContainerClass){var e=N[0].getAttribute("class")+" "+f.mdContainerClass;N[0].setAttribute("class",e)}D=N.find("md-select-menu").controller("mdSelectMenu"),D.init(S,f.ngModel),d.on("$destroy",function(){N.remove()})}function E(e){if(r.isNavigationKey(e))e.preventDefault(),w(e);else if(c(e,r)){e.preventDefault();var n=D.optNodeForKeyboardSearch(e);if(!n||n.hasAttribute("disabled"))return;var i=t.element(n).controller("mdOption");D.isMultiple||D.deselect(Object.keys(D.selected)[0]),D.select(i.hashKey,i.value),D.refreshViewValue()}}function w(){O._mdSelectIsOpen=!0,d.attr("aria-expanded","true"),e.show({scope:O,preserveScope:!0,skipCompile:!0,element:N,target:d[0],selectCtrl:T,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!f.mdOnOpen&&(u.$eval(f.mdOnOpen)||!0)})["finally"](function(){O._mdSelectIsOpen=!1,d.focus(),d.attr("aria-expanded","false"),S.$setTouched()})}var _,x,M=!0,k=h[0],T=h[1],S=h[2],A=h[3],C=d.find("md-select-value"),$=t.isDefined(f.readonly),R=i.parseAttributeBoolean(f.mdNoAsterisk);if(R&&d.addClass("md-no-asterisk"),k){var P=k.isErrorGetter||function(){return S.$invalid&&(S.$touched||A&&A.$submitted)};if(k.input&&d.find("md-select-header").find("input")[0]!==k.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");k.input=d,k.label||o.expect(d,"aria-label",d.attr("placeholder")),u.$watch(P,k.setInvalid)}var N,O,D;y(),a(d),A&&t.isDefined(f.multiple)&&i.nextTick(function(){var e=S.$modelValue||S.$viewValue;e&&A.$setPristine()});var I=S.$render;S.$render=function(){I(),p(),v(),b()},f.$observe("placeholder",S.$render),k&&k.label&&f.$observe("required",function(e){k.label.toggleClass("md-required",e&&!R)}),T.setLabelText=function(e){T.setIsPlaceholder(!e);var t=!1;if(f.mdSelectedText&&f.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(f.mdSelectedText||f.mdSelectedHtml)e=s(f.mdSelectedText||f.mdSelectedHtml)(u),t=!0;else if(!e){var n=f.placeholder||(k&&k.label?k.label.text():"");e=n||"",t=!0}var i=C.children().eq(0);f.mdSelectedHtml?i.html(l.getTrustedHtml(e)):t?i.text(e):i.html(e)},T.setIsPlaceholder=function(e){e?(C.addClass("md-select-placeholder"),k&&k.label&&k.label.addClass("md-placeholder")):(C.removeClass("md-select-placeholder"),k&&k.label&&k.label.removeClass("md-placeholder"))},$||(d.on("focus",function(e){k&&k.setFocused(!0)}),d.on("blur",function(e){M&&(M=!1,O._mdSelectIsOpen&&e.stopImmediatePropagation()),O._mdSelectIsOpen||(k&&k.setFocused(!1),b())})),T.triggerClose=function(){s(f.mdOnClose)(u)},u.$$postDigest(function(){m(),p(),v()}),u.$watch(function(){return D.selectedLabels()},p);var L;f.$observe("ngMultiple",function(e){L&&L();var t=s(e);L=u.$watch(function(){return t(u)},function(e,t){e===n&&t===n||(e?d.attr("multiple","multiple"):d.removeAttr("multiple"),d.attr("aria-multiselectable",e?"true":"false"),N&&(D.setMultiple(e),I=S.$render,S.$render=function(){I(),p(),v(),b()},S.$render()))})}),f.$observe("disabled",function(e){t.isString(e)&&(e=!0),_!==n&&_===e||(_=e,e?d.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",w).off("keydown",E):d.attr({tabindex:f.tabindex,"aria-disabled":"false"}).on("click",w).on("keydown",E))}),f.hasOwnProperty("disabled")||f.hasOwnProperty("ngDisabled")||(d.attr({"aria-disabled":"false"}),d.on("click",w),d.on("keydown",E));var F={role:"listbox","aria-expanded":"false","aria-multiselectable":g&&!f.ngMultiple?"true":"false"};d[0].hasAttribute("id")||(F.id="select_"+i.nextUid());var H="select_container_"+i.nextUid();N.attr("id",H),d.find("md-select-menu").length||(F["aria-owns"]=H),d.attr(F),u.$on("$destroy",function(){e.destroy()["finally"](function(){k&&(k.setFocused(!1),k.setHasValue(!1),k.input=null),S.$setTouched()})})}}var f=r.KEY_CODE;return[f.SPACE,f.ENTER,f.UP_ARROW,f.DOWN_ARROW],{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:d,controller:function(){}}}function r(e,i,r,a){function o(e,n,r,o){function s(e){13!=e.keyCode&&32!=e.keyCode||l(e)}function l(n){var r=i.getClosest(n.target,"md-option"),a=r&&t.element(r).data("$mdOptionController");if(r&&a){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var o=c.hashGetter(a.value),s=t.isDefined(c.selected[o]);e.$apply(function(){c.isMultiple?s?c.deselect(o):c.select(o,a.value):s||(c.deselect(Object.keys(c.selected)[0]),c.select(o,a.value)),c.refreshViewValue()})}}var c=o[0];n.addClass("_md"),a(n),n.on("click",l),n.on("keypress",s)}function s(a,o,s){function l(){var e=u.ngModel.$modelValue||u.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(u.selected),i=e.map(u.hashGetter),r=n.filter(function(e){return i.indexOf(e)===-1});r.forEach(u.deselect),i.forEach(function(t,n){u.select(t,e[n])})}}function c(){var e=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(e),e)}var u=this;u.isMultiple=t.isDefined(o.multiple),u.selected={},u.options={},a.$watchCollection(function(){return u.options},function(){u.ngModel.$render()});var f,h;u.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var i=u.ngModel;h=h||i.$isEmpty,u.isMultiple=e,f&&f(),u.isMultiple?(i.$validators["md-multiple"]=n,i.$render=l,a.$watchCollection(u.modelBinding,function(e){n(e)&&l(e),u.ngModel.$setPristine()}),i.$isEmpty=function(e){return!e||0===e.length}):(delete i.$validators["md-multiple"],i.$render=c)};var m,p,g,v="",b=300;u.optNodeForKeyboardSearch=function(e){m&&clearTimeout(m),m=setTimeout(function(){m=n,v="",g=n,p=n},b);var i=e.keyCode-(r.isNumPadKey(e)?48:0);v+=String.fromCharCode(i);var a=new RegExp("^"+v,"i");p||(p=s.find("md-option"),g=new Array(p.length),t.forEach(p,function(e,t){g[t]=e.textContent.trim()}));for(var o=0;o<g.length;++o)if(a.test(g[o]))return p[o]},u.init=function(n,r){u.ngModel=n,u.modelBinding=r,u.ngModel.$isEmpty=function(e){return!u.options[u.hashGetter(e)]};var o=i.getModelOption(n,"trackBy");if(o){var s={},l=e(o);u.hashGetter=function(e,t){return s.$value=e,l(t||a,s)}}else u.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++d)):e};u.setMultiple(u.isMultiple)},u.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=i.nodesToArray(s[0].querySelectorAll("md-option[selected]"));if(n.length){var r;return"html"==t?r=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var i=e.querySelector(".md-container");return i&&(t=t.replace(i.outerHTML,"")),t}:"aria"==t&&(r=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),i.uniq(n.map(r)).join(", ")}return""},u.select=function(e,t){var n=u.options[e];n&&n.setSelected(!0),u.selected[e]=t},u.deselect=function(e){var t=u.options[e];t&&t.setSelected(!1),delete u.selected[e]},u.addOption=function(e,n){if(t.isDefined(u.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');u.options[e]=n,t.isDefined(u.selected[e])&&(u.select(e,n.value),t.isDefined(u.ngModel.$modelValue)&&u.hashGetter(u.ngModel.$modelValue)===e&&u.ngModel.$validate(),u.refreshViewValue())},u.removeOption=function(e){delete u.options[e]},u.refreshViewValue=function(){var e,n=[];for(var r in u.selected)(e=u.options[r])?n.push(e.value):n.push(u.selected[r]);var a=i.getModelOption(u.ngModel,"trackBy"),o=u.isMultiple?n:n[0],s=u.ngModel.$modelValue;(a?t.equals(s,o):s+""===o)||(u.ngModel.$setViewValue(o),u.ngModel.$render())}}return s.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:s,link:{pre:o}}}function a(e,n,i){function r(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),a(n)||e.attr("md-option-empty",""),o}function a(e){var t=e.value,n=e.ngValue;return t||n}function o(r,a,o,s){function l(e,t,n){if(!d.hashGetter)return void(n||r.$$postDigest(function(){l(e,t,!0)}));var i=d.hashGetter(t,r),a=d.hashGetter(e,r);u.hashKey=a,u.value=e,d.removeOption(i,u),d.addOption(a,u)}function c(){var e={role:"option","aria-selected":"false"};a[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),a.attr(e)}var u=s[0],d=s[1];i(a),d.isMultiple&&(a.addClass("md-checkbox-enabled"),a.prepend(f.clone())),t.isDefined(o.ngValue)?r.$watch(o.ngValue,l):t.isDefined(o.value)?l(o.value):r.$watch(function(){return a.text().trim()},l),o.$observe("disabled",function(e){e?a.attr("tabindex","-1"):a.attr("tabindex","0")}),r.$$postDigest(function(){o.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(d.isMultiple||d.deselect(Object.keys(d.selected)[0]),d.select(u.hashKey,u.value)):d.deselect(u.hashKey),d.refreshViewValue())})}),e.attach(r,a),c(),r.$on("$destroy",function(){d.removeOption(u.hashKey,u)})}function s(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return s.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:s,compile:r}}function o(){function e(e,n){function i(){return e.parent().find("md-select-header").length}function r(){var i=e.find("label");i.length||(i=t.element("<label>"),e.prepend(i)),i.addClass("md-container-ignore"),i.attr("aria-hidden","true"),n.label&&i.text(n.label)}i()||r()}return{restrict:"E",compile:e}}function s(){return{restrict:"E"}}function l(i){function r(i,r,d,f,h,m,p,g,v){function b(e,t,n){function i(){return a=p(t,{addClass:"md-leave"}),a.start()}function r(){o(),t.removeClass("md-active").attr("aria-hidden","true").css("display","none"),t.parent().find("md-select-value").removeAttr("aria-hidden"),E(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}var a=null,o=e.$on("$destroy",function(){a.end()});return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?r():i().then(r)}function y(e,a,o){function s(e,t,n){return n.parent!==t.parent()&&t.parent().attr("aria-owns",t.attr("id")),t.parent().find("md-select-value").attr("aria-hidden","true"),n.parent.append(t),h(function(e,n){try{p(t,{removeClass:"md-leave",duration:0}).start().then(l).then(e)}catch(i){n(i)}})}function l(){return h(function(t){if(o.isRemoved)return h.reject(!1);var n=w(e,a,o);n.container.element.css(x.toCss(n.container.styles)),n.dropDown.element.css(x.toCss(n.dropDown.styles)),m(function(){a.addClass("md-active"),n.dropDown.element.css(x.toCss({transform:""})),t()})})}function u(e,t,n){return n.disableParentScroll&&!d.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=d.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=d.createBackdrop(e,"md-select-backdrop md-click-catcher"),g.enter(n.backdrop,v[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function b(e){e&&!e.hasAttribute("disabled")&&e.focus()}function y(e,n){var i=a.find("md-select-menu");if(!n.target)throw new Error(d.supplant(_,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:i,contentEl:a.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}function E(){var n=function(e,t,n){return function(){if(!n.isRemoved){var i=w(e,t,n),r=i.container,a=i.dropDown;r.element.css(x.toCss(r.styles)),a.element.css(x.toCss(a.styles))}}}(e,a,o),i=t.element(f);return i.on("resize",n),i.on("orientationchange",n),function(){i.off("resize",n),i.off("orientationchange",n)}}function k(){o.loadingAsync&&!o.isRemoved&&(e.$$loadingAsyncDone=!1,h.when(o.loadingAsync).then(function(){e.$$loadingAsyncDone=!0,delete o.loadingAsync}).then(function(){m(l)}))}function T(){function e(e){e.preventDefault(),e.stopPropagation(),o.restoreFocus=!1,d.nextTick(i.hide,!0)}function t(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case M.UP_ARROW:return u();case M.DOWN_ARROW:return l();case M.SPACE:case M.ENTER:var t=d.getClosest(e.target,"md-option");t&&(h.triggerHandler({type:"click",target:t}),e.preventDefault()),f(e);break;case M.TAB:case M.ESCAPE:e.stopPropagation(),e.preventDefault(),o.restoreFocus=!0,d.nextTick(i.hide,!0);break;default:if(c(e,r)){var n=h.controller("mdSelectMenu").optNodeForKeyboardSearch(e);o.focusedNode=n||o.focusedNode,n&&n.focus()}}}function s(e){var t,i=d.nodesToArray(o.optionNodes),r=i.indexOf(o.focusedNode);do r===-1?r=0:"next"===e&&r<i.length-1?r++:"prev"===e&&r>0&&r--,t=i[r],t.hasAttribute("disabled")&&(t=n);while(!t&&r<i.length-1&&r>0);t&&t.focus(),o.focusedNode=t}function l(){s("next")}function u(){s("prev")}function f(e){function t(){var t=!1;if(e&&e.currentTarget.children.length>0){var n=e.currentTarget.children[0],i=n.scrollHeight>n.clientHeight;if(i&&n.children.length>0){var r=e.pageX-e.currentTarget.getBoundingClientRect().left;r>n.querySelector("md-option").offsetWidth&&(t=!0)}}return t}if(!(e&&"click"==e.type&&e.currentTarget!=h[0]||t())){var n=d.getClosest(e.target,"md-option");n&&n.hasAttribute&&!n.hasAttribute("disabled")&&(e.preventDefault(),e.stopPropagation(),m.isMultiple||(o.restoreFocus=!0,d.nextTick(function(){i.hide(m.ngModel.$viewValue)},!0)))}}if(!o.isRemoved){var h=o.selectEl,m=h.controller("mdSelectMenu")||{};return a.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",e),h.on("keydown",t),h.on("click",f),function(){o.backdrop&&o.backdrop.off("click",e),h.off("keydown",t),h.off("click",f),a.removeClass("md-clickable"),o.isRemoved=!0}}}return k(),y(e,o),o.hideBackdrop=u(e,a,o),s(e,a,o).then(function(e){return a.attr("aria-hidden","false"),o.alreadyOpen=!0,o.cleanupInteraction=T(),o.cleanupResizing=E(),b(o.focusedNode),e},o.hideBackdrop)}function E(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}function w(n,i,r){var c,h=i[0],m=r.target[0].children[0],p=v[0].body,g=r.selectEl[0],b=r.contentEl[0],y=p.getBoundingClientRect(),E=m.getBoundingClientRect(),w=!1,_={left:y.left+u,top:u,bottom:y.height-u,right:y.width-u-(d.floatingScrollbars()?16:0)},x={top:E.top-_.top,left:E.left-_.left,right:_.right-(E.left+E.width),bottom:_.bottom-(E.top+E.height)},M=y.width-2*u,k=g.querySelector("md-option[selected]"),T=g.getElementsByTagName("md-option"),S=g.getElementsByTagName("md-optgroup"),A=l(i,b),C=a(r.loadingAsync);c=C?b.firstElementChild||b:k?k:S.length?S[0]:T.length?T[0]:b.firstElementChild||b,b.offsetWidth>M?b.style["max-width"]=M+"px":b.style.maxWidth=null,w&&(b.style["min-width"]=E.width+"px"),A&&g.classList.add("md-overflow");var $=c;"MD-OPTGROUP"===($.tagName||"").toUpperCase()&&($=T[0]||b.firstElementChild||b,c=$),r.focusedNode=$,h.style.display="block";var R=g.getBoundingClientRect(),P=s(c);if(c){var N=f.getComputedStyle(c);P.paddingLeft=parseInt(N.paddingLeft,10)||0,P.paddingRight=parseInt(N.paddingRight,10)||0}if(A){var O=b.offsetHeight/2;b.scrollTop=P.top+P.height/2-O,x.top<O?b.scrollTop=Math.min(P.top,b.scrollTop+O-x.top):x.bottom<O&&(b.scrollTop=Math.max(P.top+P.height-R.height,b.scrollTop-O+x.bottom))}var D,I,L,F,H;w?(D=E.left,I=E.top+E.height,L="50% 0",I+R.height>_.bottom&&(I=E.top-R.height,L="50% 100%")):(D=E.left+P.left-P.paddingLeft+2,I=Math.floor(E.top+E.height/2-P.height/2-P.top+b.scrollTop)+2,
L=P.left+E.width/2+"px "+(P.top+P.height/2-b.scrollTop)+"px 0px",F=Math.min(E.width+P.paddingLeft+P.paddingRight,M),H=e.getComputedStyle(m)["font-size"]);var U=h.getBoundingClientRect(),B=Math.round(100*Math.min(E.width/R.width,1))/100,j=Math.round(100*Math.min(E.height/R.height,1))/100;return{container:{element:t.element(h),styles:{left:Math.floor(o(_.left,D,_.right-U.width)),top:Math.floor(o(_.top,I,_.bottom-U.height)),"min-width":F,"font-size":H}},dropDown:{element:t.element(g),styles:{transformOrigin:L,transform:r.alreadyOpen?"":d.supplant("scale({0},{1})",[B,j])}}}}var _="$mdSelect.show() expected a target element in options.target but got '{0}'!",x=d.dom.animator,M=r.KEY_CODE;return{parent:"body",themable:!0,onShow:y,onRemove:b,hasBackdrop:!0,disableParentScroll:!0}}function a(e){return e&&t.isFunction(e.then)}function o(e,t,n){return Math.max(e,Math.min(t,n))}function s(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function l(e,t){var n=!1;try{var i=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=i}finally{}return n}return r.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],i("$mdSelect").setDefaults({methods:["target"],options:r})}function c(e,t){var n=String.fromCharCode(e.keyCode),i=e.keyCode<=31;return n&&n.length&&!i&&!t.isMetaKey(e)&&!t.isFnLockKey(e)&&!t.hasModifierKey(e)}i.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],r.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],a.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],l.$inject=["$$interimElementProvider"];var u=8,d=0,f=t.element('<div class="md-container"><div class="md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",i).directive("mdSelectMenu",r).directive("mdOption",a).directive("mdOptgroup",o).directive("mdSelectHeader",s).provider("$mdSelect",l)}(),function(){function e(e,t){return["$mdUtil","$window",function(n,i){return{restrict:"A",multiElement:!0,link:function(r,a,o){var s=r.$on("$md-resize-enable",function(){s();var l=a[0],c=l.nodeType===i.Node.ELEMENT_NODE?i.getComputedStyle(l):{};r.$watch(o[e],function(e){if(!!e===t){n.nextTick(function(){r.$broadcast("$md-resize")});var i={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(a,i).then(function(){r.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,i,r,a){function o(e,n){var a=function(){return!1},o=function(){return r.when(i.supplant(c,[n||""]))};return t.extend({isLockedOpen:a,isOpen:a,toggle:o,open:o,close:o,onClose:t.noop,then:function(e){return l(n).then(e||t.noop)}},e)}function s(t,r){var o=e.get(t);return o||r?o:(a.error(i.supplant(c,[t||""])),n)}function l(t){return e.when(t)["catch"](a.error)}var c="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",u={find:s,waitFor:l};return function(e,n){if(t.isUndefined(e))return u;var i=n===!0,r=u.find(e,i);return!r&&i?u.waitFor(e):!r&&t.isUndefined(n)?o(u,e):r}}function i(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,i){}}}function r(e,i,r,a,o,s,l,c,u,d,f,h,m){function p(l,p,g,v){function b(e,t){l.isLockedOpen=e,e===t?p.toggleClass("md-locked-open",!!e):s[e?"addClass":"removeClass"](p,"md-locked-open"),T&&T.toggleClass("md-locked-open",!!e)}function y(e){var t=i.findFocusTarget(p)||i.findFocusTarget(p,"[md-sidenav-focus]")||p,n=p.parent();n[e?"on":"off"]("keydown",x),T&&T[e?"on":"off"]("click",M);var r=E(n,e);return e&&($=f[0].activeElement,S=o.getLastInteractionType()),w(e),R=d.all([e&&T?s.enter(T,n):T?s.leave(T):d.when(!0),s[e?"removeClass":"addClass"](p,"md-closed")]).then(function(){l.isOpen&&(m(function(){N.triggerHandler("resize")}),t&&t.focus()),r&&r()})}function E(e,t){var n=p[0],i=e[0].scrollTop;if(t&&i){A={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var r={top:i+"px",bottom:"auto",height:e[0].clientHeight+"px"};p.css(r),T.css(r)}if(!t&&A)return function(){n.style.top=A.top,n.style.bottom=A.bottom,n.style.height=A.height,T[0].style.top=null,T[0].style.bottom=null,T[0].style.height=null,A=null}}function w(e){e&&!k?(k=C.css("overflow"),C.css("overflow","hidden")):t.isDefined(k)&&(C.css("overflow",k),k=n)}function _(e){return l.isOpen==e?d.when(!0):(l.isOpen&&v.onCloseCb&&v.onCloseCb(),d(function(t){l.isOpen=e,i.nextTick(function(){R.then(function(e){!l.isOpen&&$&&"keyboard"===S&&($.focus(),$=null),t(e)})})}))}function x(e){var t=e.keyCode===r.KEY_CODE.ESCAPE;return t?M(e):d.when(!0)}function M(e){return e.preventDefault(),v.close()}var k,T,S,A,C=null,$=null,R=d.when(!0),P=c(g.mdIsLockedOpen),N=t.element(h),O=function(){return P(l.$parent,{$media:function(t){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})};g.mdDisableScrollTarget&&(C=f[0].querySelector(g.mdDisableScrollTarget),C?C=t.element(C):u.warn(i.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),C||(C=p.parent()),g.hasOwnProperty("mdDisableBackdrop")||(T=i.createBackdrop(l,"md-sidenav-backdrop md-opaque ng-enter")),p.addClass("_md"),a(p),T&&a.inherit(T,p),p.on("$destroy",function(){T&&T.remove(),v.destroy()}),l.$on("$destroy",function(){T&&T.remove()}),l.$watch(O,b),l.$watch("isOpen",y),v.$toggleOpen=_}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),p}}}function a(e,t,n,i,r){var a=this;a.isOpen=function(){return!!e.isOpen},a.isLockedOpen=function(){return!!e.isLockedOpen},a.onClose=function(e){return a.onCloseCb=e,a},a.open=function(){return a.$toggleOpen(!0)},a.close=function(){return a.$toggleOpen(!1)},a.toggle=function(){return a.$toggleOpen(!e.isOpen)},a.$toggleOpen=function(t){return i.when(e.isOpen=t)};var o=t.mdComponentId,s=o&&o.indexOf(r.startSymbol())>-1,l=s?r(o)(e.$parent):o;a.destroy=n.register(a,l),s&&t.$observe("mdComponentId",function(e){e&&e!==a.$$mdHandle&&(a.destroy(),a.destroy=n.register(a,e))})}e.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],r.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],a.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",r).directive("mdSidenavFocus",i).controller("$mdSidenavController",a)}(),function(){function e(){return{controller:function(){},compile:function(e){var i=e.find("md-slider");if(i){var r=i.attr("md-vertical");return r!==n&&e.attr("md-vertical",""),i.attr("flex")||i.attr("flex",""),function(e,n,i,r){function a(e){n.children().attr("disabled",e),n.find("input").attr("disabled",e)}n.addClass("_md");var o=t.noop;i.disabled?a(!0):i.ngDisabled&&(o=e.$watch(i.ngDisabled,function(e){a(e)})),e.$on("$destroy",function(){o()});var s;r.fitInputWidthToTextLength=function(e){var t=n[0].querySelector("md-input-container");if(t){var i=getComputedStyle(t),r=parseInt(i.minWidth),a=2*parseInt(i.padding);s=s||parseInt(i.maxWidth);var o=Math.max(s,r+a+r/2*e);t.style.maxWidth=o+"px"}}}}}}}function i(e,n,i,r,a,o,s,l,c,u){function d(e,n){var r=t.element(e[0].getElementsByClassName("md-slider-wrapper")),a=n.tabindex||0;return r.attr("tabindex",a),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),r.attr("role","slider"),i.expect(e,"aria-label"),f}function f(i,d,f,h){function m(){_(),C()}function p(e){le=parseFloat(e),d.attr("aria-valuemin",e),m()}function g(e){ce=parseFloat(e),d.attr("aria-valuemax",e),m()}function v(e){ue=parseFloat(e)}function b(e){de=$(parseInt(e),0,6)}function y(){d.attr("aria-disabled",!!q())}function E(){if(re&&!q()&&!t.isUndefined(ue)){if(ue<=0){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var i=Math.floor((ce-le)/ue);fe||(fe=t.element("<canvas>").css("position","absolute"),Q.append(fe),he=fe[0].getContext("2d"));var r=x();!r||r.height||r.width||(_(),r=me),fe[0].width=r.width,fe[0].height=r.height;for(var a,o=0;o<=i;o++){var s=n.getComputedStyle(Q[0]);he.fillStyle=s.color||"black",a=Math.floor((ie?r.height:r.width)*(o/i)),he.fillRect(ie?0:a-1,ie?a-1:0,ie?r.width:2,ie?2:r.height)}}}function w(){if(fe&&he){var e=x();he.clearRect(0,0,e.width,e.height)}}function _(){me=Z[0].getBoundingClientRect()}function x(){return te(),me}function M(e){if(!q()){var t;(ie?e.keyCode===a.KEY_CODE.DOWN_ARROW:e.keyCode===a.KEY_CODE.LEFT_ARROW)?t=-ue:(ie?e.keyCode===a.KEY_CODE.UP_ARROW:e.keyCode===a.KEY_CODE.RIGHT_ARROW)&&(t=ue),t=ae?-t:t,t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),i.$evalAsync(function(){A(W.$viewValue+t)}))}}function k(){E(),i.mouseActive=!0,ee.removeClass("md-focused"),u(function(){i.mouseActive=!1},100)}function T(){i.mouseActive===!1&&ee.addClass("md-focused")}function S(){ee.removeClass("md-focused"),d.removeClass("md-active"),w()}function A(e){W.$setViewValue($(R(e)))}function C(){isNaN(W.$viewValue)&&(W.$viewValue=W.$modelValue),W.$viewValue=$(W.$viewValue);var e=z(W.$viewValue);i.modelValue=W.$viewValue,d.attr("aria-valuenow",W.$viewValue),P(e),X.text(W.$viewValue)}function $(e,n,i){if(t.isNumber(e))return n=t.isNumber(n)?n:le,i=t.isNumber(i)?i:ce,Math.max(n,Math.min(i,e))}function R(e){if(t.isNumber(e)){var n=Math.round((e-le)/ue)*ue+le;return n=Math.round(n*Math.pow(10,de))/Math.pow(10,de),G&&G.fitInputWidthToTextLength&&r.debounce(function(){G.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function P(e){e=B(e);var t=100*e+"%",n=ae?100*(1-e)+"%":t;ie?K.css("bottom",t):r.bidiProperty(K,"left","right",t),J.css(ie?"height":"width",n),d.toggleClass(ae?"md-max":"md-min",0===e),d.toggleClass(ae?"md-min":"md-max",1===e)}function N(e){if(!q()){d.addClass("md-active"),d[0].focus(),_();var t=V(j(ie?e.pointer.y:e.pointer.x)),n=$(R(t));i.$apply(function(){A(n),P(z(n))})}}function O(e){if(!q()){d.removeClass("md-dragging");var t=V(j(ie?e.pointer.y:e.pointer.x)),n=$(R(t));i.$apply(function(){A(n),C()})}}function D(e){q()||(pe=!0,e.stopPropagation(),d.addClass("md-dragging"),F(e))}function I(e){pe&&(e.stopPropagation(),F(e))}function L(e){pe&&(e.stopPropagation(),pe=!1)}function F(e){re?U(ie?e.pointer.y:e.pointer.x):H(ie?e.pointer.y:e.pointer.x)}function H(e){i.$evalAsync(function(){A(V(j(e)))})}function U(e){var t=V(j(e)),n=$(R(t));P(j(e)),X.text(n)}function B(e){return Math.max(0,Math.min(e||0,1))}function j(e){var t=ie?me.top:me.left,n=ie?me.height:me.width,i=(e-t)/n;return ie||"rtl"!==r.bidi()||(i=1-i),Math.max(0,Math.min(1,ie?1-i:i))}function V(e){var t=ae?1-e:e;return le+t*(ce-le)}function z(e){var t=(e-le)/(ce-le);return ae?1-t:t}o(d);var W=h[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},G=h[1],q=(t.element(r.getClosest(d,"_md-slider-container",!0)),f.ngDisabled?t.bind(null,l(f.ngDisabled),i.$parent):function(){return d[0].hasAttribute("disabled")}),Y=t.element(d[0].querySelector(".md-thumb")),X=t.element(d[0].querySelector(".md-thumb-text")),K=Y.parent(),Z=t.element(d[0].querySelector(".md-track-container")),J=t.element(d[0].querySelector(".md-track-fill")),Q=t.element(d[0].querySelector(".md-track-ticks")),ee=t.element(d[0].getElementsByClassName("md-slider-wrapper")),te=(t.element(d[0].getElementsByClassName("md-slider-content")),r.throttle(_,5e3)),ne=3,ie=t.isDefined(f.mdVertical),re=t.isDefined(f.mdDiscrete),ae=t.isDefined(f.mdInvert);t.isDefined(f.min)?f.$observe("min",p):p(0),t.isDefined(f.max)?f.$observe("max",g):g(100),t.isDefined(f.step)?f.$observe("step",v):v(1),t.isDefined(f.round)?f.$observe("round",b):b(ne);var oe=t.noop;f.ngDisabled&&(oe=i.$parent.$watch(f.ngDisabled,y)),s.register(ee,"drag",{horizontal:!ie}),i.mouseActive=!1,ee.on("keydown",M).on("mousedown",k).on("focus",T).on("blur",S).on("$md.pressdown",N).on("$md.pressup",O).on("$md.dragstart",D).on("$md.drag",I).on("$md.dragend",L),setTimeout(m,0);var se=e.throttle(m);t.element(n).on("resize",se),i.$on("$destroy",function(){t.element(n).off("resize",se)}),W.$render=C,W.$viewChangeListeners.push(C),W.$formatters.push($),W.$formatters.push(R);var le,ce,ue,de,fe,he,me={};_();var pe=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:d}}i.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],t.module("material.components.slider",["material.core"]).directive("mdSlider",i).directive("mdSliderContainer",e)}(),function(){function e(e,t,i,r){function a(r){function a(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return p.items.push(n),i.nextTick(function(){h.prepend(n.clone)}),m(),function(){p.items.forEach(function(t,n){t.element[0]===e[0]&&(p.items.splice(n,1),t.clone.remove())}),m()}}function s(){p.items.forEach(l),p.items=p.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=h.prop("scrollTop"),n=p.items.length-1;n>=0;n--)if(t>p.items[n].top){e=p.items[n];break}u(e)}function l(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==h[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var r=i.floatingScrollbars()?"0":n;i.bidi(e.clone,"margin-left",e.left,r),i.bidi(e.clone,"margin-right",r,e.right)}function c(){var e=h.prop("scrollTop"),t=e>(c.prevScrollTop||0);if(c.prevScrollTop=e,0===e)return void u(null);if(t){if(p.next&&p.next.top<=e)return void u(p.next);if(p.current&&p.next&&p.next.top-e<=p.next.height)return void f(p.current,e+(p.next.top-p.next.height-e))}if(!t){if(p.current&&p.prev&&e<p.current.top)return void u(p.prev);if(p.next&&p.current&&e>=p.next.top-p.current.height)return void f(p.current,e+(p.next.top-e-p.current.height))}p.current&&f(p.current,e)}function u(e){if(p.current!==e){p.current&&(f(p.current,null),d(p.current,null)),e&&d(e,"active"),p.current=e;var t=p.items.indexOf(e);p.next=p.items[t+1],p.prev=p.items[t-1],d(p.next,"next"),d(p.prev,"prev")}}function d(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function f(t,r){t&&(null===r||r===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=r,i.bidi(t.clone,e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+r+"px,0)","translateY("+r+"px)")))}var h=r.$element,m=t.throttle(s);o(h),h.on("$scrollstart",m),h.on("$scroll",c);var p;return p={prev:null,current:null,next:null,items:[],add:a,refreshElements:s}}function o(e){function n(){+i.now()-a>o?(r=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),t.throttle(n))}var r,a,o=200;e.on("scroll touchmove",function(){r||(r=!0,t.throttle(n),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),a=+i.now()})}var s=i.checkStickySupport();return function(e,t,n){var i=t.controller("mdContent");if(i)if(s)t.css({position:s,top:0,"z-index":2});else{var o=i.$element.data("$$sticky");o||(o=a(i),i.$element.data("$$sticky",o));var l=n||r(t.clone())(e),c=o.add(t,l);e.$on("$destroy",c)}}}e.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e)}(),function(){function e(e,n,i,r,a){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(o,s,l,c,u){function d(e){return t.element(e[0].querySelector(".md-subheader-content"))}i(s),s.addClass("_md"),r.prefixer().removeAttribute(s,"ng-repeat");var f=s[0].outerHTML;l.$set("role","heading"),a.expect(s,"aria-level","2"),u(o,function(e){d(s).append(e)}),s.hasClass("md-no-sticky")||u(o,function(t){var i=n('<div class="md-subheader-wrapper" aria-hidden="true">'+f+"</div>")(o);r.nextTick(function(){d(i).append(t)}),e(o,s,i)})}}}e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e)}(),function(){function e(e){function t(e){function t(t,r,a){var o=e(a[n]);r.on(i,function(e){t.$applyAsync(function(){o(t,{$event:e})})})}return{restrict:"A",link:t}}t.$inject=["$parse"];var n="md"+e,i="$md."+e.toLowerCase();return t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,i,r,a,o,s){function l(e,l){var u=c.compile(e,l).post;return e.addClass("md-dragging"),function(e,l,c,d){function f(t){v&&v(e)||(t.stopPropagation(),l.addClass("md-dragging"),w={width:b.prop("offsetWidth")})}function h(e){if(w){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/w.width,n=g.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),b.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),w.translate=n}}function m(t){if(w){t.stopPropagation(),l.removeClass("md-dragging"),b.css(i.CSS.TRANSFORM,"");var n=g.$viewValue?w.translate<.5:w.translate>.5;n&&p(!g.$viewValue),w=null,e.skipToggle=!0,s(function(){e.skipToggle=!1},1)}}function p(t){e.$apply(function(){g.$setViewValue(t),g.$render()})}var g=(d[0],d[1]||n.fakeNgModel()),v=(d[2],null);null!=c.disabled?v=function(){return!0}:c.ngDisabled&&(v=r(c.ngDisabled));var b=t.element(l[0].querySelector(".md-thumb-container")),y=t.element(l[0].querySelector(".md-container")),E=t.element(l[0].querySelector(".md-label"));a(function(){l.removeClass("md-dragging")}),u(e,l,c,d),v&&e.$watch(v,function(e){l.attr("tabindex",e?-1:0)}),c.$observe("mdInvert",function(e){var t=n.parseAttributeBoolean(e);t?l.prepend(E):l.prepend(y),l.toggleClass("md-inverted",t)}),o.register(y,"drag"),y.on("$md.dragstart",f).on("$md.drag",h).on("$md.dragend",m);var w}}var c=e[0];return{restrict:"E",priority:i.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:l}}e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e)}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(){function e(e,t){var i,r,a=e.canvas,o=n(e);for(i=0;i<o.length;i++)if(o[i]>=t){r=o[i];break}return Math.max(0,r-a.clientWidth)}function t(e,t){var r,a,o=e.canvas,s=i(e)-o.clientWidth,l=n(e);for(r=0;r<l.length,l[r]<=t+o.clientWidth;r++)a=l[r];return Math.min(s,a)}function n(e){var t,n,i=0,r=[];for(t=0;t<e.tabs.length;t++)n=e.tabs[t],r.push(i),i+=n.offsetWidth;return r}function i(e){var t,n,i=0;for(t=0;t<e.tabs.length;t++)n=e.tabs[t],i+=n.offsetWidth;return i}return{decreasePageOffset:e,increasePageOffset:t,getTabOffsets:n,getTotalTabsWidth:i}}t.module("material.components.tabs").service("MdTabsPaginationService",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){a=e}function i(e,t){this.$onInit=function(){var n=this;n.highlightAction&&(t.highlightClasses=["md-highlight",n.highlightClass]),t.$watch(function(){return a},function(){n.content=a}),this.resolve=function(){e.hide(o)}}}function r(e,n,i,r){function o(t,o,s){a=s.textContent||s.content;var u=!r("gt-sm");return o=i.extractElementByName(o,"md-toast",!0),s.element=o,s.onSwipe=function(e,t){var r=e.type.replace("$md.",""),a=r.replace("swipe","");"down"===a&&s.position.indexOf("top")!=-1&&!u||"up"===a&&(s.position.indexOf("bottom")!=-1||u)||("left"!==a&&"right"!==a||!u)&&(o.addClass("md-"+r),i.nextTick(n.cancel))},s.openClass=l(s.position),o.addClass(s.toastClass),s.parent.addClass(s.openClass),i.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),o.on(c,s.onSwipe),o.addClass(u?"md-bottom":s.position.split(" ").map(function(e){return"md-"+e}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),e.enter(o,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,n,r){return n.off(c,r.onSwipe),r.parent&&r.parent.addClass("md-toast-animating"),r.openClass&&r.parent.removeClass(r.openClass),(1==r.$destroy?n.remove():e.leave(n)).then(function(){r.parent&&r.parent.removeClass("md-toast-animating"),i.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","")})}function l(e){return r("gt-xs")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var c="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:o,onRemove:s,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var i=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(i){var r=document.createElement("md-template");r.innerHTML=e;for(var a=0;a<r.children.length;a++)if("MD-TOAST"===r.children[a].nodeName){var o=t.element('<div class="md-toast-content">');o.append(t.element(r.children[a].childNodes)),r.children[a].appendChild(o[0])}return r.innerHTML}return e||""}}}i.$inject=["$mdToast","$scope"],r.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var a,o="ok",s=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:r}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:i,theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return s}e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"],t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n)}(),function(){function e(e,n,i,r,a){var o=t.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,c){function u(){function r(e){var t=l.parent().find("md-content");!p&&t.length&&u(null,t),e=s.$eval(e),e===!1?g():g=f()}function u(e,t){t&&l.parent()[0]===t.parent()[0]&&(p&&p.off("scroll",E),p=t,g=f())}function d(e){var t=e?e.target.scrollTop:b;w(),v=Math.min(m/y,Math.max(0,v+t-b)),l.css(n.CSS.TRANSFORM,o([-v*y])),p.css(n.CSS.TRANSFORM,o([(m-v)*y])),b=t,i.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!v?a.removeClass(l,"md-whiteframe-z1"):!e&&v&&a.addClass(l,"md-whiteframe-z1")})}function f(){return p?(p.on("scroll",E),p.attr("scroll-shrink","true"),i.nextTick(h,!1),function(){p.off("scroll",E),p.attr("scroll-shrink","false"),h()}):t.noop}function h(){m=l.prop("offsetHeight");var e=-m*y+"px";p.css({"margin-top":e,"margin-bottom":e}),d()}var m,p,g=t.noop,v=0,b=0,y=c.mdShrinkSpeedFactor||.5,E=e.throttle(d),w=i.debounce(h,5e3);s.$on("$mdContentLoaded",u),c.$observe("mdScrollShrink",r),c.ngShow&&s.$watch(c.ngShow,h),c.ngHide&&s.$watch(c.ngHide,h),s.$on("$destroy",g)}l.addClass("_md"),r(l),i.nextTick(function(){l.addClass("_md-toolbar-transitions")},!1),t.isDefined(c.mdScrollShrink)&&u()}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e)}(),function(){function n(e,n,i,r,a,o,s,l){function c(c,g,v){function b(){c.mdZIndex=c.mdZIndex||f,c.mdDelay=c.mdDelay||h,p[c.mdDirection]||(c.mdDirection=m)}function y(e){var t=e||a(g.text().trim())(c.$parent);(!O.attr("aria-label")&&!O.attr("aria-labelledby")||O.attr("md-labeled-by-tooltip"))&&(O.attr("aria-label",t),O.attr("md-labeled-by-tooltip")||O.attr("md-labeled-by-tooltip",N))}function E(){b(),$&&$.panelEl&&$.panelEl.removeClass(S),S="md-origin-"+c.mdDirection,A=p[c.mdDirection],C=s.newPanelPosition().relativeTo(O).addPanelPosition(A.x,A.y),$&&$.panelEl&&($.panelEl.addClass(S),$.updatePosition(C))}function w(){function t(e){return e.some(function(e){return"disabled"===e.attributeName&&O[0].disabled}),!1}function i(){x(!1)}function a(){L=document.activeElement===O[0]}function s(e){"focus"===e.type&&L?L=!1:c.mdVisible||(O.on(d,f),x(!0),"touchstart"===e.type&&O.one("touchend",function(){o.nextTick(function(){r.one("touchend",f)},!1)}))}function f(){R=c.hasOwnProperty("mdAutohide")?c.mdAutohide:v.hasOwnProperty("mdAutohide"),(R||I||r[0].activeElement!==O[0])&&(P&&(e.cancel(P),x.queued=!1,P=null),O.off(d,f),O.triggerHandler("blur"),x(!1)),I=!1}function h(){I=!0}function m(){l.deregister("scroll",i,!0),l.deregister("blur",a),l.deregister("resize",D),O.off(u,s).off(d,f).off("mousedown",h),f(),p&&p.disconnect()}if(O[0]&&"MutationObserver"in n){var p=new MutationObserver(function(e){t(e)&&o.nextTick(function(){x(!1)})});p.observe(O[0],{attributes:!0})}L=!1,l.register("scroll",i,!0),l.register("blur",a),l.register("resize",D),c.$on("$destroy",m),O.on("mousedown",h),O.on(u,s)}function _(){function e(){c.$destroy()}if(g[0]&&"MutationObserver"in n){var t=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||c.visibleWatcher||(c.visibleWatcher=c.$watch("mdVisible",M))})});t.observe(g[0],{attributes:!0}),v.hasOwnProperty("mdVisible")&&(c.visibleWatcher=c.$watch("mdVisible",M))}else c.visibleWatcher=c.$watch("mdVisible",M);c.$watch("mdDirection",E),g.one("$destroy",e),O.one("$destroy",e),c.$on("$destroy",function(){x(!1),$&&$.destroy(),t&&t.disconnect(),g.remove()}),g.text().indexOf(a.startSymbol())>-1&&c.$watch(function(){return g.text().trim()},y)}function x(t){x.queued&&x.value===!!t||!x.queued&&c.mdVisible===!!t||(x.value=!!t,x.queued||(t?(x.queued=!0,P=e(function(){c.mdVisible=x.value,x.queued=!1,P=null,c.visibleWatcher||M(c.mdVisible)},c.mdDelay)):o.nextTick(function(){c.mdVisible=!1,c.visibleWatcher||M(!1)})))}function M(e){e?k():T()}function k(){if(!g[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!$){var e=t.element(document.body),n=s.newPanelAnimation().openFrom(O).closeTo(O).withAnimation({open:"md-show",close:"md-hide"}),i={id:N,attachTo:e,contentElement:g,propagateContainerEvents:!0,panelClass:"md-tooltip "+S,animation:n,position:C,zIndex:c.mdZIndex,focusOnOpen:!1};$=s.create(i)}$.open().then(function(){$.panelEl.attr("role","tooltip")})}function T(){$&&$.close()}var S,A,C,$,R,P,N="md-tooltip-"+o.nextUid(),O=o.getParentWithPointerEvents(g),D=i.throttle(E),I=!1,L=null;b(),y(),g.detach(),E(),w(),_()}var u="focus touchstart mouseenter",d="blur touchcancel mouseleave",f=100,h=0,m="bottom",p={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:c}}function i(){function n(e){a[e.type]&&a[e.type].forEach(function(t){t.call(this,e)},this)}function i(t,i,r){var s=a[t]=a[t]||[];s.length||(r?e.addEventListener(t,n,!0):o.on(t,n)),s.indexOf(i)===-1&&s.push(i)}function r(t,i,r){var s=a[t],l=s?s.indexOf(i):-1;l>-1&&(s.splice(l,1),0===s.length&&(r?e.removeEventListener(t,n,!0):o.off(t,n)))}var a={},o=t.element(e);return{register:i,deregister:r}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],t.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",i)}(),function(){function e(){return{restrict:"AE",controller:n,controllerAs:"$ctrl",bindToController:!0}}function n(e){e.addClass("md-truncate")}n.$inject=["$element"],t.module("material.components.truncate",["material.core"]).directive("mdTruncate",e)}(),function(){function e(){return{controller:i,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+e[0].innerHTML+"</div></div>"}function i(e,n,i,r,a,o,s,l,c){this.$rootScope=a,this.$scope=s,this.$element=l,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=i.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=l[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var u=t.bind(this,this.updateSize);e(t.bind(this,function(){u();var e=n.debounce(u,10,null,!1),i=t.element(o);this.size||e(),i.on("resize",e),s.$on("$destroy",function(){i.off("resize",e)}),s.$emit("$md-resize-enable"),s.$on("$md-resize",u)}))}function r(e){return{controller:a,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var i=n.mdVirtualRepeat,r=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),a=r[1],o=e(r[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,i,r){i[0].link_(i[1],r,a,o,s)}}}}function a(e,n,i,r,a,o,s,l){this.$scope=e,this.$element=n,this.$attrs=i,this.$browser=r,this.$document=a,this.$mdUtil=l,this.$rootScope=o,this.$$rAF=s,this.onDemand=l.parseAttributeBoolean(i.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,
this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function o(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}function s(e){return{restrict:"A",link:function(e,t,n){var i=e.$eval(n.mdForceHeight)||null;i&&t&&(t[0].style.height=i)}}}i.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],a.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],r.$inject=["$parse"],t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",r).directive("mdForceHeight",s);var l=3;i.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},i.prototype.isHorizontal=function(){return this.horizontal},i.prototype.getSize=function(){return this.size},i.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},i.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},i.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},i.prototype.getScrollSize=function(){return this.scrollSize},i.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},i.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var i=Math.floor(e/this.maxElementPixels),r=document.createElement("div");r.style[t]=this.maxElementPixels+"px",r.style[n]="1px";for(var a=0;a<i;a++)this.sizer.appendChild(r.cloneNode(!1));r.style[t]=e-i*this.maxElementPixels+"px",this.sizer.appendChild(r)}},i.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},i.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},i.prototype.getScrollOffset=function(){return this.scrollOffset},i.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},i.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},i.prototype.resetScroll=function(){this.scrollTo(0)},i.prototype.handleScroll_=function(){var e="rtl"!=document.dir&&"rtl"!=document.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(t===this.scrollOffset||t>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var i=Math.max(0,Math.floor(t/n)-l),r=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?i*n:-(i*n))+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var a=Math.floor(t/n);a!==this.topIndex&&a<this.repeater.getItemCount()&&(this.topIndex=a,this.bindTopIndex.assign(this.$scope,a),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},a.Block,a.prototype.link_=function(e,n,i,r,a){this.container=e,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=r,this.extraName=a,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},a.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(e){e.element.remove()})},a.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},a.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new o(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},a.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof o&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))},a.prototype.getItemSize=function(){return this.itemSize},a.prototype.getItemCount=function(){return this.itemsLength},a.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var i=e&&e.length||0,r=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var a=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(a)}i!==this.itemsLength&&(r=!0,this.itemsLength=i),this.items=e,(e!==n||r)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(i*this.itemSize),Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var o,s,l=[],c=[];for(o=this.newStartIndex;o<this.newEndIndex&&null==this.blocks[o];o++)s=this.getBlock_(o),this.updateBlock_(s,o),l.push(s);for(;null!=this.blocks[o];o++)this.updateBlock_(this.blocks[o],o);for(var u=o-1;o<this.newEndIndex;o++)s=this.getBlock_(o),this.updateBlock_(s,o),c.push(s);if(l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[u]&&this.blocks[u].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var d=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(d)}.bind(this))}this.isVirtualRepeatUpdating_=!1},a.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,i){n={element:t,"new":!0,scope:i},this.updateScope_(i,e),this.parentNode.appendChild(t[0])})),n},a.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},a.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},a.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},a.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},a.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+l,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-l)},o.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},s.$inject=["$mdUtil"]}(),function(){function e(e){function t(t,o,s){var l="";s.$observe("mdWhiteframe",function(t){t=parseInt(t,10)||a,t!=n&&(t>r||t<i)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between "+i+" and "+r,o[0]),t=a);var c=t==n?"":"md-whiteframe-"+t+"dp";s.$updateClass(c,l),l=c})}var n=-1,i=1,r=24,a=4;return{link:t}}e.$inject=["$log"],t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",e)}(),function(){function e(e,s,l,c,u,d,f,h,m,p,g,v){function b(){l.initOptionalProperties(e,m,{searchText:"",selectedItem:null,clearButton:!1}),u(s),x(),l.nextTick(function(){T(),w(),e.autofocus&&s.on("focus",_)})}function y(){e.requireMatch&&Pe&&Pe.$setValidity("md-require-match",!!e.selectedItem||!e.searchText)}function E(){function t(){var e=0,t=s.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=ke.scrollContainer.getBoundingClientRect(),t={};e.right>h.right-a&&(t.left=d.right-e.width+"px"),ke.$.scrollContainer.css(t)}if(!ke)return l.nextTick(E,!1,e);var c,u=(e.dropdownItems||r)*i,d=ke.wrap.getBoundingClientRect(),f=ke.snap.getBoundingClientRect(),h=ke.root.getBoundingClientRect(),p=f.bottom-h.top,g=h.bottom-f.top,v=d.left-h.left,b=d.width,y=t(),w=e.dropdownPosition;if(w||(w=p>g&&h.height-p-a<u?"top":"bottom"),m.mdFloatingLabel&&(v+=o,b-=2*o),c={left:v+"px",minWidth:b+"px",maxWidth:Math.max(d.right-h.left,h.right-d.left)-a+"px"},"top"===w)c.top="auto",c.bottom=g+"px",c.maxHeight=Math.min(u,d.top-h.top-a)+"px";else{var _=h.bottom-d.bottom-a+l.getViewportTop();c.top=p-y+"px",c.bottom="auto",c.maxHeight=Math.min(u,_)+"px"}ke.$.scrollContainer.css(c),l.nextTick(n,!1)}function w(){ke.$.root.length&&(u(ke.$.scrollContainer),ke.$.scrollContainer.detach(),ke.$.root.append(ke.$.scrollContainer),f.pin&&f.pin(ke.$.scrollContainer,h))}function _(){ke.input.focus()}function x(){var n=parseInt(e.delay,10)||0;m.$observe("disabled",function(e){_e.isDisabled=l.parseAttributeBoolean(e,!1)}),m.$observe("required",function(e){_e.isRequired=l.parseAttributeBoolean(e,!1)}),m.$observe("readonly",function(e){_e.isReadonly=l.parseAttributeBoolean(e,!1)}),e.$watch("searchText",n?l.debounce(U,n):U),e.$watch("selectedItem",O),t.element(d).on("resize",Ne),e.$on("$destroy",M)}function M(){if(_e.hidden||l.enableScrolling(),t.element(d).off("resize",Ne),ke){var e=["ul","scroller","scrollContainer","input"];t.forEach(e,function(e){ke.$[e].remove()})}}function k(){_e.hidden||E()}function T(){var e=S();ke={main:s[0],scrollContainer:s[0].querySelector(".md-virtual-repeat-container"),scroller:s[0].querySelector(".md-virtual-repeat-scroller"),ul:s.find("ul")[0],input:s.find("input")[0],wrap:e.wrap,snap:e.snap,root:document.body},ke.li=ke.ul.getElementsByTagName("li"),ke.$=A(ke),Pe=ke.$.input.controller("ngModel")}function S(){var e,n;for(e=s;e.length&&(n=e.attr("md-autocomplete-snap"),!t.isDefined(n));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===n.toLowerCase()?e[0]:s.find("md-autocomplete-wrap")[0]};var i=s.find("md-autocomplete-wrap")[0];return{snap:i,wrap:i}}function A(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.element(e[i]));return n}function C(e,n){!e&&n?(E(),fe(!0,Oe.Count|Oe.Selected),ke&&(l.disableScrollAround(ke.ul),Re=$(t.element(ke.wrap)))):e&&!n&&(l.enableScrolling(),Re&&(Re(),Re=null))}function $(e){function t(e){e.preventDefault()}return e.on("wheel",t),e.on("touchmove",t),function(){e.off("wheel",t),e.off("touchmove",t)}}function R(){Se=!0}function P(){Ce||_e.hidden||ke.input.focus(),Se=!1,_e.hidden=K()}function N(){ke.input.focus()}function O(n,i){y(),n?G(n).then(function(t){e.searchText=t,L(n,i)}):i&&e.searchText&&G(i).then(function(n){t.isString(e.searchText)&&n.toString().toLowerCase()===e.searchText.toLowerCase()&&(e.searchText="")}),n!==i&&D()}function D(){t.isFunction(e.itemChange)&&e.itemChange(q(e.selectedItem))}function I(){t.isFunction(e.textChange)&&e.textChange()}function L(e,t){Ae.forEach(function(n){n(e,t)})}function F(e){Ae.indexOf(e)==-1&&Ae.push(e)}function H(e){var t=Ae.indexOf(e);t!=-1&&Ae.splice(t,1)}function U(t,n){_e.index=Y(),t!==n&&(y(),G(e.selectedItem).then(function(i){t!==i&&(e.selectedItem=null,t!==n&&I(),ae()?be():(_e.matches=[],X(!1),fe(!1,Oe.Count)))}))}function B(e){Ce=!1,Se||(_e.hidden=K(),we("ngBlur",{$event:e}))}function j(e){e&&(Se=!1,Ce=!1),ke.input.blur()}function V(e){Ce=!0,Z()&&ae()&&be(),_e.hidden=K(),we("ngFocus",{$event:e})}function z(t){switch(t.keyCode){case c.KEY_CODE.DOWN_ARROW:if(_e.loading)return;t.stopPropagation(),t.preventDefault(),_e.index=Math.min(_e.index+1,_e.matches.length-1),me(),fe(!1,Oe.Selected);break;case c.KEY_CODE.UP_ARROW:if(_e.loading)return;t.stopPropagation(),t.preventDefault(),_e.index=_e.index<0?_e.matches.length-1:Math.max(0,_e.index-1),me(),fe(!1,Oe.Selected);break;case c.KEY_CODE.TAB:if(P(),_e.hidden||_e.loading||_e.index<0||_e.matches.length<1)return;se(_e.index);break;case c.KEY_CODE.ENTER:if(_e.hidden||_e.loading||_e.index<0||_e.matches.length<1)return;if(ne())return;t.stopPropagation(),t.preventDefault(),se(_e.index);break;case c.KEY_CODE.ESCAPE:if(t.preventDefault(),!J())return;t.stopPropagation(),ce(),e.searchText&&Q("clear")&&ue(),_e.hidden=!0,Q("blur")&&j(!0)}}function W(){return t.isNumber(e.minLength)?e.minLength:1}function G(n){function i(t){return t&&e.itemText?e.itemText(q(t)):null}return p.when(i(n)||n).then(function(e){return e&&!t.isString(e)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e})}function q(e){if(!e)return n;var t={};return _e.itemName&&(t[_e.itemName]=e),t}function Y(){return e.autoselect?0:-1}function X(e){_e.loading!=e&&(_e.loading=e),_e.hidden=K()}function K(){return!Z()||!ee()}function Z(){return!(_e.loading&&!te()||ne()||!Ce)}function J(){return Q("blur")||!_e.hidden||_e.loading||Q("clear")&&e.searchText}function Q(t){return!e.escapeOptions||e.escapeOptions.toLowerCase().indexOf(t)!==-1}function ee(){return ae()&&te()||ve()}function te(){return!!_e.matches.length}function ne(){return!!_e.scope.selectedItem}function ie(){return _e.loading&&!ne()}function re(){return G(_e.matches[_e.index])}function ae(){return(e.searchText||"").length>=W()}function oe(e,t,n){Object.defineProperty(_e,e,{get:function(){return n},set:function(e){var i=n;n=e,t(e,i)}})}function se(t){l.nextTick(function(){G(_e.matches[t]).then(function(e){var t=ke.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=_e.matches[t],X(!1)})},!1)}function le(){ce(),ue()}function ce(){_e.index=0,_e.matches=[]}function ue(){X(!0),e.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),ke.input.dispatchEvent(t),ke.input.blur(),e.searchText="",ke.input.focus()}function de(n){function i(t){t&&(t=p.when(t),$e++,X(!0),l.nextTick(function(){t.then(r)["finally"](function(){0===--$e&&X(!1)})},!0,e))}function r(t){Te[o]=t,(n||"")===(e.searchText||"")&&ye(t)}var a=e.$parent.$eval(Me),o=n.toLowerCase(),s=t.isArray(a),c=!!a.then;s?r(a):c&&i(a)}function fe(e,t){var n=e?"polite":"assertive",i=[];t&Oe.Selected&&_e.index!==-1&&i.push(re()),t&Oe.Count&&i.push(p.resolve(he())),p.all(i).then(function(e){v.announce(e.join(" "),n)})}function he(){switch(_e.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+_e.matches.length+" matches available."}}function me(){if(ke.li[0]){var e=ke.li[0].offsetHeight,t=e*_e.index,n=t+e,i=ke.scroller.clientHeight,r=ke.scroller.scrollTop;t<r?ge(t):n>r+i&&ge(n-i)}}function pe(){return 0!==$e}function ge(e){ke.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function ve(){var e=(_e.scope.searchText||"").length;return _e.hasNotFound&&!te()&&(!_e.loading||pe())&&e>=W()&&(Ce||Se)&&!ne()}function be(){var t=e.searchText||"",n=t.toLowerCase();!e.noCache&&Te[n]?ye(Te[n]):de(t),_e.hidden=K()}function ye(t){_e.matches=t,_e.hidden=K(),_e.loading&&X(!1),e.selectOnMatch&&Ee(),E(),fe(!0,Oe.Count)}function Ee(){var t=e.searchText,n=_e.matches,i=n[0];1===n.length&&G(i).then(function(n){var i=t==n;e.matchInsensitive&&!i&&(i=t.toLowerCase()==n.toLowerCase()),i&&se(0)})}function we(t,n){m[t]&&e.$parent.$eval(m[t],n||{})}var _e=this,xe=e.itemsExpr.split(/ in /i),Me=xe[1],ke=null,Te={},Se=!1,Ae=[],Ce=!1,$e=0,Re=null,Pe=null,Ne=l.debounce(k);oe("hidden",C,!0),_e.scope=e,_e.parent=e.$parent,_e.itemName=xe[0],_e.matches=[],_e.loading=!1,_e.hidden=!0,_e.index=null,_e.id=l.nextUid(),_e.isDisabled=null,_e.isRequired=null,_e.isReadonly=null,_e.hasNotFound=!1,_e.keydown=z,_e.blur=B,_e.focus=V,_e.clear=le,_e.select=se,_e.listEnter=R,_e.listLeave=P,_e.mouseUp=N,_e.getCurrentDisplayValue=re,_e.registerSelectedItemWatcher=F,_e.unregisterSelectedItemWatcher=H,_e.notFoundVisible=ve,_e.loadingIsVisible=ie,_e.positionDropdown=E;var Oe={Count:1,Selected:2};return b()}e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var i=48,r=5,a=8,o=2}(),function(){function e(e){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(e,n){var i=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],r=e.find("input");return i.forEach(function(e){var t=n[n.$normalize(e)];null!==t&&r.attr(e,t)}),function(e,n,i,r){r.hasNotFound=!!n.attr("md-has-not-found"),t.isDefined(i.mdClearButton)||e.floatingLabel||(e.clearButton=!0)}},template:function(t,n){function i(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function r(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function a(){return n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=u?'tabindex="'+u+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+c+"</div>            </md-input-container>":'            <input type="search"                '+(null!=u?'tabindex="'+u+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}function o(){return'<button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+e.mdClose+'"></md-icon></button>'}var s=r(),l=i(),c=t.html(),u=n.tabindex;return s&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+a()+"          "+o()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+l+"                  </li>"+s+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,i){return function(e,n,r){function a(n,i){l[i]=e[n],e.$watch(n,function(e){t.nextTick(function(){l[i]=e})})}function o(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||l.$digest(),t=n=!1}))}),l.$watch(function(){n=!0})}var s=e.$mdAutocompleteCtrl,l=s.parent.$new(),c=s.itemName;a("$index","$index"),a("item",c),o(),i(l,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e)}(),function(){function e(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}e.$inject=["$scope","$element","$attrs"],t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.prototype.init=function(e,t){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:e(n),contentText:t(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},e.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},e.prototype.applyRegex=function(e){var n=this.resolveTokens(e);this.$element.empty(),n.forEach(function(e){if(e.isMatch){var n=t.element('<span class="highlight">').text(e.text);this.$element.append(n)}else this.$element.append(document.createTextNode(e))}.bind(this))},e.prototype.resolveTokens=function(e){function t(t,i){var r=e.slice(t,i);r&&n.push(r)}var n=[],i=0;return e.replace(this.regex,function(e,r){t(i,r),n.push({text:e,isMatch:!0}),i=r+e.length}),t(i),n},e.prototype.createRegex=function(e,t){var n="",i="",r=this.sanitizeRegex(e);return t.indexOf("^")>=0&&(n="^"),t.indexOf("$")>=0&&(i="$"),new RegExp(n+r+i,t.replace(/[$\^]/g,""))},e.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var r=t(i.mdHighlightText),a=e(n.html());return function(e,t,n,i){i.init(r,a)}}}}e.$inject=["$interpolate","$parse"],t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function i(e,t,i,r,a){this.$scope=e,this.$element=t,this.$mdConstant=i,this.$timeout=r,this.$mdUtil=a,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}i.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],t.module("material.components.chips").controller("MdChipCtrl",i),i.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},i.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return t.element(e[0])},i.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])},i.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},i.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex(),t=this.getContentElement().text();t?(this.parentController.updateChipContents(e,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},i.prototype.selectNodeContents=function(t){var n,i;document.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(t),n.select()):e.getSelection&&(i=e.getSelection(),n=document.createRange(),n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n))},i.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},i.prototype.chipKeyDown=function(e){this.isEditting||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},i.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function e(e,i,r,a){function o(n,i,o,l){var c=l.shift(),u=l.shift(),d=t.element(i[0].querySelector(".md-chip-content"));e(i),c&&(u.init(c),d.append(r(s)(n)),d.on("blur",function(){c.resetSelectedChip(),c.$scope.$applyAsync()})),a(function(){c&&c.shouldFocusLastChip&&c.focusLastChipThenInput()})}var s=i.processTemplate(n);return{restrict:"E",require:["^?mdChips","mdChip"],link:o,controller:"MdChipCtrl"}}e.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function e(e){function t(t,n,i,r){n.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}e.$inject=["$timeout"],t.module("material.components.chips").directive("mdChipRemove",e)}(),function(){function e(e){function t(t,n,i){var r=t.$parent.$mdChipsCtrl,a=r.parent.$new(!1,r.parent);a.$$replacedScope=t,a.$chip=t.$chip,a.$index=t.$index,a.$mdChipsCtrl=r;var o=r.$scope.$eval(i.mdChipTransclude);n.html(o),e(n.contents())(a)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}e.$inject=["$compile"],t.module("material.components.chips").directive("mdChipTransclude",e)}(),function(){function e(e,t,i,r,a,o,s){this.$timeout=o,this.$mdConstant=i,this.$scope=e,this.parent=e.$parent,this.$mdUtil=s,this.$log=r,this.$element=a,this.$attrs=t,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(t.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(t.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=n,this.init()}e.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var n=300;t.module("material.components.chips").controller("MdChipsCtrl",e),e.prototype.init=function(){var e=this;e.wrapperId="_md-chips-wrapper-"+e.$mdUtil.nextUid(),e.$scope.$watchCollection("$mdChipsCtrl.items",function(){e.setupInputAria(),e.setupWrapperAria()}),e.$attrs.$observe("mdChipAppendDelay",function(t){e.chipAppendDelay=parseInt(t)||n})},e.prototype.setupInputAria=function(){
var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0))},e.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" "))):(t.removeAttr("role"),t.removeAttr("aria-owns"))},e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),this.separatorKeys.indexOf(e.keyCode)!==-1){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},e.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},e.prototype.updateChipContents=function(e,t){e>=0&&e<this.items.length&&(this.items[e]=t,this.ngModelCtrl.$setDirty())},e.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},e.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(e){var t=this,n=t.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]'),t.removeChip(e),t.$timeout(function(){t.$timeout(function(){t.selectAndFocusChipSafe(n)})})},e.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var i=this.items.some(function(n){return t.equals(e,n)});if(i)return}if(!(null==e||this.items.indexOf(e)+1)){var r=this.items.push(e),a=r-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:a})}},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return t.isString(e)?e:""},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},e.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);this.ngModelCtrl.$setDirty(),this.validateModel(),t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||e===-1)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},e.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},e.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),e!=-1&&this.focusChip(e)},e.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this,a=function(e,n){i.$evalAsync(t.bind(r,n,e))};e.attr({tabindex:0}).on("keydown",function(e){a(e,r.inputKeydown)}).on("focus",function(e){a(e,r.onInputFocus)}).on("blur",function(e){a(e,r.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},e.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){function e(e,t,o,s,l,c){function u(n,i){function r(e){if(i.ngModel){var t=a[0].querySelector(e);return t&&t.outerHTML}}var a=i.$mdUserTemplate;i.$mdUserTemplate=null;var u=r("md-chips>md-chip-template"),d=t.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","),h=r(d)||f.remove,m=u||f["default"],p=r("md-chips>md-autocomplete")||r("md-chips>input")||f.input,g=a.find("md-chip");return a[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,r,a,s){t.initOptionalProperties(n,i),e(r);var d=s[0];if(u&&(d.enableChipEdit=!1),d.chipContentsTemplate=m,d.chipRemoveTemplate=h,d.chipInputTemplate=p,d.mdCloseIcon=c.mdClose,r.attr({tabindex:-1}).on("focus",function(){d.onFocus()}),i.ngModel&&(d.configureNgModel(r.controller("ngModel")),a.mdTransformChip&&d.useTransformChipExpression(),a.mdOnAppend&&d.useOnAppendExpression(),a.mdOnAdd&&d.useOnAddExpression(),a.mdOnRemove&&d.useOnRemoveExpression(),a.mdOnSelect&&d.useOnSelectExpression(),p!=f.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){if(0===p.indexOf("<md-autocomplete")){var e=r.find("md-autocomplete");d.configureAutocomplete(e.controller("mdAutocomplete"))}d.configureUserInput(r.find("input"))})}),t.nextTick(function(){var e=r.find("input");e&&e.toggleClass("md-input",!0)})),g.length>0){var v=o(g.clone())(n.$parent);l(function(){r.find("md-chips-wrap").prepend(v)})}}}function d(){return{chips:t.processTemplate(n),input:t.processTemplate(i),"default":t.processTemplate(r),remove:t.processTemplate(a)}}var f=d();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),f.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:u,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',i='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",a='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){return this.contactQuery({$query:e})},e.prototype.itemName=function(e){return e[this.contactName]}}(),function(){function e(e,t){function i(n,i){return function(n,r,a,o){var s=o;t.initOptionalProperties(n,i),e(r),r.attr("tabindex","-1"),a.$observe("mdChipAppendDelay",function(e){s.chipAppendDelay=e})}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:i,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil"],t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){!function(){function e(){return{template:function(e,t){var n=t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"',i='<div ng-switch="calendarCtrl.currentView" '+n+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return i},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],a=i[1];a.configureNgModel(r)}}}function n(e,n,i,a,o,s,l,c,u){s(e),this.$element=e,this.$scope=n,this.dateUtil=i,this.$mdUtil=a,this.keyCode=o.KEY_CODE,this.$$rAF=l,this.$mdDateLocale=u,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=r++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||e.attr("tabindex","-1");var d,f=t.bind(this,this.handleKeyEvent);d=e.parent().hasClass("md-datepicker-calendar")?t.element(document.body):e,d.on("keydown",f),n.$on("$destroy",function(){d.off("keydown",f)}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}n.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendar",e);var i=340,r=0;n.prototype.$onInit=function(){this.currentView=this._currentView||"month";var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},n.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},n.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},n.prototype.setCurrentView=function(e,n){var i=this;i.$mdUtil.nextTick(function(){i.currentView=e,n&&(i.displayDate=t.isDate(n)?n:new Date(n))})},n.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector(".md-focus");t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=e)}else{var r=this.$element[0].querySelector("[ng-switch]");r&&r.focus()}},n.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());var n=t.getActionFromKeyEvent(e);n&&(e.preventDefault(),e.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",n))})},n.prototype.hideVerticalScrollbar=function(e){function t(){var t=n.width||i,r=n.scrollbarWidth,o=e.calendarScroller;a.style.width=t+"px",o.style.width=t+r+"px",o.style.paddingRight=r+"px"}var n=this,r=e.$element[0],a=r.querySelector(".md-calendar-scroll-mask");n.width>0?t():n.$$rAF(function(){var i=e.calendarScroller;n.scrollbarWidth=i.offsetWidth-i.clientWidth,n.width=r.querySelector("table").offsetWidth,t()})},n.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},n.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}()}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(r-i)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+i+'"><tr aria-hidden="true" md-force-height="\''+i+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:n,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],a=i[1];a.initialize(r)}}}function n(e,t,n,i,r,a){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.dateLocale=a,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var o=this;this.cellClickHandler=function(){var e=r.getTimestampFromNode(this);o.$scope.$apply(function(){o.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){o.calendarCtrl.setCurrentView("year",r.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonth",e);var i=265,r=45;n.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},n.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},n.prototype.changeSelectedDate=function(e){var t=this,n=t.calendarCtrl,i=n.selectedDate;n.selectedDate=e,this.changeDisplayDate(e).then(function(){var t=n.SELECTED_DATE_CLASS,r="month";if(i){var a=document.getElementById(n.getDateId(i,r));a&&(a.classList.remove(t),a.setAttribute("aria-selected","false"))}if(e){var o=document.getElementById(n.getDateId(e,r));o&&(o.classList.add(t),o.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*i}return this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var r=document.createElement("th");r.textContent=t[(i+e)%7],n.appendChild(r)}this.$element.find("thead").append(n)},n.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeSelectedDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)n.setNgModelValue(i);else{var r=null,a=this.dateUtil;switch(t){case"move-right":r=a.incrementDays(i,1);break;case"move-left":r=a.incrementDays(i,-1);break;case"move-page-down":r=a.incrementMonths(i,1);break;case"move-page-up":r=a.incrementMonths(i,-1);break;case"move-row-down":r=a.incrementDays(i,7);break;case"move-row-up":r=a.incrementDays(i,-7);break;case"start":r=a.getFirstDateOfMonth(i);break;case"end":r=a.getLastDateOfMonth(i)}r&&(r=this.dateUtil.clampDate(r,n.minDate,n.maxDate),this.changeDisplayDate(r).then(function(){n.focus(r)}))}}}()}(),function(){!function(){function e(e,i){var r=e('<md-icon md-svg-src="'+i.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,n,i,a){var o=a[0],s=a[1],l=a[2];l.calendarCtrl=o,l.monthCtrl=s,l.arrowIcon=r.cloneNode(!0),e.$watch(function(){return l.offset},function(e){t.isNumber(e)&&l.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}e.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonthBody",e),n.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),e){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),i.id=n.getDateId(e,"month"),i.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var a=document.createElement("span");a.classList.add("md-calendar-date-selection-indicator"),a.textContent=r,i.appendChild(a),i.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=r}return i},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),i=this.getLocaleDay_(n),r=this.dateUtil.getNumberOfDaysInMonth(t),a=document.createDocumentFragment(),o=1,s=this.buildDateRow(o);a.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),d=document.createElement("span");if(d.textContent=this.dateLocale.monthHeaderFormatter(t),u.appendChild(d),u.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?u.classList.add("md-calendar-month-label-disabled"):(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),u.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){u.setAttribute("colspan","7");var f=this.buildDateRow();if(f.appendChild(u),a.insertBefore(f,s),l)return a}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var h=c;h<i;h++)s.appendChild(this.buildDateCell());for(var m=i,p=n,g=1;g<=r;g++){if(7===m){if(l)return a;m=0,o++,s=this.buildDateRow(o),a.appendChild(s)}p.setDate(g);var v=this.buildDateCell(p);s.appendChild(v),m++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;a.childNodes.length<6;){for(var b=this.buildDateRow(),y=0;y<7;y++)b.appendChild(this.buildDateCell());a.appendChild(b)}return a},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function e(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+i+'"><tr aria-hidden="true" md-force-height="\''+i+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],a=i[1];a.initialize(r)}}}function n(e,t,n,i,r){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){a.calendarCtrl.setCurrentView("month",r.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],t.module("material.components.datepicker").directive("mdCalendarYear",e);var i=88;n.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},n.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},n.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*i}return this.$q.when()},n.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)this.changeDate(i).then(function(){n.setCurrentView("month",i),n.focus(i)});else{var r=null,a=this.dateUtil;switch(t){case"move-right":r=a.incrementMonths(i,1);break;case"move-left":r=a.incrementMonths(i,-1);break;case"move-row-down":r=a.incrementMonths(i,6);break;case"move-row-up":r=a.incrementMonths(i,-6)}if(r){var o=n.minDate?a.getFirstDateOfMonth(n.minDate):null,s=n.maxDate?a.getFirstDateOfMonth(n.maxDate):null;r=a.getFirstDateOfMonth(this.dateUtil.clampDate(r,o,s)),this.changeDate(r).then(function(){n.focus(r)})}}},n.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(e,e.handleKeyEvent))}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:n,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,n,i,r){var a=r[0],o=r[1],s=r[2];s.calendarCtrl=a,s.yearCtrl=o,e.$watch(function(){return s.offset},function(e){t.isNumber(e)&&s.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarYearBody",e),n.prototype.generateContent=function(){
var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,i=this.yearCtrl,r=this.buildBlankCell(),a=new Date(e,t,1);r.setAttribute("aria-label",this.dateLocale.monthFormatter(a)),r.id=n.getDateId(a,"year"),r.setAttribute("data-timestamp",a.getTime()),this.dateUtil.isSameMonthAndYear(a,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(a,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var o=this.dateLocale.shortMonths[t];if(this.dateUtil.isMonthWithinRange(a,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=o,r.appendChild(s),r.addEventListener("click",i.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(a,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=o;return r},n.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},n.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),i=document.createDocumentFragment(),r=document.createElement("tr"),a=document.createElement("td");for(a.className="md-calendar-month-label",a.textContent=n,r.appendChild(a),t=0;t<6;t++)r.appendChild(this.buildMonthCell(n,t));i.appendChild(r);var o=document.createElement("tr");for(o.appendChild(this.buildBlankCell()),t=6;t<12;t++)o.appendChild(this.buildMonthCell(n,t));return i.appendChild(o),i}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e,t){function n(e,n){if(!e)return"";var i=e.toLocaleTimeString(),r=e;return 0!==e.getHours()||i.indexOf("11:")===-1&&i.indexOf("23:")===-1||(r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),t("date")(r,"M/d/yyyy",n)}function i(e){return new Date(e)}function r(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function a(e){return g.shortMonths[e.getMonth()]+" "+e.getFullYear()}function o(e){return g.months[e.getMonth()]+" "+e.getFullYear()}function s(e){return"Week "+e}function l(e){return[g.days[e.getDay()],g.months[e.getMonth()],g.dates[e.getDate()],e.getFullYear()].join(" ")}for(var c=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),u=Array(32),d=1;d<=31;d++)u[d]=d;var f="Calendar",h="Open calendar",m=new Date(1880,0,1),p=new Date(m.getFullYear()+250,0,1),g={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||c,dates:this.dates||u,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||n,parseDate:this.parseDate||i,isDateComplete:this.isDateComplete||r,monthHeaderFormatter:this.monthHeaderFormatter||a,monthFormatter:this.monthFormatter||o,weekNumberFormatter:this.weekNumberFormatter||s,longDateFormatter:this.longDateFormatter||l,msgCalendar:this.msgCalendar||f,msgOpenCalendar:this.msgOpenCalendar||h,firstRenderableDate:this.firstRenderableDate||m,lastRenderableDate:this.lastRenderableDate||p};return g},t.prototype.$get.$inject=["$locale","$filter"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function i(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function r(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function a(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function o(e,t){return e.getDate()==t.getDate()&&a(e,t)}function s(e,t){var n=i(e);return a(n,t)}function l(e,t){var n=r(e);return a(t,n)}function c(e,t){return v((e.getTime()+t.getTime())/2)}function u(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function d(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function f(e,t){var i=new Date(e.getFullYear(),e.getMonth()+t,1),r=n(i);return r<e.getDate()?i.setDate(r):i.setDate(e.getDate()),i}function h(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function m(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function p(e){return e&&e.getTime&&!isNaN(e.getTime())}function g(e){p(e)&&e.setHours(0,0,0,0)}function v(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),g(n),n}function b(e,t,n){var i=v(e),r=p(t)?v(t):null,a=p(n)?v(n):null;return(!r||r<=i)&&(!a||a>=i)}function y(e,t){return f(e,12*t)}function E(e,t){return t.getFullYear()-e.getFullYear()}function w(e,t,n){var i=e;return t&&e<t&&(i=new Date(t.getTime())),n&&e>n&&(i=new Date(n.getTime())),i}function _(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))}function x(e,t,n){var i=e.getMonth(),r=e.getFullYear();return(!t||t.getFullYear()<r||t.getMonth()<=i)&&(!n||n.getFullYear()>r||n.getMonth()>=i)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:i,getDateInPreviousMonth:r,isInNextMonth:s,isInPreviousMonth:l,getDateMidpoint:c,isSameMonthAndYear:a,getWeekOfMonth:u,incrementDays:d,incrementMonths:f,getLastDateOfMonth:m,isSameDay:o,getMonthDistance:h,isValidDate:p,setDateTimeToMidnight:g,createDateAtMidnight:v,isDateWithinRange:b,incrementYears:y,getYearDistance:E,clampDate:w,getTimestampFromNode:_,isMonthWithinRange:x}})}()}(),function(){!function(){function n(e,n,r,a){return{template:function(t,n){var i=n.mdHideIcons,r=n.ariaLabel||n.mdPlaceholder,a="all"===i||"calendar"===i?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+e.mdCalendar+'"></md-icon></md-button>',o="";return"all"!==i&&"triangle"!==i&&(o='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(c)),a+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+o+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:i,controllerAs:"ctrl",bindToController:!0,link:function(e,i,o,c){var u=c[0],d=c[1],f=c[2],h=c[3],m=n.parseAttributeBoolean(o.mdNoAsterisk);if(d.configureNgModel(u,f,a),f){var p=i[0].querySelector(".md-errors-spacer");p&&i.after(t.element("<div>").append(p)),f.setHasPlaceholder(o.mdPlaceholder),f.input=i,f.element.addClass(s).toggleClass(l,"calendar"!==o.mdHideIcons&&"all"!==o.mdHideIcons),f.label?m||o.$observe("required",function(e){f.label.toggleClass("md-required",!!e)}):r.expect(i,"aria-label",o.mdPlaceholder),e.$watch(f.isErrorGetter||function(){return u.$invalid&&(u.$touched||h&&h.$submitted)},f.setInvalid)}else if(h)var g=e.$watch(function(){return h.$submitted},function(e){e&&(d.updateErrorState(),g())})}}}function i(n,i,r,a,o,s,l,c,u,d,f){this.$window=a,this.dateUtil=u,this.$mdConstant=o,this.$mdUtil=l,this.$$rAF=d,this.$mdDateLocale=c,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=i[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=i[0].querySelector(".md-datepicker-input-container"),this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=i[0].querySelector(".md-datepicker-button"),this.inputMask=t.element(i[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=i,this.$attrs=r,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(i[0].disabled||t.isString(r.disabled)),this.isCalendarOpen=!1,this.openOnFocus=r.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+l.nextUid(),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowEventName=h.test(navigator.userAgent||navigator.vendor||e.opera)?"orientationchange":"resize",this.windowEventHandler=l.debounce(t.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=t.bind(this,this.handleWindowBlur),this.ngDateFilter=f("date"),this.leftMargin=20,this.topMargin=null,r.tabindex?(this.ngInputElement.attr("tabindex",r.tabindex),r.$set("tabindex",null)):r.$set("tabindex","-1"),r.$set("aria-owns",this.calendarPaneId),s(i),s(t.element(this.calendarPane));var m=this;n.$on("$destroy",function(){m.detachCalendarPane()}),r.mdIsOpen&&n.$watch("ctrl.isOpen",function(e){e?m.openCalendarPane({target:m.inputElement}):m.closeCalendarPane()}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}i.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],n.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],t.module("material.components.datepicker").directive("mdDatepicker",n);var r=3,a="md-datepicker-invalid",o="md-datepicker-open",s="_md-datepicker-floating-label",l="_md-datepicker-has-calendar-icon",c="_md-datepicker-has-triangle-icon",u=500,d=368,f=360,h=/ipad|iphone|ipod|android/i;i.prototype.$onInit=function(){this.locale=this.dateLocale?t.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},i.prototype.configureNgModel=function(e,n,i){this.ngModelCtrl=e,this.mdInputContainer=n,this.$attrs.$set("type","date"),i[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[e]);var r=this;r.ngModelCtrl.$formatters.push(function(e){var n=t.isDefined(e)?Date.parse(e):null;if(!isNaN(n)&&t.isNumber(n)&&(e=new Date(n)),e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof e);return r.onExternalChange(e),e}),e.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState));var a=r.$mdUtil.getModelOption(e,"updateOn");a&&this.ngInputElement.on(a,t.bind(this.$element,this.$element.triggerHandler,a))},i.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.setModelValue(n),e.onExternalChange(n),e.closeCalendarPane()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));var n=t.isDefined(this.debounceInterval)?this.debounceInterval:u;e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,n,e))},i.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==i.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",t.bind(e,e.openCalendarPane)),t.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){t.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},i.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},i.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},i.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var i=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=i)}if(this.dateUtil.isValidDate(this.maxDate)){var r=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=r)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);t.element(this.inputContainer).toggleClass(a,!this.ngModelCtrl.$valid)},i.prototype.clearErrorState=function(){this.inputContainer.classList.remove(a),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},i.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+r},i.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},i.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},i.prototype.attachCalendarPane=function(){var e=this.calendarPane,n=document.body;e.style.transform="",this.$element.addClass(o),this.mdInputContainer&&this.mdInputContainer.element.addClass(o),t.element(n).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),r=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var a=i.top-r.top-this.topMargin,s=i.left-r.left-this.leftMargin,l=r.top<0&&0==document.body.scrollTop?-r.top:document.body.scrollTop,c=r.left<0&&0==document.body.scrollLeft?-r.left:document.body.scrollLeft,u=l+this.$window.innerHeight,h=c+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),s+f>h){if(h-f>0)s=h-f;else{s=c;var m=this.$window.innerWidth/f;e.style.transform="scale("+m+")"}e.classList.add("md-datepicker-pos-adjusted")}a+d>u&&u-d>l&&(a=u-d,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=s+"px",e.style.top=a+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},i.prototype.detachCalendarPane=function(){this.$element.removeClass(o),this.mdInputContainer&&this.mdInputContainer.element.removeClass(o),t.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},i.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener(this.windowEventName,this.windowEventHandler)}},i.prototype.closeCalendarPane=function(){function t(){n.isCalendarOpen=n.isOpen=!1}if(this.isCalendarOpen){var n=this;n.detachCalendarPane(),n.ngModelCtrl.$setTouched(),n.evalAttr("ngBlur"),n.documentElement.off("click touchstart",n.bodyClickHandler),e.removeEventListener(n.windowEventName,n.windowEventHandler),n.calendarPaneOpenedFrom.focus(),n.calendarPaneOpenedFrom=null,n.openOnFocus?n.$mdUtil.nextTick(t):t()}},i.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},i.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},i.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},i.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}},i.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},i.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},i.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},i.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}()}(),function(){function e(e,t,n,i){function r(i,r,a){function o(){a.mdSvgIcon||a.mdSvgSrc||(a.mdFontIcon&&r.addClass("md-font "+a.mdFontIcon),r.addClass(c))}function s(){if(!a.mdSvgIcon&&!a.mdSvgSrc){a.mdFontIcon&&(r.removeClass(l),r.addClass(a.mdFontIcon),l=a.mdFontIcon);var t=e.fontSet(a.mdFontSet);c!==t&&(r.removeClass(c),r.addClass(t),c=t)}}t(r);var l=a.mdFontIcon,c=e.fontSet(a.mdFontSet);o(),a.$observe("mdFontIcon",s),a.$observe("mdFontSet",s);var u=(r[0].getAttribute(a.$attr.mdSvgSrc),a.$normalize(a.$attr.mdSvgIcon||a.$attr.mdSvgSrc||""));if(a.role||(n.expect(r,"role","img"),a.role="img"),"img"===a.role&&!a.ariaHidden&&!n.hasAriaLabel(r)){var d;a.alt?n.expect(r,"aria-label",a.alt):n.parentHasAriaLabel(r,2)?n.expect(r,"aria-hidden","true"):(d=a.mdFontIcon||a.mdSvgIcon||r.text())?n.expect(r,"aria-label",d):n.expect(r,"aria-hidden","true")}u&&a.$observe(u,function(t){r.empty(),t&&e(t).then(function(e){r.empty(),r.append(e)})})}return{restrict:"E",link:r}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",e])}(),function(){function n(){}function i(e,t){this.url=e,this.viewBoxSize=t||a.defaultViewBoxSize}function r(n,i,r,a,o,s){function l(e){if(e=e||"",t.isString(e)||(e=s.getTrustedUrl(e)),y[e])return r.when(u(y[e]));if(w.test(e)||_.test(e))return m(e).then(d(e));e.indexOf(":")==-1&&(e="$default:"+e);var i=n[e]?f:h;return i(e).then(d(e))}function c(e){var i=t.isUndefined(e)||!(e&&e.length);if(i)return n.defaultFontSet;var r=e;return t.forEach(n.fontSets,function(t){t.alias==e&&(r=t.fontSet||r)}),r}function u(e){var n=e.clone(),i="_cache"+o.nextUid();return n.id&&(n.id+=i),t.forEach(n.querySelectorAll("[id]"),function(e){e.id+=i}),n}function d(e){return function(t){return y[e]=p(t)?t:new g(t,n[e]),y[e].clone()}}function f(e){var t=n[e];return m(t.url).then(function(e){return new g(e,t)})}function h(e){function t(t){var n=e.slice(e.lastIndexOf(":")+1),r=t.querySelector("#"+n);return r?new g(r,s):i(e)}function i(e){var t="icon "+e+" not found";return a.warn(t),r.reject(t||e)}var o=e.substring(0,e.lastIndexOf(":"))||"$default",s=n[o];return s?m(s.url).then(t):i(e)}function m(n){function o(n){var i=_.exec(n),a=/base64/i.test(n),o=a?e.atob(i[2]):i[2];return r.when(t.element(o)[0])}function s(e){return r(function(n,r){var o=function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;a.warn(n),r(e)},s=function(i){E[e]||(E[e]=t.element("<div>").append(i)[0].querySelector("svg")),n(E[e])};i(e,!0).then(s,o)})}return _.test(n)?o(n):s(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function g(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function v(){var e=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}function b(){return this.element.cloneNode(!0)}var y={},E={},w=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,_=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return g.prototype={clone:b,prepare:v},l.fontSet=c,l}r.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",n);var a={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};n.prototype={icon:function(e,t,n){return e.indexOf(":")==-1&&(e="$default:"+e),a[e]=new i(t,n),this},iconSet:function(e,t,n){return a[e]=new i(t,n),this},defaultIconSet:function(e,t){var n="$default";return a[n]||(a[n]=new i(e,t)),a[n].viewBoxSize=t||a.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return a.defaultViewBoxSize=e,this},fontSet:function(e,t){return a.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return a.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return a.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,n,i,o){return r(a,e,t,n,i,o)}]}}(),function(){function e(e,i,r,a,o,s,l,c,u){var d,f,h=o.prefixer(),m=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(n,i){i=i||{},d=n,f=r[0].querySelector(h.buildSelector(["ng-click","ng-mouseenter"])),f.setAttribute("aria-expanded","false"),this.isInMenuBar=i.isInMenuBar,this.nestedMenus=o.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){m.isOpen=!1,o.nextTick(function(){m.onIsOpenChanged(m.isOpen)})}),o.nextTick(function(){m.onIsOpenChanged(m.isOpen)});var s="menu_container_"+o.nextUid();d.attr("id",s),t.element(f).attr({"aria-owns":s,"aria-haspopup":"true"}),a.$on("$destroy",t.bind(this,function(){this.disableHoverListener(),e.destroy()})),d.on("$destroy",function(){e.destroy()})};var p,g,v=[];this.enableHoverListener=function(){v.push(l.$on("$mdMenuOpen",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=t.controller("mdMenu"),m.isAlreadyOpening=!1,m.currentlyOpenMenu.registerContainerProxy(m.triggerContainerProxy.bind(m)))})),v.push(l.$on("$mdMenuClose",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=n)})),g=t.element(o.nodesToArray(d[0].children[0].children)),g.on("mouseenter",m.handleMenuItemHover),g.on("mouseleave",m.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",m.handleMenuItemHover),g&&g.off("mouseleave",m.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!m.isAlreadyOpening){var n=e.target.querySelector("md-menu")||o.getClosest(e.target,"MD-MENU");p=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),m.currentlyOpenMenu&&m.currentlyOpenMenu!=n){var e=m.nestLevel+1;m.currentlyOpenMenu.close(!0,{closeTo:e}),m.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(m.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var i=e.currentTarget.querySelector(".md-button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){p&&(s.cancel(p),p=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),m.isOpen||(m.enableHoverListener(),m.isOpen=!0,o.nextTick(function(){m.onIsOpenChanged(m.isOpen)}),f=f||(t?t.target:r[0]),f.setAttribute("aria-expanded","true"),a.$emit("$mdMenuOpen",r),e.show({scope:a,mdMenuCtrl:m,nestLevel:m.nestLevel,element:d,target:f,preserveElement:!0,parent:"body"})["finally"](function(){f.setAttribute("aria-expanded","false"),m.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(d.attr("aria-hidden","false"),r[0].classList.add("md-open"),t.forEach(m.nestedMenus,function(e){e.classList.remove("md-open")})):(d.attr("aria-hidden","true"),r[0].classList.remove("md-open")),a.$mdMenuIsOpen=m.isOpen},this.focusMenuContainer=function(){var e=d[0].querySelector(h.buildSelector(["md-menu-focus-target","md-autofocus"]));e||(e=d[0].querySelector(".md-button:not([disabled])")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return m.isOpen?e.destroy():c.when(!1)},this.close=function(n,i){if(m.isOpen){m.isOpen=!1,o.nextTick(function(){m.onIsOpenChanged(m.isOpen)});var s=t.extend({},i,{skipFocus:n});if(a.$emit("$mdMenuClose",r,s),e.hide(null,i),!n){var l=m.restoreFocusTo||r.find("button")[0];l instanceof t.element&&(l=l[0]),l&&l.focus()}}},this.positionMode=function(){var e=(i.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},a.$mdMenu={open:this.open,close:this.close},a.$mdOpenMenu=t.bind(this,function(){return u.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],t.module("material.components.menu").controller("mdMenuCtrl",e)}(),function(){function e(e){function n(n){n.addClass("md-menu");var a=n.children()[0],o=n.children()[1],s=e.prefixer();s.hasAttribute(a,"ng-click")||(a=a.querySelector(s.buildSelector(["ng-click","ng-mouseenter"]))||a);var l="MD-BUTTON"===a.nodeName||"BUTTON"===a.nodeName;if(a&&l&&!a.hasAttribute("type")&&a.setAttribute("type","button"),!a)throw Error(r+"Expected the menu to have a trigger element.");if(!o||"MD-MENU-CONTENT"!==o.nodeName)throw Error(r+"Expected the menu to contain a `md-menu-content` element.");a&&a.setAttribute("aria-haspopup","true");var c=n[0].querySelectorAll("md-menu"),u=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return c&&t.forEach(e.nodesToArray(c),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",u+1)}),i}function i(e,n,i,r){var a=r[0],o=!!r[1],s=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),l=n.children()[1];n.addClass("_md"),l.hasAttribute("role")||l.setAttribute("role","menu"),s.append(l),n.on("$destroy",function(){s.remove()}),n.append(s),s[0].style.display="none",a.init(s,{isInMenuBar:o})}var r="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:n}}e.$inject=["$mdUtil"],t.module("material.components.menu").directive("mdMenu",e)}(),function(){function e(e){function i(e,i,o,s,l,c,u,d,f,h){function m(n,i,r){return r.nestLevel?t.noop:(r.disableParentScroll&&!e.getClosest(r.target,"MD-DIALOG")?r.restoreScroll=e.disableScrollAround(r.element,r.parent):r.disableParentScroll=!1,r.hasBackdrop&&(r.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),f.enter(r.backdrop,s[0].body)),function(){r.backdrop&&r.backdrop.remove(),r.disableParentScroll&&r.restoreScroll()})}function p(e,t,n){function i(){return d(t,{addClass:"md-leave"}).start()}function r(){t.removeClass("md-active"),y(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),t.removeClass("md-clickable"),n.$destroy===!0?r():i().then(r)}function g(n,r,a){function s(){return a.parent.append(r),r[0].style.display="",c(function(e){var t=E(r,a);r.removeClass("md-leave"),d(r,{addClass:"md-active",from:_.toCss(t),to:_.toCss({transform:""})}).start().then(e)})}function f(){if(!a.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(a,{alreadyOpen:!1,isRemoved:!1,target:t.element(a.target),parent:t.element(a.parent),menuContentEl:t.element(r[0].querySelector("md-menu-content"))})}function p(){var e=function(e,t){return u.throttle(function(){if(!a.isRemoved){var n=E(e,t);e.css(_.toCss(n))}})}(r,a);return l.addEventListener("resize",e),l.addEventListener("orientationchange",e),function(){l.removeEventListener("resize",e),l.removeEventListener("orientationchange",e)}}function g(){return a.backdrop?(a.backdrop.on("click",b),function(){a.backdrop.off("click",b)}):t.noop}function b(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){a.mdMenuCtrl.close(!0,{closeAll:!0})})}function y(){function i(t){var n;switch(t.keyCode){case o.KEY_CODE.ESCAPE:a.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case o.KEY_CODE.UP_ARROW:v(t,a.menuContentEl,a,-1)||a.nestLevel||a.mdMenuCtrl.triggerContainerProxy(t),
n=!0;break;case o.KEY_CODE.DOWN_ARROW:v(t,a.menuContentEl,a,1)||a.nestLevel||a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.LEFT_ARROW:a.nestLevel?a.mdMenuCtrl.close():a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.RIGHT_ARROW:var i=e.getClosest(t.target,"MD-MENU");i&&i!=a.parent[0]?t.target.click():a.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function r(t){function i(){n.$apply(function(){a.mdMenuCtrl.close(!0,{closeAll:!0})})}function r(e,t){if(!e)return!1;for(var n,i=0;n=t[i];++i)if(w.hasAttribute(e,n))return!0;return!1}var o=t.target;do{if(o==a.menuContentEl[0])return;if((r(o,["ng-click","ng-href","ui-sref"])||"BUTTON"==o.nodeName||"MD-BUTTON"==o.nodeName)&&!r(o,["md-prevent-menu-close"])){var s=e.getClosest(o,"MD-MENU");o.hasAttribute("disabled")||s&&s!=a.parent[0]||i();break}}while(o=o.parentNode)}if(!a.menuContentEl[0])return t.noop;a.menuContentEl.on("keydown",i),a.menuContentEl[0].addEventListener("click",r,!0);var s=a.menuContentEl[0].querySelector(w.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!s)for(var l=a.menuContentEl[0].children.length,c=0;c<l;c++){var u=a.menuContentEl[0].children[c];if(s=u.querySelector(".md-button:not([disabled])"))break;if(u.firstElementChild&&!u.firstElementChild.disabled){s=u.firstElementChild;break}}return s&&s.focus(),function(){a.menuContentEl.off("keydown",i),a.menuContentEl[0].removeEventListener("click",r,!0)}}return f(a),a.menuContentEl[0]?i.inherit(a.menuContentEl,a.target):h.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",r),a.cleanupResizing=p(),a.hideBackdrop=m(n,r,a),s().then(function(e){return a.alreadyOpen=!0,a.cleanupInteraction=y(),a.cleanupBackdrop=g(),r.addClass("md-clickable"),e})}function v(t,n,i,r){for(var a,o=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(o),c=l+r;c>=0&&c<s.length;c+=r){var u=s[c].querySelector(".md-button");if(a=b(u))break}return a}function b(e){if(e&&e.getAttribute("tabindex")!=-1)return e.focus(),s[0].activeElement==e}function y(e,t){t.preserveElement?r(e).style.display="none":r(e).parentNode===r(t.parent)&&r(t.parent).removeChild(r(e))}function E(t,i){function r(e){e.top=Math.max(Math.min(e.top,b.bottom-u.offsetHeight),b.top),e.left=Math.max(Math.min(e.left,b.right-u.offsetWidth),b.left)}function o(){for(var e=0;e<d.children.length;++e)if("none"!=l.getComputedStyle(d.children[e]).display)return d.children[e]}var c,u=t[0],d=t[0].firstElementChild,f=d.getBoundingClientRect(),h=s[0].body,m=h.getBoundingClientRect(),p=l.getComputedStyle(d),g=i.target[0].querySelector(w.buildSelector("md-menu-origin"))||i.target[0],v=g.getBoundingClientRect(),b={left:m.left+a,top:Math.max(m.top,0)+a,bottom:Math.max(m.bottom,Math.max(m.top,0)+m.height)-a,right:m.right-a},y={top:0,left:0,right:0,bottom:0},E={top:0,left:0,right:0,bottom:0},_=i.mdMenuCtrl.positionMode();"target"!=_.top&&"target"!=_.left&&"target-right"!=_.left||(c=o(),c&&(c=c.firstElementChild||c,c=c.querySelector(w.buildSelector("md-menu-align-target"))||c,y=c.getBoundingClientRect(),E={top:parseFloat(u.style.top||0),left:parseFloat(u.style.left||0)}));var x={},M="top ";switch(_.top){case"target":x.top=E.top+v.top-y.top;break;case"cascade":x.top=v.top-parseFloat(p.paddingTop)-g.style.top;break;case"bottom":x.top=v.top+v.height;break;default:throw new Error('Invalid target mode "'+_.top+'" specified for md-menu on Y axis.')}var k="rtl"==e.bidi();switch(_.left){case"target":x.left=E.left+v.left-y.left,M+=k?"right":"left";break;case"target-left":x.left=v.left,M+="left";break;case"target-right":x.left=v.right-f.width+(f.right-y.right),M+="right";break;case"cascade":var T=k?v.left-f.width<b.left:v.right+f.width<b.right;x.left=T?v.right-g.style.left:v.left-g.style.left-f.width,M+=T?"left":"right";break;case"right":k?(x.left=v.right-v.width,M+="left"):(x.left=v.right-f.width,M+="right");break;case"left":k?(x.left=v.right-f.width,M+="right"):(x.left=v.left,M+="left");break;default:throw new Error('Invalid target mode "'+_.left+'" specified for md-menu on X axis.')}var S=i.mdMenuCtrl.offsets();x.top+=S.top,x.left+=S.left,r(x);var A=Math.round(100*Math.min(v.width/u.offsetWidth,1))/100,C=Math.round(100*Math.min(v.height/u.offsetHeight,1))/100;return{top:Math.round(x.top),left:Math.round(x.left),transform:i.alreadyOpen?n:e.supplant("scale({0},{1})",[A,C]),transformOrigin:M}}var w=e.prefixer(),_=e.dom.animator;return{parent:"body",onShow:g,onRemove:p,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function r(e){return e instanceof t.element&&(e=e[0]),e}i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var a=8;return e("$mdMenu").setDefaults({methods:["target"],options:i})}e.$inject=["$$interimElementProvider"],t.module("material.components.menu").provider("$mdMenu",e)}(),function(){function e(e,n,r,a,o,s,l,c){this.$element=r,this.$attrs=a,this.$mdConstant=o,this.$mdUtil=l,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=c;var u=this;t.forEach(i,function(e){u[e]=t.bind(u,u[e])})}e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],t.module("material.components.menuBar").controller("MenuBarController",e);var i=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,i=this.$scope,r=this,a=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),a.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){r.getMenus().indexOf(n[0])!=-1&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),r.currentlyOpenMenu=n.controller("mdMenu"),r.currentlyOpenMenu.registerContainerProxy(r.handleKeyDown),r.enableOpenOnHover())})),a.push(this.$rootScope.$on("$mdMenuClose",function(i,a,o){var s=r.getMenus();if(s.indexOf(a[0])!=-1&&(e[0].classList.remove("md-open"),a[0].classList.remove("md-open")),e[0].contains(a[0])){for(var l=a[0];l&&s.indexOf(l)==-1;)l=t.getClosest(l,"MD-MENU",!0);l&&(o.skipFocus||l.querySelector("button:not([disabled])").focus(),r.currentlyOpenMenu=n,r.disableOpenOnHover(),r.setKeyboardMode(!0))}})),i.$on("$destroy",function(){for(r.disableOpenOnHover();a.length;)a.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){t.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),t.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),i=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(i)},e.prototype.scheduleOpenMenu=function(e){var t=this,i=this.$timeout;e!=t.currentlyOpenMenu&&(i.cancel(t.pendingMenuOpen),t.pendingMenuOpen=i(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,r=i&&i.isOpen;this.setKeyboardMode(!0);var a,o,s;switch(e.keyCode){case n.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu(),a=!0;break;case n.UP_ARROW:i&&i.close(),a=!0;break;case n.LEFT_ARROW:o=this.focusMenu(-1),r&&(s=t.element(o).controller("mdMenu"),this.scheduleOpenMenu(s)),a=!0;break;case n.RIGHT_ARROW:o=this.focusMenu(1),r&&(s=t.element(o).controller("mdMenu"),this.scheduleOpenMenu(s)),a=!0}a&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();n==-1&&(n=this.getOpenMenuIndex());var i=!1;if(n==-1?(n=0,i=!0):(e<0&&n>0||e>0&&n<t.length-e)&&(n+=e,i=!0),i)return t[n].querySelector("button").focus(),t[n]},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},e.prototype.handleParentClick=function(e){var n=this.querySelector("md-menu.md-open");n&&!n.contains(e.target)&&t.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,r){return r.ariaRole||i[0].setAttribute("role","menubar"),t.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var i=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(i,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),i.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,i,r){t.addClass("_md"),n(e,t),r.init()}}}}e.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuBar",e)}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}e.$inject=["$scope","$element","$attrs"],t.module("material.components.menuBar").controller("MenuItemController",e),e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==s){var e=o.ngValue?a.$eval(o.ngValue):o.value;return r.$modelValue==e}return r.$modelValue}function n(e){e?c.off("click",u):c.on("click",u)}var i=this,r=this.ngModel,a=this.$scope,o=this.$attrs,s=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var l=this.iconEl,c=t.element(this.buttonEl),u=this.handleClick;o.$observe("disabled",n),n(o.disabled),r.$render=function(){i.clearNgAria(),e()?(l.style.display="",c.attr("aria-checked","true")):(l.style.display="none",c.attr("aria-checked","false"))},a.$$postDigest(r.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,i=this.ngModel,r=this.$attrs;"checkbox"==n?t=!i.$modelValue:"radio"==n&&(t=r.ngValue?this.$scope.$eval(r.ngValue):r.value),i.$setViewValue(t),i.$render()}}(),function(){function e(e,n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,r){function a(e,i,r){r=r||n,r instanceof t.element&&(r=r[0]),r.hasAttribute(e)||r.setAttribute(e,i)}function o(i){var r=e.prefixer(i);t.forEach(r,function(e){if(n[0].hasAttribute(e)){var t=n[0].getAttribute(e);u[0].setAttribute(e,t),n[0].removeAttribute(e)}})}var s=r.type,l="md-in-menu-bar";if("checkbox"!=s&&"radio"!=s||!n.hasClass(l))a("role","menuitem",n[0].querySelector("md-button, button, a"));else{var c=n[0].textContent,u=t.element('<md-button type="button"></md-button>'),d='<md-icon md-svg-src="'+i.mdChecked+'"></md-icon>';u.html(c),u.attr("tabindex","0"),n.html(""),n.append(t.element(d)),n.append(u),n.addClass("md-indent").removeClass(l),a("role","checkbox"==s?"menuitemcheckbox":"menuitemradio",u),o("ng-disabled")}return function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}}e.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(e,n,i,r,a,o){function s(o,s,y){function E(t,i,a,s,l,u){function m(e){A.attr("stroke-dashoffset",c(b,y,e,x)),A.attr("transform","rotate("+_+" "+b/2+" "+b/2+")")}var p=++P,g=r.now(),v=i-t,b=d(o.mdDiameter),y=f(b),E=a||n.easeFn,w=s||n.duration,_=-90*(l||0),x=u||100;i===t?m(i):M=h(function k(){var n=e.Math.max(0,e.Math.min(r.now()-g,w));m(E(n,t,v,w)),p===P&&n<w&&(M=h(k))})}function w(){E(C,$,n.easeFnIndeterminate,n.durationIndeterminate,R,75),R=++R%4}function _(){k||(k=a(w,n.durationIndeterminate,0,!1),w(),s.addClass(b).removeAttr("aria-valuenow"))}function x(){k&&(a.cancel(k),k=null,s.removeClass(b))}var M,k,T=s[0],S=t.element(T.querySelector("svg")),A=t.element(T.querySelector("path")),C=n.startIndeterminate,$=n.endIndeterminate,R=0,P=0;i(s),s.toggleClass(v,y.hasOwnProperty("disabled")),o.mdMode===g&&_(),o.$on("$destroy",function(){x(),M&&m(M)}),o.$watchGroup(["value","mdMode",function(){var e=T.disabled;return e===!0||e===!1?e:t.isDefined(s.attr("disabled"))}],function(e,t){var n=e[1],i=e[2],r=t[2];if(i!==r&&s.toggleClass(v,!!i),i)x();else if(n!==p&&n!==g&&(n=g,y.$set("mdMode",n)),n===g)_();else{var a=u(e[0]);x(),s.attr("aria-valuenow",a),E(u(t[0]),a)}}),o.$watch("mdDiameter",function(t){var n=d(t),i=f(n),r=u(o.value),a=n/2+"px",h={width:n+"px",height:n+"px"};S[0].setAttribute("viewBox","0 0 "+n+" "+n),S.css(h).css("transform-origin",a+" "+a+" "+a),s.css(h),A.attr("stroke-width",i),A.attr("stroke-linecap","square"),o.mdMode==g?(A.attr("d",l(n,i,!0)),A.attr("stroke-dasharray",(n-i)*e.Math.PI*.75),A.attr("stroke-dashoffset",c(n,i,1,75))):(A.attr("d",l(n,i,!1)),A.attr("stroke-dasharray",(n-i)*e.Math.PI),A.attr("stroke-dashoffset",c(n,i,0,100)),E(r,r))})}function l(e,t,n){var i=e/2,r=t/2,a=i+","+r,o=r+","+i,s=i-r;return"M"+a+"A"+s+","+s+" 0 1 1 "+o+(n?"":"A"+s+","+s+" 0 0 1 "+a)}function c(t,n,i,r){return(t-n)*e.Math.PI*(3*(r||100)/100-i/100)}function u(t){return e.Math.max(0,e.Math.min(t||0,100))}function d(e){var t=n.progressSize;if(e){var i=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(i=i/100*t),i}return t}function f(e){return n.strokeWidth/100*e}var h=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t.noop,m=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||t.noop,p="determinate",g="indeterminate",v="_md-progress-circular-disabled",b="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,n){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(n.mdMode)){var i=n.hasOwnProperty("value")?p:g;n.$set("mdMode",i)}else n.$set("mdMode",n.mdMode.trim());return s}}}e.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],t.module("material.components.progressCircular").directive("mdProgressCircular",e)}(),function(){function e(){function e(e,t,n,i){return n*e/i+t}function n(e,t,n,i){var r=(e/=i)*e,a=r*e;return t+n*(6*a*r+-15*r*r+10*a)}var i={progressSize:50,strokeWidth:10,duration:100,easeFn:e,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:e,materialEase:n}};return{configure:function(e){return i=t.extend(i,e||{})},$get:function(){return i}}}t.module("material.components.progressCircular").provider("$mdProgressCircular",e)}(),function(){function e(){function e(e,i,r,a){if(a){var o=a.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),l=n(i,"md-tab-label").remove(),c=a.insertTab({scope:e,parent:e.$parent,index:o,element:i,template:s.html(),label:l.html()},o);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&a.select(c.getIndex(),!0)}),e.$watch("disabled",function(){a.refreshIndex()}),e.$watch(function(){return a.getTabElementIndex(i)},function(e){c.index=e,a.updateTabOrder()}),e.$on("$destroy",function(){a.removeTab(c)})}}function n(e,n){for(var i=e[0].children,r=0,a=i.length;r<a;r++){var o=i[r];if(o.tagName===n.toUpperCase())return t.element(o)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(i,r){var a=n(i,"md-tab-label"),o=n(i,"md-tab-body");if(0===a.length&&(a=t.element("<md-tab-label></md-tab-label>"),r.label?a.text(r.label):a.append(i.contents()),0===o.length)){var s=i.contents().detach();o=t.element("<md-tab-body></md-tab-body>"),o.append(s)}return i.append(a),o.html()&&i.append(o),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,i){i&&i.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var i=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){i(e,{$event:t})})})}}}}e.$inject=["$parse"],t.module("material.components.tabs").directive("mdTabScroll",e)}(),function(){function e(e,i,r,a,o,s,l,c,u,d,f,h){function m(){y("stretchTabs",_),K("focusIndex",A,me.selectedIndex||0),K("offsetLeft",S,0),K("hasContent",T,!1),K("maxTabWidth",M,Q()),K("shouldPaginate",k,!1),E("noInkBar",F),E("dynamicHeight",H),E("noPagination"),E("swipeContent"),E("noDisconnect"),E("autoselect"),E("noSelectClick"),E("centerTabs",x,!1),E("enableDisconnect"),me.scope=e,me.parent=e.$parent,me.tabs=[],me.lastSelectedIndex=null,me.hasFocus=!1,me.styleTabItemFocus=!1,me.shouldCenterTabs=q(),me.tabContentPrefix="tab-content-",p()}function p(){me.selectedIndex=me.selectedIndex||0,g(),b(),v(),d(i),s.nextTick(function(){ge=j(),se(),ie(),le(),me.tabs[me.selectedIndex]&&me.tabs[me.selectedIndex].scope.select(),ye=!0,Z()})}function g(){var e=c.$mdTabsTemplate,n=t.element(i[0].querySelector("md-tab-data"));n.html(e),u(n.contents())(me.parent),delete c.$mdTabsTemplate}function v(){t.element(r).on("resize",L),e.$on("$destroy",w)}function b(){e.$watch("$mdTabsCtrl.selectedIndex",C)}function y(e,t){var n=c.$normalize("md-"+e);t&&K(e,t),c.$observe(n,function(t){me[e]=t})}function E(e,t){function n(t){me[e]="false"!==t}var i=c.$normalize("md-"+e);t&&K(e,t),c.hasOwnProperty(i)&&n(c[i]),c.$observe(i,n)}function w(){be=!0,t.element(r).off("resize",L)}function _(e){var n=j();t.element(n.wrapper).toggleClass("md-stretch-tabs",G()),le()}function x(e){me.shouldCenterTabs=q()}function M(e,n){if(e!==n){var i=j();t.forEach(i.tabs,function(t){t.style.maxWidth=e+"px"}),t.forEach(i.dummies,function(t){t.style.maxWidth=e+"px"}),s.nextTick(me.updateInkBarStyles)}}function k(e,t){e!==t&&(me.maxTabWidth=Q(),me.shouldCenterTabs=q(),s.nextTick(function(){me.maxTabWidth=Q(),ie(me.selectedIndex)}))}function T(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function S(n){var i=j(),r=(me.shouldCenterTabs||he()?"":"-")+n+"px";r=r.replace("--",""),t.element(i.paging).css(a.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function A(e,t){e!==t&&j().tabs[e]&&(ie(),ne())}function C(t,n){t!==n&&(me.selectedIndex=X(t),me.lastSelectedIndex=n,me.updateInkBarStyles(),se(),ie(t),e.$broadcast("$mdTabsChanged"),me.tabs[n]&&me.tabs[n].scope.deselect(),me.tabs[t]&&me.tabs[t].scope.select())}function $(e){var t=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function R(){R.watcher||(R.watcher=e.$watch(function(){s.nextTick(function(){R.watcher&&i.prop("offsetParent")&&(R.watcher(),R.watcher=null,L())},!1)}))}function P(e){switch(e.keyCode){case a.KEY_CODE.LEFT_ARROW:e.preventDefault(),te(-1,!0);break;case a.KEY_CODE.RIGHT_ARROW:e.preventDefault(),te(1,!0);break;case a.KEY_CODE.SPACE:case a.KEY_CODE.ENTER:e.preventDefault(),pe||N(me.focusIndex);break;case a.KEY_CODE.TAB:me.focusIndex!==me.selectedIndex&&(me.focusIndex=me.selectedIndex)}}function N(e,t){pe||(me.focusIndex=me.selectedIndex=e),t&&me.noSelectClick||s.nextTick(function(){me.tabs[e].element.triggerHandler("click")},!1)}function O(e){me.shouldPaginate&&(e.preventDefault(),me.offsetLeft=ue(me.offsetLeft-e.wheelDelta))}function D(){if(me.canPageForward()){var e=h.increasePageOffset(j(),me.offsetLeft);me.offsetLeft=ue(e)}}function I(){if(me.canPageBack()){var e=h.decreasePageOffset(j(),me.offsetLeft);me.offsetLeft=ue(e)}}function L(){me.lastSelectedIndex=me.selectedIndex,me.offsetLeft=ue(me.offsetLeft),s.nextTick(function(){me.updateInkBarStyles(),Z()})}function F(e){t.element(j().inkBar).toggleClass("ng-hide",e)}function H(e){i.toggleClass("md-dynamic-height",e)}function U(e){if(!be){var t=me.selectedIndex,n=me.tabs.splice(e.getIndex(),1)[0];oe(),me.selectedIndex===t&&(n.scope.deselect(),me.tabs[me.selectedIndex]&&me.tabs[me.selectedIndex].scope.select()),s.nextTick(function(){Z(),me.offsetLeft=ue(me.offsetLeft)})}}function B(e,n){var i=ye,r={getIndex:function(){return me.tabs.indexOf(a)},isActive:function(){return this.getIndex()===me.selectedIndex},isLeft:function(){return this.getIndex()<me.selectedIndex},isRight:function(){return this.getIndex()>me.selectedIndex},shouldRender:function(){return!me.noDisconnect||this.isActive()},hasFocus:function(){return me.styleTabItemFocus&&me.hasFocus&&this.getIndex()===me.focusIndex},id:s.nextUid(),hasContent:!(!e.template||!e.template.trim())},a=t.extend(r,e);return t.isDefined(n)?me.tabs.splice(n,0,a):me.tabs.push(a),re(),ae(),s.nextTick(function(){Z(),fe(a),i&&me.autoselect&&s.nextTick(function(){s.nextTick(function(){N(me.tabs.indexOf(a))})})}),a}function j(){var e={},t=i[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.nextButton=t.querySelector("md-next-button"),e.prevButton=t.querySelector("md-prev-button"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function V(){return me.offsetLeft>0}function z(){var e=j(),t=e.tabs[e.tabs.length-1];return he()?me.offsetLeft<e.paging.offsetWidth-e.canvas.offsetWidth:t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+me.offsetLeft}function W(){var e=me.tabs[me.focusIndex];return e&&e.id?"tab-item-"+e.id:null}function G(){switch(me.stretchTabs){case"always":return!0;case"never":return!1;default:return!me.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}function q(){return me.centerTabs&&!me.shouldPaginate}function Y(){if(me.noPagination||!ye)return!1;var e=i.prop("clientWidth");return t.forEach(j().tabs,function(t){e-=t.offsetWidth}),e<0}function X(e){if(e===-1)return-1;var t,n,i=Math.max(me.tabs.length-e,e);for(t=0;t<=i;t++){if(n=me.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=me.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function K(e,t,n){Object.defineProperty(me,e,{get:function(){return n},set:function(e){var i=n;n=e,t&&t(e,i)}})}function Z(){me.maxTabWidth=Q(),me.shouldPaginate=Y()}function J(e){var n=0;return t.forEach(e,function(e){n+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(n)}function Q(){var e=j(),t=e.canvas.clientWidth,n=264;return Math.max(0,Math.min(t-1,n))}function ee(){var e=me.tabs[me.selectedIndex],t=me.tabs[me.focusIndex];me.tabs=me.tabs.sort(function(e,t){return e.index-t.index}),me.selectedIndex=me.tabs.indexOf(e),me.focusIndex=me.tabs.indexOf(t)}function te(e,t){var n,i=t?"focusIndex":"selectedIndex",r=me[i];for(n=r+e;me.tabs[n]&&me.tabs[n].scope.disabled;n+=e);n=(r+e+me.tabs.length)%me.tabs.length,me.tabs[n]&&(me[i]=n)}function ne(){me.styleTabItemFocus="keyboard"===f.getLastInteractionType(),j().tabs[me.focusIndex].focus()}function ie(e){var n=j();if(t.isNumber(e)||(e=me.focusIndex),n.tabs[e]&&!me.shouldCenterTabs){var i=n.tabs[e],r=i.offsetLeft,a=i.offsetWidth+r,o=32;if(0==e)return void(me.offsetLeft=0);if(he()){var s=J(Array.prototype.slice.call(n.tabs,0,e)),l=J(Array.prototype.slice.call(n.tabs,0,e+1));me.offsetLeft=Math.min(me.offsetLeft,ue(s)),me.offsetLeft=Math.max(me.offsetLeft,ue(l-n.canvas.clientWidth))}else me.offsetLeft=Math.max(me.offsetLeft,ue(a-n.canvas.clientWidth+o)),me.offsetLeft=Math.min(me.offsetLeft,ue(r))}}function re(){ve.forEach(function(e){s.nextTick(e)}),ve=[]}function ae(){for(var e=!1,t=0;t<me.tabs.length;t++)if(me.tabs[t].hasContent){e=!0;break}me.hasContent=e}function oe(){me.selectedIndex=X(me.selectedIndex),me.focusIndex=X(me.focusIndex)}function se(){if(!me.dynamicHeight)return i.css("height","");if(!me.tabs.length)return ve.push(se);var e=j(),t=e.contents[me.selectedIndex],r=t?t.offsetHeight:0,a=e.wrapper.offsetHeight,o=r+a,c=i.prop("clientHeight");if(c!==o){"bottom"===i.attr("md-align-tabs")&&(c-=a,o-=a,i.attr("md-border-bottom")!==n&&++c),pe=!0;var u={height:c+"px"},d={height:o+"px"};i.css(u),l(i,{from:u,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),pe=!1})}}function le(){var e=j();if(!e.tabs[me.selectedIndex])return void t.element(e.inkBar).css({left:"auto",right:"auto"});if(!me.tabs.length)return ve.push(me.updateInkBarStyles);if(!i.prop("offsetParent"))return R();var n=me.selectedIndex,r=e.paging.offsetWidth,a=e.tabs[n],o=a.offsetLeft,l=r-o-a.offsetWidth;if(me.shouldCenterTabs){var c=J(e.tabs);r>c&&s.nextTick(le,!1)}ce(),t.element(e.inkBar).css({left:o+"px",right:l+"px"})}function ce(){var e=j(),n=me.selectedIndex,i=me.lastSelectedIndex,r=t.element(e.inkBar);t.isNumber(i)&&r.toggleClass("md-left",n<i).toggleClass("md-right",n>i)}function ue(e){var t=j();if(!t.tabs.length||!me.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return he()?(e=Math.min(t.paging.offsetWidth-t.canvas.clientWidth,e),e=Math.max(0,e)):(e=Math.max(0,e),e=Math.min(i-t.canvas.clientWidth,e)),e}function de(e,n){var i=j(),r={colorElement:t.element(i.inkBar)};o.attach(e,n,r)}function fe(e){if(e.hasContent){var n=i[0].querySelectorAll('[md-tab-id="'+e.id+'"]');t.element(n).attr("aria-controls",me.tabContentPrefix+e.id)}}function he(){return"rtl"==s.bidi()}var me=this,pe=!1,ge=j(),ve=[],be=!1,ye=!1;me.$onInit=m,me.updatePagination=s.debounce(Z,100),me.redirectFocus=ne,me.attachRipple=de,me.insertTab=B,me.removeTab=U,me.select=N,me.scroll=O,me.nextPage=D,me.previousPage=I,me.keydown=P,me.canPageForward=z,me.canPageBack=V,me.refreshIndex=oe,me.incrementIndex=te,me.getTabElementIndex=$,me.updateInkBarStyles=s.debounce(le,100),me.updateTabOrder=s.debounce(ee,100),me.getFocusedTabId=W,1===t.version.major&&t.version.minor<=4&&this.$onInit()}e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","MdTabsPaginationService"],t.module("material.components.tabs").controller("MdTabsController",e)}(),function(){function e(e){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,n){return n.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist"> <md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){return{require:"^?mdTabs",link:function(n,i,r,a){if(a){var o,s,l=function(){a.updatePagination(),a.updateInkBarStyles()};if("MutationObserver"in t){var c={childList:!0,subtree:!0,characterData:!0};o=new MutationObserver(l),o.observe(i[0],c),s=o.disconnect.bind(o)}else{var u=e.debounce(l,15,null,!1);i.on("DOMSubtreeModified",u),s=i.off.bind(i,"DOMSubtreeModified",u)}n.$on("$destroy",function(){s()})}}}}e.$inject=["$mdUtil","$window"],t.module("material.components.tabs").directive("mdTabsDummyWrapper",e)}(),function(){function e(e,t){function n(n,i,r,a){function o(){n.$watch("connected",function(e){e===!1?s():l()}),n.$on("$destroy",l)}function s(){a.enableDisconnect&&t.disconnectScope(c)}function l(){a.enableDisconnect&&t.reconnectScope(c);
}if(a){var c=a.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),e(i.contents())(c),t.nextTick(o)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.tabs").directive("mdTabsTemplate",e)}(),function(){t.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
}()}(window,window.angular),window.ngMaterial={version:{full:"1.1.5"}},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.THREE=e.THREE||{})}(this,function(e){function t(){}function n(e,t){this.x=e||0,this.y=t||0}function i(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function r(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function a(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function o(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function s(e,t,i,r,a,l,c,u,d,f){Object.defineProperty(this,"id",{value:Ar++}),this.uuid=Sr.generateUUID(),this.name="",this.image=void 0!==e?e:s.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:s.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:1001,this.wrapT=void 0!==r?r:1001,this.magFilter=void 0!==a?a:1006,this.minFilter=void 0!==l?l:1008,this.anisotropy=void 0!==d?d:1,this.format=void 0!==c?c:1023,this.type=void 0!==u?u:1009,this.offset=new n(0,0),this.repeat=new n(1,1),this.center=new n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new o,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:3e3,this.version=0,this.onUpdate=null}function l(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function c(e,t,n){this.uuid=Sr.generateUUID(),this.width=e,this.height=t,this.scissor=new l(0,0,e,t),this.scissorTest=!1,this.viewport=new l(0,0,e,t),n=n||{},void 0===n.minFilter&&(n.minFilter=1006),this.texture=new s((void 0),(void 0),n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function u(e,t,n){c.call(this,e,t,n),this.activeMipMapLevel=this.activeCubeFace=0}function d(e,t,n,i,r,a,o,l,c,u,d,f){s.call(this,null,a,o,l,c,u,i,r,d,f),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==u?u:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1}function f(e,t,n,i,r,a,o,l,c,u){e=void 0!==e?e:[],s.call(this,e,void 0!==t?t:301,n,i,r,a,o,l,c,u),this.flipY=!1}function h(e,t,n){var i=e[0];if(0>=i||0<i)return e;var r=t*n,a=Rr[r];if(void 0===a&&(a=new Float32Array(r),Rr[r]=a),0!==t)for(i.toArray(a,0),i=1,r=0;i!==t;++i)r+=n,e[i].toArray(a,r);return a}function m(e,t){var n=Pr[t];void 0===n&&(n=new Int32Array(t),Pr[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function p(e,t){e.uniform1f(this.addr,t)}function g(e,t){e.uniform1i(this.addr,t)}function v(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function b(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function y(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function E(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function w(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Or.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Or))}function _(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Nr.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Nr))}function x(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||Cr,i)}function M(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||$r,i)}function k(e,t){e.uniform2iv(this.addr,t)}function T(e,t){e.uniform3iv(this.addr,t)}function S(e,t){e.uniform4iv(this.addr,t)}function A(e){switch(e){case 5126:return p;case 35664:return v;case 35665:return b;case 35666:return y;case 35674:return E;case 35675:return w;case 35676:return _;case 35678:case 36198:return x;case 35680:return M;case 5124:case 35670:return g;case 35667:case 35671:return k;case 35668:case 35672:return T;case 35669:case 35673:return S}}function C(e,t){e.uniform1fv(this.addr,t)}function $(e,t){e.uniform1iv(this.addr,t)}function R(e,t){e.uniform2fv(this.addr,h(t,this.size,2))}function P(e,t){e.uniform3fv(this.addr,h(t,this.size,3))}function N(e,t){e.uniform4fv(this.addr,h(t,this.size,4))}function O(e,t){e.uniformMatrix2fv(this.addr,!1,h(t,this.size,4))}function D(e,t){e.uniformMatrix3fv(this.addr,!1,h(t,this.size,9))}function I(e,t){e.uniformMatrix4fv(this.addr,!1,h(t,this.size,16))}function L(e,t,n){var i=t.length,r=m(n,i);for(e.uniform1iv(this.addr,r),e=0;e!==i;++e)n.setTexture2D(t[e]||Cr,r[e])}function F(e,t,n){var i=t.length,r=m(n,i);for(e.uniform1iv(this.addr,r),e=0;e!==i;++e)n.setTextureCube(t[e]||$r,r[e])}function H(e){switch(e){case 5126:return C;case 35664:return R;case 35665:return P;case 35666:return N;case 35674:return O;case 35675:return D;case 35676:return I;case 35678:return L;case 35680:return F;case 5124:case 35670:return $;case 35667:case 35671:return k;case 35668:case 35672:return T;case 35669:case 35673:return S}}function U(e,t,n){this.id=e,this.addr=n,this.setValue=A(t.type)}function B(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=H(t.type)}function j(e){this.id=e,this.seq=[],this.map={}}function V(e,t,n){this.seq=[],this.map={},this.renderer=n,n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var i=0;i<n;++i){var r=e.getActiveUniform(t,i),a=e.getUniformLocation(t,r.name),o=this,s=r.name,l=s.length;for(Dr.lastIndex=0;;){var c=Dr.exec(s),u=Dr.lastIndex,d=c[1],f=c[3];if("]"===c[2]&&(d|=0),void 0===f||"["===f&&u+2===l){s=o,r=void 0===f?new U(d,r,a):new B(d,r,a),s.seq.push(r),s.map[r.id]=r;break}f=o.map[d],void 0===f&&(f=new j(d),d=o,o=f,d.seq.push(o),d.map[o.id]=o),o=f}}}function z(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function W(e,t){this.min=void 0!==e?e:new n(1/0,1/0),this.max=void 0!==t?t:new n((-(1/0)),(-(1/0)))}function G(e,t,i,r,o){var s,l,c,u,d,f,h,m,p,g,v,b,y,E,w,_;this.render=function(e,x,M,k){if(0!==e.length){x=new a;var T=k.w/k.z,S=.5*k.z,A=.5*k.w,C=16/k.w,$=new n(C*T,C),R=new a(1,1,0),P=new n(1,1),N=new W;if(N.min.set(k.x,k.y),N.max.set(k.x+(k.z-16),k.y+(k.w-16)),void 0===E){var C=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),O=new Uint16Array([0,1,2,0,2,3]);v=t.createBuffer(),b=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,C,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,b),t.bufferData(t.ELEMENT_ARRAY_BUFFER,O,t.STATIC_DRAW),w=t.createTexture(),_=t.createTexture(),i.bindTexture(t.TEXTURE_2D,w),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),i.bindTexture(t.TEXTURE_2D,_),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);var C=y={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tvUV = uv;\n\tvec2 pos = position;\n\tif ( renderType == 2 ) {\n\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\t\tvVisibility =        visibility.r / 9.0;\n\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\tvVisibility *=       visibility.b / 9.0;\n\t\tvVisibility *= 1.0 - visibility.a / 9.0;\n\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\n\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n\t}\n\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tif ( renderType == 0 ) {\n\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n\t} else if ( renderType == 1 ) {\n\t\tgl_FragColor = texture2D( map, vUV );\n\t} else {\n\t\tvec4 texture = texture2D( map, vUV );\n\t\ttexture.a *= opacity * vVisibility;\n\t\tgl_FragColor = texture;\n\t\tgl_FragColor.rgb *= color;\n\t}\n}"},O=t.createProgram(),D=t.createShader(t.FRAGMENT_SHADER),I=t.createShader(t.VERTEX_SHADER),L="precision "+o.precision+" float;\n";t.shaderSource(D,L+C.fragmentShader),t.shaderSource(I,L+C.vertexShader),t.compileShader(D),t.compileShader(I),t.attachShader(O,D),t.attachShader(O,I),t.linkProgram(O),E=O,p=t.getAttribLocation(E,"position"),g=t.getAttribLocation(E,"uv"),s=t.getUniformLocation(E,"renderType"),l=t.getUniformLocation(E,"map"),c=t.getUniformLocation(E,"occlusionMap"),u=t.getUniformLocation(E,"opacity"),d=t.getUniformLocation(E,"color"),f=t.getUniformLocation(E,"scale"),h=t.getUniformLocation(E,"rotation"),m=t.getUniformLocation(E,"screenPosition")}for(i.useProgram(E),i.initAttributes(),i.enableAttribute(p),i.enableAttribute(g),i.disableUnusedAttributes(),t.uniform1i(c,0),t.uniform1i(l,1),t.bindBuffer(t.ARRAY_BUFFER,v),t.vertexAttribPointer(p,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(g,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,b),i.disable(t.CULL_FACE),i.buffers.depth.setMask(!1),O=0,D=e.length;O<D;O++)if(C=16/k.w,$.set(C*T,C),I=e[O],x.set(I.matrixWorld.elements[12],I.matrixWorld.elements[13],I.matrixWorld.elements[14]),x.applyMatrix4(M.matrixWorldInverse),x.applyMatrix4(M.projectionMatrix),R.copy(x),P.x=k.x+R.x*S+S-8,P.y=k.y+R.y*A+A-8,!0===N.containsPoint(P)){i.activeTexture(t.TEXTURE0),i.bindTexture(t.TEXTURE_2D,null),i.activeTexture(t.TEXTURE1),i.bindTexture(t.TEXTURE_2D,w),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,P.x,P.y,16,16,0),t.uniform1i(s,0),t.uniform2f(f,$.x,$.y),t.uniform3f(m,R.x,R.y,R.z),i.disable(t.BLEND),i.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),i.activeTexture(t.TEXTURE0),i.bindTexture(t.TEXTURE_2D,_),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,P.x,P.y,16,16,0),t.uniform1i(s,1),i.disable(t.DEPTH_TEST),i.activeTexture(t.TEXTURE1),i.bindTexture(t.TEXTURE_2D,w),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),I.positionScreen.copy(R),I.customUpdateCallback?I.customUpdateCallback(I):I.updateLensFlares(),t.uniform1i(s,2),i.enable(t.BLEND);for(var L=0,F=I.lensFlares.length;L<F;L++){var H=I.lensFlares[L];.001<H.opacity&&.001<H.scale&&(R.x=H.x,R.y=H.y,R.z=H.z,C=H.size*H.scale/k.w,$.x=C*T,$.y=C,t.uniform3f(m,R.x,R.y,R.z),t.uniform2f(f,$.x,$.y),t.uniform1f(h,H.rotation),t.uniform1f(u,H.opacity),t.uniform3f(d,H.color.r,H.color.g,H.color.b),i.setBlending(H.blending,H.blendEquation,H.blendSrc,H.blendDst),r.setTexture2D(H.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}i.enable(t.CULL_FACE),i.enable(t.DEPTH_TEST),i.buffers.depth.setMask(!0),i.reset()}}}function q(e,t,n,i,r,a,o,l,c){s.call(this,e,t,n,i,r,a,o,l,c),this.needsUpdate=!0}function Y(e,t,n,i,o){function s(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var l,c,u,d,f,h,m,p,g,v,b,y,E,w,_,x,M,k,T,S,A,C=new a,$=new r,R=new a;this.render=function(r,a,P){if(0!==r.length){if(void 0===S){var N=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),O=new Uint16Array([0,1,2,0,2,3]);k=t.createBuffer(),T=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,k),t.bufferData(t.ARRAY_BUFFER,N,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,T),t.bufferData(t.ELEMENT_ARRAY_BUFFER,O,t.STATIC_DRAW),N=t.createProgram(),O=t.createShader(t.VERTEX_SHADER);var D=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(O,["precision "+o.precision+" float;","#define SHADER_NAME SpriteMaterial\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float fogDepth;\nvoid main() {\n\tvUV = uvOffset + uv * uvScale;\n\tvec2 alignedPosition = position * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\tfogDepth = - mvPosition.z;\n}"].join("\n")),t.shaderSource(D,["precision "+o.precision+" float;","#define SHADER_NAME SpriteMaterial\nuniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvarying float fogDepth;\nvoid main() {\n\tvec4 texture = texture2D( map, vUV );\n\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\n\tif ( gl_FragColor.a < alphaTest ) discard;\n\tif ( fogType > 0 ) {\n\t\tfloat fogFactor = 0.0;\n\t\tif ( fogType == 1 ) {\n\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t\t} else {\n\t\t\tconst float LOG2 = 1.442695;\n\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );\n\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\t\t}\n\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\t}\n}"].join("\n")),t.compileShader(O),t.compileShader(D),t.attachShader(N,O),t.attachShader(N,D),t.linkProgram(N),S=N,x=t.getAttribLocation(S,"position"),M=t.getAttribLocation(S,"uv"),l=t.getUniformLocation(S,"uvOffset"),c=t.getUniformLocation(S,"uvScale"),u=t.getUniformLocation(S,"rotation"),d=t.getUniformLocation(S,"scale"),f=t.getUniformLocation(S,"color"),h=t.getUniformLocation(S,"map"),m=t.getUniformLocation(S,"opacity"),p=t.getUniformLocation(S,"modelViewMatrix"),g=t.getUniformLocation(S,"projectionMatrix"),v=t.getUniformLocation(S,"fogType"),b=t.getUniformLocation(S,"fogDensity"),y=t.getUniformLocation(S,"fogNear"),E=t.getUniformLocation(S,"fogFar"),w=t.getUniformLocation(S,"fogColor"),t.getUniformLocation(S,"fogDepth"),_=t.getUniformLocation(S,"alphaTest"),N=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),N.width=8,N.height=8,O=N.getContext("2d"),O.fillStyle="white",O.fillRect(0,0,8,8),A=new q(N)}n.useProgram(S),n.initAttributes(),n.enableAttribute(x),n.enableAttribute(M),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,k),t.vertexAttribPointer(x,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(M,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,T),t.uniformMatrix4fv(g,!1,P.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(h,0),O=N=0,(D=a.fog)?(t.uniform3f(w,D.color.r,D.color.g,D.color.b),D.isFog?(t.uniform1f(y,D.near),t.uniform1f(E,D.far),t.uniform1i(v,1),O=N=1):D.isFogExp2&&(t.uniform1f(b,D.density),t.uniform1i(v,2),O=N=2)):(t.uniform1i(v,0),O=N=0);for(var I=0,L=r.length;I<L;I++)D=r[I],D.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,D.matrixWorld),D.z=-D.modelViewMatrix.elements[14];r.sort(s);for(var F=[],I=0,L=r.length;I<L;I++){D=r[I];var H=D.material;if(!1!==H.visible){D.onBeforeRender(e,a,P,void 0,H,void 0),t.uniform1f(_,H.alphaTest),t.uniformMatrix4fv(p,!1,D.modelViewMatrix.elements),D.matrixWorld.decompose(C,$,R),F[0]=R.x,F[1]=R.y;var U=0;a.fog&&H.fog&&(U=O),N!==U&&(t.uniform1i(v,U),N=U),null!==H.map?(t.uniform2f(l,H.map.offset.x,H.map.offset.y),t.uniform2f(c,H.map.repeat.x,H.map.repeat.y)):(t.uniform2f(l,0,0),t.uniform2f(c,1,1)),t.uniform1f(m,H.opacity),t.uniform3f(f,H.color.r,H.color.g,H.color.b),t.uniform1f(u,H.rotation),t.uniform2fv(d,F),n.setBlending(H.blending,H.blendEquation,H.blendSrc,H.blendDst,H.blendEquationAlpha,H.blendSrcAlpha,H.blendDstAlpha,H.premultipliedAlpha),n.buffers.depth.setTest(H.depthTest),n.buffers.depth.setMask(H.depthWrite),n.buffers.color.setMask(H.colorWrite),i.setTexture2D(H.map||A,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),D.onAfterRender(e,a,P,void 0,H,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function X(){Object.defineProperty(this,"id",{value:Br++}),this.uuid=Sr.generateUUID(),this.name="",this.type="Material",this.lights=this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function K(e){X.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.setValues(e)}function Z(e){X.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new a,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.lights=this.fog=!1,this.setValues(e)}function J(e,t){this.min=void 0!==e?e:new a(1/0,1/0,1/0),this.max=void 0!==t?t:new a((-(1/0)),(-(1/0)),(-(1/0)))}function Q(e,t){this.center=void 0!==e?e:new a,this.radius=void 0!==t?t:0}function ee(e,t){this.normal=void 0!==e?e:new a(1,0,0),this.constant=void 0!==t?t:0}function te(e,t,n,i,r,a){this.planes=[void 0!==e?e:new ee,void 0!==t?t:new ee,void 0!==n?n:new ee,void 0!==i?i:new ee,void 0!==r?r:new ee,void 0!==a?a:new ee]}function ne(e,t,r){function o(t,n,i,r,a,o){var s=t.geometry,l=g,c=t.customDepthMaterial;return i&&(l=v,c=t.customDistanceMaterial),c?l=c:(c=!1,n.morphTargets&&(s&&s.isBufferGeometry?c=s.morphAttributes&&s.morphAttributes.position&&0<s.morphAttributes.position.length:s&&s.isGeometry&&(c=s.morphTargets&&0<s.morphTargets.length)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t),t=t.isSkinnedMesh&&n.skinning,s=0,c&&(s|=1),t&&(s|=2),l=l[s]),e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length&&(s=l.uuid,c=n.uuid,t=b[s],void 0===t&&(t={},b[s]=t),s=t[c],void 0===s&&(s=l.clone(),t[c]=s),l=s),l.visible=n.visible,l.wireframe=n.wireframe,c=n.side,k.renderSingleSided&&2==c&&(c=0),k.renderReverseSided&&(0===c?c=1:1===c&&(c=0)),l.side=c,l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=a,l.farDistance=o),l}function s(n,i,r,a){var l;if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||u.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,n.matrixWorld);var c=t.update(n),d=n.material;if(Array.isArray(d))for(var f=c.groups,h=0,m=f.length;h<m;h++){var g=f[h];(l=d[g.materialIndex])&&l.visible&&(l=o(n,l,a,p,r.near,r.far),e.renderBufferDirect(r,null,c,l,n,g))}else d.visible&&(l=o(n,d,a,p,r.near,r.far),e.renderBufferDirect(r,null,c,l,n,null))}for(n=n.children,c=0,d=n.length;c<d;c++)s(n[c],i,r,a)}}var u=new te,d=new i,f=new n,h=new n(r,r),m=new a,p=new a,g=Array(4),v=Array(4),b={},y=[new a(1,0,0),new a((-1),0,0),new a(0,0,1),new a(0,0,(-1)),new a(0,1,0),new a(0,(-1),0)],E=[new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,0,1),new a(0,0,(-1))],w=[new l,new l,new l,new l,new l,new l];for(r=0;4!==r;++r){var _=0!==(1&r),x=0!==(2&r),M=new K({depthPacking:3201,morphTargets:_,skinning:x});g[r]=M,_=new Z({morphTargets:_,skinning:x}),v[r]=_}var k=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.renderSingleSided=this.renderReverseSided=!0,this.render=function(t,n,i){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==t.length){var r=e.state;r.disable(e.context.BLEND),r.buffers.color.setClear(1,1,1,1),r.buffers.depth.setTest(!0),r.setScissorTest(!1);for(var a,o=0,l=t.length;o<l;o++){var g=t[o];a=g.shadow;var v=g&&g.isPointLight;if(void 0===a)console.warn("THREE.WebGLShadowMap:",g,"has no shadow.");else{var b=a.camera;if(f.copy(a.mapSize),f.min(h),v){var _=f.x,x=f.y;w[0].set(2*_,x,_,x),w[1].set(0,x,_,x),w[2].set(3*_,x,_,x),w[3].set(_,x,_,x),w[4].set(3*_,0,_,x),w[5].set(_,0,_,x),f.x*=4,f.y*=2}for(null===a.map&&(a.map=new c(f.x,f.y,{minFilter:1003,magFilter:1003,format:1023}),a.map.texture.name=g.name+".shadowMap",b.updateProjectionMatrix()),a.isSpotLightShadow&&a.update(g),_=a.map,x=a.matrix,p.setFromMatrixPosition(g.matrixWorld),b.position.copy(p),v?(a=6,x.makeTranslation(-p.x,-p.y,-p.z)):(a=1,m.setFromMatrixPosition(g.target.matrixWorld),b.lookAt(m),b.updateMatrixWorld(),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(b.projectionMatrix),x.multiply(b.matrixWorldInverse)),e.setRenderTarget(_),e.clear(),g=0;g<a;g++)v&&(m.copy(b.position),m.add(y[g]),b.up.copy(E[g]),b.lookAt(m),b.updateMatrixWorld(),r.viewport(w[g])),d.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),u.setFromMatrix(d),s(n,i,b,v)}}k.needsUpdate=!1}}}function ie(e){var t={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t[e.uuid]},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t[n.uuid];i&&(e.deleteBuffer(i.buffer),delete t[n.uuid])},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t[n.uuid];if(void 0===r){var r=n.uuid,a=n.array,o=n.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,s=e.createBuffer();e.bindBuffer(i,s),e.bufferData(i,a,o),n.onUploadCallback(),i=e.FLOAT,a instanceof Float32Array?i=e.FLOAT:a instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):a instanceof Uint16Array?i=e.UNSIGNED_SHORT:a instanceof Int16Array?i=e.SHORT:a instanceof Uint32Array?i=e.UNSIGNED_INT:a instanceof Int32Array?i=e.INT:a instanceof Int8Array?i=e.BYTE:a instanceof Uint8Array&&(i=e.UNSIGNED_BYTE),t[r]={buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:n.version}}else r.version<n.version&&(a=n,s=a.array,o=a.updateRange,e.bindBuffer(i,r.buffer),!1===a.dynamic?e.bufferData(i,s,e.STATIC_DRAW):-1===o.count?e.bufferSubData(i,0,s):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1),r.version=n.version)}}}function re(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||re.DefaultOrder}function ae(){this.mask=1}function oe(){Object.defineProperty(this,"id",{value:jr++}),this.uuid=Sr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=oe.DefaultUp.clone();var e=new a,t=new re,n=new r,s=new a(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:s},modelViewMatrix:{value:new i},normalMatrix:{value:new o}}),this.matrix=new i,this.matrixWorld=new i,this.matrixAutoUpdate=oe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ae,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function se(){oe.call(this),this.type="Camera",this.matrixWorldInverse=new i,this.projectionMatrix=new i}function le(e,t,n,i,r,a){se.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function ce(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new a,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new z,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}function ue(){Object.defineProperty(this,"id",{value:Vr+=2}),this.uuid=Sr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function de(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Sr.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function fe(e,t,n){de.call(this,new Int8Array(e),t,n)}function he(e,t,n){de.call(this,new Uint8Array(e),t,n)}function me(e,t,n){de.call(this,new Uint8ClampedArray(e),t,n)}function pe(e,t,n){de.call(this,new Int16Array(e),t,n)}function ge(e,t,n){de.call(this,new Uint16Array(e),t,n)}function ve(e,t,n){de.call(this,new Int32Array(e),t,n)}function be(e,t,n){de.call(this,new Uint32Array(e),t,n)}function ye(e,t,n){de.call(this,new Float32Array(e),t,n)}function Ee(e,t,n){de.call(this,new Float64Array(e),t,n)}function we(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function _e(e){if(0===e.length)return-(1/0);for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function xe(){Object.defineProperty(this,"id",{value:zr+=2}),this.uuid=Sr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0}}function Me(e,t,n,i,r,a){ue.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new ke(e,t,n,i,r,a)),this.mergeVertices()}function ke(e,t,n,i,r,o){function s(e,t,n,i,r,o,s,p,g,v,b){var y=o/g,E=s/v,w=o/2,_=s/2,x=p/2;s=g+1;var M,k,T=v+1,S=o=0,A=new a;for(k=0;k<T;k++){var C=k*E-_;for(M=0;M<s;M++)A[e]=(M*y-w)*i,A[t]=C*r,A[n]=x,u.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=0<p?1:-1,d.push(A.x,A.y,A.z),f.push(M/g),f.push(1-k/v),o+=1}for(k=0;k<v;k++)for(M=0;M<g;M++)e=h+M+s*(k+1),t=h+(M+1)+s*(k+1),n=h+(M+1)+s*k,c.push(h+M+s*k,e,n),c.push(e,t,n),S+=6;l.addGroup(m,S,b),m+=S,h+=o}xe.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};var l=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var c=[],u=[],d=[],f=[],h=0,m=0;s("z","y","x",-1,-1,n,t,e,o,r,0),s("z","y","x",1,-1,n,t,-e,o,r,1),s("x","z","y",1,1,e,n,t,i,o,2),s("x","z","y",1,-1,e,n,-t,i,o,3),s("x","y","z",1,-1,e,t,n,i,r,4),s("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(c),this.addAttribute("position",new ye(u,3)),this.addAttribute("normal",new ye(d,3)),this.addAttribute("uv",new ye(f,2))}function Te(e,t,n,i){ue.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Se(e,t,n,i)),this.mergeVertices()}function Se(e,t,n,i){xe.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},e=e||1,t=t||1;var r=e/2,a=t/2;n=Math.floor(n)||1,i=Math.floor(i)||1;var o=n+1,s=i+1,l=e/n,c=t/i,u=[],d=[],f=[],h=[];for(e=0;e<s;e++){var m=e*c-a;for(t=0;t<o;t++)d.push(t*l-r,-m,0),f.push(0,0,1),h.push(t/n),h.push(1-e/i)}for(e=0;e<i;e++)for(t=0;t<n;t++)r=t+o*(e+1),a=t+1+o*(e+1),s=t+1+o*e,u.push(t+o*e,r,s),u.push(r,a,s);this.setIndex(u),this.addAttribute("position",new ye(d,3)),this.addAttribute("normal",new ye(f,3)),this.addAttribute("uv",new ye(h,2))}function Ae(e){X.call(this),this.type="MeshBasicMaterial",this.color=new z(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.lights=this.morphTargets=this.skinning=!1,this.setValues(e)}function Ce(e){X.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function $e(e,t){this.origin=void 0!==e?e:new a,this.direction=void 0!==t?t:new a}function Re(e,t){this.start=void 0!==e?e:new a,this.end=void 0!==t?t:new a}function Pe(e,t,n){this.a=void 0!==e?e:new a,this.b=void 0!==t?t:new a,this.c=void 0!==n?n:new a}function Ne(e,t){oe.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new xe,this.material=void 0!==t?t:new Ae({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Oe(e,t,n,i){function r(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}var a,o,s,l=new z(0),c=0;return{getClearColor:function(){return l},setClearColor:function(e,t){l.set(e),c=void 0!==t?t:1,r(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,r(l,c)},render:function(t,i,u,d){i=i.background,null===i?r(l,c):i&&i.isColor&&(r(i,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),i&&i.isCubeTexture?(void 0===s&&(s=new Ne(new ke(1,1,1),new Ce({uniforms:Ur.cube.uniforms,vertexShader:Ur.cube.vertexShader,fragmentShader:Ur.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1})),s.geometry.removeAttribute("normal"),s.geometry.removeAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(s.geometry)),s.material.uniforms.tCube.value=i,t.push(s,s.geometry,s.material,0,null)):i&&i.isTexture&&(void 0===a&&(a=new le((-1),1,1,(-1),0,1),o=new Ne(new Se(2,2),new Ae({depthTest:!1,
depthWrite:!1,fog:!1})),n.update(o.geometry)),o.material.map=i,e.renderBufferDirect(a,null,o.geometry,o.material,o,null))}}}function De(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ie(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Le(){var e=[],t=0,n=[],i=[];return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(r,a,o,s,l){var c=e[t];void 0===c?(c={id:r.id,object:r,geometry:a,material:o,program:o.program,renderOrder:r.renderOrder,z:s,group:l},e[t]=c):(c.id=r.id,c.object=r,c.geometry=a,c.material=o,c.program=o.program,c.renderOrder=r.renderOrder,c.z=s,c.group=l),(!0===o.transparent?i:n).push(c),t++},sort:function(){1<n.length&&n.sort(De),1<i.length&&i.sort(Ie)}}}function Fe(){var e={};return{get:function(t,n){return t=t.id+","+n.id,n=e[t],void 0===n&&(n=new Le,e[t]=n),n},dispose:function(){e={}}}}function He(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ue(e){var t={},n=new Float32Array(8);return{update:function(i,r,a,o){var s=i.morphTargetInfluences,l=s.length;if(i=t[r.id],void 0===i){i=[];for(var c=0;c<l;c++)i[c]=[c,0];t[r.id]=i}var u=a.morphTargets&&r.morphAttributes.position;for(a=a.morphNormals&&r.morphAttributes.normal,c=0;c<l;c++){var d=i[c];0!==d[1]&&(u&&r.removeAttribute("morphTarget"+c),a&&r.removeAttribute("morphNormal"+c))}for(c=0;c<l;c++)d=i[c],d[0]=c,d[1]=s[c];for(i.sort(He),c=0;8>c;c++)(d=i[c])&&(s=d[0],d=d[1])?(u&&r.addAttribute("morphTarget"+c,u[s]),a&&r.addAttribute("morphNormal"+c,a[s]),n[c]=d):n[c]=0;o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Be(e,t,n){var i,r,a;this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*a),n.calls++,n.vertices+=o,i===e.TRIANGLES?n.faces+=o/3:i===e.POINTS&&(n.points+=o)},this.renderInstances=function(o,s,l){var c=t.get("ANGLE_instanced_arrays");null===c?console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(c.drawElementsInstancedANGLE(i,l,r,s*a,o.maxInstancedCount),n.calls++,n.vertices+=l*o.maxInstancedCount,i===e.TRIANGLES?n.faces+=o.maxInstancedCount*l/3:i===e.POINTS&&(n.points+=o.maxInstancedCount*l))}}function je(e,t,n){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.calls++,n.vertices+=r,i===e.TRIANGLES?n.faces+=r/3:i===e.POINTS&&(n.points+=r)},this.renderInstances=function(r,a,o){var s=t.get("ANGLE_instanced_arrays");if(null===s)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var l=r.attributes.position;l.isInterleavedBufferAttribute?(o=l.data.count,s.drawArraysInstancedANGLE(i,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(i,a,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,i===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:i===e.POINTS&&(n.points+=r.maxInstancedCount*o)}}}function Ve(e,t,n){function i(e){e=e.target;var o=r[e.id];null!==o.index&&t.remove(o.index);for(var s in o.attributes)t.remove(o.attributes[s]);e.removeEventListener("dispose",i),delete r[e.id],(s=a[e.id])&&(t.remove(s),delete a[e.id]),(s=a[o.id])&&(t.remove(s),delete a[o.id]),n.geometries--}var r={},a={};return{get:function(e,t){var a=r[t.id];return a?a:(t.addEventListener("dispose",i),t.isBufferGeometry?a=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new xe).setFromObject(e)),a=t._bufferGeometry),r[t.id]=a,n.geometries++,a)},update:function(n){var i=n.index,r=n.attributes;null!==i&&t.update(i,e.ELEMENT_ARRAY_BUFFER);for(var a in r)t.update(r[a],e.ARRAY_BUFFER);n=n.morphAttributes;for(a in n)for(var i=n[a],r=0,o=i.length;r<o;r++)t.update(i[r],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var i=a[n.id];if(i)return i;i=[];var r=n.index,o=n.attributes;if(null!==r)for(var s=r.array,l=0,c=s.length;l<c;l+=3){var u=s[l+0];o=s[l+1],r=s[l+2],i.push(u,o,o,r,r,u)}else for(s=o.position.array,l=0,c=s.length/3-1;l<c;l+=3)u=l+0,o=l+1,r=l+2,i.push(u,o,o,r,r,u);return i=new(65535<_e(i)?be:ge)(i,1),t.update(i,e.ELEMENT_ARRAY_BUFFER),a[n.id]=i}}}function ze(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":var i={direction:new a,color:new z,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":i={position:new a,direction:new a,color:new z,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":i={position:new a,color:new z,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new a,skyColor:new z,groundColor:new z};break;case"RectAreaLight":i={color:new z,position:new a,halfWidth:new a,halfHeight:new a}}return e[t.id]=i}}}function We(){var e=new ze,t={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new a,r=new i,o=new i;return{setup:function(i,a,s){for(var l,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=s.matrixWorldInverse,b=0,y=i.length;b<y;b++){var E=i[b];l=E.color;var w=E.intensity,_=E.distance,x=E.shadow&&E.shadow.map?E.shadow.map.texture:null;E.isAmbientLight?(c+=l.r*w,u+=l.g*w,d+=l.b*w):E.isDirectionalLight?(s=e.get(E),s.color.copy(E.color).multiplyScalar(E.intensity),s.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),s.direction.sub(n),s.direction.transformDirection(v),(s.shadow=E.castShadow)&&(l=E.shadow,s.shadowBias=l.bias,s.shadowRadius=l.radius,s.shadowMapSize=l.mapSize),t.directionalShadowMap[f]=x,t.directionalShadowMatrix[f]=E.shadow.matrix,t.directional[f]=s,f++):E.isSpotLight?(s=e.get(E),s.position.setFromMatrixPosition(E.matrixWorld),s.position.applyMatrix4(v),s.color.copy(l).multiplyScalar(w),s.distance=_,s.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),s.direction.sub(n),s.direction.transformDirection(v),s.coneCos=Math.cos(E.angle),s.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),s.decay=0===E.distance?0:E.decay,(s.shadow=E.castShadow)&&(l=E.shadow,s.shadowBias=l.bias,s.shadowRadius=l.radius,s.shadowMapSize=l.mapSize),t.spotShadowMap[m]=x,t.spotShadowMatrix[m]=E.shadow.matrix,t.spot[m]=s,m++):E.isRectAreaLight?(s=e.get(E),s.color.copy(l).multiplyScalar(w/(E.width*E.height)),s.position.setFromMatrixPosition(E.matrixWorld),s.position.applyMatrix4(v),o.identity(),r.copy(E.matrixWorld),r.premultiply(v),o.extractRotation(r),s.halfWidth.set(.5*E.width,0,0),s.halfHeight.set(0,.5*E.height,0),s.halfWidth.applyMatrix4(o),s.halfHeight.applyMatrix4(o),t.rectArea[p]=s,p++):E.isPointLight?(s=e.get(E),s.position.setFromMatrixPosition(E.matrixWorld),s.position.applyMatrix4(v),s.color.copy(E.color).multiplyScalar(E.intensity),s.distance=E.distance,s.decay=0===E.distance?0:E.decay,(s.shadow=E.castShadow)&&(l=E.shadow,s.shadowBias=l.bias,s.shadowRadius=l.radius,s.shadowMapSize=l.mapSize,s.shadowCameraNear=l.camera.near,s.shadowCameraFar=l.camera.far),t.pointShadowMap[h]=x,t.pointShadowMatrix[h]=E.shadow.matrix,t.point[h]=s,h++):E.isHemisphereLight&&(s=e.get(E),s.direction.setFromMatrixPosition(E.matrixWorld),s.direction.transformDirection(v),s.direction.normalize(),s.skyColor.copy(E.color).multiplyScalar(w),s.groundColor.copy(E.groundColor).multiplyScalar(w),t.hemi[g]=s,g++)}t.ambient[0]=c,t.ambient[1]=u,t.ambient[2]=d,t.directional.length=f,t.spot.length=m,t.rectArea.length=p,t.point.length=h,t.hemi.length=g,t.hash=f+","+h+","+m+","+p+","+g+","+a.length},state:t}}function Ge(e,t){var n={};return{update:function(i){var r=t.frame,a=i.geometry,o=e.get(i,a);return n[o.id]!==r&&(a.isGeometry&&o.updateFromObject(i),e.update(o),n[o.id]=r),o},clear:function(){n={}}}}function qe(e){e=e.split("\n");for(var t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}function Ye(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),qe(n)),i}function Xe(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+e)}}function Ke(e,t){return t=Xe(t),"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Ze(e,t){return t=Xe(t),"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Je(e,t){switch(t){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="Uncharted2";break;case 4:t="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Qe(e,t,n){return e=e||{},[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(tt).join("\n")}function et(e){var t,n=[];for(t in e){var i=e[t];!1!==i&&n.push("#define "+t+" "+i)}return n.join("\n")}function tt(e){return""!==e}function nt(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function it(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){if(e=Hr[t],void 0===e)throw Error("Can not resolve #include <"+t+">");return it(e)})}function rt(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(e="",t=parseInt(t);t<parseInt(n);t++)e+=i.replace(/\[ i \]/g,"[ "+t+" ]");return e})}function at(e,t,n,i,r,a){var o=e.context,s=i.defines,l=r.vertexShader,c=r.fragmentShader,u="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?u="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(u="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case 301:case 302:d="ENVMAP_TYPE_CUBE";break;case 306:case 307:d="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:d="ENVMAP_TYPE_EQUIREC";break;case 305:d="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case 302:case 304:f="ENVMAP_MODE_REFRACTION"}switch(i.combine){case 0:h="ENVMAP_BLENDING_MULTIPLY";break;case 1:h="ENVMAP_BLENDING_MIX";break;case 2:h="ENVMAP_BLENDING_ADD"}}var m=0<e.gammaFactor?e.gammaFactor:1,p=Qe(i.extensions,a,t),g=et(s),v=o.createProgram();i.isRawShaderMaterial?(s=[g].filter(tt).join("\n"),0<s.length&&(s+="\n"),t=[p,g].filter(tt).join("\n"),0<t.length&&(t+="\n")):(s=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,g,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(tt).join("\n"),t=[p,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,g,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+m,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+f:"",a.envMap?"#define "+h:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(a.numClippingPlanes-a.numClipIntersection),a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?Hr.tonemapping_pars_fragment:"",0!==a.toneMapping?Je("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Hr.encodings_pars_fragment:"",a.mapEncoding?Ke("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?Ke("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Ke("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?Ze("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(tt).join("\n")),l=it(l),l=nt(l,a),c=it(c),c=nt(c,a),i.isShaderMaterial||(l=rt(l),c=rt(c)),c=t+c,l=Ye(o,o.VERTEX_SHADER,s+l),c=Ye(o,o.FRAGMENT_SHADER,c),o.attachShader(v,l),o.attachShader(v,c),void 0!==i.index0AttributeName?o.bindAttribLocation(v,0,i.index0AttributeName):!0===a.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),a=o.getProgramInfoLog(v),r=o.getShaderInfoLog(l),u=o.getShaderInfoLog(c),f=d=!0,!1===o.getProgramParameter(v,o.LINK_STATUS)?(d=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(v,o.VALIDATE_STATUS),"gl.getProgramInfoLog",a,r,u)):""!==a?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",a):""!==r&&""!==u||(f=!1),f&&(this.diagnostics={runnable:d,material:i,programLog:a,vertexShader:{log:r,prefix:s},fragmentShader:{log:u,prefix:t}}),o.deleteShader(l),o.deleteShader(c);var b;this.getUniforms=function(){return void 0===b&&(b=new V(o,v,e)),b};var y;return this.getAttributes=function(){if(void 0===y){for(var e={},t=o.getProgramParameter(v,o.ACTIVE_ATTRIBUTES),n=0;n<t;n++){var i=o.getActiveAttrib(v,n).name;e[i]=o.getAttribLocation(v,i)}y=e}return y},this.destroy=function(){o.deleteProgram(v),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Wr++,this.code=n,this.usedTimes=1,this.program=v,this.vertexShader=l,this.fragmentShader=c,this}function ot(e,t,n){function i(e,t){if(e)e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding);else var n=3e3;return 3e3===n&&t&&(n=3007),n}var r=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},o="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");this.getParameters=function(t,r,o,s,l,c,u){var d=a[t.type];if(u.isSkinnedMesh){var f=u.skeleton.bones;if(n.floatVertexTextures)f=1024;else{var h=Math.min(Math.floor((n.maxVertexUniforms-20)/4),f.length);h<f.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+f.length+" bones. This GPU supports "+h+"."),f=0):f=h}}else f=0;h=n.precision,null!==t.precision&&(h=n.getMaxPrecision(t.precision),h!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",h,"instead."));var m=e.getRenderTarget();return{shaderID:d,precision:h,supportsVertexTextures:n.vertexTextures,outputEncoding:i(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&0<f,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&0<o.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(r=0;r<o.length;r++)i.push(n[o[r]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.join()},this.acquireProgram=function(n,i,a,o){for(var s,l=0,c=r.length;l<c;l++){var u=r[l];if(u.code===o){s=u,++s.usedTimes;break}}return void 0===s&&(s=new at(e,t,o,n,i,a),r.push(s)),s},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function st(e,t,n,i,r,a,o){function s(e,t){if(e.width>t||e.height>t){t/=Math.max(e.width,e.height);var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(e.width*t),n.height=Math.floor(e.height*t),n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+n.width+"x"+n.height,e),n}return e}function l(e){return Sr.isPowerOfTwo(e.width)&&Sr.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function u(t){return 1003===t||1004===t||1005===t?e.NEAREST:e.LINEAR}function d(t){t=t.target,t.removeEventListener("dispose",d);e:{var n=i.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)break e;e.deleteTexture(n.__webglTexture)}i.remove(t)}o.textures--}function f(t){t=t.target,t.removeEventListener("dispose",f);var n=i.get(t),r=i.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(r=0;6>r;r++)e.deleteFramebuffer(n.__webglFramebuffer[r]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}o.textures--}function h(t,u){var f=i.get(t);if(0<t.version&&f.__version!==t.version){var h=t.image;if(void 0===h)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==h.complete){void 0===f.__webglInit&&(f.__webglInit=!0,t.addEventListener("dispose",d),f.__webglTexture=e.createTexture(),o.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,f.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,t.unpackAlignment);var p=s(t.image,r.maxTextureSize);(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)&&!1===l(p)&&(u=p,u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof ImageBitmap?(h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),h.width=Sr.floorPowerOfTwo(u.width),h.height=Sr.floorPowerOfTwo(u.height),h.getContext("2d").drawImage(u,0,0,h.width,h.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+u.width+"x"+u.height+"). Resized to "+h.width+"x"+h.height,u),p=h):p=u),u=l(p);var h=a.convert(t.format),g=a.convert(t.type);m(e.TEXTURE_2D,t,u);var b=t.mipmaps;if(t.isDepthTexture){if(b=e.DEPTH_COMPONENT,1015===t.type){if(!v)throw Error("Float Depth Texture only supported in WebGL2.0");b=e.DEPTH_COMPONENT32F}else v&&(b=e.DEPTH_COMPONENT16);1026===t.format&&b===e.DEPTH_COMPONENT&&1012!==t.type&&1014!==t.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=1012,g=a.convert(t.type)),1027===t.format&&(b=e.DEPTH_STENCIL,1020!==t.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=1020,g=a.convert(t.type))),n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,h,g,null)}else if(t.isDataTexture)if(0<b.length&&u){for(var y=0,E=b.length;y<E;y++)p=b[y],n.texImage2D(e.TEXTURE_2D,y,h,p.width,p.height,0,h,g,p.data);t.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,h,p.width,p.height,0,h,g,p.data);else if(t.isCompressedTexture)for(y=0,E=b.length;y<E;y++)p=b[y],1023!==t.format&&1022!==t.format?-1<n.getCompressedTextureFormats().indexOf(h)?n.compressedTexImage2D(e.TEXTURE_2D,y,h,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,y,h,p.width,p.height,0,h,g,p.data);else if(0<b.length&&u){for(y=0,E=b.length;y<E;y++)p=b[y],n.texImage2D(e.TEXTURE_2D,y,h,h,g,p);t.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,h,h,g,p);return c(t,u)&&e.generateMipmap(e.TEXTURE_2D),f.__version=t.version,void(t.onUpdate&&t.onUpdate(t))}console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,f.__webglTexture)}function m(n,o,s){s?(e.texParameteri(n,e.TEXTURE_WRAP_S,a.convert(o.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,a.convert(o.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,a.convert(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,a.convert(o.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),e.texParameteri(n,e.TEXTURE_MAG_FILTER,u(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,u(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),!(s=t.get("EXT_texture_filter_anisotropic"))||1015===o.type&&null===t.get("OES_texture_float_linear")||1016===o.type&&null===t.get("OES_texture_half_float_linear")||!(1<o.anisotropy||i.get(o).__currentAnisotropy)||(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}function p(t,r,o,s){var l=a.convert(r.texture.format),c=a.convert(r.texture.type);n.texImage2D(s,0,l,r.width,r.height,0,l,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,s,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function g(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}var v="undefined"!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext;this.setTexture2D=h,this.setTextureCube=function(t,u){var f=i.get(t);if(6===t.image.length)if(0<t.version&&f.__version!==t.version){f.__image__webglTextureCube||(t.addEventListener("dispose",d),f.__image__webglTextureCube=e.createTexture(),o.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,f.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY),u=t&&t.isCompressedTexture;for(var h=t.image[0]&&t.image[0].isDataTexture,p=[],g=0;6>g;g++)p[g]=u||h?h?t.image[g].image:t.image[g]:s(t.image[g],r.maxCubemapSize);var v=l(p[0]),b=a.convert(t.format),y=a.convert(t.type);for(m(e.TEXTURE_CUBE_MAP,t,v),g=0;6>g;g++)if(u)for(var E,w=p[g].mipmaps,_=0,x=w.length;_<x;_++)E=w[_],1023!==t.format&&1022!==t.format?-1<n.getCompressedTextureFormats().indexOf(b)?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,_,b,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,_,b,E.width,E.height,0,b,y,E.data);else h?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b,p[g].width,p[g].height,0,b,y,p[g].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b,b,y,p[g]);c(t,v)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),f.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,f.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,i.get(t).__webglTexture)},this.setupRenderTarget=function(t){var r=i.get(t),a=i.get(t.texture);t.addEventListener("dispose",f),a.__webglTexture=e.createTexture(),o.textures++;var s=!0===t.isWebGLRenderTargetCube,u=l(t);if(s){r.__webglFramebuffer=[];for(var d=0;6>d;d++)r.__webglFramebuffer[d]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(s){for(n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture),m(e.TEXTURE_CUBE_MAP,t.texture,u),d=0;6>d;d++)p(r.__webglFramebuffer[d],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+d);c(t.texture,u)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,a.__webglTexture),m(e.TEXTURE_2D,t.texture,u),p(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),c(t.texture,u)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);if(t.depthBuffer){if(r=i.get(t),a=!0===t.isWebGLRenderTargetCube,t.depthTexture){if(a)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(i.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),h(t.depthTexture,0),r=i.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}else if(a)for(r.__webglDepthbuffer=[],a=0;6>a;a++)e.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[a]),r.__webglDepthbuffer[a]=e.createRenderbuffer(),g(r.__webglDepthbuffer[a],t);else e.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),g(r.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null);
}},this.updateRenderTargetMipmap=function(t){var r=t.texture,a=l(t);c(r,a)&&(t=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,r=i.get(r).__webglTexture,n.bindTexture(t,r),e.generateMipmap(t),n.bindTexture(t,null))}}function lt(){var e={};return{get:function(t){t=t.uuid;var n=e[t];return void 0===n&&(n={},e[t]=n),n},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}}function ct(e,t,n){function i(t,n,i){var r=new Uint8Array(4),a=e.createTexture();for(e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST),t=0;t<i;t++)e.texImage2D(n+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return a}function r(t){!0!==y[t]&&(e.enable(t),y[t]=!0)}function a(t){!1!==y[t]&&(e.disable(t),y[t]=!1)}function o(t,i,o,s,l,c,u,d){if(0!==t?r(e.BLEND):a(e.BLEND),5!==t){if(t!==_||d!==C)switch(t){case 2:d?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case 3:d?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case 4:d?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:d?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}A=S=T=k=M=x=null}else l=l||i,c=c||o,u=u||s,i===x&&l===T||(e.blendEquationSeparate(n.convert(i),n.convert(l)),x=i,T=l),o===M&&s===k&&c===S&&u===A||(e.blendFuncSeparate(n.convert(o),n.convert(s),n.convert(c),n.convert(u)),M=o,k=s,S=c,A=u);_=t,C=d}function s(t){$!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),$=t)}function c(t){0!==t?(r(e.CULL_FACE),t!==R&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):a(e.CULL_FACE),R=t}function u(t,n,i){t?(r(e.POLYGON_OFFSET_FILL),(N!==n||O!==i)&&(e.polygonOffset(n,i),N=n,O=i)):a(e.POLYGON_OFFSET_FILL)}function d(t){void 0===t&&(t=e.TEXTURE0+D-1),L!==t&&(e.activeTexture(t),L=t)}var f=new function(){var t=!1,n=new l,i=null,r=new l(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},h=new function(){var t=!1,n=null,i=null,o=null;return{setTest:function(t){t?r(e.DEPTH_TEST):a(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);i=t}},setLocked:function(e){t=e},setClear:function(t){o!==t&&(e.clearDepth(t),o=t)},reset:function(){t=!1,o=i=n=null}}},m=new function(){var t=!1,n=null,i=null,o=null,s=null,l=null,c=null,u=null,d=null;return{setTest:function(t){t?r(e.STENCIL_TEST):a(e.STENCIL_TEST)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,r){i===t&&o===n&&s===r||(e.stencilFunc(t,n,r),i=t,o=n,s=r)},setOp:function(t,n,i){l===t&&c===n&&u===i||(e.stencilOp(t,n,i),l=t,c=n,u=i)},setLocked:function(e){t=e},setClear:function(t){d!==t&&(e.clearStencil(t),d=t)},reset:function(){t=!1,d=u=c=l=s=o=i=n=null}}},p=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=new Uint8Array(p),v=new Uint8Array(p),b=new Uint8Array(p),y={},E=null,w=null,_=null,x=null,M=null,k=null,T=null,S=null,A=null,C=!1,$=null,R=null,P=null,N=null,O=null,D=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),p=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),I=1<=parseFloat(p),L=null,F={},H=new l,U=new l,B={};return B[e.TEXTURE_2D]=i(e.TEXTURE_2D,e.TEXTURE_2D,1),B[e.TEXTURE_CUBE_MAP]=i(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),f.setClear(0,0,0,1),h.setClear(1),m.setClear(0),r(e.DEPTH_TEST),h.setFunc(3),s(!1),c(1),r(e.CULL_FACE),r(e.BLEND),o(1),{buffers:{color:f,depth:h,stencil:m},initAttributes:function(){for(var e=0,t=g.length;e<t;e++)g[e]=0},enableAttribute:function(n){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),0!==b[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),b[n]=0)},enableAttributeAndDivisor:function(n,i){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),b[n]!==i&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,i),b[n]=i)},disableUnusedAttributes:function(){for(var t=0,n=v.length;t!==n;++t)v[t]!==g[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:r,disable:a,getCompressedTextureFormats:function(){if(null===E&&(E=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)E.push(n[i]);return E},useProgram:function(t){return w!==t&&(e.useProgram(t),w=t,!0)},setBlending:o,setMaterial:function(t){2===t.side?a(e.CULL_FACE):r(e.CULL_FACE),s(1===t.side),!0===t.transparent?o(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):o(0),h.setFunc(t.depthFunc),h.setTest(t.depthTest),h.setMask(t.depthWrite),f.setMask(t.colorWrite),u(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:s,setCullFace:c,setLineWidth:function(t){t!==P&&(I&&e.lineWidth(t),P=t)},setPolygonOffset:u,setScissorTest:function(t){t?r(e.SCISSOR_TEST):a(e.SCISSOR_TEST)},activeTexture:d,bindTexture:function(t,n){null===L&&d();var i=F[L];void 0===i&&(i={type:void 0,texture:void 0},F[L]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||B[t]),i.type=t,i.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===H.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),H.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);y={},L=E=null,F={},R=$=_=w=null,f.reset(),h.reset(),m.reset()}}}function ut(e,t,n){function i(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var r,a=void 0!==n.precision?n.precision:"highp",o=i(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o),n=!0===n.logarithmicDepthBuffer;var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),s=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_TEXTURE_SIZE),c=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),u=e.getParameter(e.MAX_VERTEX_ATTRIBS),d=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),f=e.getParameter(e.MAX_VARYING_VECTORS),h=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),m=0<s,p=!!t.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:n,maxTextures:o,maxVertexTextures:s,maxTextureSize:l,maxCubemapSize:c,maxAttributes:u,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:h,vertexTextures:m,floatFragmentTextures:p,floatVertexTextures:m&&p}}function dt(e,t,n,i){se.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ft(e){dt.call(this),this.cameras=e||[]}function ht(e){function t(){if(null!==r&&r.isPresenting){var t=r.getEyeParameters("left"),i=t.renderWidth,t=t.renderHeight;m=e.getPixelRatio(),h=e.getSize(),e.setDrawingBufferSize(2*i,t,1)}else n.enabled&&e.setDrawingBufferSize(h.width,h.height,m)}var n=this,r=null,a=null;"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData);var o=new i,s=new i,c=new i,u=new dt;u.bounds=new l(0,0,.5,1),u.layers.enable(1);var d=new dt;d.bounds=new l(.5,0,.5,1),d.layers.enable(2);var f=new ft([u,d]);f.layers.enable(1),f.layers.enable(2);var h,m;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",t,!1),this.standing=this.enabled=!1,this.getDevice=function(){return r},this.setDevice=function(e){void 0!==e&&(r=e)},this.getCamera=function(e){if(null===r)return e;r.depthNear=e.near,r.depthFar=e.far,r.getFrameData(a);var t=a.pose;return null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld(),t=r.stageParameters,this.standing&&t&&(s.fromArray(t.sittingToStandingTransform),c.getInverse(s),e.matrixWorld.multiply(s),e.matrixWorldInverse.multiply(c)),!1===r.isPresenting?e:(u.near=e.near,d.near=e.near,u.far=e.far,d.far=e.far,f.matrixWorld.copy(e.matrixWorld),f.matrixWorldInverse.copy(e.matrixWorldInverse),u.matrixWorldInverse.fromArray(a.leftViewMatrix),d.matrixWorldInverse.fromArray(a.rightViewMatrix),this.standing&&t&&(u.matrixWorldInverse.multiply(c),d.matrixWorldInverse.multiply(c)),e=e.parent,null!==e&&(o.getInverse(e.matrixWorld),u.matrixWorldInverse.multiply(o),d.matrixWorldInverse.multiply(o)),u.matrixWorld.getInverse(u.matrixWorldInverse),d.matrixWorld.getInverse(d.matrixWorldInverse),u.projectionMatrix.fromArray(a.leftProjectionMatrix),d.projectionMatrix.fromArray(a.rightProjectionMatrix),f.projectionMatrix.copy(u.projectionMatrix),e=r.getLayers(),e.length&&(e=e[0],null!==e.leftBounds&&4===e.leftBounds.length&&u.bounds.fromArray(e.leftBounds),null!==e.rightBounds&&4===e.rightBounds.length&&d.bounds.fromArray(e.rightBounds)),f)},this.getStandingMatrix=function(){return s},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function mt(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];switch(n){case"WEBGL_depth_texture":var i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=e.getExtension("WEBGL_compressed_texture_etc1");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i}}}function pt(){function e(){u.value!==i&&(u.value=i,u.needsUpdate=0<r),n.numPlanes=r,n.numIntersection=0}function t(e,t,i,r){var a=null!==e?e.length:0,o=null;if(0!==a){if(o=u.value,!0!==r||null===o)for(r=i+4*a,t=t.matrixWorldInverse,c.getNormalMatrix(t),(null===o||o.length<r)&&(o=new Float32Array(r)),r=0;r!==a;++r,i+=4)l.copy(e[r]).applyMatrix4(t,c),l.normal.toArray(o,i),o[i+3]=l.constant;u.value=o,u.needsUpdate=!0}return n.numPlanes=a,o}var n=this,i=null,r=0,a=!1,s=!1,l=new ee,c=new o,u={value:null,needsUpdate:!1};this.uniform=u,this.numIntersection=this.numPlanes=0,this.init=function(e,n,o){var s=0!==e.length||n||0!==r||a;return a=n,i=t(e,o,0),r=e.length,s},this.beginShadows=function(){s=!0,t(null)},this.endShadows=function(){s=!1,e()},this.setState=function(n,o,l,c,d,f){if(!a||null===n||0===n.length||s&&!l)s?t(null):e();else{l=s?0:r;var h=4*l,m=d.clippingState||null;for(u.value=m,m=t(n,c,h,f),n=0;n!==h;++n)m[n]=i[n];d.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=l}}}function gt(e,t){return{convert:function(n){if(1e3===n)return e.REPEAT;if(1001===n)return e.CLAMP_TO_EDGE;if(1002===n)return e.MIRRORED_REPEAT;if(1003===n)return e.NEAREST;if(1004===n)return e.NEAREST_MIPMAP_NEAREST;if(1005===n)return e.NEAREST_MIPMAP_LINEAR;if(1006===n)return e.LINEAR;if(1007===n)return e.LINEAR_MIPMAP_NEAREST;if(1008===n)return e.LINEAR_MIPMAP_LINEAR;if(1009===n)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return e.UNSIGNED_SHORT_5_6_5;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(1012===n)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(1014===n)return e.UNSIGNED_INT;if(1015===n)return e.FLOAT;if(1016===n){var i=t.get("OES_texture_half_float");if(null!==i)return i.HALF_FLOAT_OES}if(1021===n)return e.ALPHA;if(1022===n)return e.RGB;if(1023===n)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(1026===n)return e.DEPTH_COMPONENT;if(1027===n)return e.DEPTH_STENCIL;if(100===n)return e.FUNC_ADD;if(101===n)return e.FUNC_SUBTRACT;if(102===n)return e.FUNC_REVERSE_SUBTRACT;if(200===n)return e.ZERO;if(201===n)return e.ONE;if(202===n)return e.SRC_COLOR;if(203===n)return e.ONE_MINUS_SRC_COLOR;if(204===n)return e.SRC_ALPHA;if(205===n)return e.ONE_MINUS_SRC_ALPHA;if(206===n)return e.DST_ALPHA;if(207===n)return e.ONE_MINUS_DST_ALPHA;if(208===n)return e.DST_COLOR;if(209===n)return e.ONE_MINUS_DST_COLOR;if(210===n)return e.SRC_ALPHA_SATURATE;if((2001===n||2002===n||2003===n||2004===n)&&(i=t.get("WEBGL_compressed_texture_s3tc"),null!==i)){if(2001===n)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===n)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===n)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===n)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((2100===n||2101===n||2102===n||2103===n)&&(i=t.get("WEBGL_compressed_texture_pvrtc"),null!==i)){if(2100===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===n&&(i=t.get("WEBGL_compressed_texture_etc1"),null!==i))return i.COMPRESSED_RGB_ETC1_WEBGL;if((103===n||104===n)&&(i=t.get("EXT_blend_minmax"),null!==i)){if(103===n)return i.MIN_EXT;if(104===n)return i.MAX_EXT}return 1020===n&&(i=t.get("WEBGL_depth_texture"),null!==i)?i.UNSIGNED_INT_24_8_WEBGL:0}}}function vt(e){function t(){fe=new mt(ue),fe.get("WEBGL_depth_texture"),fe.get("OES_texture_float"),fe.get("OES_texture_float_linear"),fe.get("OES_texture_half_float"),fe.get("OES_texture_half_float_linear"),fe.get("OES_standard_derivatives"),fe.get("OES_element_index_uint"),fe.get("ANGLE_instanced_arrays"),Ce=new gt(ue,fe),he=new ut(ue,fe,e),me=new ct(ue,fe,Ce),me.scissor(B.copy(Z).multiplyScalar(X)),me.viewport(U.copy(K).multiplyScalar(X)),pe=new lt,ge=new st(ue,fe,me,pe,he,Ce,le),ve=new ie(ue),be=new Ve(ue,ve,le),ye=new Ge(be,ce),Me=new Ue(ue),we=new ot(P,fe,he),Ee=new We,_e=new Fe,xe=new Oe(P,me,be,k),ke=new je(ue,fe,ce),Te=new Be(ue,fe,ce),Se=new G(P,ue,me,ge,he),Ae=new Y(P,ue,me,ge,he),P.info.programs=we.programs,P.context=ue,P.capabilities=he,P.extensions=fe,P.properties=pe,P.renderLists=_e,P.state=me}function n(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1,t()}function o(e){e=e.target,e.removeEventListener("dispose",o),s(e),pe.remove(e)}function s(e){var t=pe.get(e).program;e.program=void 0,void 0!==t&&we.releaseProgram(t)}function c(e,t,n){e.render(function(e){P.renderBufferImmediate(e,t,n)})}function u(e){null!==Ne&&Ne(e),(e=$e.getDevice())&&e.isPresenting?e.requestAnimationFrame(u):window.requestAnimationFrame(u)}function f(e,t,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isLight)S.push(e),e.castShadow&&A.push(e);else if(e.isSprite)e.frustumCulled&&!Q.intersectsSprite(e)||$.push(e);else if(e.isLensFlare)R.push(e);else if(e.isImmediateRenderObject)n&&se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe),C.push(e,null,e.material,se.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||Q.intersectsObject(e))){n&&se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);var i=ye.update(e),r=e.material;if(Array.isArray(r))for(var a=i.groups,o=0,s=a.length;o<s;o++){var l=a[o],c=r[l.materialIndex];c&&c.visible&&C.push(e,i,c,se.z,l)}else r.visible&&C.push(e,i,r,se.z,null)}for(e=e.children,o=0,s=e.length;o<s;o++)f(e[o],t,n)}}function h(e,t,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,l=o.geometry,c=void 0===i?o.material:i,o=o.group;if(n.isArrayCamera){H=n;for(var u=n.cameras,d=0,f=u.length;d<f;d++){var h=u[d];if(s.layers.test(h.layers)){var p=h.bounds;me.viewport(U.set(p.x*W,p.y*q,p.z*W,p.w*q).multiplyScalar(X)),m(s,t,h,l,c,o)}}}else H=null,m(s,t,n,l,c,o)}}function m(e,t,n,i,r,a){if(e.onBeforeRender(P,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){me.setMaterial(r);var o=g(n,t.fog,r,e);L="",c(e,o,r)}else P.renderBufferDirect(n,t.fog,i,r,e,a);e.onAfterRender(P,t,n,i,r,a)}function p(e,t,n){var i=pe.get(e);n=we.getParameters(e,Ee.state,A,t,ee.numPlanes,ee.numIntersection,n);var r=we.getProgramCode(e,n),a=i.program,l=!0;if(void 0===a)e.addEventListener("dispose",o);else if(a.code!==r)s(e);else{if(void 0!==n.shaderID)return;l=!1}if(l&&(n.shaderID?(a=Ur[n.shaderID],i.shader={name:e.type,uniforms:Fr.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}):i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader},e.onBeforeCompile(i.shader),a=we.acquireProgram(e,i.shader,n,r),i.program=a,e.program=a),n=a.getAttributes(),e.morphTargets)for(r=e.numSupportedMorphTargets=0;r<P.maxMorphTargets;r++)0<=n["morphTarget"+r]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(r=e.numSupportedMorphNormals=0;r<P.maxMorphNormals;r++)0<=n["morphNormal"+r]&&e.numSupportedMorphNormals++;n=i.shader.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=ee.numPlanes,i.numIntersection=ee.numIntersection,n.clippingPlanes=ee.uniform),i.fog=t,i.lightsHash=Ee.state.hash,e.lights&&(n.ambientLightColor.value=Ee.state.ambient,n.directionalLights.value=Ee.state.directional,n.spotLights.value=Ee.state.spot,n.rectAreaLights.value=Ee.state.rectArea,n.pointLights.value=Ee.state.point,n.hemisphereLights.value=Ee.state.hemi,n.directionalShadowMap.value=Ee.state.directionalShadowMap,n.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,n.spotShadowMap.value=Ee.state.spotShadowMap,n.spotShadowMatrix.value=Ee.state.spotShadowMatrix,n.pointShadowMap.value=Ee.state.pointShadowMap,n.pointShadowMatrix.value=Ee.state.pointShadowMatrix),e=i.program.getUniforms(),e=V.seqWithValue(e.seq,n),i.uniformsList=e}function g(e,t,n,i){z=0;var r=pe.get(n);re&&(ae||e!==F)&&ee.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,e===F&&n.id===I),!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:n.lights&&r.lightsHash!==Ee.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===ee.numPlanes&&r.numIntersection===ee.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(p(n,t,i),n.needsUpdate=!1);var a=!1,o=!1,s=!1,l=r.program,c=l.getUniforms(),u=r.shader.uniforms;if(me.useProgram(l.program)&&(s=o=a=!0),n.id!==I&&(I=n.id,o=!0),(a||e!==F)&&(c.setValue(ue,"projectionMatrix",e.projectionMatrix),he.logarithmicDepthBuffer&&c.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),F!==(H||e)&&(F=H||e,s=o=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap)&&(a=c.map.cameraPosition,void 0!==a&&a.setValue(ue,se.setFromMatrixPosition(e.matrixWorld))),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(ue,"viewMatrix",e.matrixWorldInverse)),n.skinning&&(c.setOptional(ue,i,"bindMatrix"),c.setOptional(ue,i,"bindMatrixInverse"),e=i.skeleton))if(a=e.bones,he.floatVertexTextures){if(void 0===e.boneTexture){var a=Math.sqrt(4*a.length),a=Sr.ceilPowerOfTwo(a),a=Math.max(a,4),f=new Float32Array(a*a*4);f.set(e.boneMatrices);var h=new d(f,a,a,1023,1015);e.boneMatrices=f,e.boneTexture=h,e.boneTextureSize=a}c.setValue(ue,"boneTexture",e.boneTexture),c.setValue(ue,"boneTextureSize",e.boneTextureSize)}else c.setOptional(ue,e,"boneMatrices");return o&&(c.setValue(ue,"toneMappingExposure",P.toneMappingExposure),c.setValue(ue,"toneMappingWhitePoint",P.toneMappingWhitePoint),n.lights&&(o=s,u.ambientLightColor.needsUpdate=o,u.directionalLights.needsUpdate=o,u.pointLights.needsUpdate=o,u.spotLights.needsUpdate=o,u.rectAreaLights.needsUpdate=o,u.hemisphereLights.needsUpdate=o),t&&n.fog&&(u.fogColor.value=t.color,t.isFog?(u.fogNear.value=t.near,u.fogFar.value=t.far):t.isFogExp2&&(u.fogDensity.value=t.density)),n.isMeshBasicMaterial?v(u,n):n.isMeshLambertMaterial?(v(u,n),n.emissiveMap&&(u.emissiveMap.value=n.emissiveMap)):n.isMeshPhongMaterial?(v(u,n),n.isMeshToonMaterial?(b(u,n),n.gradientMap&&(u.gradientMap.value=n.gradientMap)):b(u,n)):n.isMeshStandardMaterial?(v(u,n),n.isMeshPhysicalMaterial&&(u.clearCoat.value=n.clearCoat,u.clearCoatRoughness.value=n.clearCoatRoughness),u.roughness.value=n.roughness,u.metalness.value=n.metalness,n.roughnessMap&&(u.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(u.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(u.emissiveMap.value=n.emissiveMap),n.bumpMap&&(u.bumpMap.value=n.bumpMap,u.bumpScale.value=n.bumpScale),n.normalMap&&(u.normalMap.value=n.normalMap,u.normalScale.value.copy(n.normalScale)),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias),n.envMap&&(u.envMapIntensity.value=n.envMapIntensity)):n.isMeshDepthMaterial?(v(u,n),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias)):n.isMeshDistanceMaterial?(v(u,n),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias),u.referencePosition.value.copy(n.referencePosition),u.nearDistance.value=n.nearDistance,u.farDistance.value=n.farDistance):n.isMeshNormalMaterial?(v(u,n),n.bumpMap&&(u.bumpMap.value=n.bumpMap,u.bumpScale.value=n.bumpScale),n.normalMap&&(u.normalMap.value=n.normalMap,u.normalScale.value.copy(n.normalScale)),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias)):n.isLineBasicMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,n.isLineDashedMaterial&&(u.dashSize.value=n.dashSize,u.totalSize.value=n.dashSize+n.gapSize,u.scale.value=n.scale)):n.isPointsMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,u.size.value=n.size*X,u.scale.value=.5*q,u.map.value=n.map,null!==n.map&&(!0===n.map.matrixAutoUpdate&&(t=n.map.offset,o=n.map.repeat,s=n.map.center,n.map.matrix.setUvTransform(t.x,t.y,o.x,o.y,n.map.rotation,s.x,s.y)),u.uvTransform.value.copy(n.map.matrix))):n.isShadowMaterial&&(u.color.value=n.color,u.opacity.value=n.opacity),void 0!==u.ltcMat&&(u.ltcMat.value=Lr.LTC_MAT_TEXTURE),void 0!==u.ltcMag&&(u.ltcMag.value=Lr.LTC_MAG_TEXTURE),V.upload(ue,r.uniformsList,u,P)),c.setValue(ue,"modelViewMatrix",i.modelViewMatrix),c.setValue(ue,"normalMatrix",i.normalMatrix),c.setValue(ue,"modelMatrix",i.matrixWorld),l}function v(e,t){if(e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map)var n=t.map;else t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap);if(void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){t=n.offset;var i=n.repeat,r=n.center;n.matrix.setUvTransform(t.x,t.y,i.x,i.y,n.rotation,r.x,r.y)}e.uvTransform.value.copy(n.matrix)}}function b(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}console.log("THREE.WebGLRenderer","88"),e=e||{};var y=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),E=void 0!==e.context?e.context:null,w=void 0!==e.alpha&&e.alpha,_=void 0===e.depth||e.depth,x=void 0===e.stencil||e.stencil,M=void 0!==e.antialias&&e.antialias,k=void 0===e.premultipliedAlpha||e.premultipliedAlpha,T=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,S=[],A=[],C=null,$=[],R=[];this.domElement=y,this.context=null,this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1,this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var P=this,N=!1,O=null,D=null,I=-1,L="",F=null,H=null,U=new l,B=new l,j=null,z=0,W=y.width,q=y.height,X=1,K=new l(0,0,W,q),Z=new l(0,0,W,q),J=!1,Q=new te,ee=new pt,re=!1,ae=!1,oe=new i,se=new a,le={geometries:0,textures:0},ce={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:ce,memory:le,programs:null};try{w={alpha:w,depth:_,stencil:x,antialias:M,premultipliedAlpha:k,preserveDrawingBuffer:T};var ue=E||y.getContext("webgl",w)||y.getContext("experimental-webgl",w);if(null===ue){if(null!==y.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context."}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),y.addEventListener("webglcontextlost",n,!1),y.addEventListener("webglcontextrestored",r,!1)}catch(de){console.error("THREE.WebGLRenderer: "+de)}var fe,he,me,pe,ge,ve,be,ye,Ee,we,_e,xe,Me,ke,Te,Se,Ae,Ce;t();var $e=new ht(P);this.vr=$e;var Re=new ne(P,ye,he.maxTextureSize);this.shadowMap=Re,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){var e=fe.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=fe.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(e){void 0!==e&&(X=e,this.setSize(W,q,!1))},this.getSize=function(){return{width:W,height:q}},this.setSize=function(e,t,n){var i=$e.getDevice();i&&i.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=e,q=t,y.width=e*X,y.height=t*X,!1!==n&&(y.style.width=e+"px",y.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:W*X,height:q*X}},this.setDrawingBufferSize=function(e,t,n){W=e,q=t,X=n,y.width=e*n,y.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,i){K.set(e,q-t-i,n,i),me.viewport(U.copy(K).multiplyScalar(X))},this.setScissor=function(e,t,n,i){Z.set(e,q-t-i,n,i),me.scissor(B.copy(Z).multiplyScalar(X))},this.setScissorTest=function(e){me.setScissorTest(J=e)},this.getClearColor=function(){return xe.getClearColor()},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=ue.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=ue.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=ue.STENCIL_BUFFER_BIT),ue.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){y.removeEventListener("webglcontextlost",n,!1),y.removeEventListener("webglcontextrestored",r,!1),_e.dispose(),$e.dispose()},this.renderBufferImmediate=function(e,t,n){me.initAttributes();var i=pe.get(e);if(e.hasPositions&&!i.position&&(i.position=ue.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=ue.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=ue.createBuffer()),e.hasColors&&!i.color&&(i.color=ue.createBuffer()),t=t.getAttributes(),e.hasPositions&&(ue.bindBuffer(ue.ARRAY_BUFFER,i.position),ue.bufferData(ue.ARRAY_BUFFER,e.positionArray,ue.DYNAMIC_DRAW),me.enableAttribute(t.position),ue.vertexAttribPointer(t.position,3,ue.FLOAT,!1,0,0)),e.hasNormals){if(ue.bindBuffer(ue.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var r=0,a=3*e.count;r<a;r+=9){var o=e.normalArray,s=(o[r+0]+o[r+3]+o[r+6])/3,l=(o[r+1]+o[r+4]+o[r+7])/3,c=(o[r+2]+o[r+5]+o[r+8])/3;o[r+0]=s,o[r+1]=l,o[r+2]=c,o[r+3]=s,o[r+4]=l,o[r+5]=c,o[r+6]=s,o[r+7]=l,o[r+8]=c}ue.bufferData(ue.ARRAY_BUFFER,e.normalArray,ue.DYNAMIC_DRAW),me.enableAttribute(t.normal),ue.vertexAttribPointer(t.normal,3,ue.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(ue.bindBuffer(ue.ARRAY_BUFFER,i.uv),ue.bufferData(ue.ARRAY_BUFFER,e.uvArray,ue.DYNAMIC_DRAW),me.enableAttribute(t.uv),ue.vertexAttribPointer(t.uv,2,ue.FLOAT,!1,0,0)),e.hasColors&&0!==n.vertexColors&&(ue.bindBuffer(ue.ARRAY_BUFFER,i.color),ue.bufferData(ue.ARRAY_BUFFER,e.colorArray,ue.DYNAMIC_DRAW),me.enableAttribute(t.color),ue.vertexAttribPointer(t.color,3,ue.FLOAT,!1,0,0)),me.disableUnusedAttributes(),ue.drawArrays(ue.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,a){me.setMaterial(i);var o=g(e,t,i,r);e=n.id+"_"+o.id+"_"+(!0===i.wireframe);var s=!1;e!==L&&(L=e,s=!0),r.morphTargetInfluences&&(Me.update(r,n,i,o),s=!0);var l=n.index,c=n.attributes.position;if(t=1,!0===i.wireframe&&(l=be.getWireframeAttribute(n),t=2),e=ke,null!==l){var u=ve.get(l);e=Te,e.setIndex(u)}if(s){if(s=void 0,n&&n.isInstancedBufferGeometry&&null===fe.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===s&&(s=0),me.initAttributes();var d=n.attributes,o=o.getAttributes(),f=i.defaultAttributeValues;
for(x in o){var h=o[x];if(0<=h){var m=d[x];if(void 0!==m){var p=m.normalized,v=m.itemSize,b=ve.get(m);if(void 0!==b){var y=b.buffer,E=b.type,b=b.bytesPerElement;if(m.isInterleavedBufferAttribute){var w=m.data,_=w.stride,m=m.offset;w&&w.isInstancedInterleavedBuffer?(me.enableAttributeAndDivisor(h,w.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=w.meshPerAttribute*w.count)):me.enableAttribute(h),ue.bindBuffer(ue.ARRAY_BUFFER,y),ue.vertexAttribPointer(h,v,E,p,_*b,(s*_+m)*b)}else m.isInstancedBufferAttribute?(me.enableAttributeAndDivisor(h,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):me.enableAttribute(h),ue.bindBuffer(ue.ARRAY_BUFFER,y),ue.vertexAttribPointer(h,v,E,p,0,s*v*b)}}else if(void 0!==f&&(p=f[x],void 0!==p))switch(p.length){case 2:ue.vertexAttrib2fv(h,p);break;case 3:ue.vertexAttrib3fv(h,p);break;case 4:ue.vertexAttrib4fv(h,p);break;default:ue.vertexAttrib1fv(h,p)}}}me.disableUnusedAttributes()}null!==l&&ue.bindBuffer(ue.ELEMENT_ARRAY_BUFFER,u.buffer)}u=0,null!==l?u=l.count:void 0!==c&&(u=c.count),l=n.drawRange.start*t,c=null!==a?a.start*t:0;var x=Math.max(l,c);if(a=Math.max(0,Math.min(u,l+n.drawRange.count*t,c+(null!==a?a.count*t:1/0))-1-x+1),0!==a){if(r.isMesh)if(!0===i.wireframe)me.setLineWidth(i.wireframeLinewidth*(null===O?X:1)),e.setMode(ue.LINES);else switch(r.drawMode){case 0:e.setMode(ue.TRIANGLES);break;case 1:e.setMode(ue.TRIANGLE_STRIP);break;case 2:e.setMode(ue.TRIANGLE_FAN)}else r.isLine?(i=i.linewidth,void 0===i&&(i=1),me.setLineWidth(i*(null===O?X:1)),r.isLineSegments?e.setMode(ue.LINES):r.isLineLoop?e.setMode(ue.LINE_LOOP):e.setMode(ue.LINE_STRIP)):r.isPoints&&e.setMode(ue.POINTS);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&e.renderInstances(n,x,a):e.render(x,a)}},this.compile=function(e,t){S.length=0,A.length=0,e.traverse(function(e){e.isLight&&(S.push(e),e.castShadow&&A.push(e))}),Ee.setup(S,A,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)p(t.material[n],e.fog,t);else p(t.material,e.fog,t)})};var Pe=!1,Ne=null;this.animate=function(e){Ne=e,Pe||((e=$e.getDevice())&&e.isPresenting?e.requestAnimationFrame(u):window.requestAnimationFrame(u),Pe=!0)},this.render=function(e,t,n,i){if(t&&t.isCamera){if(!N){L="",I=-1,F=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),$e.enabled&&(t=$e.getCamera(t)),oe.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Q.setFromMatrix(oe),S.length=0,A.length=0,$.length=0,R.length=0,ae=this.localClippingEnabled,re=ee.init(this.clippingPlanes,ae,t),C=_e.get(e,t),C.init(),f(e,t,P.sortObjects),!0===P.sortObjects&&C.sort(),re&&ee.beginShadows(),Re.render(A,e,t),Ee.setup(S,A,t),re&&ee.endShadows(),ce.frame++,ce.calls=0,ce.vertices=0,ce.faces=0,ce.points=0,void 0===n&&(n=null),this.setRenderTarget(n),xe.render(C,e,t,i),i=C.opaque;var r=C.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;i.length&&h(i,e,t,a),r.length&&h(r,e,t,a)}else i.length&&h(i,e,t),r.length&&h(r,e,t);Ae.render($,e,t),Se.render(R,e,t,U),n&&ge.updateRenderTargetMipmap(n),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1),$e.enabled&&$e.submitFrame()}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(e,t){me.setCullFace(e),me.setFlipSided(0===t)},this.allocTextureUnit=function(){var e=z;return e>=he.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+he.maxTextures),z+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),ge.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),ge.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?ge.setTextureCube(t,n):ge.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return O},this.setRenderTarget=function(e){(O=e)&&void 0===pe.get(e).__webglFramebuffer&&ge.setupRenderTarget(e);var t=null,n=!1;e?(t=pe.get(e).__webglFramebuffer,e.isWebGLRenderTargetCube&&(t=t[e.activeCubeFace],n=!0),U.copy(e.viewport),B.copy(e.scissor),j=e.scissorTest):(U.copy(K).multiplyScalar(X),B.copy(Z).multiplyScalar(X),j=J),D!==t&&(ue.bindFramebuffer(ue.FRAMEBUFFER,t),D=t),me.viewport(U),me.scissor(B),me.setScissorTest(j),n&&(n=pe.get(e.texture),ue.framebufferTexture2D(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,n.__webglTexture,e.activeMipMapLevel))},this.readRenderTargetPixels=function(e,t,n,i,r,a){if(e&&e.isWebGLRenderTarget){var o=pe.get(e).__webglFramebuffer;if(o){var s=!1;o!==D&&(ue.bindFramebuffer(ue.FRAMEBUFFER,o),s=!0);try{var l=e.texture,c=l.format,u=l.type;1023!==c&&Ce.convert(c)!==ue.getParameter(ue.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===u||Ce.convert(u)===ue.getParameter(ue.IMPLEMENTATION_COLOR_READ_TYPE)||1015===u&&(fe.get("OES_texture_float")||fe.get("WEBGL_color_buffer_float"))||1016===u&&fe.get("EXT_color_buffer_half_float")?ue.checkFramebufferStatus(ue.FRAMEBUFFER)===ue.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-i&&0<=n&&n<=e.height-r&&ue.readPixels(t,n,i,r,Ce.convert(c),Ce.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{s&&ue.bindFramebuffer(ue.FRAMEBUFFER,D)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function bt(e,t){this.name="",this.color=new z(e),this.density=void 0!==t?t:25e-5}function yt(e,t,n){this.name="",this.color=new z(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Et(){oe.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.background=null,this.autoUpdate=!0}function wt(e,t,n,i,r){oe.call(this),this.lensFlares=[],this.positionScreen=new a,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,i,r)}function _t(e){X.call(this),this.type="SpriteMaterial",this.color=new z(16777215),this.map=null,this.rotation=0,this.lights=this.fog=!1,this.setValues(e)}function xt(e){oe.call(this),this.type="Sprite",this.material=void 0!==e?e:new _t}function Mt(){oe.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function kt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new i)}function Tt(){oe.call(this),this.type="Bone"}function St(e,t){Ne.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new i,this.bindMatrixInverse=new i,e=this.initBones(),e=new kt(e),this.bind(e,this.matrixWorld),this.normalizeSkinWeights()}function At(e){X.call(this),this.type="LineBasicMaterial",this.color=new z(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.lights=!1,this.setValues(e)}function Ct(e,t,n){return 1===n?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new $t(e,t)):(oe.call(this),this.type="Line",this.geometry=void 0!==e?e:new xe,void(this.material=void 0!==t?t:new At({color:16777215*Math.random()})))}function $t(e,t){Ct.call(this,e,t),this.type="LineSegments"}function Rt(e,t){Ct.call(this,e,t),this.type="LineLoop"}function Pt(e){X.call(this),this.type="PointsMaterial",this.color=new z(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function Nt(e,t){oe.call(this),this.type="Points",this.geometry=void 0!==e?e:new xe,this.material=void 0!==t?t:new Pt({color:16777215*Math.random()})}function Ot(){oe.call(this),this.type="Group"}function Dt(e,t,n,i,r,a,o,l,c){function u(){var e=d.image;e.readyState>=e.HAVE_CURRENT_DATA&&(d.needsUpdate=!0),requestAnimationFrame(u)}s.call(this,e,t,n,i,r,a,o,l,c),this.generateMipmaps=!1;var d=this;requestAnimationFrame(u)}function It(e,t,n,i,r,a,o,l,c,u,d,f){s.call(this,null,a,o,l,c,u,i,r,d,f),this.image={width:t,height:n},this.mipmaps=e,this.generateMipmaps=this.flipY=!1}function Lt(e,t,n,i,r,a,o,l,c,u){if(u=void 0!==u?u:1026,1026!==u&&1027!==u)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===u&&(n=1012),void 0===n&&1027===u&&(n=1020),s.call(this,null,i,r,a,o,l,u,n,c),this.image={width:e,height:t},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==l?l:1003,this.generateMipmaps=this.flipY=!1}function Ft(e){xe.call(this),this.type="WireframeGeometry";var t,n,i,r=[],o=[0,0],s={},l=["a","b","c"];if(e&&e.isGeometry){var c=e.faces,u=0;for(n=c.length;u<n;u++){var d=c[u];for(t=0;3>t;t++){var f=d[l[t]],h=d[l[(t+1)%3]];o[0]=Math.min(f,h),o[1]=Math.max(f,h),f=o[0]+","+o[1],void 0===s[f]&&(s[f]={index1:o[0],index2:o[1]})}}for(f in s)u=s[f],l=e.vertices[u.index1],r.push(l.x,l.y,l.z),l=e.vertices[u.index2],r.push(l.x,l.y,l.z)}else if(e&&e.isBufferGeometry){var l=new a;if(null!==e.index){c=e.attributes.position,d=e.index;var m=e.groups;for(0===m.length&&(m=[{start:0,count:d.count,materialIndex:0}]),e=0,i=m.length;e<i;++e)for(u=m[e],t=u.start,n=u.count,u=t,n=t+n;u<n;u+=3)for(t=0;3>t;t++)f=d.getX(u+t),h=d.getX(u+(t+1)%3),o[0]=Math.min(f,h),o[1]=Math.max(f,h),f=o[0]+","+o[1],void 0===s[f]&&(s[f]={index1:o[0],index2:o[1]});for(f in s)u=s[f],l.fromBufferAttribute(c,u.index1),r.push(l.x,l.y,l.z),l.fromBufferAttribute(c,u.index2),r.push(l.x,l.y,l.z)}else for(c=e.attributes.position,u=0,n=c.count/3;u<n;u++)for(t=0;3>t;t++)s=3*u+t,l.fromBufferAttribute(c,s),r.push(l.x,l.y,l.z),s=3*u+(t+1)%3,l.fromBufferAttribute(c,s),r.push(l.x,l.y,l.z)}this.addAttribute("position",new ye(r,3))}function Ht(e,t,n){ue.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Ut(e,t,n)),this.mergeVertices()}function Ut(e,t,n){xe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,o=[],s=[],l=[],c=[],u=new a,d=new a,f=new a,h=new a,m=new a,p=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var v=r/t,d=e(v,g,d);s.push(d.x,d.y,d.z),0<=v-1e-5?(f=e(v-1e-5,g,f),h.subVectors(d,f)):(f=e(v+1e-5,g,f),h.subVectors(f,d)),0<=g-1e-5?(f=e(v,g-1e-5,f),m.subVectors(d,f)):(f=e(v,g+1e-5,f),m.subVectors(f,d)),u.crossVectors(h,m).normalize(),l.push(u.x,u.y,u.z),c.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++)e=i*p+r+1,u=(i+1)*p+r+1,d=(i+1)*p+r,o.push(i*p+r,e,d),o.push(e,u,d);this.setIndex(o),this.addAttribute("position",new ye(s,3)),this.addAttribute("normal",new ye(l,3)),this.addAttribute("uv",new ye(c,2))}function Bt(e,t,n,i){ue.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new jt(e,t,n,i)),this.mergeVertices()}function jt(e,t,i,r){function o(e){c.push(e.x,e.y,e.z)}function s(t,n){t*=3,n.x=e[t+0],n.y=e[t+1],n.z=e[t+2]}function l(e,t,n,i){0>i&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=i/2/Math.PI+.5)}xe.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},i=i||1,r=r||0;var c=[],u=[];!function(e){for(var n=new a,i=new a,r=new a,l=0;l<t.length;l+=3){s(t[l+0],n),s(t[l+1],i),s(t[l+2],r);var c,u,d=n,f=i,h=r,m=Math.pow(2,e),p=[];for(u=0;u<=m;u++){p[u]=[];var g=d.clone().lerp(h,u/m),v=f.clone().lerp(h,u/m),b=m-u;for(c=0;c<=b;c++)p[u][c]=0===c&&u===m?g:g.clone().lerp(v,c/b)}for(u=0;u<m;u++)for(c=0;c<2*(m-u)-1;c++)d=Math.floor(c/2),0===c%2?(o(p[u][d+1]),o(p[u+1][d]),o(p[u][d])):(o(p[u][d+1]),o(p[u+1][d+1]),o(p[u+1][d]))}}(r),function(e){for(var t=new a,n=0;n<c.length;n+=3)t.x=c[n+0],t.y=c[n+1],t.z=c[n+2],t.normalize().multiplyScalar(e),c[n+0]=t.x,c[n+1]=t.y,c[n+2]=t.z}(i),function(){for(var e=new a,t=0;t<c.length;t+=3)e.x=c[t+0],e.y=c[t+1],e.z=c[t+2],u.push(Math.atan2(e.z,-e.x)/2/Math.PI+.5,1-(Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5));for(var e=new a,t=new a,i=new a,r=new a,o=new n,s=new n,d=new n,f=0,h=0;f<c.length;f+=9,h+=6){e.set(c[f+0],c[f+1],c[f+2]),t.set(c[f+3],c[f+4],c[f+5]),i.set(c[f+6],c[f+7],c[f+8]),o.set(u[h+0],u[h+1]),s.set(u[h+2],u[h+3]),d.set(u[h+4],u[h+5]),r.copy(e).add(t).add(i).divideScalar(3);var m=Math.atan2(r.z,-r.x);l(o,h+0,e,m),l(s,h+2,t,m),l(d,h+4,i,m)}for(e=0;e<u.length;e+=6)t=u[e+0],i=u[e+2],r=u[e+4],o=Math.min(t,i,r),.9<Math.max(t,i,r)&&.1>o&&(.2>t&&(u[e+0]+=1),.2>i&&(u[e+2]+=1),.2>r&&(u[e+4]+=1))}(),this.addAttribute("position",new ye(c,3)),this.addAttribute("normal",new ye(c.slice(),3)),this.addAttribute("uv",new ye(u,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Vt(e,t){ue.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new zt(e,t)),this.mergeVertices()}function zt(e,t){jt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Wt(e,t){ue.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Gt(e,t)),this.mergeVertices()}function Gt(e,t){jt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function qt(e,t){ue.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Yt(e,t)),this.mergeVertices()}function Yt(e,t){var n=(1+Math.sqrt(5))/2;jt.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Xt(e,t){ue.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kt(e,t)),this.mergeVertices()}function Kt(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;jt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Zt(e,t,n,i,r,a){ue.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed."),e=new Jt(e,t,n,i,r),this.tangents=e.tangents,this.normals=e.normals,this.binormals=e.binormals,this.fromBufferGeometry(e),this.mergeVertices()}function Jt(e,t,i,r,o){function s(n){m=e.getPointAt(n/t,m);var a=l.normals[n];for(n=l.binormals[n],u=0;u<=r;u++){var o=u/r*Math.PI*2,s=Math.sin(o),o=-Math.cos(o);f.x=o*a.x+s*n.x,f.y=o*a.y+s*n.y,f.z=o*a.z+s*n.z,f.normalize(),g.push(f.x,f.y,f.z),d.x=m.x+i*f.x,d.y=m.y+i*f.y,d.z=m.z+i*f.z,p.push(d.x,d.y,d.z)}}xe.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:o},t=t||64,i=i||1,r=r||8,o=o||!1;var l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var c,u,d=new a,f=new a,h=new n,m=new a,p=[],g=[],v=[],b=[];for(c=0;c<t;c++)s(c);for(s(!1===o?t:0),c=0;c<=t;c++)for(u=0;u<=r;u++)h.x=c/t,h.y=u/r,v.push(h.x,h.y);!function(){for(u=1;u<=t;u++)for(c=1;c<=r;c++){var e=(r+1)*u+(c-1),n=(r+1)*u+c,i=(r+1)*(u-1)+c;b.push((r+1)*(u-1)+(c-1),e,i),b.push(e,n,i)}}(),this.setIndex(b),this.addAttribute("position",new ye(p,3)),this.addAttribute("normal",new ye(g,3)),this.addAttribute("uv",new ye(v,2))}function Qt(e,t,n,i,r,a,o){ue.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new en(e,t,n,i,r,a)),this.mergeVertices()}function en(e,t,n,i,r,o){function s(e,t,n,i,r){var a=Math.sin(e);t=n/t*e,n=Math.cos(t),r.x=i*(2+n)*.5*Math.cos(e),r.y=i*(2+n)*a*.5,r.z=i*Math.sin(t)*.5}xe.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,o=o||3;var l,c=[],u=[],d=[],f=[],h=new a,m=new a,p=new a,g=new a,v=new a,b=new a,y=new a;for(l=0;l<=n;++l){var E=l/n*r*Math.PI*2;for(s(E,r,o,e,p),s(E+.01,r,o,e,g),b.subVectors(g,p),y.addVectors(g,p),v.crossVectors(b,y),y.crossVectors(v,b),v.normalize(),y.normalize(),E=0;E<=i;++E){var w=E/i*Math.PI*2,_=-t*Math.cos(w),w=t*Math.sin(w);h.x=p.x+(_*y.x+w*v.x),h.y=p.y+(_*y.y+w*v.y),h.z=p.z+(_*y.z+w*v.z),u.push(h.x,h.y,h.z),m.subVectors(h,p).normalize(),d.push(m.x,m.y,m.z),f.push(l/n),f.push(E/i)}}for(E=1;E<=n;E++)for(l=1;l<=i;l++)e=(i+1)*E+(l-1),t=(i+1)*E+l,r=(i+1)*(E-1)+l,c.push((i+1)*(E-1)+(l-1),e,r),c.push(e,t,r);this.setIndex(c),this.addAttribute("position",new ye(u,3)),this.addAttribute("normal",new ye(d,3)),this.addAttribute("uv",new ye(f,2))}function tn(e,t,n,i,r){ue.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new nn(e,t,n,i,r)),this.mergeVertices()}function nn(e,t,n,i,r){xe.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var o,s,l=[],c=[],u=[],d=[],f=new a,h=new a,m=new a;for(o=0;o<=n;o++)for(s=0;s<=i;s++){var p=s/i*r,g=o/n*Math.PI*2;h.x=(e+t*Math.cos(g))*Math.cos(p),h.y=(e+t*Math.cos(g))*Math.sin(p),h.z=t*Math.sin(g),c.push(h.x,h.y,h.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),m.subVectors(h,f).normalize(),u.push(m.x,m.y,m.z),d.push(s/i),d.push(o/n)}for(o=1;o<=n;o++)for(s=1;s<=i;s++)e=(i+1)*(o-1)+s-1,t=(i+1)*(o-1)+s,r=(i+1)*o+s,l.push((i+1)*o+s-1,e,r),l.push(e,t,r);this.setIndex(l),this.addAttribute("position",new ye(c,3)),this.addAttribute("normal",new ye(u,3)),this.addAttribute("uv",new ye(d,2))}function rn(e,t){ue.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new an(e,t)),this.mergeVertices()}function an(e,t){"undefined"!=typeof e&&(xe.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function on(e,t){ue.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new sn(e,t)),this.mergeVertices()}function sn(e,t){t=t||{};var n=t.font;return n&&n.isFont?(e=n.generateShapes(e,t.size,t.curveSegments),t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),an.call(this,e,t),void(this.type="TextBufferGeometry")):(console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ue)}function ln(e,t,n,i,r,a,o){ue.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new cn(e,t,n,i,r,a,o)),this.mergeVertices()}function cn(e,t,n,i,r,o,s){xe.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;var l,c,u=o+s,d=0,f=[],h=new a,m=new a,p=[],g=[],v=[],b=[];for(c=0;c<=n;c++){var y=[],E=c/n;for(l=0;l<=t;l++){var w=l/t;h.x=-e*Math.cos(i+w*r)*Math.sin(o+E*s),h.y=e*Math.cos(o+E*s),h.z=e*Math.sin(i+w*r)*Math.sin(o+E*s),g.push(h.x,h.y,h.z),m.set(h.x,h.y,h.z).normalize(),v.push(m.x,m.y,m.z),b.push(w,1-E),y.push(d++)}f.push(y)}for(c=0;c<n;c++)for(l=0;l<t;l++)e=f[c][l+1],i=f[c][l],r=f[c+1][l],s=f[c+1][l+1],(0!==c||0<o)&&p.push(e,i,s),(c!==n-1||u<Math.PI)&&p.push(i,r,s);this.setIndex(p),this.addAttribute("position",new ye(g,3)),this.addAttribute("normal",new ye(v,3)),this.addAttribute("uv",new ye(b,2))}function un(e,t,n,i,r,a){ue.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new dn(e,t,n,i,r,a)),this.mergeVertices()}function dn(e,t,i,r,o,s){xe.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:s},e=e||.5,t=t||1,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,i=void 0!==i?Math.max(3,i):8,r=void 0!==r?Math.max(1,r):1;var l,c,u=[],d=[],f=[],h=[],m=e,p=(t-e)/r,g=new a,v=new n;for(l=0;l<=r;l++){for(c=0;c<=i;c++)e=o+c/i*s,g.x=m*Math.cos(e),g.y=m*Math.sin(e),d.push(g.x,g.y,g.z),f.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,h.push(v.x,v.y);m+=p}for(l=0;l<r;l++)for(t=l*(i+1),c=0;c<i;c++)e=c+t,o=e+i+1,s=e+i+2,m=e+1,u.push(e,o,m),u.push(o,s,m);this.setIndex(u),this.addAttribute("position",new ye(d,3)),this.addAttribute("normal",new ye(f,3)),this.addAttribute("uv",new ye(h,2))}function fn(e,t,n,i){ue.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new hn(e,t,n,i)),this.mergeVertices()}function hn(e,t,i,r){xe.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t)||12,i=i||0,r=r||2*Math.PI,r=Sr.clamp(r,0,2*Math.PI);var o,s=[],l=[],c=[],u=1/t,d=new a,f=new n;for(o=0;o<=t;o++){var h=i+o*u*r,m=Math.sin(h),p=Math.cos(h);for(h=0;h<=e.length-1;h++)d.x=e[h].x*m,d.y=e[h].y,d.z=e[h].x*p,l.push(d.x,d.y,d.z),f.x=o/t,f.y=h/(e.length-1),c.push(f.x,f.y)}for(o=0;o<t;o++)for(h=0;h<e.length-1;h++)i=h+o*e.length,u=i+e.length,d=i+e.length+1,f=i+1,s.push(i,u,f),s.push(u,d,f);if(this.setIndex(s),this.addAttribute("position",new ye(l,3)),this.addAttribute("uv",new ye(c,2)),this.computeVertexNormals(),r===2*Math.PI)for(r=this.attributes.normal.array,s=new a,l=new a,c=new a,i=t*e.length*3,h=o=0;o<e.length;o++,h+=3)s.x=r[h+0],s.y=r[h+1],s.z=r[h+2],l.x=r[i+h+0],l.y=r[i+h+1],l.z=r[i+h+2],c.addVectors(s,l).normalize(),r[h+0]=r[i+h+0]=c.x,r[h+1]=r[i+h+1]=c.y,r[h+2]=r[i+h+2]=c.z}function mn(e,t){ue.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new pn(e,t)),this.mergeVertices()}function pn(e,t){function n(e){var n,s=r.length/3;e=e.extractPoints(t);var c=e.shape,u=e.holes;if(!1===Gr.isClockWise(c))for(c=c.reverse(),e=0,n=u.length;e<n;e++){var d=u[e];!0===Gr.isClockWise(d)&&(u[e]=d.reverse())}var f=Gr.triangulateShape(c,u);for(e=0,n=u.length;e<n;e++)d=u[e],c=c.concat(d);for(e=0,n=c.length;e<n;e++)d=c[e],r.push(d.x,d.y,0),a.push(0,0,1),o.push(d.x,d.y);for(e=0,n=f.length;e<n;e++)c=f[e],i.push(c[0]+s,c[1]+s,c[2]+s),l+=3}xe.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],a=[],o=[],s=0,l=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(i),this.addAttribute("position",new ye(r,3)),this.addAttribute("normal",new ye(a,3)),this.addAttribute("uv",new ye(o,2))}function gn(e,t){xe.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var n=[];t=Math.cos(Sr.DEG2RAD*(void 0!==t?t:1));var i=[0,0],r={},a=["a","b","c"];if(e.isBufferGeometry){var o=new ue;o.fromBufferGeometry(e)}else o=e.clone();o.mergeVertices(),o.computeFaceNormals(),e=o.vertices,o=o.faces;for(var s=0,l=o.length;s<l;s++)for(var c=o[s],u=0;3>u;u++){var d=c[a[u]],f=c[a[(u+1)%3]];i[0]=Math.min(d,f),i[1]=Math.max(d,f),d=i[0]+","+i[1],void 0===r[d]?r[d]={index1:i[0],index2:i[1],face1:s,face2:void 0}:r[d].face2=s}for(d in r)i=r[d],(void 0===i.face2||o[i.face1].normal.dot(o[i.face2].normal)<=t)&&(a=e[i.index1],n.push(a.x,a.y,a.z),a=e[i.index2],n.push(a.x,a.y,a.z));this.addAttribute("position",new ye(n,3))}function vn(e,t,n,i,r,a,o,s){ue.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new bn(e,t,n,i,r,a,o,s)),this.mergeVertices()}function bn(e,t,i,r,o,s,l,c){function u(i){var o,s=new n,u=new a,v=0,E=!0===i?e:t,w=!0===i?1:-1,_=g;for(o=1;o<=r;o++)h.push(0,b*w,0),m.push(0,w,0),p.push(.5,.5),g++;var x=g;for(o=0;o<=r;o++){var M=o/r*c+l,k=Math.cos(M),M=Math.sin(M);u.x=E*M,u.y=b*w,u.z=E*k,h.push(u.x,u.y,u.z),m.push(0,w,0),s.x=.5*k+.5,s.y=.5*M*w+.5,p.push(s.x,s.y),g++}for(o=0;o<r;o++)s=_+o,u=x+o,!0===i?f.push(u,u+1,s):f.push(u+1,u,s),v+=3;d.addGroup(y,v,!0===i?1:2),y+=v}xe.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c};var d=this;e=void 0!==e?e:1,t=void 0!==t?t:1,i=i||1,r=Math.floor(r)||8,o=Math.floor(o)||1,s=void 0!==s&&s,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var f=[],h=[],m=[],p=[],g=0,v=[],b=i/2,y=0;!function(){var n,s,u=new a,E=new a,w=0,_=(t-e)/i;for(s=0;s<=o;s++){var x=[],M=s/o,k=M*(t-e)+e;for(n=0;n<=r;n++){var T=n/r,S=T*c+l,A=Math.sin(S),S=Math.cos(S);E.x=k*A,E.y=-M*i+b,E.z=k*S,h.push(E.x,E.y,E.z),u.set(A,_,S).normalize(),m.push(u.x,u.y,u.z),p.push(T,1-M),x.push(g++)}v.push(x)}for(n=0;n<r;n++)for(s=0;s<o;s++)u=v[s+1][n],E=v[s+1][n+1],_=v[s][n+1],f.push(v[s][n],u,_),f.push(u,E,_),w+=6;d.addGroup(y,w,0),y+=w}(),!1===s&&(0<e&&u(!0),0<t&&u(!1)),this.setIndex(f),this.addAttribute("position",new ye(h,3)),this.addAttribute("normal",new ye(m,3)),this.addAttribute("uv",new ye(p,2))}function yn(e,t,n,i,r,a,o){vn.call(this,0,e,t,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function En(e,t,n,i,r,a,o){bn.call(this,0,e,t,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function wn(e,t,n,i){ue.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new _n(e,t,n,i)),this.mergeVertices()}function _n(e,t,i,r){xe.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var o,s=[],l=[],c=[],u=[],d=new a,f=new n;l.push(0,0,0),c.push(0,0,1),u.push(.5,.5);var h=0;for(o=3;h<=t;h++,o+=3){var m=i+h/t*r;d.x=e*Math.cos(m),d.y=e*Math.sin(m),l.push(d.x,d.y,d.z),c.push(0,0,1),f.x=(l[o]/e+1)/2,f.y=(l[o+1]/e+1)/2,u.push(f.x,f.y)}for(o=1;o<=t;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new ye(l,3)),this.addAttribute("normal",new ye(c,3)),this.addAttribute("uv",new ye(u,2))}function xn(e){X.call(this),this.type="ShadowMaterial",this.color=new z(0),this.opacity=1,this.transparent=this.lights=!0,this.setValues(e)}function Mn(e){Ce.call(this,e),this.type="RawShaderMaterial"}function kn(e){X.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new z(16777215),this.metalness=this.roughness=.5,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new z(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Tn(e){kn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoatRoughness=this.clearCoat=0,this.setValues(e)}function Sn(e){X.call(this),this.type="MeshPhongMaterial",this.color=new z(16777215),this.specular=new z(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new z(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function An(e){Sn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Cn(e){X.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1,this.setValues(e)}function $n(e){X.call(this),this.type="MeshLambertMaterial",this.color=new z(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new z(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Rn(e){At.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Pn(e,t,n){var i=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(r=!1,void 0!==i.onLoad)&&i.onLoad()},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){s=e}}function Nn(e){this.manager=void 0!==e?e:Kr}function On(e){this.manager=void 0!==e?e:Kr,this._parser=null}function Dn(e){this.manager=void 0!==e?e:Kr,this._parser=null}function In(e){this.manager=void 0!==e?e:Kr}function Ln(e){this.manager=void 0!==e?e:Kr}function Fn(e){this.manager=void 0!==e?e:Kr}function Hn(e,t){oe.call(this),this.type="Light",this.color=new z(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Un(e,t,n){Hn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(oe.DefaultUp),
this.updateMatrix(),this.groundColor=new z(t)}function Bn(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new i}function jn(){Bn.call(this,new dt(50,1,.5,500))}function Vn(e,t,n,i,r,a){Hn.call(this,e,t),this.type="SpotLight",this.position.copy(oe.DefaultUp),this.updateMatrix(),this.target=new oe,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new jn}function zn(e,t,n,i){Hn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Bn(new dt(90,1,.5,500))}function Wn(){Bn.call(this,new le((-5),5,5,(-5),.5,500))}function Gn(e,t){Hn.call(this,e,t),this.type="DirectionalLight",this.position.copy(oe.DefaultUp),this.updateMatrix(),this.target=new oe,this.shadow=new Wn}function qn(e,t){Hn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Yn(e,t,n,i){Hn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Xn(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Kn(e,t,n,i){Xn.call(this,e,t,n,i),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Zn(e,t,n,i){Xn.call(this,e,t,n,i)}function Jn(e,t,n,i){Xn.call(this,e,t,n,i)}function Qn(e,t,n,i){if(void 0===e)throw Error("track name is undefined");if(void 0===t||0===t.length)throw Error("no keyframes in track named "+e);this.name=e,this.times=Jr.convertArray(t,this.TimeBufferType),this.values=Jr.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function ei(e,t,n,i){Qn.call(this,e,t,n,i)}function ti(e,t,n,i){Xn.call(this,e,t,n,i)}function ni(e,t,n,i){Qn.call(this,e,t,n,i)}function ii(e,t,n,i){Qn.call(this,e,t,n,i)}function ri(e,t,n,i){Qn.call(this,e,t,n,i)}function ai(e,t,n){Qn.call(this,e,t,n)}function oi(e,t,n,i){Qn.call(this,e,t,n,i)}function si(e,t,n,i){Qn.apply(this,e,t,n,i)}function li(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Sr.generateUUID(),0>this.duration&&this.resetDuration(),this.optimize()}function ci(e){this.manager=void 0!==e?e:Kr,this.textures={}}function ui(e){this.manager=void 0!==e?e:Kr}function di(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function fi(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Kr,this.withCredentials=!1}function hi(e){this.manager=void 0!==e?e:Kr,this.texturePath=""}function mi(e,t,n,i,r){t=.5*(i-t),r=.5*(r-n);var a=e*e;return(2*n-2*i+t+r)*e*a+(-3*n+3*i-2*t-r)*a+t*e+n}function pi(e,t,n,i){var r=1-e;return r*r*t+2*(1-e)*e*n+e*e*i}function gi(e,t,n,i,r){var a=1-e,o=1-e;return a*a*a*t+3*o*o*e*n+3*(1-e)*e*e*i+e*e*e*r}function vi(){this.type="Curve",this.arcLengthDivisions=200}function bi(e,t){vi.call(this),this.type="LineCurve",this.v1=e||new n,this.v2=t||new n}function yi(){vi.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ei(e,t,n,i,r,a,o,s){vi.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function wi(e){vi.call(this),this.type="SplineCurve",this.points=e||[]}function _i(e,t,i,r){vi.call(this),this.type="CubicBezierCurve",this.v0=e||new n,this.v1=t||new n,this.v2=i||new n,this.v3=r||new n}function xi(e,t,i){vi.call(this),this.type="QuadraticBezierCurve",this.v0=e||new n,this.v1=t||new n,this.v2=i||new n}function Mi(e){yi.call(this),this.type="Path",this.currentPoint=new n,e&&this.setFromPoints(e)}function ki(e){Mi.call(this,e),this.type="Shape",this.holes=[]}function Ti(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function Si(e){this.type="Font",this.data=e}function Ai(e){this.manager=void 0!==e?e:Kr}function Ci(e){this.manager=void 0!==e?e:Kr}function $i(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ri(e,t,n){oe.call(this),this.type="CubeCamera";var i=new dt(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new a(1,0,0)),this.add(i);var r=new dt(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new a((-1),0,0)),this.add(r);var o=new dt(90,1,e,t);o.up.set(0,0,1),o.lookAt(new a(0,1,0)),this.add(o);var s=new dt(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new a(0,(-1),0)),this.add(s);var l=new dt(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new a(0,0,1)),this.add(l);var c=new dt(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new a(0,0,(-1))),this.add(c),this.renderTarget=new u(n,n,{format:1022,magFilter:1006,minFilter:1006}),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,a=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,r,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=a,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,a=0;6>a;a++)r.activeCubeFace=a,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function Pi(){oe.call(this),this.type="AudioListener",this.context=oa.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Ni(e){oe.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.offset=this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Oi(e){Ni.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Di(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Ii(e,t,n){switch(this.binding=e,this.valueSize=n,e=Float64Array,t){case"quaternion":t=this._slerp;break;case"string":case"bool":e=Array,t=this._select;break;default:t=this._lerp}this.buffer=new e(4*n),this._mixBufferRegion=t,this.referenceCount=this.useCount=this.cumulativeWeight=0}function Li(e,t,n){n=n||Fi.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Fi(e,t,n){this.path=t,this.parsedPath=n||Fi.parseTrackName(t),this.node=Fi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Hi(){this.uuid=Sr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Ui(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null,e=t.tracks,t=e.length,n=Array(t);for(var i={endingStart:2400,endingEnd:2400},r=0;r!==t;++r){var a=e[r].createInterpolant(null);n[r]=a,a.settings=i}this._interpolantSettings=i,this._interpolants=n,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function Bi(e){this._root=e,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function ji(e,t){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=t),this.value=e}function Vi(){xe.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function zi(e,t,n,i){this.uuid=Sr.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function Wi(e,t){this.uuid=Sr.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Gi(e,t,n){Wi.call(this,e,t),this.meshPerAttribute=n||1}function qi(e,t,n){de.call(this,e,t),this.meshPerAttribute=n||1}function Yi(e,t,n,i){this.ray=new $e(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Xi(e,t){return e.distance-t.distance}function Ki(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i)){e=e.children,i=0;for(var r=e.length;i<r;i++)Ki(e[i],t,n,!0)}}function Zi(e){this.autoStart=void 0===e||e,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function Ji(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Qi(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function er(e){oe.call(this),this.material=e,this.render=function(){}}function tr(e,t,n,i){this.object=e,this.size=void 0!==t?t:1,e=void 0!==n?n:16711680,i=void 0!==i?i:1,t=0,(n=this.object.geometry)&&n.isGeometry?t=3*n.faces.length:n&&n.isBufferGeometry&&(t=n.attributes.normal.count),n=new xe,t=new ye(6*t,3),n.addAttribute("position",t),$t.call(this,n,new At({color:e,linewidth:i})),this.matrixAutoUpdate=!1,this.update()}function nr(e,t){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,e=new xe,t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var n=0,i=1;32>n;n++,i++){var r=n/32*Math.PI*2,a=i/32*Math.PI*2;t.push(Math.cos(r),Math.sin(r),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new ye(t,3)),t=new At({fog:!1}),this.cone=new $t(e,t),this.add(this.cone),this.update()}function ir(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,ir(e.children[n]));return t}function rr(e){for(var t=ir(e),n=new xe,i=[],r=[],a=new z(0,0,1),o=new z(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new ye(i,3)),n.addAttribute("color",new ye(r,3)),i=new At({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0}),$t.call(this,n,i),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function ar(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n,e=new cn(t,4,2),t=new Ae({wireframe:!0,fog:!1}),Ne.call(this,e,t),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function or(e,t){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,e=new At({fog:!1}),t=new xe,t.addAttribute("position",new de(new Float32Array(15),3)),this.line=new Ct(t,e),this.add(this.line),this.update()}function sr(e,t,n){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,e=new Gt(t),e.rotateY(.5*Math.PI),this.material=new Ae({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2),t=e.getAttribute("position"),t=new Float32Array(3*t.count),e.addAttribute("color",new de(t,3)),this.add(new Ne(e,this.material)),this.update()}function lr(e,t,n,i){e=e||10,t=t||10,n=new z(void 0!==n?n:4473924),i=new z(void 0!==i?i:8947848);var r=t/2,a=e/t,o=e/2;e=[];for(var s=[],l=0,c=0,u=-o;l<=t;l++,u+=a){e.push(-o,0,u,o,0,u),e.push(u,0,-o,u,0,o);var d=l===r?n:i;d.toArray(s,c),c+=3,d.toArray(s,c),c+=3,d.toArray(s,c),c+=3,d.toArray(s,c),c+=3}t=new xe,t.addAttribute("position",new ye(e,3)),t.addAttribute("color",new ye(s,3)),n=new At({vertexColors:2}),$t.call(this,t,n)}function cr(e,t,n,i,r,a){e=e||10,t=t||16,n=n||8,i=i||64,r=new z(void 0!==r?r:4473924),a=new z(void 0!==a?a:8947848);var o,s=[],l=[];for(o=0;o<=t;o++){var c=o/t*2*Math.PI,u=Math.sin(c)*e;c=Math.cos(c)*e,s.push(0,0,0),s.push(u,0,c);var d=1&o?r:a;l.push(d.r,d.g,d.b),l.push(d.r,d.g,d.b)}for(o=0;o<=n;o++){d=1&o?r:a;var f=e-e/n*o;for(t=0;t<i;t++)c=t/i*2*Math.PI,u=Math.sin(c)*f,c=Math.cos(c)*f,s.push(u,0,c),l.push(d.r,d.g,d.b),c=(t+1)/i*2*Math.PI,u=Math.sin(c)*f,c=Math.cos(c)*f,s.push(u,0,c),l.push(d.r,d.g,d.b)}e=new xe,e.addAttribute("position",new ye(s,3)),e.addAttribute("color",new ye(l,3)),s=new At({vertexColors:2}),$t.call(this,e,s)}function ur(e,t,n,i){this.object=e,this.size=void 0!==t?t:1,e=void 0!==n?n:16776960,i=void 0!==i?i:1,t=0,(n=this.object.geometry)&&n.isGeometry?t=n.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),n=new xe,t=new ye(6*t,3),n.addAttribute("position",t),$t.call(this,n,new At({color:e,linewidth:i})),this.matrixAutoUpdate=!1,this.update()}function dr(e,t,n){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1),e=new xe,e.addAttribute("position",new ye([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3)),t=new At({fog:!1}),this.lightPlane=new Ct(e,t),this.add(this.lightPlane),e=new xe,e.addAttribute("position",new ye([0,0,0,0,0,1],3)),this.targetLine=new Ct(e,t),this.add(this.targetLine),this.update()}function fr(e){function t(e,t,i){n(e,i),n(t,i)}function n(e,t){a.push(0,0,0),o.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(a.length/3-1)}var i=new xe,r=new At({color:16777215,vertexColors:1}),a=[],o=[],s={},l=new z(16755200),c=new z(16711680),u=new z(43775),d=new z(16777215),f=new z(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",u),t("u2","u3",u),t("u3","u1",u),t("c","t",d),t("p","c",f),t("cn1","cn2",f),t("cn3","cn4",f),t("cf1","cf2",f),t("cf3","cf4",f),i.addAttribute("position",new ye(a,3)),i.addAttribute("color",new ye(o,3)),$t.call(this,i,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function hr(e,t){this.object=e,void 0===t&&(t=16776960),e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var n=new Float32Array(24),i=new xe;i.setIndex(new de(e,1)),i.addAttribute("position",new de(n,3)),$t.call(this,i,new At({color:t})),this.matrixAutoUpdate=!1,this.update()}function mr(e,t){this.type="Box3Helper",this.box=e,e=void 0!==t?t:16776960,t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var n=new xe;n.setIndex(new de(t,1)),n.addAttribute("position",new ye([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),$t.call(this,n,new At({color:e})),this.geometry.computeBoundingSphere()}function pr(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t,e=void 0!==n?n:16776960,t=new xe,t.addAttribute("position",new ye([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),t.computeBoundingSphere(),Ct.call(this,t,new At({color:e})),t=new xe,t.addAttribute("position",new ye([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new Ne(t,new Ae({color:e,opacity:.2,transparent:!0,depthWrite:!1})))}function gr(e,t,n,i,r,a){oe.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===sa&&(sa=new xe,sa.addAttribute("position",new ye([0,0,0,0,1,0],3)),la=new bn(0,.5,1,5,1),la.translate(0,-.5,0)),this.position.copy(t),this.line=new Ct(sa,new At({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ne(la,new Ae({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}function vr(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e];e=new xe,e.addAttribute("position",new ye(t,3)),e.addAttribute("color",new ye([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new At({vertexColors:2}),$t.call(this,e,t)}function br(){var e=0,t=0,n=0,i=0;return{initCatmullRom:function(r,a,o,s,l){r=l*(o-r),s=l*(s-a),e=a,t=r,n=-3*a+3*o-2*r-s,i=2*a-2*o+r+s},initNonuniformCatmullRom:function(r,a,o,s,l,c,u){r=((a-r)/l-(o-r)/(l+c)+(o-a)/c)*c,s=((o-a)/c-(s-a)/(c+u)+(s-o)/u)*c,e=a,t=r,n=-3*a+3*o-2*r-s,i=2*a-2*o+r+s},calc:function(r){var a=r*r;return e+t*r+n*a+i*a*r}}}function yr(e,t,n,i){vi.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Er(e,t,n,i){vi.call(this),this.type="CubicBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a,this.v3=i||new a}function wr(e,t,n){vi.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a}function _r(e,t){vi.call(this),this.type="LineCurve3",this.v1=e||new a,this.v2=t||new a}function xr(e,t,n,i,r,a){Ei.call(this,e,t,n,n,i,r,a),this.type="ArcCurve"}function Mr(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yr.call(this,e),this.type="catmullrom",this.closed=!0}function kr(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yr.call(this,e),this.type="catmullrom"}function Tr(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),yr.call(this,e),this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:0<e?1:+e}),!1=="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}}(),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){void 0!==this._listeners&&(e=this._listeners[e],void 0!==e&&(t=e.indexOf(t),-1!==t&&e.splice(t,1)))},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var t=t.slice(0),n=0,i=t.length;n<i;n++)t[n].call(this,e)}}}});var Sr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=0;return function(){for(var i="",r=0;36>r;r++)8===r||13===r||18===r||23===r?i+="-":14===r?i+="4":(2>=n&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,i+=t[19===r?3&e|8:e]);return i}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Sr.DEG2RAD},radToDeg:function(e){return e*Sr.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(n.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(n.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y;return e=e.elements,this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new n,t=new n;return function(n,i){return e.set(n,n),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return 0>e&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;return e=this.y-e.y,t*t+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t);t=Math.sin(t);var i=this.x-e.x,r=this.y-e.y;return this.x=i*n-r*t+e.x,this.y=i*t+r*n+e.y,this}}),Object.assign(i.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,a,o,s,l,c,u,d,f,h,m,p){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=f,g[7]=h,g[11]=m,g[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new i).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},copyPosition:function(e){var t=this.elements;return e=e.elements,t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new a;return function(t){var n=this.elements,i=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),a=1/e.setFromMatrixColumn(t,1).length();return t=1/e.setFromMatrixColumn(t,2).length(),n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[8]=i[8]*t,n[9]=i[9]*t,n[10]=i[10]*t,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),n=Math.sin(n),o=Math.cos(i),i=Math.sin(i),s=Math.cos(r),r=Math.sin(r);if("XYZ"===e.order){var l=a*s,c=a*r,u=n*s;e=n*r,t[0]=o*s,t[4]=-o*r,t[8]=i,t[1]=c+u*i,t[5]=l-e*i,t[9]=-n*o,t[2]=e-l*i,t[6]=u+c*i,t[10]=a*o}else"YXZ"===e.order?(l=o*s,c=o*r,u=i*s,e=i*r,t[0]=l+e*n,t[4]=u*n-c,t[8]=a*i,t[1]=a*r,t[5]=a*s,t[9]=-n,t[2]=c*n-u,t[6]=e+l*n,t[10]=a*o):"ZXY"===e.order?(l=o*s,c=o*r,u=i*s,e=i*r,t[0]=l-e*n,t[4]=-a*r,t[8]=u+c*n,t[1]=c+u*n,t[5]=a*s,t[9]=e-l*n,t[2]=-a*i,t[6]=n,t[10]=a*o):"ZYX"===e.order?(l=a*s,c=a*r,u=n*s,e=n*r,t[0]=o*s,t[4]=u*i-c,t[8]=l*i+e,t[1]=o*r,t[5]=e*i+l,t[9]=c*i-u,t[2]=-i,t[6]=n*o,t[10]=a*o):"YZX"===e.order?(l=a*o,c=a*i,u=n*o,e=n*i,t[0]=o*s,t[4]=e-l*r,t[8]=u*r+c,t[1]=r,t[5]=a*s,t[9]=-n*s,t[2]=-i*s,t[6]=c*r+u,t[10]=l-e*r):"XZY"===e.order&&(l=a*o,c=a*i,u=n*o,e=n*i,t[0]=o*s,t[4]=-r,t[8]=i*s,t[1]=l*r+e,t[5]=a*s,t[9]=c*r-u,t[2]=u*r-c,t[6]=n*s,t[10]=e*r+l);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,a=e._w,o=n+n,s=i+i,l=r+r;e=n*o;var c=n*s,n=n*l,u=i*s,i=i*l,r=r*l,o=a*o,s=a*s,a=a*l;return t[0]=1-(u+r),t[4]=c-a,t[8]=n+s,t[1]=c+a,t[5]=1-(e+r),t[9]=i-o,t[2]=n-s,t[6]=i+o,t[10]=1-(e+u),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new a,t=new a,n=new a;return function(i,r,a){var o=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(a,n),0===e.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(a,n)),e.normalize(),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements;t=this.elements,e=n[0];var r=n[4],a=n[8],o=n[12],s=n[1],l=n[5],c=n[9],u=n[13],d=n[2],f=n[6],h=n[10],m=n[14],p=n[3],g=n[7],v=n[11],n=n[15],b=i[0],y=i[4],E=i[8],w=i[12],_=i[1],x=i[5],M=i[9],k=i[13],T=i[2],S=i[6],A=i[10],C=i[14],$=i[3],R=i[7],P=i[11],i=i[15];return t[0]=e*b+r*_+a*T+o*$,t[4]=e*y+r*x+a*S+o*R,t[8]=e*E+r*M+a*A+o*P,t[12]=e*w+r*k+a*C+o*i,t[1]=s*b+l*_+c*T+u*$,t[5]=s*y+l*x+c*S+u*R,t[9]=s*E+l*M+c*A+u*P,t[13]=s*w+l*k+c*C+u*i,t[2]=d*b+f*_+h*T+m*$,t[6]=d*y+f*x+h*S+m*R,t[10]=d*E+f*M+h*A+m*P,t[14]=d*w+f*k+h*C+m*i,t[3]=p*b+g*_+v*T+n*$,t[7]=p*y+g*x+v*S+n*R,t[11]=p*E+g*M+v*A+n*P,t[15]=p*w+g*k+v*C+n*i,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],f=e[14];return e[3]*(+r*s*u-i*l*u-r*o*d+n*l*d+i*o*f-n*s*f)+e[7]*(+t*s*f-t*l*d+r*a*d-i*a*f+i*l*c-r*s*c)+e[11]*(+t*l*u-t*o*f-r*a*u+n*a*f+r*o*c-n*l*c)+e[15]*(-i*o*c-t*s*u+t*o*d+i*a*u-n*a*d+n*s*c)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements;e=i[0];var r=i[1],a=i[2],o=i[3],s=i[4],l=i[5],c=i[6],u=i[7],d=i[8],f=i[9],h=i[10],m=i[11],p=i[12],g=i[13],v=i[14],i=i[15],b=f*v*u-g*h*u+g*c*m-l*v*m-f*c*i+l*h*i,y=p*h*u-d*v*u-p*c*m+s*v*m+d*c*i-s*h*i,E=d*g*u-p*f*u+p*l*m-s*g*m-d*l*i+s*f*i,w=p*f*c-d*g*c-p*l*h+s*g*h+d*l*v-s*f*v,_=e*b+r*y+a*E+o*w;if(0===_){if(!0===t)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0"),this.identity()}return t=1/_,n[0]=b*t,n[1]=(g*h*o-f*v*o-g*a*m+r*v*m+f*a*i-r*h*i)*t,n[2]=(l*v*o-g*c*o+g*a*u-r*v*u-l*a*i+r*c*i)*t,n[3]=(f*c*o-l*h*o-f*a*u+r*h*u+l*a*m-r*c*m)*t,n[4]=y*t,n[5]=(d*v*o-p*h*o+p*a*m-e*v*m-d*a*i+e*h*i)*t,n[6]=(p*c*o-s*v*o-p*a*u+e*v*u+s*a*i-e*c*i)*t,n[7]=(s*h*o-d*c*o+d*a*u-e*h*u-s*a*m+e*c*m)*t,n[8]=E*t,n[9]=(p*f*o-d*g*o-p*r*m+e*g*m+d*r*i-e*f*i)*t,n[10]=(s*g*o-p*l*o+p*r*u-e*g*u-s*r*i+e*l*i)*t,n[11]=(d*l*o-s*f*o-d*r*u+e*f*u+s*r*m-e*l*m)*t,n[12]=w*t,n[13]=(d*g*a-p*f*a+p*r*h-e*g*h-d*r*v+e*f*v)*t,n[14]=(p*l*a-s*g*a-p*r*c+e*g*c+s*r*v-e*l*v)*t,n[15]=(s*f*a-d*l*a+d*r*c-e*f*c-s*r*h+e*l*h)*t,this},scale:function(e){var t=this.elements,n=e.x,i=e.y;return e=e.z,t[0]*=n,t[4]*=i,t[8]*=e,t[1]*=n,t[5]*=i,t[9]*=e,t[2]*=n,t[6]*=i,t[10]*=e,t[3]*=n,t[7]*=i,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e);return e=Math.sin(e),
this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t);t=Math.sin(t);var i=1-n,r=e.x,a=e.y;e=e.z;var o=i*r,s=i*a;return this.set(o*r+n,o*a-t*e,o*e+t*a,0,o*a+t*e,s*a+n,s*e-t*r,0,o*e-t*a,s*e+t*r,i*e*e+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new a,t=new i;return function(n,i,r){var a=this.elements,o=e.set(a[0],a[1],a[2]).length(),s=e.set(a[4],a[5],a[6]).length(),l=e.set(a[8],a[9],a[10]).length();0>this.determinant()&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],t.copy(this),n=1/o;var a=1/s,c=1/l;return t.elements[0]*=n,t.elements[1]*=n,t.elements[2]*=n,t.elements[4]*=a,t.elements[5]*=a,t.elements[6]*=a,t.elements[8]*=c,t.elements[9]*=c,t.elements[10]*=c,i.setFromRotationMatrix(t),r.x=o,r.y=s,r.z=l,this}}(),makePerspective:function(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements;return o[0]=2*r/(t-e),o[4]=0,o[8]=(t+e)/(t-e),o[12]=0,o[1]=0,o[5]=2*r/(n-i),o[9]=(n+i)/(n-i),o[13]=0,o[2]=0,o[6]=0,o[10]=-(a+r)/(a-r),o[14]=-2*a*r/(a-r),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),c=1/(a-r);return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-((t+e)*s),o[1]=0,o[5]=2*l,o[9]=0,o[13]=-((n+i)*l),o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-((a+r)*c),o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){var t=this.elements;e=e.elements;for(var n=0;16>n;n++)if(t[n]!==e[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;16>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(r,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],c=n[i+2];n=n[i+3],i=r[a+0];var u=r[a+1],d=r[a+2];if(r=r[a+3],n!==r||s!==i||l!==u||c!==d){a=1-o;var f=s*i+l*u+c*d+n*r,h=0<=f?1:-1,m=1-f*f;m>Number.EPSILON&&(m=Math.sqrt(m),f=Math.atan2(m,f*h),a=Math.sin(a*f)/m,o=Math.sin(o*f)/m),h*=o,s=s*a+i*h,l=l*a+u*h,c=c*a+d*h,n=n*a+r*h,a===1-o&&(o=1/Math.sqrt(s*s+l*l+c*c+n*n),s*=o,l*=o,c*=o,n*=o)}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=n}}),Object.defineProperties(r.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(r.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z;e=e.order;var a=Math.cos,o=Math.sin,s=a(n/2),l=a(i/2),a=a(r/2),n=o(n/2),i=o(i/2),r=o(r/2);return"XYZ"===e?(this._x=n*l*a+s*i*r,this._y=s*i*a-n*l*r,this._z=s*l*r+n*i*a,this._w=s*l*a-n*i*r):"YXZ"===e?(this._x=n*l*a+s*i*r,this._y=s*i*a-n*l*r,this._z=s*l*r-n*i*a,this._w=s*l*a+n*i*r):"ZXY"===e?(this._x=n*l*a-s*i*r,this._y=s*i*a+n*l*r,this._z=s*l*r+n*i*a,this._w=s*l*a-n*i*r):"ZYX"===e?(this._x=n*l*a-s*i*r,this._y=s*i*a+n*l*r,this._z=s*l*r-n*i*a,this._w=s*l*a+n*i*r):"YZX"===e?(this._x=n*l*a+s*i*r,this._y=s*i*a+n*l*r,this._z=s*l*r-n*i*a,this._w=s*l*a-n*i*r):"XZY"===e&&(this._x=n*l*a-s*i*r,this._y=s*i*a-n*l*r,this._z=s*l*r+n*i*a,this._w=s*l*a+n*i*r),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){t/=2;var n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0];e=t[4];var i=t[8],r=t[1],a=t[5],o=t[9],s=t[2],l=t[6],t=t[10],c=n+a+t;return 0<c?(n=.5/Math.sqrt(c+1),this._w=.25/n,this._x=(l-o)*n,this._y=(i-s)*n,this._z=(r-e)*n):n>a&&n>t?(n=2*Math.sqrt(1+n-a-t),this._w=(l-o)/n,this._x=.25*n,this._y=(e+r)/n,this._z=(i+s)/n):a>t?(n=2*Math.sqrt(1+a-n-t),this._w=(i-s)/n,this._x=(e+r)/n,this._y=.25*n,this._z=(o+l)/n):(n=2*Math.sqrt(1+t-n-a),this._w=(r-e)/n,this._x=(i+s)/n,this._y=(o+l)/n,this._z=.25*n),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new a;return function(n,i){return void 0===t&&(t=new a),e=n.dot(i)+1,1e-6>e?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z;e=e._w;var a=t._x,o=t._y,s=t._z;return t=t._w,this._x=n*t+e*a+i*s-r*o,this._y=i*t+e*o+r*a-n*s,this._z=r*t+e*s+n*o-i*a,this._w=e*t-n*a-i*o-r*s,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(0>o?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),1<=o)return this._w=a,this._x=n,this._y=i,this._z=r,this;if(e=Math.sqrt(1-o*o),.001>Math.abs(e))return this._w=.5*(a+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var s=Math.atan2(e,o),o=Math.sin((1-t)*s)/e;return t=Math.sin(t*s)/e,this._w=a*o+this._w*t,this._x=n*o+this._x*t,this._y=i*o+this._y*t,this._z=r*o+this._z*t,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(a.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new r;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new r;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z;return e=e.elements,this.x=e[0]*t+e[3]*n+e[6]*i,this.y=e[1]*t+e[4]*n+e[7]*i,this.z=e[2]*t+e[5]*n+e[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z;e=e.elements;var r=1/(e[3]*t+e[7]*n+e[11]*i+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*i+e[12])*r,this.y=(e[1]*t+e[5]*n+e[9]*i+e[13])*r,this.z=(e[2]*t+e[6]*n+e[10]*i+e[14])*r,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z;e=e.w;var s=e*t+a*i-o*n,l=e*n+o*t-r*i,c=e*i+r*n-a*t,t=-r*t-a*n-o*i;return this.x=s*e+t*-r+l*-o-c*-a,this.y=l*e+t*-a+c*-r-s*-o,this.z=c*e+t*-o+s*-a-l*-r,this},project:function(){var e=new i;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new i;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*i,this.y=e[1]*t+e[5]*n+e[9]*i,this.z=e[2]*t+e[6]*n+e[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new a,t=new a;return function(n,i){return e.set(n,n,n),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y;e=e.z;var r=t.x,a=t.y;return t=t.z,this.x=i*t-e*a,this.y=e*r-n*t,this.z=n*a-i*r,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new a;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new a;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){return e=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq()),Math.acos(Sr.clamp(e,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return e=this.z-e.z,t*t+n*n+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=t,this.y=n,this.z=e,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(o.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements;t=this.elements,e=n[0];var r=n[3],a=n[6],o=n[1],s=n[4],l=n[7],c=n[2],u=n[5],n=n[8],d=i[0],f=i[3],h=i[6],m=i[1],p=i[4],g=i[7],v=i[2],b=i[5],i=i[8];return t[0]=e*d+r*m+a*v,t[3]=e*f+r*p+a*b,t[6]=e*h+r*g+a*i,t[1]=o*d+s*m+l*v,t[4]=o*f+s*p+l*b,t[7]=o*h+s*g+l*i,t[2]=c*d+u*m+n*v,t[5]=c*f+u*p+n*b,t[8]=c*h+u*g+n*i,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],e=e[8];return t*a*e-t*o*l-n*r*e+n*o*s+i*r*l-i*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements;e=this.elements;var i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],n=n[8],d=n*s-l*u,f=l*c-n*o,h=u*o-s*c,m=i*d+r*f+a*h;if(0===m){if(!0===t)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0"),this.identity()}return t=1/m,e[0]=d*t,e[1]=(a*u-n*r)*t,e[2]=(l*r-a*s)*t,e[3]=f*t,e[4]=(n*i-a*c)*t,e[5]=(a*o-l*i)*t,e[6]=h*t,e[7]=(r*c-u*i)*t,e[8]=(s*i-r*o)*t,this},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,a,o){var s=Math.cos(r);r=Math.sin(r),this.set(n*s,n*r,-n*(s*a+r*o)+a+e,-i*r,i*s,-i*(-r*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var n=this.elements,i=n[0],r=n[3],a=n[6],o=n[1],s=n[4],l=n[7];return n[0]=t*i+e*o,n[3]=t*r+e*s,n[6]=t*a+e*l,n[1]=-e*i+t*o,n[4]=-e*r+t*s,n[7]=-e*a+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){var t=this.elements;e=e.elements;for(var n=0;9>n;n++)if(t[n]!==e[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;9>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Ar=0;s.DEFAULT_IMAGE=void 0,s.DEFAULT_MAPPING=300,Object.defineProperty(s.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(s.prototype,t.prototype,{constructor:s,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Sr.generateUUID()),!t&&void 0===e.images[i.uuid]){var r=e.images,a=i.uuid,o=i.uuid;if(i instanceof HTMLCanvasElement)var s=i;else{s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),s.width=i.width,s.height=i.height;var l=s.getContext("2d");i instanceof ImageData?l.putImageData(i,0,0):l.drawImage(i,0,0,i.width,i.height)}s=2048<s.width||2048<s.height?s.toDataURL("image/jpeg",.6):s.toDataURL("image/png"),r[a]={uuid:o,url:s}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(l.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*i+e[12]*r,this.y=e[1]*t+e[5]*n+e[9]*i+e[13]*r,this.z=e[2]*t+e[6]*n+e[10]*i+e[14]*r,this.w=e[3]*t+e[7]*n+e[11]*i+e[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){e=e.elements;var t=e[0],n=e[4],i=e[8],r=e[1],a=e[5],o=e[9],s=e[2],l=e[6],c=e[10];return.01>Math.abs(n-r)&&.01>Math.abs(i-s)&&.01>Math.abs(o-l)?.1>Math.abs(n+r)&&.1>Math.abs(i+s)&&.1>Math.abs(o+l)&&.1>Math.abs(t+a+c-3)?(this.set(1,0,0,0),this):(e=Math.PI,t=(t+1)/2,a=(a+1)/2,c=(c+1)/2,n=(n+r)/4,i=(i+s)/4,o=(o+l)/4,t>a&&t>c?.01>t?(l=0,n=s=.707106781):(l=Math.sqrt(t),s=n/l,n=i/l):a>c?.01>a?(l=.707106781,s=0,n=.707106781):(s=Math.sqrt(a),l=n/s,n=o/s):.01>c?(s=l=.707106781,n=0):(n=Math.sqrt(c),l=i/n,s=o/n),this.set(l,s,n,e),this):(e=Math.sqrt((l-o)*(l-o)+(i-s)*(i-s)+(r-n)*(r-n)),.001>Math.abs(e)&&(e=1),this.x=(l-o)/e,this.y=(i-s)/e,this.z=(r-n)/e,this.w=Math.acos((t+a+c-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,i){return void 0===e&&(e=new l,t=new l),e.set(n,n,n,n),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(c.prototype,t.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.prototype.isWebGLRenderTargetCube=!0,d.prototype=Object.create(s.prototype),d.prototype.constructor=d,d.prototype.isDataTexture=!0,f.prototype=Object.create(s.prototype),f.prototype.constructor=f,f.prototype.isCubeTexture=!0,Object.defineProperty(f.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Cr=new s,$r=new f,Rr=[],Pr=[],Nr=new Float32Array(16),Or=new Float32Array(9);j.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var a=n[i];a.setValue(e,t[a.id])}};var Dr=/([\w\d_]+)(\])?(\[|\.)?/g;V.prototype.setValue=function(e,t,n){t=this.map[t],void 0!==t&&t.setValue(e,n,this.renderer)},V.prototype.setOptional=function(e,t,n){t=t[n],void 0!==t&&this.setValue(e,n,t)},V.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},V.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n};var Ir={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(z.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){return t=Sr.euclideanModulo(t,1),n=Sr.clamp(n,0,1),i=Sr.clamp(i,0,1),0===n?this.r=this.g=this.b=i:(n=.5>=i?i*(1+n):i+n-i*n,i=2*i-n,this.r=e(i,n,t+1/3),this.g=e(i,n,t),this.b=e(i,n,t-1/3)),this}}(),setStyle:function(e){function t(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(n[1],10))/100,
this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){var i=parseFloat(n[1])/360,r=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(i,r,a)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){if(n=n[1],i=n.length,3===i)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(6===i)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&0<e.length&&(n=Ir[e],void 0!==n?this.setHex(n):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){return void 0===t&&(t=2),t=0<t?1/t:1,this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e=e||{h:0,s:0,l:0};var t,n=this.r,i=this.g,r=this.b,a=Math.max(n,i,r),o=Math.min(n,i,r),s=(o+a)/2;if(o===a)o=t=0;else{var l=a-o,o=.5>=s?l/(a+o):l/(2-a-o);switch(a){case n:t=(i-r)/l+(i<r?6:0);break;case i:t=(r-n)/l+2;break;case r:t=(n-i)/l+4}t/=6}return e.h=t,e.s=o,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Lr={common:{diffuse:{value:new z(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new o},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new z(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new z(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new o}}},Fr={merge:function(e){for(var t={},n=0;n<e.length;n++){var i,r=this.clone(e[n]);for(i in r)t[i]=r[i]}return t},clone:function(e){var t,n={};for(t in e){n[t]={};for(var i in e[t]){var r=e[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?n[t][i]=r.clone():Array.isArray(r)?n[t][i]=r.slice():n[t][i]=r}}return n}},Hr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},Ur={basic:{uniforms:Fr.merge([Lr.common,Lr.specularmap,Lr.envmap,Lr.aomap,Lr.lightmap,Lr.fog]),vertexShader:Hr.meshbasic_vert,fragmentShader:Hr.meshbasic_frag},lambert:{uniforms:Fr.merge([Lr.common,Lr.specularmap,Lr.envmap,Lr.aomap,Lr.lightmap,Lr.emissivemap,Lr.fog,Lr.lights,{emissive:{value:new z(0)}}]),vertexShader:Hr.meshlambert_vert,fragmentShader:Hr.meshlambert_frag},phong:{uniforms:Fr.merge([Lr.common,Lr.specularmap,Lr.envmap,Lr.aomap,Lr.lightmap,Lr.emissivemap,Lr.bumpmap,Lr.normalmap,Lr.displacementmap,Lr.gradientmap,Lr.fog,Lr.lights,{emissive:{value:new z(0)},specular:{value:new z(1118481)},shininess:{value:30}}]),vertexShader:Hr.meshphong_vert,fragmentShader:Hr.meshphong_frag},standard:{uniforms:Fr.merge([Lr.common,Lr.envmap,Lr.aomap,Lr.lightmap,Lr.emissivemap,Lr.bumpmap,Lr.normalmap,Lr.displacementmap,Lr.roughnessmap,Lr.metalnessmap,Lr.fog,Lr.lights,{emissive:{value:new z(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Hr.meshphysical_vert,fragmentShader:Hr.meshphysical_frag},points:{uniforms:Fr.merge([Lr.points,Lr.fog]),vertexShader:Hr.points_vert,fragmentShader:Hr.points_frag},dashed:{uniforms:Fr.merge([Lr.common,Lr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hr.linedashed_vert,fragmentShader:Hr.linedashed_frag},depth:{uniforms:Fr.merge([Lr.common,Lr.displacementmap]),vertexShader:Hr.depth_vert,fragmentShader:Hr.depth_frag},normal:{uniforms:Fr.merge([Lr.common,Lr.bumpmap,Lr.normalmap,Lr.displacementmap,{opacity:{value:1}}]),vertexShader:Hr.normal_vert,fragmentShader:Hr.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hr.cube_vert,fragmentShader:Hr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hr.equirect_vert,fragmentShader:Hr.equirect_frag},distanceRGBA:{uniforms:Fr.merge([Lr.common,Lr.displacementmap,{referencePosition:{value:new a},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hr.distanceRGBA_vert,fragmentShader:Hr.distanceRGBA_frag},shadow:{uniforms:Fr.merge([Lr.lights,Lr.fog,{color:{value:new z(0)},opacity:{value:1}}]),vertexShader:Hr.shadow_vert,fragmentShader:Hr.shadow_frag}};Ur.physical={uniforms:Fr.merge([Ur.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Hr.meshphysical_vert,fragmentShader:Hr.meshphysical_frag},Object.assign(W.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new n;return function(t,n){return n=e.copy(n).multiplyScalar(.5),this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e=e||new n,this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e=e||new n,this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new n).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new n).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new n;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),q.prototype=Object.create(s.prototype),q.prototype.constructor=q;var Br=0;Object.assign(X.prototype,t.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0===n)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else if("shading"===t)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else{var i=this[t];void 0===i?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]="overdraw"===t?Number(n):n}}},toJSON:function(e){function t(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),1>this.opacity&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n&&(n=t(e.textures),e=t(e.images),0<n.length&&(i.textures=n),0<e.length&&(i.images=e)),i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection,e=e.clippingPlanes;var t=null;if(null!==e)for(var n=e.length,t=Array(n),i=0;i!==n;++i)t[i]=e[i].clone();return this.clippingPlanes=t,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),K.prototype=Object.create(X.prototype),K.prototype.constructor=K,K.prototype.isMeshDepthMaterial=!0,K.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Z.prototype=Object.create(X.prototype),Z.prototype.constructor=Z,Z.prototype.isMeshDistanceMaterial=!0,Z.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(J.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-(1/0),a=-(1/0),o=-(1/0),s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<i&&(i=d),c>r&&(r=c),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-(1/0),a=-(1/0),o=-(1/0),s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<n&&(n=u),d<i&&(i=d),c>r&&(r=c),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a;return function(t,n){return n=e.copy(n).multiplyScalar(.5),this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e=e||new a,this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5);
},getSize:function(e){return e=e||new a,this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var a=e.geometry;if(void 0!==a)if(a.isGeometry)for(a=a.vertices,n=0,i=a.length;n<i;n++)r.copy(a[n]),r.applyMatrix4(e.matrixWorld),t.expandByPoint(r);else if(a.isBufferGeometry&&(a=a.attributes.position,void 0!==a))for(n=0,i=a.count;n<i;n++)r.fromBufferAttribute(a,n).applyMatrix4(e.matrixWorld),t.expandByPoint(r)}var t,n,i,r=new a;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new a).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new a;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){if(0<e.normal.x)var t=e.normal.x*this.min.x,n=e.normal.x*this.max.x;else t=e.normal.x*this.max.x,n=e.normal.x*this.min.x;return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new a).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new a;return function(t){return t=t||new Q,this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new a,new a,new a,new a,new a,new a,new a,new a];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Q.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new J;return function(t,n){var i=this.center;void 0!==n?i.copy(n):e.setFromPoints(t).getCenter(i);for(var r=n=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return t=t||new a,t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e=e||new J,e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ee.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new a,t=new a;return function(n,i,r){return i=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize(),this.setFromNormalAndCoplanarPoint(i,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new a).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new a;return function(t,n){n=n||new a;var i=t.delta(e),r=this.normal.dot(i);if(0===r){if(0===this.distanceToPoint(t.start))return n.copy(t.start)}else if(r=-(t.start.dot(this.normal)+this.constant)/r,!(0>r||1<r))return n.copy(i).multiplyScalar(r).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>t&&0<e||0>e&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new a).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new a,t=new o;return function(n,i){return i=i||t.getNormalMatrix(n),n=this.coplanarPoint(e).applyMatrix4(n),i=this.normal.applyMatrix3(i).normalize(),this.constant=-n.dot(i),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(te.prototype,{set:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements;e=n[0];var i=n[1],r=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],d=n[9],f=n[10],h=n[11],m=n[12],p=n[13],g=n[14],n=n[15];return t[0].setComponents(a-e,c-o,h-u,n-m).normalize(),t[1].setComponents(a+e,c+o,h+u,n+m).normalize(),t[2].setComponents(a+i,c+s,h+d,n+p).normalize(),t[3].setComponents(a-i,c-s,h-d,n-p).normalize(),t[4].setComponents(a-r,c-l,h-f,n-g).normalize(),t[5].setComponents(a+r,c+l,h+f,n+g).normalize(),this},intersectsObject:function(){var e=new Q;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new Q;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){var t=this.planes,n=e.center;e=-e.radius;for(var i=0;6>i;i++)if(t[i].distanceToPoint(n)<e)return!1;return!0},intersectsBox:function(){var e=new a,t=new a;return function(n){for(var i=this.planes,r=0;6>r;r++){var a=i[r];e.x=0<a.normal.x?n.min.x:n.max.x,t.x=0<a.normal.x?n.max.x:n.min.x,e.y=0<a.normal.y?n.min.y:n.max.y,t.y=0<a.normal.y?n.max.y:n.min.y,e.z=0<a.normal.z?n.min.z:n.max.z,t.z=0<a.normal.z?n.max.z:n.min.z;var o=a.distanceToPoint(e),a=a.distanceToPoint(t);if(0>o&&0>a)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}}),re.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),re.DefaultOrder="XYZ",Object.defineProperties(re.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(re.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=Sr.clamp,r=e.elements;e=r[0];var a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],r=r[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(i(o,-1,1)),.99999>Math.abs(o)?(this._x=Math.atan2(-c,r),this._z=Math.atan2(-a,e)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(c,-1,1)),.99999>Math.abs(c)?(this._y=Math.atan2(o,r),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,e),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),.99999>Math.abs(d)?(this._y=Math.atan2(-u,r),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,e))):"ZYX"===t?(this._y=Math.asin(-i(u,-1,1)),.99999>Math.abs(u)?(this._x=Math.atan2(d,r),this._z=Math.atan2(s,e)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(i(s,-1,1)),.99999>Math.abs(s)?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,e)):(this._x=0,this._y=Math.atan2(o,r))):"XZY"===t?(this._z=Math.asin(-i(a,-1,1)),.99999>Math.abs(a)?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,e)):(this._x=Math.atan2(-c,r),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new i;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new r;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new a(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(ae.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask=this.mask|1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!==(this.mask&e.mask)}});var jr=0;oe.DefaultUp=new a(0,1,0),oe.DefaultMatrixAutoUpdate=!0,Object.assign(oe.prototype,t.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new r;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new r;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new a(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new a(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new a(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new a;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new a(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new a(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new a(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new i;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new i,t=new a;return function(n,i,r){n.isVector3?t.copy(n):t.set(n,i,r),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}return t=this.children.indexOf(e),-1!==t&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(t,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return e=e||new a,this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new a,t=new a;return function(n){return n=n||new r,this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldRotation:function(){var e=new r;return function(t){return t=t||new re,this.getWorldQuaternion(e),t.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new a,t=new r;return function(n){return n=n||new a,this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(){var e=new r;return function(t){return t=t||new a,this.getWorldQuaternion(e),t.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}var i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.matrix=this.matrix.toArray(),void 0!==this.geometry&&(a.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var o=[],s=0,l=this.material.length;s<l;s++)o.push(t(e.materials,this.material[s]));a.material=o}else a.material=t(e.materials,this.material);if(0<this.children.length)for(a.children=[],s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object);return i&&(i=n(e.geometries),o=n(e.materials),s=n(e.textures),l=n(e.images),0<i.length&&(r.geometries=i),0<o.length&&(r.materials=o),0<s.length&&(r.textures=s),0<l.length&&(r.images=l)),r.object=a,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(t=0;t<e.children.length;t++)this.add(e.children[t].clone());return this}}),se.prototype=Object.assign(Object.create(oe.prototype),{constructor:se,isCamera:!0,copy:function(e,t){return oe.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new r;return function(t){return t=t||new a,this.getWorldQuaternion(e),t.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){oe.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),le.prototype=Object.assign(Object.create(se.prototype),{constructor:le,isOrthographicCamera:!0,copy:function(e,t){return se.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,n=n+e,e=i+t,t=i-t;if(null!==this.view&&this.view.enabled)var n=this.zoom/(this.view.width/this.view.fullWidth),t=this.zoom/(this.view.height/this.view.fullHeight),a=(this.right-this.left)/this.view.width,i=(this.top-this.bottom)/this.view.height,r=r+this.view.offsetX/n*a,n=r+this.view.width/n*a,e=e-this.view.offsetY/t*i,t=e-this.view.height/t*i;this.projectionMatrix.makeOrthographic(r,n,e,t,this.near,this.far)},toJSON:function(e){return e=oe.prototype.toJSON.call(this,e),e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(ce.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Vr=0;Object.assign(ue.prototype,t.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new o).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(n=0,i=this.faces.length;n<i;n++){e=this.faces[n],e.normal.applyMatrix3(t).normalize();for(var r=0,a=e.vertexNormals.length;r<a;r++)e.vertexNormals[r].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(){var e=new i;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new i;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new i;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new i;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new i;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new oe;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,n,r){var a=void 0!==l?[f[e].clone(),f[t].clone(),f[n].clone()]:[],o=void 0!==c?[i.colors[e].clone(),i.colors[t].clone(),i.colors[n].clone()]:[];r=new ce(e,t,n,a,o,r),i.faces.push(r),void 0!==u&&i.faceVertexUvs[0].push([h[e].clone(),h[t].clone(),h[n].clone()]),void 0!==d&&i.faceVertexUvs[1].push([m[e].clone(),m[t].clone(),m[n].clone()])}var i=this,r=null!==e.index?e.index.array:void 0,o=e.attributes,s=o.position.array,l=void 0!==o.normal?o.normal.array:void 0,c=void 0!==o.color?o.color.array:void 0,u=void 0!==o.uv?o.uv.array:void 0,d=void 0!==o.uv2?o.uv2.array:void 0;void 0!==d&&(this.faceVertexUvs[1]=[]);for(var f=[],h=[],m=[],p=o=0;o<s.length;o+=3,p+=2)i.vertices.push(new a(s[o],s[o+1],s[o+2])),void 0!==l&&f.push(new a(l[o],l[o+1],l[o+2])),void 0!==c&&i.colors.push(new z(c[o],c[o+1],c[o+2])),void 0!==u&&h.push(new n(u[p],u[p+1])),void 0!==d&&m.push(new n(d[p],d[p+1]));var g=e.groups;if(0<g.length)for(o=0;o<g.length;o++)for(var s=g[o],v=s.start,b=s.count,p=v,v=v+b;p<v;p+=3)void 0!==r?t(r[p],r[p+1],r[p+2],s.materialIndex):t(p,p+1,p+2,s.materialIndex);else if(void 0!==r)for(o=0;o<r.length;o+=3)t(r[o],r[o+1],r[o+2]);else for(o=0;o<s.length/3;o+=3)t(o,o+1,o+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,t=0===t?1:1/t,n=new i;return n.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new a,t=new a,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],s=this.vertices[r.b];e.subVectors(this.vertices[r.c],s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n=Array(this.vertices.length),i=0;for(t=this.vertices.length;i<t;i++)n[i]=new a;if(e){var r=new a,o=new a;for(e=0,i=this.faces.length;e<i;e++){t=this.faces[e];var s=this.vertices[t.a],l=this.vertices[t.b],c=this.vertices[t.c];r.subVectors(c,l),o.subVectors(s,l),r.cross(o),n[t.a].add(r),n[t.b].add(r),n[t.c].add(r)}}else for(this.computeFaceNormals(),e=0,i=this.faces.length;e<i;e++)t=this.faces[e],n[t.a].add(t.normal),n[t.b].add(t.normal),n[t.c].add(t.normal);for(i=0,t=this.vertices.length;i<t;i++)n[i].normalize();for(e=0,i=this.faces.length;e<i;e++)t=this.faces[e],s=t.vertexNormals,3===s.length?(s[0].copy(n[t.a]),s[1].copy(n[t.b]),s[2].copy(n[t.c])):(s[0]=n[t.a].clone(),s[1]=n[t.b].clone(),s[2]=n[t.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e;this.computeFaceNormals();var t=0;for(e=this.faces.length;t<e;t++){var n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n=0;for(t=this.faces.length;n<t;n++){var i=this.faces[n];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);var r=0;for(e=i.vertexNormals.length;r<e;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}var o=new ue;for(o.faces=this.faces,r=0,e=this.morphTargets.length;r<e;r++){if(!this.morphNormals[r]){this.morphNormals[r]={},this.morphNormals[r].faceNormals=[],this.morphNormals[r].vertexNormals=[],i=this.morphNormals[r].faceNormals;var s=this.morphNormals[r].vertexNormals;for(n=0,t=this.faces.length;n<t;n++){var l=new a,c={a:new a,b:new a,c:new a};i.push(l),s.push(c)}}for(s=this.morphNormals[r],o.vertices=this.morphTargets[r].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,t=this.faces.length;n<t;n++)i=this.faces[n],l=s.faceNormals[n],c=s.vertexNormals[n],l.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,t=this.faces.length;n<t;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,i=t.length;n<i;n++)0<n&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new J),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Q),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,a=this.vertices,s=e.vertices,l=this.faces,c=e.faces,u=this.faceVertexUvs[0],d=e.faceVertexUvs[0],f=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new o).getNormalMatrix(t)),e=0;for(var m=s.length;e<m;e++){var p=s[e].clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(e=0,m=h.length;e<m;e++)f.push(h[e].clone());for(e=0,m=c.length;e<m;e++){var s=c[e],g=s.vertexNormals,h=s.vertexColors,f=new ce(s.a+r,s.b+r,s.c+r);for(f.normal.copy(s.normal),void 0!==i&&f.normal.applyMatrix3(i).normalize(),t=0,a=g.length;t<a;t++)p=g[t].clone(),void 0!==i&&p.applyMatrix3(i).normalize(),f.vertexNormals.push(p);for(f.color.copy(s.color),t=0,a=h.length;t<a;t++)p=h[t],f.vertexColors.push(p.clone());f.materialIndex=s.materialIndex+n,l.push(f)}for(e=0,m=d.length;e<m;e++)if(n=d[e],i=[],void 0!==n){for(t=0,a=n.length;t<a;t++)i.push(n[t].clone());u.push(i)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t={},n=[],i=[],r=Math.pow(10,4),a=0;for(e=this.vertices.length;a<e;a++){var o=this.vertices[a];o=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r),void 0===t[o]?(t[o]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[t[o]]}for(t=[],a=0,e=this.faces.length;a<e;a++)for(r=this.faces[a],r.a=i[r.a],r.b=i[r.b],r.c=i[r.c],r=[r.a,r.b,r.c],o=0;3>o;o++)if(r[o]===r[(o+1)%3]){t.push(a);break}for(a=t.length-1;0<=a;a--)for(r=t[a],this.faces.splice(r,1),i=0,e=this.faceVertexUvs.length;i<e;i++)this.faceVertexUvs[i].splice(r,1);return a=this.vertices.length-n.length,this.vertices=n,a},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new a(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===t&&(i=[]),o&&o.length===t&&(r=[]),n=0;n<t;n++){var s=e[n]._id;i&&i.push(a[s]),r&&r.push(o[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=l.length/3,l.push(e.x,e.y,e.z),c[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==d[t]?d[t]:(d[t]=u.length,u.push(e.getHex()),d[t])}function i(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var a,o=this.parameters;for(a in o)void 0!==o[a]&&(r[a]=o[a]);return r}for(o=[],a=0;a<this.vertices.length;a++){var s=this.vertices[a];o.push(s.x,s.y,s.z)}var s=[],l=[],c={},u=[],d={},f=[],h={};for(a=0;a<this.faces.length;a++){var m=this.faces[a],p=void 0!==this.faceVertexUvs[0][a],g=0<m.normal.length(),v=0<m.vertexNormals.length,b=1!==m.color.r||1!==m.color.g||1!==m.color.b,y=0<m.vertexColors.length,E=0,E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,p),E=e(E,4,g),E=e(E,5,v),E=e(E,6,b),E=e(E,7,y);s.push(E),s.push(m.a,m.b,m.c),s.push(m.materialIndex),p&&(p=this.faceVertexUvs[0][a],s.push(i(p[0]),i(p[1]),i(p[2]))),g&&s.push(t(m.normal)),v&&(g=m.vertexNormals,s.push(t(g[0]),t(g[1]),t(g[2]))),b&&s.push(n(m.color)),y&&(m=m.vertexColors,s.push(n(m[0]),n(m[1]),n(m[2])))}return r.data={},r.data.vertices=o,r.data.normals=l,0<u.length&&(r.data.colors=u),0<f.length&&(r.data.uvs=[f]),r.data.faces=s,r},clone:function(){return(new ue).copy(this)},copy:function(e){var t,n,i;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var r=e.vertices,a=0;for(t=r.length;a<t;a++)this.vertices.push(r[a].clone());for(r=e.colors,a=0,t=r.length;a<t;a++)this.colors.push(r[a].clone());for(r=e.faces,a=0,t=r.length;a<t;a++)this.faces.push(r[a].clone());for(a=0,t=e.faceVertexUvs.length;a<t;a++){var o=e.faceVertexUvs[a];for(void 0===this.faceVertexUvs[a]&&(this.faceVertexUvs[a]=[]),r=0,n=o.length;r<n;r++){var s=o[r],l=[],c=0;for(i=s.length;c<i;c++)l.push(s[c].clone());this.faceVertexUvs[a].push(l)}}for(c=e.morphTargets,a=0,t=c.length;a<t;a++){if(i={},i.name=c[a].name,void 0!==c[a].vertices)for(i.vertices=[],r=0,n=c[a].vertices.length;r<n;r++)i.vertices.push(c[a].vertices[r].clone());if(void 0!==c[a].normals)for(i.normals=[],r=0,n=c[a].normals.length;r<n;r++)i.normals.push(c[a].normals[r].clone());this.morphTargets.push(i)}for(c=e.morphNormals,a=0,t=c.length;a<t;a++){if(i={},void 0!==c[a].vertexNormals)for(i.vertexNormals=[],r=0,n=c[a].vertexNormals.length;r<n;r++)o=c[a].vertexNormals[r],s={},s.a=o.a.clone(),s.b=o.b.clone(),
s.c=o.c.clone(),i.vertexNormals.push(s);if(void 0!==c[a].faceNormals)for(i.faceNormals=[],r=0,n=c[a].faceNormals.length;r<n;r++)i.faceNormals.push(c[a].faceNormals[r].clone());this.morphNormals.push(i)}for(r=e.skinWeights,a=0,t=r.length;a<t;a++)this.skinWeights.push(r[a].clone());for(r=e.skinIndices,a=0,t=r.length;a<t;a++)this.skinIndices.push(r[a].clone());for(r=e.lineDistances,a=0,t=r.length;a<t;a++)this.lineDistances.push(r[a]);return a=e.boundingBox,null!==a&&(this.boundingBox=a.clone()),a=e.boundingSphere,null!==a&&(this.boundingSphere=a.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(de.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(de.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new z),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];t[n++]=a.a,t[n++]=a.b,t[n++]=a.c}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,r=0,a=e.length;r<a;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new n),t[i++]=o.x,t[i++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new a),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new l),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),fe.prototype=Object.create(de.prototype),fe.prototype.constructor=fe,he.prototype=Object.create(de.prototype),he.prototype.constructor=he,me.prototype=Object.create(de.prototype),me.prototype.constructor=me,pe.prototype=Object.create(de.prototype),pe.prototype.constructor=pe,ge.prototype=Object.create(de.prototype),ge.prototype.constructor=ge,ve.prototype=Object.create(de.prototype),ve.prototype.constructor=ve,be.prototype=Object.create(de.prototype),be.prototype.constructor=be,ye.prototype=Object.create(de.prototype),ye.prototype.constructor=ye,Ee.prototype=Object.create(de.prototype),Ee.prototype.constructor=Ee,Object.assign(we.prototype,{computeGroups:function(e){var t=[],n=void 0;e=e.faces;for(var i=0;i<e.length;i++){var r=e[i];if(r.materialIndex!==n){n=r.materialIndex,void 0!==a&&(a.count=3*i-a.start,t.push(a));var a={start:3*i,materialIndex:n}}}void 0!==a&&(a.count=3*i-a.start,t.push(a)),this.groups=t},fromGeometry:function(e){var t=e.faces,i=e.vertices,r=e.faceVertexUvs,a=r[0]&&0<r[0].length,o=r[1]&&0<r[1].length,s=e.morphTargets,l=s.length;if(0<l){for(var c=[],u=0;u<l;u++)c[u]=[];this.morphTargets.position=c}var d=e.morphNormals,f=d.length;if(0<f){var h=[];for(u=0;u<f;u++)h[u]=[];this.morphTargets.normal=h}for(var m=e.skinIndices,p=e.skinWeights,g=m.length===i.length,v=p.length===i.length,u=0;u<t.length;u++){var b=t[u];this.vertices.push(i[b.a],i[b.b],i[b.c]);var y=b.vertexNormals;for(3===y.length?this.normals.push(y[0],y[1],y[2]):(y=b.normal,this.normals.push(y,y,y)),y=b.vertexColors,3===y.length?this.colors.push(y[0],y[1],y[2]):(y=b.color,this.colors.push(y,y,y)),!0===a&&(y=r[0][u],void 0!==y?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new n,new n,new n))),!0===o&&(y=r[1][u],void 0!==y?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new n,new n,new n))),y=0;y<l;y++){var E=s[y].vertices;c[y].push(E[b.a],E[b.b],E[b.c])}for(y=0;y<f;y++)E=d[y].vertexNormals[u],h[y].push(E.a,E.b,E.c);g&&this.skinIndices.push(m[b.a],m[b.b],m[b.c]),v&&this.skinWeights.push(p[b.a],p[b.b],p[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var zr=1;Object.assign(xe.prototype,t.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<_e(e)?be:ge)(e,1):this.index=e},addAttribute:function(e,t,n){if(t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute){if("index"!==e)return this.attributes[e]=t,this;console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t)}else console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new de(t,n))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;return void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0),t=this.attributes.normal,void 0!==t&&((new o).getNormalMatrix(e).applyToBufferAttribute(t),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new i;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new i;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new i;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new i;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new i;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new oe;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){e=new ye(3*t.vertices.length,3);var n=new ye(3*t.colors.length,3);this.addAttribute("position",e.copyVector3sArray(t.vertices)),this.addAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length&&(e=new ye(t.lineDistances.length,1),this.addAttribute("lineDistance",e.copyArray(t.lineDistances))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new ye(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}return!0===t.verticesNeedUpdate&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new we).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);this.addAttribute("position",new de(t,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(t=new Float32Array(3*e.normals.length),this.addAttribute("normal",new de(t,3).copyVector3sArray(e.normals))),0<e.colors.length&&(t=new Float32Array(3*e.colors.length),this.addAttribute("color",new de(t,3).copyColorsArray(e.colors))),0<e.uvs.length&&(t=new Float32Array(2*e.uvs.length),this.addAttribute("uv",new de(t,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(t=new Float32Array(2*e.uvs2.length),this.addAttribute("uv2",new de(t,2).copyVector2sArray(e.uvs2))),0<e.indices.length&&(t=new(65535<_e(e.indices)?Uint32Array:Uint16Array)(3*e.indices.length),this.setIndex(new de(t,1).copyIndicesArray(e.indices))),this.groups=e.groups;for(var n in e.morphTargets){for(var t=[],i=e.morphTargets[n],r=0,a=i.length;r<a;r++){var o=i[r],s=new ye(3*o.length,3);t.push(s.copyVector3sArray(o))}this.morphAttributes[n]=t}return 0<e.skinIndices.length&&(n=new ye(4*e.skinIndices.length,4),this.addAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(n=new ye(4*e.skinWeights.length,4),this.addAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new J);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new J,t=new a;return function(){null===this.boundingSphere&&(this.boundingSphere=new Q);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);for(var r=0,a=0,o=n.count;a<o;a++)t.x=n.getX(a),t.y=n.getY(a),t.z=n.getZ(a),r=Math.max(r,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new de(new Float32Array(i.length),3));else for(var r=t.normal.array,o=0,s=r.length;o<s;o++)r[o]=0;var r=t.normal.array,l=new a,c=new a,u=new a,d=new a,f=new a;if(e){e=e.array,0===n.length&&this.addGroup(0,e.length);for(var h=0,m=n.length;h<m;++h){o=n[h],s=o.start;var p=o.count;for(o=s,s+=p;o<s;o+=3){p=3*e[o+0];var g=3*e[o+1],v=3*e[o+2];l.fromArray(i,p),c.fromArray(i,g),u.fromArray(i,v),d.subVectors(u,c),f.subVectors(l,c),d.cross(f),r[p]+=d.x,r[p+1]+=d.y,r[p+2]+=d.z,r[g]+=d.x,r[g+1]+=d.y,r[g+2]+=d.z,r[v]+=d.x,r[v+1]+=d.y,r[v+2]+=d.z}}}else for(o=0,s=i.length;o<s;o+=9)l.fromArray(i,o),c.fromArray(i,o+3),u.fromArray(i,o+6),d.subVectors(u,c),f.subVectors(l,c),d.cross(f),r[o]=d.x,r[o+1]=d.y,r[o+2]=d.z,r[o+3]=d.x,r[o+4]=d.y,r[o+5]=d.z,r[o+6]=d.x,r[o+7]=d.y,r[o+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n,i=this.attributes;for(n in i)if(void 0!==e.attributes[n])for(var r=i[n].array,a=e.attributes[n],o=a.array,s=0,a=a.itemSize*t;s<o.length;s++,a++)r[a]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new a;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e,t=new xe,n=this.index.array,i=this.attributes;for(e in i){for(var r,a=i[e],o=a.array,a=a.itemSize,s=new o.constructor(n.length*a),l=0,c=0,u=n.length;c<u;c++){r=n[c]*a;for(var d=0;d<a;d++)s[l++]=o[r++]}t.addAttribute(e,new de(s,a))}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(t=Array.prototype.slice.call(i.array),e.data.index={type:i.array.constructor.name,array:t}),i=this.attributes;for(n in i){var r=i[n];t=Array.prototype.slice.call(r.array),e.data.attributes[n]={itemSize:r.itemSize,type:r.array.constructor.name,array:t,normalized:r.normalized}}return n=this.groups,0<n.length&&(e.data.groups=JSON.parse(JSON.stringify(n))),n=this.boundingSphere,null!==n&&(e.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),e},clone:function(){return(new xe).copy(this)},copy:function(e){var t;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone()),n=e.attributes;for(o in n)this.addAttribute(o,n[o].clone());var i=e.morphAttributes;for(o in i){var r=[],a=i[o];for(n=0,t=a.length;n<t;n++)r.push(a[n].clone());this.morphAttributes[o]=r}var o=e.groups;for(n=0,t=o.length;n<t;n++)i=o[n],this.addGroup(i.start,i.count,i.materialIndex);return o=e.boundingBox,null!==o&&(this.boundingBox=o.clone()),o=e.boundingSphere,null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Me.prototype=Object.create(ue.prototype),Me.prototype.constructor=Me,ke.prototype=Object.create(xe.prototype),ke.prototype.constructor=ke,Te.prototype=Object.create(ue.prototype),Te.prototype.constructor=Te,Se.prototype=Object.create(xe.prototype),Se.prototype.constructor=Se,Ae.prototype=Object.create(X.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isMeshBasicMaterial=!0,Ae.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Ce.prototype=Object.create(X.prototype),Ce.prototype.constructor=Ce,Ce.prototype.isShaderMaterial=!0,Ce.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fr.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Ce.prototype.toJSON=function(e){return e=X.prototype.toJSON.call(this,e),e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign($e.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new a).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new a;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){return t=t||new a,t.subVectors(e,this.origin),e=t.dot(this.direction),0>e?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new a;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new a,t=new a,n=new a;return function(i,r,a,o){e.copy(i).add(r).multiplyScalar(.5),t.copy(r).sub(i).normalize(),n.copy(this.origin).sub(e);var s=.5*i.distanceTo(r),l=-this.direction.dot(t),c=n.dot(this.direction),u=-n.dot(t),d=n.lengthSq(),f=Math.abs(1-l*l);if(0<f){i=l*u-c,r=l*c-u;var h=s*f;0<=i?r>=-h?r<=h?(s=1/f,i*=s,r*=s,l=i*(i+l*r+2*c)+r*(l*i+r+2*u)+d):(r=s,i=Math.max(0,-(l*r+c)),l=-i*i+r*(r+2*u)+d):(r=-s,i=Math.max(0,-(l*r+c)),l=-i*i+r*(r+2*u)+d):r<=-h?(i=Math.max(0,-(-l*s+c)),r=0<i?-s:Math.min(Math.max(-s,-u),s),l=-i*i+r*(r+2*u)+d):r<=h?(i=0,r=Math.min(Math.max(-s,-u),s),l=r*(r+2*u)+d):(i=Math.max(0,-(l*s+c)),r=0<i?s:Math.min(Math.max(-s,-u),s),l=-i*i+r*(r+2*u)+d)}else r=0<l?-s:s,i=Math.max(0,-(l*r+c)),l=-i*i+r*(r+2*u)+d;return a&&a.copy(this.direction).multiplyScalar(i).add(this.origin),o&&o.copy(t).multiplyScalar(r).add(e),l}}(),intersectSphere:function(){var e=new a;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i;return t=t.radius*t.radius,r>t?null:(t=Math.sqrt(t-r),r=i-t,i+=t,0>r&&0>i?null:0>r?this.at(i,n):this.at(r,n))}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:(e=-(this.origin.dot(e.normal)+e.constant)/t,0<=e?e:null)},intersectPlane:function(e,t){return e=this.distanceToPlane(e),null===e?null:this.at(e,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function(e,t){var n=1/this.direction.x,i=1/this.direction.y,r=1/this.direction.z,a=this.origin;if(0<=n){var o=(e.min.x-a.x)*n;n*=e.max.x-a.x}else o=(e.max.x-a.x)*n,n*=e.min.x-a.x;if(0<=i){var s=(e.min.y-a.y)*i;i*=e.max.y-a.y}else s=(e.max.y-a.y)*i,i*=e.min.y-a.y;return o>i||s>n?null:((s>o||o!==o)&&(o=s),(i<n||n!==n)&&(n=i),0<=r?(s=(e.min.z-a.z)*r,e=(e.max.z-a.z)*r):(s=(e.max.z-a.z)*r,e=(e.min.z-a.z)*r),o>e||s>n?null:((s>o||o!==o)&&(o=s),(e<n||n!==n)&&(n=e),0>n?null:this.at(0<=o?o:n,t)))},intersectsBox:function(){var e=new a;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new a,t=new a,n=new a,i=new a;return function(r,a,o,s,l){if(t.subVectors(a,r),n.subVectors(o,r),i.crossVectors(t,n),a=this.direction.dot(i),0<a){if(s)return null;s=1}else{if(!(0>a))return null;s=-1,a=-a}return e.subVectors(this.origin,r),r=s*this.direction.dot(n.crossVectors(e,n)),0>r?null:(o=s*this.direction.dot(t.cross(e)),0>o||r+o>a?null:(r=-s*e.dot(i),0>r?null:this.at(r/a,l)))}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Re.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new a).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new a).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t=t||new a,this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new a,t=new a;return function(n,i){return e.subVectors(n,this.start),t.subVectors(this.end,this.start),n=t.dot(t),n=t.dot(e)/n,i&&(n=Sr.clamp(n,0,1)),n}}(),closestPointToPoint:function(e,t,n){return e=this.closestPointToPointParameter(e,t),n=n||new a,this.delta(n).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Pe,{normal:function(){var e=new a;return function(t,n,i,r){return r=r||new a,r.subVectors(i,n),e.subVectors(t,n),r.cross(e),t=r.lengthSq(),0<t?r.multiplyScalar(1/Math.sqrt(t)):r.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new a,t=new a,n=new a;return function(i,r,o,s,l){e.subVectors(s,r),t.subVectors(o,r),n.subVectors(i,r),i=e.dot(e),r=e.dot(t),o=e.dot(n);var c=t.dot(t);s=t.dot(n);var u=i*c-r*r;return l=l||new a,0===u?l.set(-2,-1,-1):(u=1/u,c=(c*o-r*s)*u,i=(i*s-r*o)*u,l.set(1-c-i,i,c))}}(),containsPoint:function(){var e=new a;return function(t,n,i,r){return t=Pe.barycoordFromPoint(t,n,i,r,e),0<=t.x&&0<=t.y&&1>=t.x+t.y}}()}),Object.assign(Pe.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new a,t=new a;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new a).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Pe.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new ee).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Pe.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Pe.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ee,t=[new Re,new Re,new Re],n=new a,i=new a;return function(r,o){o=o||new a;var s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,n),!0===this.containsPoint(n))o.copy(n);else for(t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a),r=0;r<t.length;r++){t[r].closestPointToPoint(n,!0,i);var l=n.distanceToSquared(i);l<s&&(s=l,o.copy(i))}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Ne.prototype=Object.assign(Object.create(oe.prototype),{constructor:Ne,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return oe.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=n.length;e<t;e++){var i=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}}else if(n=e.morphTargets,void 0!==n&&0<n.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=n.length;e<t;e++)i=n[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e},raycast:function(){function e(e,t,n,i,r,a,o){return Pe.barycoordFromPoint(e,t,n,i,b),r.multiplyScalar(b.x),a.multiplyScalar(b.y),o.multiplyScalar(b.z),r.add(a).add(o),r.clone()}function t(e,t,n,i,r,a,o,s){return null===(1===t.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,2!==t.side,s))?null:(E.copy(s),E.applyMatrix4(e.matrixWorld),t=n.ray.origin.distanceTo(E),t<n.near||t>n.far?null:{distance:t,point:E.clone(),object:e})}function r(n,i,r,a,o,s,l,f){return c.fromBufferAttribute(a,s),u.fromBufferAttribute(a,l),d.fromBufferAttribute(a,f),(n=t(n,n.material,i,r,c,u,d,y))&&(o&&(p.fromBufferAttribute(o,s),g.fromBufferAttribute(o,l),v.fromBufferAttribute(o,f),n.uv=e(y,c,u,d,p,g,v)),n.face=new ce(s,l,f,Pe.normal(c,u,d)),n.faceIndex=s),n}var o=new i,s=new $e,l=new Q,c=new a,u=new a,d=new a,f=new a,h=new a,m=new a,p=new n,g=new n,v=new n,b=new a,y=new a,E=new a;return function(n,i){var a=this.geometry,b=this.material,E=this.matrixWorld;if(void 0!==b&&(null===a.boundingSphere&&a.computeBoundingSphere(),l.copy(a.boundingSphere),l.applyMatrix4(E),!1!==n.ray.intersectsSphere(l)&&(o.getInverse(E),s.copy(n.ray).applyMatrix4(o),null===a.boundingBox||!1!==s.intersectsBox(a.boundingBox)))){var w;if(a.isBufferGeometry){var _,b=a.index,x=a.attributes.position,E=a.attributes.uv;if(null!==b){var M=0;for(_=b.count;M<_;M+=3){a=b.getX(M);var k=b.getX(M+1),T=b.getX(M+2);(w=r(this,n,s,x,E,a,k,T))&&(w.faceIndex=Math.floor(M/3),i.push(w))}}else if(void 0!==x)for(M=0,_=x.count;M<_;M+=3)a=M,k=M+1,T=M+2,(w=r(this,n,s,x,E,a,k,T))&&(w.index=a,i.push(w))}else if(a.isGeometry){var E=Array.isArray(b);M=a.vertices,_=a.faces,k=a.faceVertexUvs[0],0<k.length&&(x=k);for(var S=0,A=_.length;S<A;S++){var C=_[S];if(w=E?b[C.materialIndex]:b,void 0!==w){k=M[C.a],T=M[C.b];var $=M[C.c];if(!0===w.morphTargets){var R=a.morphTargets,P=this.morphTargetInfluences;c.set(0,0,0),u.set(0,0,0),d.set(0,0,0);for(var N=0,O=R.length;N<O;N++){var D=P[N];if(0!==D){var I=R[N].vertices;c.addScaledVector(f.subVectors(I[C.a],k),D),u.addScaledVector(h.subVectors(I[C.b],T),D),d.addScaledVector(m.subVectors(I[C.c],$),D)}}c.add(k),u.add(T),d.add($),k=c,T=u,$=d}(w=t(this,w,n,s,k,T,$,y))&&(x&&x[S]&&(R=x[S],p.copy(R[0]),g.copy(R[1]),v.copy(R[2]),w.uv=e(y,k,T,$,p,g,v)),w.face=C,w.faceIndex=S,i.push(w))}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Wr=0;dt.prototype=Object.assign(Object.create(se.prototype),{constructor:dt,isPerspectiveCamera:!0,copy:function(e,t){return se.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*Sr.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Sr.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Sr.RAD2DEG*Math.atan(Math.tan(.5*Sr.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Sr.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled)var o=a.fullWidth,s=a.fullHeight,r=r+a.offsetX*i/o,t=t-a.offsetY*n/s,i=a.width/o*i,n=a.height/s*n;a=this.filmOffset,0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){return e=oe.prototype.toJSON.call(this,e),e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),ft.prototype=Object.assign(Object.create(dt.prototype),{constructor:ft,isArrayCamera:!0}),bt.prototype.isFogExp2=!0,bt.prototype.clone=function(){return new bt(this.color.getHex(),this.density)},bt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},yt.prototype.isFog=!0,yt.prototype.clone=function(){return new yt(this.color.getHex(),this.near,this.far)},yt.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Et.prototype=Object.assign(Object.create(oe.prototype),{constructor:Et,copy:function(e,t){return oe.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=oe.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),wt.prototype=Object.assign(Object.create(oe.prototype),{constructor:wt,isLensFlare:!0,copy:function(e){oe.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,i,r,a){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===r&&(r=new z(16777215)),void 0===i&&(i=1),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,
rotation:0,opacity:a,color:r,blending:i})},updateLensFlares:function(){var e,t=this.lensFlares.length,n=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<t;e++){var r=this.lensFlares[e];r.x=this.positionScreen.x+n*r.distance,r.y=this.positionScreen.y+i*r.distance,r.wantedRotation=r.x*Math.PI*.25,r.rotation+=.25*(r.wantedRotation-r.rotation)}}}),_t.prototype=Object.create(X.prototype),_t.prototype.constructor=_t,_t.prototype.isSpriteMaterial=!0,_t.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},xt.prototype=Object.assign(Object.create(oe.prototype),{constructor:xt,isSprite:!0,raycast:function(){var e=new a,t=new a,n=new a;return function(i,r){t.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var a=n.x*n.y/4;t.distanceToSquared(e)>a||(a=i.ray.origin.distanceTo(e),a<i.near||a>i.far||r.push({distance:a,point:e.clone(),face:null,object:this}))}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Mt.prototype=Object.assign(Object.create(oe.prototype),{constructor:Mt,copy:function(e){oe.prototype.copy.call(this,e,!1),e=e.levels;for(var t=0,n=e.length;t<n;t++){var i=e[t];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new a;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var e=new a,t=new a;return function(n){var i=this.levels;if(1<i.length){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld),n=e.distanceTo(t),i[0].object.visible=!0;for(var r=1,a=i.length;r<a&&n>=i[r].distance;r++)i[r-1].object.visible=!1,i[r].object.visible=!0;for(;r<a;r++)i[r].object.visible=!1}}}(),toJSON:function(e){e=oe.prototype.toJSON.call(this,e),e.object.levels=[];for(var t=this.levels,n=0,i=t.length;n<i;n++){var r=t[n];e.object.levels.push({object:r.object.uuid,distance:r.distance})}return e}}),Object.assign(kt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new i;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n=0;for(t=this.bones.length;n<t;n++)(e=this.bones[n])&&e.matrixWorld.getInverse(this.boneInverses[n]);for(n=0,t=this.bones.length;n<t;n++)(e=this.bones[n])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new i,t=new i;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++)e.multiplyMatrices(n[o]?n[o].matrixWorld:t,i[o]),e.toArray(r,16*o);void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new kt(this.bones,this.boneInverses)}}),Tt.prototype=Object.assign(Object.create(oe.prototype),{constructor:Tt,isBone:!0}),St.prototype=Object.assign(Object.create(Ne.prototype),{constructor:St,isSkinnedMesh:!0,initBones:function(){var e,t=[];if(this.geometry&&void 0!==this.geometry.bones){var n=0;for(e=this.geometry.bones.length;n<e;n++){var i=this.geometry.bones[n],r=new Tt;t.push(r),r.name=i.name,r.position.fromArray(i.pos),r.quaternion.fromArray(i.rotq),void 0!==i.scl&&r.scale.fromArray(i.scl)}for(n=0,e=this.geometry.bones.length;n<e;n++)i=this.geometry.bones[n],-1!==i.parent&&null!==i.parent&&void 0!==t[i.parent]?t[i.parent].add(t[n]):this.add(t[n])}return this.updateMatrixWorld(!0),t},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e],n=1/t.manhattanLength();1/0!==n?t.multiplyScalar(n):t.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var t=new l,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)t.x=i.getX(e),t.y=i.getY(e),t.z=i.getZ(e),t.w=i.getW(e),n=1/t.manhattanLength(),1/0!==n?t.multiplyScalar(n):t.set(1,0,0,0),i.setXYZW(e,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(e){Ne.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),At.prototype=Object.create(X.prototype),At.prototype.constructor=At,At.prototype.isLineBasicMaterial=!0,At.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Ct.prototype=Object.assign(Object.create(oe.prototype),{constructor:Ct,isLine:!0,raycast:function(){var e=new i,t=new $e,n=new Q;return function(i,r){var o=i.linePrecision,o=o*o,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),!1!==i.ray.intersectsSphere(n)){e.getInverse(l),t.copy(i.ray).applyMatrix4(e);var c=new a,u=new a,l=new a,d=new a,f=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var h=s.index,m=s.attributes.position.array;if(null!==h)for(var p=h.array,s=0,g=p.length-1;s<g;s+=f)h=p[s+1],c.fromArray(m,3*p[s]),u.fromArray(m,3*h),h=t.distanceSqToSegment(c,u,d,l),h>o||(d.applyMatrix4(this.matrixWorld),h=i.ray.origin.distanceTo(d),h<i.near||h>i.far||r.push({distance:h,point:l.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}));else for(s=0,g=m.length/3-1;s<g;s+=f)c.fromArray(m,3*s),u.fromArray(m,3*s+3),h=t.distanceSqToSegment(c,u,d,l),h>o||(d.applyMatrix4(this.matrixWorld),h=i.ray.origin.distanceTo(d),h<i.near||h>i.far||r.push({distance:h,point:l.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}else if(s.isGeometry)for(c=s.vertices,u=c.length,s=0;s<u-1;s+=f)h=t.distanceSqToSegment(c[s],c[s+1],d,l),h>o||(d.applyMatrix4(this.matrixWorld),h=i.ray.origin.distanceTo(d),h<i.near||h>i.far||r.push({distance:h,point:l.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),$t.prototype=Object.assign(Object.create(Ct.prototype),{constructor:$t,isLineSegments:!0}),Rt.prototype=Object.assign(Object.create(Ct.prototype),{constructor:Rt,isLineLoop:!0}),Pt.prototype=Object.create(X.prototype),Pt.prototype.constructor=Pt,Pt.prototype.isPointsMaterial=!0,Pt.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},Nt.prototype=Object.assign(Object.create(oe.prototype),{constructor:Nt,isPoints:!0,raycast:function(){var e=new i,t=new $e,n=new Q;return function(i,r){function o(e,n){var a=t.distanceSqToPoint(e);if(a<d){e=t.closestPointToPoint(e),e.applyMatrix4(c);var o=i.ray.origin.distanceTo(e);o<i.near||o>i.far||r.push({distance:o,distanceToRay:Math.sqrt(a),point:e.clone(),index:n,face:null,object:s})}}var s=this,l=this.geometry,c=this.matrixWorld,u=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var u=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,u=new a;if(l.isBufferGeometry){var f=l.index,l=l.attributes.position.array;if(null!==f)for(var h=f.array,f=0,m=h.length;f<m;f++){var p=h[f];u.fromArray(l,3*p),o(u,p)}else for(f=0,h=l.length/3;f<h;f++)u.fromArray(l,3*f),o(u,f)}else for(u=l.vertices,f=0,h=u.length;f<h;f++)o(u[f],f)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ot.prototype=Object.assign(Object.create(oe.prototype),{constructor:Ot}),Dt.prototype=Object.create(s.prototype),Dt.prototype.constructor=Dt,It.prototype=Object.create(s.prototype),It.prototype.constructor=It,It.prototype.isCompressedTexture=!0,Lt.prototype=Object.create(s.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isDepthTexture=!0,Ft.prototype=Object.create(xe.prototype),Ft.prototype.constructor=Ft,Ht.prototype=Object.create(ue.prototype),Ht.prototype.constructor=Ht,Ut.prototype=Object.create(xe.prototype),Ut.prototype.constructor=Ut,Bt.prototype=Object.create(ue.prototype),Bt.prototype.constructor=Bt,jt.prototype=Object.create(xe.prototype),jt.prototype.constructor=jt,Vt.prototype=Object.create(ue.prototype),Vt.prototype.constructor=Vt,zt.prototype=Object.create(jt.prototype),zt.prototype.constructor=zt,Wt.prototype=Object.create(ue.prototype),Wt.prototype.constructor=Wt,Gt.prototype=Object.create(jt.prototype),Gt.prototype.constructor=Gt,qt.prototype=Object.create(ue.prototype),qt.prototype.constructor=qt,Yt.prototype=Object.create(jt.prototype),Yt.prototype.constructor=Yt,Xt.prototype=Object.create(ue.prototype),Xt.prototype.constructor=Xt,Kt.prototype=Object.create(jt.prototype),Kt.prototype.constructor=Kt,Zt.prototype=Object.create(ue.prototype),Zt.prototype.constructor=Zt,Jt.prototype=Object.create(xe.prototype),Jt.prototype.constructor=Jt,Qt.prototype=Object.create(ue.prototype),Qt.prototype.constructor=Qt,en.prototype=Object.create(xe.prototype),en.prototype.constructor=en,tn.prototype=Object.create(ue.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(xe.prototype),nn.prototype.constructor=nn;var Gr={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},triangulate:function(){return function(e,t){var n=e.length;if(3>n)return null;var i,r=[],a=[],o=[];if(0<Gr.area(e))for(i=0;i<n;i++)a[i]=i;else for(i=0;i<n;i++)a[i]=n-1-i;var s=2*n;for(i=n-1;2<n;){if(0>=s--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var l=i;n<=l&&(l=0),i=l+1,n<=i&&(i=0);var c=i+1;n<=c&&(c=0);e:{var u,d=e[a[l]].x,f=e[a[l]].y,h=e[a[i]].x,m=e[a[i]].y,p=e[a[c]].x,g=e[a[c]].y;if(0>=(h-d)*(g-f)-(m-f)*(p-d))var v=!1;else{var b=p-h,y=g-m,E=d-p,w=f-g,_=h-d;for(v=m-f,u=0;u<n;u++){var x=e[a[u]].x,M=e[a[u]].y;if(!(x===d&&M===f||x===h&&M===m||x===p&&M===g)){var k=x-d,T=M-f,S=x-h,A=M-m;if(x-=p,M-=g,A=b*A-y*S,T=_*T-v*k,x=E*M-w*x,A>=-Number.EPSILON&&x>=-Number.EPSILON&&T>=-Number.EPSILON){v=!1;break e}}}v=!0}}if(v){for(r.push([e[a[l]],e[a[i]],e[a[c]]]),o.push([a[l],a[i],a[c]]),l=i,c=i+1;c<n;l++,c++)a[l]=a[c];n--,s=2*n}}return t?o:r}}(),triangulateShape:function(e,t){function n(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function i(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function r(e,t,n,r,a){var o=t.x-e.x,s=t.y-e.y,l=r.x-n.x,c=r.y-n.y,u=e.x-n.x,d=e.y-n.y,f=s*l-o*c,h=s*u-o*d;if(Math.abs(f)>Number.EPSILON){if(0<f){if(0>h||h>f)return[];if(l=c*u-l*d,0>l||l>f)return[]}else{if(0<h||h<f)return[];if(l=c*u-l*d,0<l||l<f)return[]}return 0===l?!a||0!==h&&h!==f?[e]:[]:l===f?!a||0!==h&&h!==f?[t]:[]:0===h?[n]:h===f?[r]:(a=l/f,[{x:e.x+a*o,y:e.y+a*s}])}return 0!==h||c*u!==l*d?[]:(s=0===o&&0===s,l=0===l&&0===c,s&&l?e.x!==n.x||e.y!==n.y?[]:[e]:s?i(n,r,e)?[e]:[]:l?i(e,t,n)?[n]:[]:(0!==o?(e.x<t.x?(o=e,l=e.x,s=t,e=t.x):(o=t,l=t.x,s=e,e=e.x),n.x<r.x?(t=n,f=n.x,c=r,n=r.x):(t=r,f=r.x,c=n,n=n.x)):(e.y<t.y?(o=e,l=e.y,s=t,e=t.y):(o=t,l=t.y,s=e,e=e.y),n.y<r.y?(t=n,f=n.y,c=r,n=r.y):(t=r,f=r.y,c=n,n=n.y)),l<=f?e<f?[]:e===f?a?[]:[t]:e<=n?[t,s]:[t,c]:l>n?[]:l===n?a?[]:[o]:e<=n?[o,s]:[o,c]))}function a(e,t,n,i){var r=t.x-e.x,a=t.y-e.y;t=n.x-e.x,n=n.y-e.y;var o=i.x-e.x;return i=i.y-e.y,e=r*n-a*t,r=r*i-a*o,Math.abs(e)>Number.EPSILON?(t=o*n-i*t,0<e?0<=r&&0<=t:0<=r||0<=t):0<r}n(e),t.forEach(n);var o,s={},l=e.concat(),c=0;for(o=t.length;c<o;c++)Array.prototype.push.apply(l,t[c]);for(c=0,o=l.length;c<o;c++){var u=l[c].x+":"+l[c].y;void 0!==s[u]&&console.warn("THREE.ShapeUtils: Duplicate point",u,c),s[u]=c}for(c=function(e,t){function n(e,t){var n=c.length-1,i=e-1;0>i&&(i=n);var r=e+1;return r>n&&(r=0),!!(n=a(c[e],c[i],c[r],b[t]))&&(n=b.length-1,i=t-1,0>i&&(i=n),r=t+1,r>n&&(r=0),!!(n=a(b[t],b[i],b[r],c[e])))}function i(e,t){var n;for(n=0;n<c.length;n++){var i=n+1;if(i%=c.length,i=r(e,t,c[n],c[i],!0),0<i.length)return!0}return!1}function o(e,n){var i,a;for(i=0;i<u.length;i++){var o=t[u[i]];for(a=0;a<o.length;a++){var s=a+1;if(s%=o.length,s=r(e,n,o[a],o[s],!0),0<s.length)return!0}}return!1}var s,l,c=e.concat(),u=[];e=[];var d,f=0;for(s=t.length;f<s;f++)u.push(f);for(var h=0,m=2*u.length;0<u.length;){if(m--,0>m){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(l=h;l<c.length;l++){var p=c[l];for(s=-1,f=0;f<u.length;f++){var g=u[f],v=p.x+":"+p.y+":"+g;if(void 0===e[v]){var b=t[g];for(d=0;d<b.length;d++)if(g=b[d],n(l,d)&&!i(p,g)&&!o(p,g)){s=d,u.splice(f,1),h=c.slice(0,l+1),g=c.slice(l),d=b.slice(s);var y=b.slice(0,s+1);c=h.concat(d).concat(y).concat(g),h=l;break}if(0<=s)break;e[v]=!0}}if(0<=s)break}}return c}(e,t),l=Gr.triangulate(c,!1),c=0,o=l.length;c<o;c++)for(t=l[c],e=0;3>e;e++)u=t[e].x+":"+t[e].y,u=s[u],void 0!==u&&(t[e]=u);return l.concat()},isClockWise:function(e){return 0>Gr.area(e)}};rn.prototype=Object.create(ue.prototype),rn.prototype.constructor=rn,an.prototype=Object.create(xe.prototype),an.prototype.constructor=an,an.prototype.getArrays=function(){var e=this.getAttribute("position"),e=e?Array.prototype.slice.call(e.array):[],t=this.getAttribute("uv"),t=t?Array.prototype.slice.call(t.array):[],n=this.index,n=n?Array.prototype.slice.call(n.array):[];return{position:e,uv:t,index:n}},an.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++)this.addShape(e[i],t);this.setIndex(t.arrays.index),this.addAttribute("position",new ye(t.arrays.position,3)),this.addAttribute("uv",new ye(t.arrays.uv,2))},an.prototype.addShape=function(e,t){function i(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function r(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=i.x-e.x,s=i.y-e.y,l=r*r+a*a;if(Math.abs(r*s-a*o)>Number.EPSILON){var c=Math.sqrt(l),u=Math.sqrt(o*o+s*s),l=t.x-a/c;if(t=t.y+r/c,s=((i.x-s/u-l)*s-(i.y+o/u-t)*o)/(r*s-a*o),o=l+r*s-e.x,r=t+a*s-e.y,a=o*o+r*r,2>=a)return new n(o,r);a=Math.sqrt(a/2)}else e=!1,r>Number.EPSILON?o>Number.EPSILON&&(e=!0):r<-Number.EPSILON?o<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(s)&&(e=!0),e?(o=-a,a=Math.sqrt(l)):(o=r,r=a,a=Math.sqrt(l/2));return new n(o/a,r/a)}function o(e,t){for(B=e.length;0<=--B;){var n=B,i=B-1;0>i&&(i=e.length-1);var r,a=w+2*b;for(r=0;r<a;r++){var o=H*r,s=H*(r+1),l=t+i+o,d=t+i+s,s=t+n+s;c(t+n+o),c(l),c(s),c(l),c(d),c(s),o=f.length/3,o=M.generateSideWallUV(R,f,o-6,o-3,o-2,o-1),u(o[0]),u(o[1]),u(o[3]),u(o[1]),u(o[2]),u(o[3])}}}function s(e,t,n){p.push(e),p.push(t),p.push(n)}function l(e,t,n){c(e),c(t),c(n),e=f.length/3,e=M.generateTopUV(R,f,e-3,e-2,e-1),u(e[0]),u(e[1]),u(e[2])}function c(e){h.push(f.length/3),f.push(p[3*e+0]),f.push(p[3*e+1]),f.push(p[3*e+2])}function u(e){m.push(e.x),m.push(e.y)}var d=t.arrays?t.arrays:this.getArrays(),f=d.position,h=d.index,m=d.uv,p=[],d=void 0!==t.amount?t.amount:100,g=void 0!==t.bevelThickness?t.bevelThickness:6,v=void 0!==t.bevelSize?t.bevelSize:g-2,b=void 0!==t.bevelSegments?t.bevelSegments:3,y=void 0===t.bevelEnabled||t.bevelEnabled,E=void 0!==t.curveSegments?t.curveSegments:12,w=void 0!==t.steps?t.steps:1,_=t.extrudePath,x=!1,M=void 0!==t.UVGenerator?t.UVGenerator:rn.WorldUVGenerator;if(_){var k=_.getSpacedPoints(w);x=!0,y=!1;var T=void 0!==t.frames?t.frames:_.computeFrenetFrames(w,!1),S=new a,A=new a,C=new a}y||(v=g=b=0);var $,R=this,E=e.extractPoints(E);e=E.shape;var P=E.holes;if(!Gr.isClockWise(e)){e=e.reverse();var N=0;for($=P.length;N<$;N++){var O=P[N];Gr.isClockWise(O)&&(P[N]=O.reverse())}}var D=Gr.triangulateShape(e,P),I=e;for(N=0,$=P.length;N<$;N++)O=P[N],e=e.concat(O);var L,F,H=e.length,U=D.length,E=[],B=0,j=I.length,V=j-1;for(L=B+1;B<j;B++,V++,L++)V===j&&(V=0),L===j&&(L=0),E[B]=r(I[B],I[V],I[L]);var _=[],z=E.concat();for(N=0,$=P.length;N<$;N++){O=P[N];var W=[];for(B=0,j=O.length,V=j-1,L=B+1;B<j;B++,V++,L++)V===j&&(V=0),L===j&&(L=0),W[B]=r(O[B],O[V],O[L]);_.push(W),z=z.concat(W)}for(V=0;V<b;V++){j=V/b;var G=g*Math.cos(j*Math.PI/2);for(L=v*Math.sin(j*Math.PI/2),B=0,j=I.length;B<j;B++){var q=i(I[B],E[B],L);s(q.x,q.y,-G)}for(N=0,$=P.length;N<$;N++)for(O=P[N],W=_[N],B=0,j=O.length;B<j;B++)q=i(O[B],W[B],L),s(q.x,q.y,-G)}for(L=v,B=0;B<H;B++)q=y?i(e[B],z[B],L):e[B],x?(A.copy(T.normals[0]).multiplyScalar(q.x),S.copy(T.binormals[0]).multiplyScalar(q.y),C.copy(k[0]).add(A).add(S),s(C.x,C.y,C.z)):s(q.x,q.y,0);for(j=1;j<=w;j++)for(B=0;B<H;B++)q=y?i(e[B],z[B],L):e[B],x?(A.copy(T.normals[j]).multiplyScalar(q.x),S.copy(T.binormals[j]).multiplyScalar(q.y),C.copy(k[j]).add(A).add(S),s(C.x,C.y,C.z)):s(q.x,q.y,d/w*j);for(V=b-1;0<=V;V--){for(j=V/b,G=g*Math.cos(j*Math.PI/2),L=v*Math.sin(j*Math.PI/2),B=0,j=I.length;B<j;B++)q=i(I[B],E[B],L),s(q.x,q.y,d+G);for(N=0,$=P.length;N<$;N++)for(O=P[N],W=_[N],B=0,j=O.length;B<j;B++)q=i(O[B],W[B],L),x?s(q.x,q.y+k[w-1].y,k[w-1].x+G):s(q.x,q.y,d+G)}!function(){var e=f.length/3;if(y){var n=0*H;for(B=0;B<U;B++)F=D[B],l(F[2]+n,F[1]+n,F[0]+n);for(n=H*(w+2*b),B=0;B<U;B++)F=D[B],l(F[0]+n,F[1]+n,F[2]+n)}else{for(B=0;B<U;B++)F=D[B],l(F[2],F[1],F[0]);for(B=0;B<U;B++)F=D[B],l(F[0]+H*w,F[1]+H*w,F[2]+H*w)}R.addGroup(e,f.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=f.length/3,n=0;for(o(I,n),n+=I.length,N=0,$=P.length;N<$;N++)O=P[N],o(O,n),n+=O.length;R.addGroup(e,f.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(h),this.addAttribute("position",new ye(f,3)),this.addAttribute("uv",new ye(t.arrays.uv,2)))},rn.WorldUVGenerator={generateTopUV:function(e,t,i,r,a){e=t[3*r],r=t[3*r+1];var o=t[3*a];return a=t[3*a+1],[new n(t[3*i],t[3*i+1]),new n(e,r),new n(o,a)]},generateSideWallUV:function(e,t,i,r,a,o){e=t[3*i];var s=t[3*i+1];i=t[3*i+2];var l=t[3*r],c=t[3*r+1];r=t[3*r+2];var u=t[3*a],d=t[3*a+1];a=t[3*a+2];var f=t[3*o],h=t[3*o+1];return t=t[3*o+2],.01>Math.abs(s-c)?[new n(e,1-i),new n(l,1-r),new n(u,1-a),new n(f,1-t)]:[new n(s,1-i),new n(c,1-r),new n(d,1-a),new n(h,1-t)]}},on.prototype=Object.create(ue.prototype),on.prototype.constructor=on,sn.prototype=Object.create(an.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(ue.prototype),ln.prototype.constructor=ln,cn.prototype=Object.create(xe.prototype),cn.prototype.constructor=cn,un.prototype=Object.create(ue.prototype),un.prototype.constructor=un,dn.prototype=Object.create(xe.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(ue.prototype),fn.prototype.constructor=fn,hn.prototype=Object.create(xe.prototype),hn.prototype.constructor=hn,mn.prototype=Object.create(ue.prototype),mn.prototype.constructor=mn,pn.prototype=Object.create(xe.prototype),pn.prototype.constructor=pn,gn.prototype=Object.create(xe.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(ue.prototype),vn.prototype.constructor=vn,bn.prototype=Object.create(xe.prototype),bn.prototype.constructor=bn,yn.prototype=Object.create(vn.prototype),yn.prototype.constructor=yn,En.prototype=Object.create(bn.prototype),En.prototype.constructor=En,wn.prototype=Object.create(ue.prototype),wn.prototype.constructor=wn,_n.prototype=Object.create(xe.prototype),_n.prototype.constructor=_n;var qr=Object.freeze({WireframeGeometry:Ft,ParametricGeometry:Ht,ParametricBufferGeometry:Ut,TetrahedronGeometry:Vt,TetrahedronBufferGeometry:zt,OctahedronGeometry:Wt,OctahedronBufferGeometry:Gt,IcosahedronGeometry:qt,IcosahedronBufferGeometry:Yt,DodecahedronGeometry:Xt,DodecahedronBufferGeometry:Kt,PolyhedronGeometry:Bt,PolyhedronBufferGeometry:jt,TubeGeometry:Zt,TubeBufferGeometry:Jt,TorusKnotGeometry:Qt,TorusKnotBufferGeometry:en,TorusGeometry:tn,TorusBufferGeometry:nn,TextGeometry:on,TextBufferGeometry:sn,SphereGeometry:ln,SphereBufferGeometry:cn,RingGeometry:un,RingBufferGeometry:dn,PlaneGeometry:Te,PlaneBufferGeometry:Se,LatheGeometry:fn,LatheBufferGeometry:hn,ShapeGeometry:mn,ShapeBufferGeometry:pn,ExtrudeGeometry:rn,ExtrudeBufferGeometry:an,EdgesGeometry:gn,ConeGeometry:yn,ConeBufferGeometry:En,CylinderGeometry:vn,CylinderBufferGeometry:bn,CircleGeometry:wn,CircleBufferGeometry:_n,BoxGeometry:Me,BoxBufferGeometry:ke});xn.prototype=Object.create(X.prototype),xn.prototype.constructor=xn,xn.prototype.isShadowMaterial=!0,Mn.prototype=Object.create(Ce.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isRawShaderMaterial=!0,kn.prototype=Object.create(X.prototype),kn.prototype.constructor=kn,kn.prototype.isMeshStandardMaterial=!0,kn.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Tn.prototype=Object.create(kn.prototype),Tn.prototype.constructor=Tn,Tn.prototype.isMeshPhysicalMaterial=!0,Tn.prototype.copy=function(e){return kn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Sn.prototype=Object.create(X.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isMeshPhongMaterial=!0,Sn.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},An.prototype=Object.create(Sn.prototype),An.prototype.constructor=An,An.prototype.isMeshToonMaterial=!0,An.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Cn.prototype=Object.create(X.prototype),Cn.prototype.constructor=Cn,Cn.prototype.isMeshNormalMaterial=!0,Cn.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},$n.prototype=Object.create(X.prototype),$n.prototype.constructor=$n,$n.prototype.isMeshLambertMaterial=!0,$n.prototype.copy=function(e){return X.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Rn.prototype=Object.create(At.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isLineDashedMaterial=!0,Rn.prototype.copy=function(e){return At.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Yr=Object.freeze({ShadowMaterial:xn,SpriteMaterial:_t,RawShaderMaterial:Mn,ShaderMaterial:Ce,PointsMaterial:Pt,MeshPhysicalMaterial:Tn,MeshStandardMaterial:kn,MeshPhongMaterial:Sn,MeshToonMaterial:An,MeshNormalMaterial:Cn,MeshLambertMaterial:$n,MeshDepthMaterial:K,MeshDistanceMaterial:Z,MeshBasicMaterial:Ae,LineDashedMaterial:Rn,LineBasicMaterial:At,Material:X}),Xr={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Kr=new Pn,Zr={};Object.assign(Nn.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Xr.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;if(void 0===Zr[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){n=o[1];var s=!!o[2],o=o[3],o=window.decodeURIComponent(o);s&&(o=window.atob(o));try{var l=(this.responseType||"").toLowerCase();switch(l){case"arraybuffer":case"blob":for(var c=new Uint8Array(o.length),s=0;s<o.length;s++)c[s]=o.charCodeAt(s);var u="blob"===l?new Blob([c.buffer],{type:n}):c.buffer;break;case"document":u=(new DOMParser).parseFromString(o,n);break;case"json":u=JSON.parse(o);break;default:u=o}window.setTimeout(function(){t&&t(u),r.manager.itemEnd(e)},0)}catch(d){window.setTimeout(function(){i&&i(d),r.manager.itemEnd(e),r.manager.itemError(e)},0)}}else{Zr[e]=[],Zr[e].push({onLoad:t,onProgress:n,onError:i});var f=new XMLHttpRequest;f.open("GET",e,!0),f.addEventListener("load",function(t){var n=t.target.response;Xr.add(e,n);var i=Zr[e];if(delete Zr[e],200===this.status){for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(e)}else if(0===this.status){for(console.warn("THREE.FileLoader: HTTP Status 0 received."),a=0,o=i.length;a<o;a++)s=i[a],s.onLoad&&s.onLoad(n);r.manager.itemEnd(e)}else{for(a=0,o=i.length;a<o;a++)s=i[a],s.onError&&s.onError(t);r.manager.itemEnd(e),r.manager.itemError(e)}},!1),f.addEventListener("progress",function(t){for(var n=Zr[e],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(t)}},!1),f.addEventListener("error",function(t){var n=Zr[e];delete Zr[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)},!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(s in this.requestHeader)f.setRequestHeader(s,this.requestHeader[s]);f.send(null)}return r.manager.itemStart(e),f}Zr[e].push({onLoad:t,onProgress:n,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(On.prototype,{load:function(e,t,n,i){function r(r){c.load(e[r],function(e){e=o._parser(e,!0),s[r]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},a+=1,6===a&&(1===e.mipmapCount&&(l.minFilter=1006),l.format=e.format,l.needsUpdate=!0,t&&t(l))},n,i)}var a,o=this,s=[],l=new It;l.image=s;var c=new Nn(this.manager);if(c.setPath(this.path),c.setResponseType("arraybuffer"),Array.isArray(e))for(var u=a=0,d=e.length;u<d;++u)r(u);else c.load(e,function(e){if(e=o._parser(e,!0),e.isCubemap)for(var n=e.mipmaps.length/e.mipmapCount,i=0;i<n;i++){s[i]={mipmaps:[]};for(var r=0;r<e.mipmapCount;r++)s[i].mipmaps.push(e.mipmaps[i*e.mipmapCount+r]),s[i].format=e.format,s[i].width=e.width,s[i].height=e.height}else l.image.width=e.width,l.image.height=e.height,l.mipmaps=e.mipmaps;1===e.mipmapCount&&(l.minFilter=1006),l.format=e.format,l.needsUpdate=!0,t&&t(l)},n,i);return l},setPath:function(e){return this.path=e,this}}),Object.assign(Dn.prototype,{load:function(e,t,n,i){var r=this,a=new d,o=new Nn(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){(e=r._parser(e))&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:1001,a.wrapT=void 0!==e.wrapT?e.wrapT:1001,a.magFilter=void 0!==e.magFilter?e.magFilter:1006,a.minFilter=void 0!==e.minFilter?e.minFilter:1008,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps),1===e.mipmapCount&&(a.minFilter=1006),a.needsUpdate=!0,t&&t(a,e))},n,i),a}}),Object.assign(In.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Xr.get(e);return void 0!==a?(r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a):(n=document.createElementNS("http://www.w3.org/1999/xhtml","img"),n.addEventListener("load",function(){Xr.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),n.addEventListener("error",function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),r.manager.itemStart(e),n.src=e,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ln.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){function r(n){o.load(e[n],function(e){a.images[n]=e,s++,6===s&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}var a=new f,o=new In(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var s=0;for(n=0;n<e.length;++n)r(n);return a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Fn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){var r=new In(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);var a=new s;return a.image=r.load(e,function(){var n=0<e.search(/\.(jpg|jpeg)$/)||0===e.search(/^data\:image\/jpeg/);a.format=n?1022:1023,a.needsUpdate=!0,void 0!==t&&t(a)},n,i),a},setCrossOrigin:function(e){return this.crossOrigin=e,
this},setPath:function(e){return this.path=e,this}}),Hn.prototype=Object.assign(Object.create(oe.prototype),{constructor:Hn,isLight:!0,copy:function(e){return oe.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return e=oe.prototype.toJSON.call(this,e),e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Un.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Un,isHemisphereLight:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Bn.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),jn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:jn,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Sr.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height;e=e.distance||t.far,n===t.fov&&i===t.aspect&&e===t.far||(t.fov=n,t.aspect=i,t.far=e,t.updateProjectionMatrix())}}),Vn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Vn,isSpotLight:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),zn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:zn,isPointLight:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Wn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Wn}),Gn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Gn,isDirectionalLight:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),qn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:qn,isAmbientLight:!0}),Yn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Yn,isRectAreaLight:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){return e=Hn.prototype.toJSON.call(this,e),e.object.width=this.width,e.object.height=this.height,e}});var Jr={arraySlice:function(e,t,n){return Jr.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o)){do o=a[i],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[r++];while(void 0!==a)}else if(void 0!==o.toArray){do o=a[i],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++];while(void 0!==a)}else do o=a[i],void 0!==o&&(t.push(a.time),n.push(o)),a=e[r++];while(void 0!==a)}}};Object.assign(Xn.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{n:{i:if(!(e<i)){for(var a=n+2;;){if(void 0===i){if(e<r)break i;return this._cachedIndex=n=t.length,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}i=t.length;break n}if(e>=r)break e;for(a=t[1],e<a&&(n=2,r=a),a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}i=n,n=0}for(;n<i;)r=n+i>>>1,e<t[r]?i=r:n=r+1;if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return this._cachedIndex=n=t.length,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize;e*=i;for(var r=0;r!==i;++r)t[r]=n[e+r];return t},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Xn.prototype,{beforeStart_:Xn.prototype.copySampleValue_,afterEnd_:Xn.prototype.copySampleValue_}),Kn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Kn,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}e=.5*(n-t),i=this.valueSize,this._weightPrev=e/(t-o),this._weightNext=e/(s-n),this._offsetPrev=r*i,this._offsetNext=a*i},interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize;e*=o;var s=e-o,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,d=this._weightNext,f=(n-t)/(i-t);for(n=f*f,i=n*f,t=-u*i+2*u*n-u*f,u=(1+u)*i+(-1.5-2*u)*n+(-.5+u)*f+1,f=(-1-d)*i+(1.5+d)*n+.5*f,d=d*i-d*n,n=0;n!==o;++n)r[n]=t*a[l+n]+u*a[s+n]+f*a[e+n]+d*a[c+n];return r}}),Zn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Zn,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize;e*=o;var s=e-o;for(t=(n-t)/(i-t),n=1-t,i=0;i!==o;++i)r[i]=a[s+i]*n+a[e+i]*t;return r}}),Jn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Jn,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Qr={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Jn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Zn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Kn(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){switch(e){case 2300:var t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){if(t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw Error(t);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrackPrototype:",t)}else this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;return++a,0===r&&a===i||(r>=a&&(a=Math.max(a,1),r=a-1),e=this.getValueSize(),this.times=Jr.arraySlice(n,r,a),this.values=Jr.arraySlice(this.values,r*e,a*e)),this},validate:function(){var e=!0,t=this.getValueSize();0!==t-Math.floor(t)&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),e=!1);var n=this.times,t=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),e=!1);for(var r=null,a=0;a!==i;a++){var o=n[a];if("number"==typeof o&&isNaN(o)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,a,o),e=!1;break}if(null!==r&&r>o){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,a,o,r),e=!1;break}r=o}if(void 0!==t&&Jr.isTypedArray(t))for(a=0,n=t.length;a!==n;++a)if(i=t[a],isNaN(i)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,a,i),e=!1;break}return e},optimize:function(){for(var e,t,n=this.times,i=this.values,r=this.getValueSize(),a=2302===this.getInterpolation(),o=1,s=n.length-1,l=1;l<s;++l){e=!1;var c=n[l];if(c!==n[l+1]&&(1!==l||c!==c[0]))if(a)e=!0;else{t=l*r;for(var u=t-r,d=t+r,c=0;c!==r;++c){var f=i[t+c];if(f!==i[u+c]||f!==i[d+c]){e=!0;break}}}if(e){if(l!==o)for(n[o]=n[l],t=l*r,e=o*r,c=0;c!==r;++c)i[e+c]=i[t+c];++o}}if(0<s){for(n[o]=n[s],t=s*r,e=o*r,c=0;c!==r;++c)i[e+c]=i[t+c];++o}return o!==n.length&&(this.times=Jr.arraySlice(n,0,o),this.values=Jr.arraySlice(i,0,o*r)),this}};ei.prototype=Object.assign(Object.create(Qr),{constructor:ei,ValueTypeName:"vector"}),ti.prototype=Object.assign(Object.create(Xn.prototype),{constructor:ti,interpolate_:function(e,t,n,i){var a=this.resultBuffer,o=this.sampleValues,s=this.valueSize;for(e*=s,t=(n-t)/(i-t),n=e+s;e!==n;e+=4)r.slerpFlat(a,0,o,e-s,o,e,t);return a}}),ni.prototype=Object.assign(Object.create(Qr),{constructor:ni,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new ti(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ii.prototype=Object.assign(Object.create(Qr),{constructor:ii,ValueTypeName:"number"}),ri.prototype=Object.assign(Object.create(Qr),{constructor:ri,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ai.prototype=Object.assign(Object.create(Qr),{constructor:ai,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),oi.prototype=Object.assign(Object.create(Qr),{constructor:oi,ValueTypeName:"color"}),si.prototype=Qr,Qr.constructor=si,Object.assign(si,{parse:function(e){if(void 0===e.type)throw Error("track type undefined, can not parse");var t=si._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],i=[];Jr.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t=e.constructor;if(void 0!==t.toJSON)t=t.toJSON(e);else{var t={name:e.name,times:Jr.convertArray(e.times,Array),values:Jr.convertArray(e.values,Array)},n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ii;case"vector":case"vector2":case"vector3":case"vector4":return ei;case"color":return oi;case"quaternion":return ni;case"bool":case"boolean":return ai;case"string":return ri}throw Error("Unsupported typeName: "+e)}}),Object.assign(li,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(si.parse(n[r]).scale(i));return new li(e.name,e.duration,t)},toJSON:function(e){var t=[],n=e.tracks;e={name:e.name,duration:e.duration,tracks:t};for(var i=0,r=n.length;i!==r;++i)t.push(si.toJSON(n[i]));return e},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=Jr.getKeyframeOrder(s),s=Jr.sortedArray(s,1,c),l=Jr.sortedArray(l,1,c);i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new ii(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new li(e,(-1),a)},findByName:function(e,t){var n=e;for(Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations),e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i,r={},a=/^([\w-]*?)([\d]+)$/,o=0,s=e.length;o<s;o++){var l=e[o],c=l.name.match(a);c&&1<c.length&&(i=c[1],(c=r[i])||(r[i]=c=[]),c.push(l))}e=[];for(i in r)e.push(li.CreateFromMorphTargetSequence(i,r[i],t,n));return e},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var n=function(e,t,n,i,r){if(0!==n.length){var a=[],o=[];Jr.flattenJSON(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.length||-1,o=e.fps||30;e=e.hierarchy||[];for(var s=0;s<e.length;s++){var l=e[s].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var a={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var u=0;u<l[c].morphTargets.length;u++)a[l[c].morphTargets[u]]=-1;for(var d in a){for(var f=[],h=[],u=0;u!==l[c].morphTargets.length;++u){var m=l[c];f.push(m.time),h.push(m.morphTarget===d?1:0)}i.push(new ii(".morphTargetInfluence["+d+"]",f,h))}a=a.length*(o||1)}else c=".bones["+t[s].name+"]",n(ei,c+".position",l,"pos",i),n(ni,c+".quaternion",l,"rot",i),n(ei,c+".scale",l,"scl",i)}return 0===i.length?null:new li(r,a,i)}}),Object.assign(li.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t)var i=this.tracks[t],e=Math.max(e,i.times[i.times.length-1]);this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(ci.prototype,{load:function(e,t,n,i){var r=this;new Nn(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===i[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),i[e]}var i=this.textures,r=new Yr[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalScale){var a=e.normalScale;!1===Array.isArray(a)&&(a=[a,a]),r.normalScale=(new n).fromArray(a)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r}}),Object.assign(ui.prototype,{load:function(e,t,n,i){var r=this;new Nn(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new xe,n=e.data.index;void 0!==n&&(n=new ea[n.type](n.array),t.setIndex(new de(n,1)));var i=e.data.attributes;for(o in i){var r=i[o];n=new ea[r.type](r.array),t.addAttribute(o,new de(n,r.itemSize,r.normalized))}var o=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==o)for(n=0,i=o.length;n!==i;++n)r=o[n],t.addGroup(r.start,r.count,r.materialIndex);return e=e.data.boundingSphere,void 0!==e&&(o=new a,void 0!==e.center&&o.fromArray(e.center),t.boundingSphere=new Q(o,e.radius)),t}});var ea={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};di.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n+1];if(t[n].test(e))return r}return null}},Object.assign(di.prototype,{crossOrigin:void 0,extractUrlBase:function(e){return e=e.split("/"),1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:function(){var e={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},t=new z,n=new Fn,i=new ci;return function(r,a,o){function s(e,t,i,r,s){e=a+e;var l=di.Handlers.get(e);return null!==l?e=l.load(e):(n.setCrossOrigin(o),e=n.load(e)),void 0!==t&&(e.repeat.fromArray(t),1!==t[0]&&(e.wrapS=1e3),1!==t[1]&&(e.wrapT=1e3)),void 0!==i&&e.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(e.wrapS=1e3),"mirror"===r[0]&&(e.wrapS=1002),"repeat"===r[1]&&(e.wrapT=1e3),"mirror"===r[1]&&(e.wrapT=1002)),void 0!==s&&(e.anisotropy=s),t=Sr.generateUUID(),c[t]=e,t}var l,c={},u={uuid:Sr.generateUUID(),type:"MeshLambertMaterial"};for(l in r){var d=r[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=d;break;case"blending":u.blending=e[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(d).getHex();break;case"colorSpecular":u.specular=t.fromArray(d).getHex();break;case"colorEmissive":u.emissive=t.fromArray(d).getHex();break;case"specularCoef":u.shininess=d;break;case"shading":"basic"===d.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===d.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===d.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(d,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(d,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(d,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(d,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(d,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=d;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(d,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[d,d];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(d,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(d,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(d,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(d,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=1;break;case"doubleSided":u.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[l]=d;break;case"vertexColors":!0===d&&(u.vertexColors=2),"face"===d&&(u.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,d)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,1>u.opacity&&(u.transparent=!0),i.setTextures(c),i.parse(u)}}()}),Object.assign(fi.prototype,{load:function(e,t,n,i){var r=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:di.prototype.extractUrlBase(e),o=new Nn(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,function(n){n=JSON.parse(n);var i=n.metadata;if(void 0!==i&&(i=i.type,void 0!==i)){if("object"===i.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===i.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}n=r.parse(n,a),t(n.geometry,n.materials)},n,i)},setTexturePath:function(e){this.texturePath=e},parse:function(){return function(e,t){void 0!==e.data&&(e=e.data),e.scale=void 0!==e.scale?1/e.scale:1;var i,r,o,s=new ue,c=e,u=c.faces,d=c.vertices,f=c.normals,h=c.colors,m=c.scale,p=0;if(void 0!==c.uvs){for(i=0;i<c.uvs.length;i++)c.uvs[i].length&&p++;for(i=0;i<p;i++)s.faceVertexUvs[i]=[]}var g=0;for(o=d.length;g<o;)i=new a,i.x=d[g++]*m,i.y=d[g++]*m,i.z=d[g++]*m,s.vertices.push(i);for(g=0,o=u.length;g<o;){d=u[g++];var v=1&d,b=2&d;i=8&d;var y=16&d,E=32&d;if(m=64&d,d&=128,v){v=new ce,v.a=u[g],v.b=u[g+1],v.c=u[g+3];var w=new ce;if(w.a=u[g+1],w.b=u[g+2],w.c=u[g+3],g+=4,b&&(b=u[g++],v.materialIndex=b,w.materialIndex=b),b=s.faces.length,i)for(i=0;i<p;i++){var _=c.uvs[i];for(s.faceVertexUvs[i][b]=[],s.faceVertexUvs[i][b+1]=[],r=0;4>r;r++){var x=u[g++],M=_[2*x];x=_[2*x+1],M=new n(M,x),2!==r&&s.faceVertexUvs[i][b].push(M),0!==r&&s.faceVertexUvs[i][b+1].push(M)}}if(y&&(y=3*u[g++],v.normal.set(f[y++],f[y++],f[y]),w.normal.copy(v.normal)),E)for(i=0;4>i;i++)y=3*u[g++],E=new a(f[y++],f[y++],f[y]),2!==i&&v.vertexNormals.push(E),0!==i&&w.vertexNormals.push(E);if(m&&(m=u[g++],m=h[m],v.color.setHex(m),w.color.setHex(m)),d)for(i=0;4>i;i++)m=u[g++],m=h[m],2!==i&&v.vertexColors.push(new z(m)),0!==i&&w.vertexColors.push(new z(m));s.faces.push(v),s.faces.push(w)}else{if(v=new ce,v.a=u[g++],v.b=u[g++],v.c=u[g++],b&&(b=u[g++],v.materialIndex=b),b=s.faces.length,i)for(i=0;i<p;i++)for(_=c.uvs[i],s.faceVertexUvs[i][b]=[],r=0;3>r;r++)x=u[g++],M=_[2*x],x=_[2*x+1],M=new n(M,x),s.faceVertexUvs[i][b].push(M);if(y&&(y=3*u[g++],v.normal.set(f[y++],f[y++],f[y])),E)for(i=0;3>i;i++)y=3*u[g++],E=new a(f[y++],f[y++],f[y]),v.vertexNormals.push(E);if(m&&(m=u[g++],v.color.setHex(h[m])),d)for(i=0;3>i;i++)m=u[g++],v.vertexColors.push(new z(h[m]));s.faces.push(v)}}if(c=e,g=void 0!==c.influencesPerVertex?c.influencesPerVertex:2,c.skinWeights)for(o=0,u=c.skinWeights.length;o<u;o+=g)s.skinWeights.push(new l(c.skinWeights[o],1<g?c.skinWeights[o+1]:0,2<g?c.skinWeights[o+2]:0,3<g?c.skinWeights[o+3]:0));if(c.skinIndices)for(o=0,u=c.skinIndices.length;o<u;o+=g)s.skinIndices.push(new l(c.skinIndices[o],1<g?c.skinIndices[o+1]:0,2<g?c.skinIndices[o+2]:0,3<g?c.skinIndices[o+3]:0));if(s.bones=c.bones,s.bones&&0<s.bones.length&&(s.skinWeights.length!==s.skinIndices.length||s.skinIndices.length!==s.vertices.length)&&console.warn("When skinning, number of vertices ("+s.vertices.length+"), skinIndices ("+s.skinIndices.length+"), and skinWeights ("+s.skinWeights.length+") should match."),o=e,u=o.scale,void 0!==o.morphTargets)for(c=0,g=o.morphTargets.length;c<g;c++)for(s.morphTargets[c]={},s.morphTargets[c].name=o.morphTargets[c].name,s.morphTargets[c].vertices=[],f=s.morphTargets[c].vertices,h=o.morphTargets[c].vertices,p=0,d=h.length;p<d;p+=3)m=new a,m.x=h[p]*u,m.y=h[p+1]*u,m.z=h[p+2]*u,f.push(m);if(void 0!==o.morphColors&&0<o.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),u=s.faces,o=o.morphColors[0].colors,c=0,g=u.length;c<g;c++)u[c].color.fromArray(o,3*c);for(o=e,c=[],g=[],void 0!==o.animation&&g.push(o.animation),void 0!==o.animations&&(o.animations.length?g=g.concat(o.animations):g.push(o.animations)),o=0;o<g.length;o++)(u=li.parseAnimation(g[o],s.bones))&&c.push(u);return s.morphTargets&&(g=li.CreateClipsFromMorphTargetSequences(s.morphTargets,10),c=c.concat(g)),0<c.length&&(s.animations=c),s.computeFaceNormals(),s.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:s}:(e=di.prototype.initMaterials(e.materials,t,this.crossOrigin),{geometry:s,materials:e})}}()}),Object.assign(hi.prototype,{load:function(e,t,n,i){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this;new Nn(r.manager).load(e,function(n){var a=null;try{a=JSON.parse(n)}catch(o){return void 0!==i&&i(o),void console.error("THREE:ObjectLoader: Can't parse "+e+".",o.message)}n=a.metadata,void 0===n||void 0===n.type||"geometry"===n.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead."):r.parse(a,t)},n,i)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),i=this.parseImages(e.images,function(){void 0!==t&&t(r)}),i=this.parseTextures(e.textures,i),i=this.parseMaterials(e.materials,i),r=this.parseObject(e.object,n,i);return e.animations&&(r.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0===t||t(r),r},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new fi,i=new ui,r=0,a=e.length;r<a;r++){var o=e[r];switch(o.type){case"PlaneGeometry":case"PlaneBufferGeometry":var s=new qr[o.type](o.width,o.height,o.widthSegments,o.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new qr[o.type](o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new qr[o.type](o.radius,o.segments,o.thetaStart,o.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new qr[o.type](o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new qr[o.type](o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new qr[o.type](o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new qr[o.type](o.radius,o.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new qr[o.type](o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new qr[o.type](o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new qr[o.type](o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new qr[o.type](o.points,o.segments,o.phiStart,o.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new qr[o.type](o.vertices,o.indices,o.radius,o.details);break;case"BufferGeometry":s=i.parse(o);break;case"Geometry":s=n.parse(o,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+o.type+'"');continue}s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),t[o.uuid]=s}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new ci;i.setTextures(t),t=0;for(var r=e.length;t<r;t++){var a=e[t];if("MultiMaterial"===a.type){for(var o=[],s=0;s<a.materials.length;s++)o.push(i.parse(a.materials[s]));n[a.uuid]=o}else n[a.uuid]=i.parse(a)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=li.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){function n(e){return i.manager.itemStart(e),a.load(e,function(){i.manager.itemEnd(e)},void 0,function(){i.manager.itemEnd(e),i.manager.itemError(e)})}var i=this,r={};if(void 0!==e&&0<e.length){t=new Pn(t);var a=new In(t);a.setCrossOrigin(this.crossOrigin),t=0;for(var o=e.length;t<o;t++){var s=e[t],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:i.texturePath+s.url;r[s.uuid]=n(l)}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var l=new s(t[o.image]);l.needsUpdate=!0,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,ta)),void 0!==o.offset&&l.offset.fromArray(o.offset),
void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],na),l.wrapT=n(o.wrap[1],na)),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,ia)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,ia)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),i[o.uuid]=l}return i},parseObject:function(){var e=new i;return function(t,n,i){function r(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];void 0===i[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(i[a])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}switch(t.type){case"Scene":var o=new Et;void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new z(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new yt(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new bt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new dt(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new le(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new qn(t.color,t.intensity);break;case"DirectionalLight":o=new Gn(t.color,t.intensity);break;case"PointLight":o=new zn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Yn(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Vn(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new Un(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=r(t.geometry);var s=a(t.material);o=o.bones&&0<o.bones.length?new St(o,s):new Ne(o,s);break;case"LOD":o=new Mt;break;case"Line":o=new Ct(r(t.geometry),a(t.material),t.mode);break;case"LineLoop":o=new Rt(r(t.geometry),a(t.material));break;case"LineSegments":o=new $t(r(t.geometry),a(t.material));break;case"PointCloud":case"Points":o=new Nt(r(t.geometry),a(t.material));break;case"Sprite":o=new xt(a(t.material));break;case"Group":o=new Ot;break;default:o=new oe}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var s=t.children,l=0;l<s.length;l++)o.add(this.parseObject(s[l],n,i));if("LOD"===t.type)for(t=t.levels,s=0;s<t.length;s++){var l=t[s],c=o.getObjectByProperty("uuid",l.object);void 0!==c&&o.addLevel(c,l.distance)}return o}}()});var ta={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},na={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},ia={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};Object.assign(vi.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],i=this.getPoint(0),r=0;for(n.push(0),t=1;t<=e;t++){var a=this.getPoint(t/e);r+=a.distanceTo(i),n.push(r),i=a}return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths(),i=n.length;t=t?t:e*n[i-1];for(var r,a=0,o=i-1;a<=o;)if(e=Math.floor(a+(o-a)/2),r=n[e]-t,0>r)a=e+1;else{if(!(0<r)){o=e;break}o=e-1}return e=o,n[e]===t?e/(i-1):(a=n[e],(e+(t-a)/(n[e+1]-a))/(i-1))},getTangent:function(e){var t=e-1e-4;return e+=1e-4,0>t&&(t=0),1<e&&(e=1),t=this.getPoint(t),this.getPoint(e).clone().sub(t).normalize()},getTangentAt:function(e){return e=this.getUtoTmapping(e),this.getTangent(e)},computeFrenetFrames:function(e,t){var n,r=new a,o=[],s=[],l=[],c=new a,u=new i;for(n=0;n<=e;n++){var d=n/e;o[n]=this.getTangentAt(d),o[n].normalize()}s[0]=new a,l[0]=new a,n=Number.MAX_VALUE,d=Math.abs(o[0].x);var f=Math.abs(o[0].y),h=Math.abs(o[0].z);for(d<=n&&(n=d,r.set(1,0,0)),f<=n&&(n=f,r.set(0,1,0)),h<=n&&r.set(0,0,1),c.crossVectors(o[0],r).normalize(),s[0].crossVectors(o[0],c),l[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),c.crossVectors(o[n-1],o[n]),c.length()>Number.EPSILON&&(c.normalize(),r=Math.acos(Sr.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(c,r))),l[n].crossVectors(o[n],s[n]);if(!0===t)for(r=Math.acos(Sr.clamp(s[0].dot(s[e]),-1,1)),r/=e,0<o[0].dot(c.crossVectors(s[0],s[e]))&&(r=-r),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(o[n],r*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),bi.prototype=Object.create(vi.prototype),bi.prototype.constructor=bi,bi.prototype.isLineCurve=!0,bi.prototype.getPoint=function(e,t){return t=t||new n,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},bi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},bi.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},bi.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yi.prototype=Object.assign(Object.create(vi.prototype),{constructor:yi,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new bi(t,e))},getPoint:function(e){var t=e*this.getLength(),n=this.getCurveLengths();for(e=0;e<n.length;){if(n[e]>=t)return t=n[e]-t,e=this.curves[e],n=e.getLength(),e.getPointAt(0===n?0:1-t/n);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],a=a.getPoints(a&&a.isEllipseCurve?2*e:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e),o=0;o<a.length;o++){var s=a[o];t&&t.equals(s)||(n.push(s),t=s)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){vi.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}}),Ei.prototype=Object.create(vi.prototype),Ei.prototype.constructor=Ei,Ei.prototype.isEllipseCurve=!0,Ei.prototype.getPoint=function(e,t){t=t||new n;for(var i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;0>r;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r=r===i?-i:r-i),i=this.aStartAngle+e*r,e=this.aX+this.xRadius*Math.cos(i);var o=this.aY+this.yRadius*Math.sin(i);return 0!==this.aRotation&&(i=Math.cos(this.aRotation),r=Math.sin(this.aRotation),a=e-this.aX,o-=this.aY,e=a*i-o*r+this.aX,o=a*r+o*i+this.aY),t.set(e,o)},Ei.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},wi.prototype=Object.create(vi.prototype),wi.prototype.constructor=wi,wi.prototype.isSplineCurve=!0,wi.prototype.getPoint=function(e,t){t=t||new n;var i=this.points,r=(i.length-1)*e;e=Math.floor(r);var r=r-e,a=i[0===e?e:e-1],o=i[e],s=i[e>i.length-2?i.length-1:e+1],i=i[e>i.length-3?i.length-1:e+2];return t.set(mi(r,a.x,o.x,s.x,i.x),mi(r,a.y,o.y,s.y,i.y)),t},wi.prototype.copy=function(e){vi.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this},_i.prototype=Object.create(vi.prototype),_i.prototype.constructor=_i,_i.prototype.isCubicBezierCurve=!0,_i.prototype.getPoint=function(e,t){t=t||new n;var i=this.v0,r=this.v1,a=this.v2,o=this.v3;return t.set(gi(e,i.x,r.x,a.x,o.x),gi(e,i.y,r.y,a.y,o.y)),t},_i.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},xi.prototype=Object.create(vi.prototype),xi.prototype.constructor=xi,xi.prototype.isQuadraticBezierCurve=!0,xi.prototype.getPoint=function(e,t){t=t||new n;var i=this.v0,r=this.v1,a=this.v2;return t.set(pi(e,i.x,r.x,a.x),pi(e,i.y,r.y,a.y)),t},xi.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};var ra=Object.assign(Object.create(yi.prototype),{setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var i=new bi(this.currentPoint.clone(),new n(e,t));this.curves.push(i),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,i,r){e=new xi(this.currentPoint.clone(),new n(e,t),new n(i,r)),this.curves.push(e),this.currentPoint.set(i,r)},bezierCurveTo:function(e,t,i,r,a,o){e=new _i(this.currentPoint.clone(),new n(e,t),new n(i,r),new n(a,o)),this.curves.push(e),this.currentPoint.set(a,o)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),t=new wi(t);this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,a){this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,a)},absarc:function(e,t,n,i,r,a){this.absellipse(e,t,n,n,i,r,a)},ellipse:function(e,t,n,i,r,a,o,s){this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,a,o,s)},absellipse:function(e,t,n,i,r,a,o,s){e=new Ei(e,t,n,i,r,a,o,s),0<this.curves.length&&(t=e.getPoint(0),t.equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e)},copy:function(e){return yi.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this}});Mi.prototype=ra,ra.constructor=Mi,ki.prototype=Object.assign(Object.create(ra),{constructor:ki,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Mi.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}}),Object.assign(Ti.prototype,{moveTo:function(e,t){this.currentPath=new Mi,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,a){this.currentPath.bezierCurveTo(e,t,n,i,r,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],a=new ki;a.curves=r.curves,t.push(a)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=t[r],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(0>c&&(o=t[a],l=-l,s=t[r],c=-c),!(e.y<o.y||e.y>s.y))if(e.y===o.y){if(e.x===o.x)return!0}else{if(r=c*(e.x-o.x)-l*(e.y-o.y),0===r)return!0;0>r||(i=!i)}}else if(e.y===o.y&&(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x))return!0}return i}var r=Gr.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);if(t=[],1===a.length){var o=a[0],s=new ki;return s.curves=o.curves,t.push(s),t}var l=!r(a[0].getPoints()),l=e?!l:l;s=[];var c=[],u=[],d=0;c[d]=void 0,u[d]=[];for(var f=0,h=a.length;f<h;f++){o=a[f];var m=o.getPoints(),p=r(m);(p=e?!p:p)?(!l&&c[d]&&d++,c[d]={s:new ki,p:m},c[d].s.curves=o.curves,l&&d++,u[d]=[]):u[d].push({h:o,p:m[0]})}if(!c[0])return n(a);if(1<c.length){for(f=!1,e=[],r=0,a=c.length;r<a;r++)s[r]=[];for(r=0,a=c.length;r<a;r++)for(o=u[r],p=0;p<o.length;p++){for(l=o[p],d=!0,m=0;m<c.length;m++)i(l.p,c[m].p)&&(r!==m&&e.push({froms:r,tos:m,hole:p}),d?(d=!1,s[m].push(l)):f=!0);d&&s[r].push(l)}0<e.length&&(f||(u=s))}for(f=0,r=c.length;f<r;f++)for(s=c[f].s,t.push(s),e=u[f],a=0,o=e.length;a<o;a++)s.holes.push(e[a].h);return t}}),Object.assign(Si.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);var i=this.data;e=String(e).split("");var r=t/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,o=0,s=0;t=[];for(var l=0;l<e.length;l++){var c=e[l];if("\n"===c)o=0,s-=a;else{var u,d=r,f=o,h=s;if(c=i.glyphs[c]||i.glyphs["?"]){var m=new Ti,p=[];if(c.o)for(var g=c._cachedOutline||(c._cachedOutline=c.o.split(" ")),v=0,b=g.length;v<b;)switch(g[v++]){case"m":var y=g[v++]*d+f,E=g[v++]*d+h;m.moveTo(y,E);break;case"l":y=g[v++]*d+f,E=g[v++]*d+h,m.lineTo(y,E);break;case"q":var w=g[v++]*d+f,_=g[v++]*d+h,x=g[v++]*d+f,M=g[v++]*d+h;if(m.quadraticCurveTo(x,M,w,_),u=p[p.length-1]){var k=u.x;u=u.y;for(var T=1;T<=n;T++){var S=T/n;pi(S,k,x,w),pi(S,u,M,_)}}break;case"b":if(w=g[v++]*d+f,_=g[v++]*d+h,x=g[v++]*d+f,M=g[v++]*d+h,y=g[v++]*d+f,E=g[v++]*d+h,m.bezierCurveTo(x,M,y,E,w,_),u=p[p.length-1])for(k=u.x,u=u.y,T=1;T<=n;T++)S=T/n,gi(S,k,x,y,w),gi(S,u,M,E,_)}d={offsetX:c.ha*d,path:m}}else d=void 0;o+=d.offsetX,t.push(d.path)}}for(n=[],i=0,e=t.length;i<e;i++)Array.prototype.push.apply(n,t[i].toShapes());return n}}),Object.assign(Ai.prototype,{load:function(e,t,n,i){var r=this,a=new Nn(this.manager);a.setPath(this.path),a.load(e,function(e){try{var n=JSON.parse(e)}catch(i){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}e=r.parse(n),t&&t(e)},n,i)},parse:function(e){return new Si(e)},setPath:function(e){return this.path=e,this}});var aa,oa={getContext:function(){return void 0===aa&&(aa=new(window.AudioContext||window.webkitAudioContext)),aa},setContext:function(e){aa=e}};Object.assign(Ci.prototype,{load:function(e,t,n,i){var r=new Nn(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){oa.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign($i.prototype,{update:function(){var e,t,n,r,a,o,s,l,c=new i,u=new i;return function(i){if(e!==this||t!==i.focus||n!==i.fov||r!==i.aspect*this.aspect||a!==i.near||o!==i.far||s!==i.zoom||l!==this.eyeSep){e=this,t=i.focus,n=i.fov,r=i.aspect*this.aspect,a=i.near,o=i.far,s=i.zoom;var d=i.projectionMatrix.clone();l=this.eyeSep/2;var f=l*a/t,h=a*Math.tan(Sr.DEG2RAD*n*.5)/s;u.elements[12]=-l,c.elements[12]=l;var m=-h*r+f,p=h*r+f;d.elements[0]=2*a/(p-m),d.elements[8]=(p+m)/(p-m),this.cameraL.projectionMatrix.copy(d),m=-h*r-f,p=h*r-f,d.elements[0]=2*a/(p-m),d.elements[8]=(p+m)/(p-m),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(i.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(i.matrixWorld).multiply(c)}}()}),Ri.prototype=Object.create(oe.prototype),Ri.prototype.constructor=Ri,Pi.prototype=Object.assign(Object.create(oe.prototype),{constructor:Pi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new a,t=new r,n=new a,i=new a;return function(r){oe.prototype.updateMatrixWorld.call(this,r),r=this.context.listener;var a=this.up;this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),r.positionX?(r.positionX.setValueAtTime(e.x,this.context.currentTime),r.positionY.setValueAtTime(e.y,this.context.currentTime),r.positionZ.setValueAtTime(e.z,this.context.currentTime),r.forwardX.setValueAtTime(i.x,this.context.currentTime),r.forwardY.setValueAtTime(i.y,this.context.currentTime),r.forwardZ.setValueAtTime(i.z,this.context.currentTime),r.upX.setValueAtTime(a.x,this.context.currentTime),r.upY.setValueAtTime(a.y,this.context.currentTime),r.upZ.setValueAtTime(a.z,this.context.currentTime)):(r.setPosition(e.x,e.y,e.z),r.setOrientation(i.x,i.y,i.z,a.x,a.y,a.z))}}()}),Ni.prototype=Object.assign(Object.create(oe.prototype),{constructor:Ni,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){return!1!==this.hasPlaybackControl?(!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this):void console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){return!1!==this.hasPlaybackControl?(this.source.stop(),this.offset=0,this.isPlaying=!1,this):void console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1!==this.hasPlaybackControl?(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this):void console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1!==this.hasPlaybackControl?(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this):void console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Oi.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Oi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new a;return function(t){oe.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Di.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Ii.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize;e=e*i+i;var r=this.cumulativeWeight;if(0===r){for(r=0;r!==i;++r)n[e+r]=n[r];r=t}else r+=t,this._mixBufferRegion(n,e,0,t/r,i);this.cumulativeWeight=r},apply:function(e){var t=this.valueSize,n=this.buffer;e=e*t+t;var i=this.cumulativeWeight,r=this.binding;this.cumulativeWeight=0,1>i&&this._mixBufferRegion(n,e,3*t,1-i,t);for(var i=t,a=t+t;i!==a;++i)if(n[i]!==n[i+t]){r.setValue(n,e);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,n=3*t;this.binding.getValue(e,n);for(var i=t;i!==n;++i)e[i]=e[n+i%t];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(e,t,n,i,r){if(.5<=i)for(i=0;i!==r;++i)e[t+i]=e[n+i]},_slerp:function(e,t,n,i){r.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}}}),Object.assign(Li.prototype,{getValue:function(e,t){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Fi,{Composite:Li,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Fi.Composite(e,t,n):new Fi(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),t=["material","materials","bones"];return function(n){var i=e.exec(n);if(!i)throw Error("PropertyBinding: Cannot parse trackName: "+n);var i={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=i.nodeName.substring(r+1);-1!==t.indexOf(a)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(null===i.propertyName||0===i.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+n);return i}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var i=e.bones[n];if(i.name===t)return i}return null}(e.skeleton);if(n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t||(r=i(r.children)))return r}return null};if(e=i(e.children))return e}return null}}),Object.assign(Fi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(this.node=e=Fi.findNode(this.rootNode,t.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(e=e.skeleton.bones,n=0;n<e.length;n++)if(e[n].name===a){a=n;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}if(a=e[i],void 0===a)console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e);else{if(t=this.Versioning.None,void 0!==e.needsUpdate?(t=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e),n=this.BindingType.Direct,void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(n=0;n<this.node.geometry.morphAttributes.position.length;n++)if(e.geometry.morphAttributes.position[n].name===r){r=n;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(n=0;n<this.node.geometry.morphTargets.length;n++)if(e.geometry.morphTargets[n].name===r){r=n;break}}}n=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(n=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[n],this.setValue=this.SetterByBindingTypeAndVersioning[n][t]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Fi.prototype,{_getValue_unbound:Fi.prototype.getValue,_setValue_unbound:Fi.prototype.setValue}),Object.assign(Hi.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],d=u.uuid,f=i[d];if(void 0===f){f=t++,i[d]=f,e.push(u);for(var d=0,h=s;d!==h;++d)o[d].push(new Fi(u,r[d],a[d]))}else if(f<n){var m=--n,h=e[m];for(i[h.uuid]=f,e[f]=h,i[d]=m,e[m]=u,d=0,h=s;d!==h;++d){var p=o[d],g=p[f];p[f]=p[m],void 0===g&&(g=new Fi(u,r[d],a[d])),p[m]=g}}else void 0!==e[f]&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,d=e[u];for(n[d.uuid]=c,e[c]=d,n[l]=u,e[u]=s,s=0,l=r;s!==l;++s){var d=i[s],f=d[c];d[c]=d[u],d[u]=f}}}this.nCachedObjects_=t},uncache:function(){for(var e,t,n=this._objects,i=n.length,r=this.nCachedObjects_,a=this._indicesByUUID,o=this._bindings,s=o.length,l=0,c=arguments.length;l!==c;++l){t=arguments[l].uuid;var u=a[t];if(void 0!==u)if(delete a[t],u<r){var d=--r,f=n[d];t=--i,e=n[t],a[f.uuid]=u,n[u]=f,a[e.uuid]=d,n[d]=e,n.pop();for(var f=0,h=s;f!==h;++f){e=o[f];var m=e[t];e[u]=e[d],e[d]=m,e.pop()}}else for(t=--i,e=n[t],a[e.uuid]=u,n[u]=e,n.pop(),f=0,h=s;f!==h;++f)e=o[f],e[u]=e[t],e.pop()}this.nCachedObjects_=r},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,c=Array(s.length),i=r.length;for(n[e]=i,a.push(e),o.push(t),r.push(c),n=l,i=s.length;n!==i;++n)c[n]=new Fi(s[n],e,t);return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Ui.prototype,{play:function(){return this._mixer._activateAction(this),
this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){n=this._clip.duration;var i=e._clip.duration,r=n/i;e.warp(1,i/n,t),this.warp(r,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;return null===a&&(this._timeScaleInterpolant=a=i._lendControlInterpolant()),i=a.parameterPositions,a=a.sampleValues,i[0]=r,i[1]=r+n,a[0]=e/o,a[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){if(t=(e-r)*n,0>t||0===n)return;this._startTime=null,t*=n}if(t*=this._updateTimeScale(e),n=this._updateTime(t),e=this._updateWeight(e),0<e){t=this._interpolants;for(var r=this._propertyBindings,a=0,o=t.length;a!==o;++a)t[a].evaluate(n),r[a].accumulate(i,e)}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){var t=this.weight,n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0],t=t*i;e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){var t=this.timeScale,n=this._timeScaleInterpolant;if(null!==n){var i=n.evaluate(e)[0],t=t*i;e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(2200===i)e:{if(-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1)),t>=n)t=n;else{if(!(0>t))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(i=2202===i,-1===r&&(0<=e?(r=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),t>=n||0>t){var a=Math.floor(t/n),t=t-n*a,r=r+Math.abs(a),o=this.repetitions-r;0>o?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(0===o?(e=0>e,this._setEndings(e,!e,i)):this._setEndings(!1,!1,i),this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a}))}if(i&&1===(1&r))return this.time=t,n-t}return this.time=t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;return null===a&&(this._weightInterpolant=a=i._lendControlInterpolant()),i=a.parameterPositions,a=a.sampleValues,i[0]=r,a[0]=t,i[1]=r+e,a[1]=n,this}}),Object.assign(Bi.prototype,t.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings;e=e._interpolants;var o=n.uuid,s=this._bindingsByRootAndName,l=s[o];for(void 0===l&&(l={},s[o]=l),s=0;s!==r;++s){var c=i[s],u=c.name,d=l[u];if(void 0===d){if(d=a[s],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,o,u));continue}d=new Ii(Fi.create(n,u,t&&t._propertyBindings[s].binding.parsedPath),c.ValueTypeName,c.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,o,u)}a[s]=d,e[s].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0===r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return e=e._cacheIndex,null!==e&&e<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];void 0===a?(a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a):(t=a.knownActions,e._byClipCacheIndex=t.length,t.push(e)),e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var t=e._clip.uuid,n=this._actionsByClip,i=n[t],r=i.knownActions,a=r[r.length-1],o=e._byClipCacheIndex;a._byClipCacheIndex=o,r[o]=a,r.pop(),e._byClipCacheIndex=null,delete i.actionByRoot[(e._localRoot||this._root).uuid],0===r.length&&delete n[t],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){e=e._propertyBindings;for(var t=0,n=e.length;t!==n;++t){var i=e[t];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],a=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,n=n.path,r=this._bindingsByRootAndName,a=r[i],o=t[t.length-1];e=e._cacheIndex,o._cacheIndex=e,t[e]=o,t.pop(),delete a[n];e:{for(var s in a)break e;delete r[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new Zn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,n="string"==typeof e?li.findByName(n,e):e;e=null!==n?n.uuid:e;var r=this._actionsByClip[e],a=null;if(void 0!==r){if(a=r.actionByRoot[i],void 0!==a)return a;a=r.knownActions[0],null===n&&(n=a._clip)}return null===n?null:(t=new Ui(this,n,t),this._bindAction(t,a),this._addInactiveAction(t,e,i),t)},existingAction:function(e,t){var n=t||this._root;return t=n.uuid,n="string"==typeof e?li.findByName(n,e):e,e=this._actionsByClip[n?n.uuid:e],void 0!==e?e.actionByRoot[t]||null:null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings,r=this._nActiveBindings=this._nActiveActions=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(i,e,r,a);for(e=this._bindings,t=this._nActiveBindings,o=0;o!==t;++o)e[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions;e=e.uuid;var n=this._actionsByClip,i=n[e];if(void 0!==i){for(var i=i.knownActions,r=0,a=i.length;r!==a;++r){var o=i[r];this._deactivateAction(o);var s=o._cacheIndex,l=t[t.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,l._cacheIndex=s,t[s]=l,t.pop(),this._removeInactiveBindingsForAction(o)}delete n[e]}},uncacheRoot:function(e){e=e.uuid;var t=this._actionsByClip;for(i in t){var n=t[i].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var i=this._bindingsByRootAndName[e];if(void 0!==i)for(var r in i)e=i[r],e.restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,t){e=this.existingAction(e,t),null!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}}),ji.prototype.clone=function(){return new ji(void 0===this.value.clone?this.value:this.value.clone())},Vi.prototype=Object.assign(Object.create(xe.prototype),{constructor:Vi,isInstancedBufferGeometry:!0,copy:function(e){return xe.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(zi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(zi.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty(Wi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Wi.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Gi.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Gi,isInstancedInterleavedBuffer:!0,copy:function(e){return Wi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),qi.prototype=Object.assign(Object.create(de.prototype),{constructor:qi,isInstancedBufferAttribute:!0,copy:function(e){return de.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Yi.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Ki(e,this,n,t),n.sort(Xi),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=e.length;i<r;i++)Ki(e[i],this,n,t);return n.sort(Xi),n}}),Object.assign(Zi.prototype,{start:function(){this.oldTime=this.startTime=("undefined"==typeof performance?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now(),e=(t-this.oldTime)/1e3;this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(Ji.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Sr.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(Qi.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),er.prototype=Object.create(oe.prototype),er.prototype.constructor=er,er.prototype.isImmediateRenderObject=!0,tr.prototype=Object.create($t.prototype),tr.prototype.constructor=tr,tr.prototype.update=function(){var e=new a,t=new a,n=new o;return function(){var i,r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var a=this.object.matrixWorld,o=this.geometry.attributes.position;if((i=this.object.geometry)&&i.isGeometry)for(var s=i.vertices,l=i.faces,c=i=0,u=l.length;c<u;c++)for(var d=l[c],f=0,h=d.vertexNormals.length;f<h;f++){var m=d.vertexNormals[f];e.copy(s[d[r[f]]]).applyMatrix4(a),t.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(i,e.x,e.y,e.z),i+=1,o.setXYZ(i,t.x,t.y,t.z),i+=1}else if(i&&i.isBufferGeometry)for(r=i.attributes.position,s=i.attributes.normal,f=i=0,h=r.count;f<h;f++)e.set(r.getX(f),r.getY(f),r.getZ(f)).applyMatrix4(a),t.set(s.getX(f),s.getY(f),s.getZ(f)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(i,e.x,e.y,e.z),i+=1,o.setXYZ(i,t.x,t.y,t.z),i+=1;o.needsUpdate=!0}}(),nr.prototype=Object.create(oe.prototype),nr.prototype.constructor=nr,nr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},nr.prototype.update=function(){var e=new a,t=new a;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),rr.prototype=Object.create($t.prototype),rr.prototype.constructor=rr,rr.prototype.updateMatrixWorld=function(){var e=new a,t=new i,n=new i;return function(i){var r=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<r.length;s++){var c=r[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}a.getAttribute("position").needsUpdate=!0,oe.prototype.updateMatrixWorld.call(this,i)}}(),ar.prototype=Object.create(Ne.prototype),ar.prototype.constructor=ar,ar.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ar.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},or.prototype=Object.create(oe.prototype),or.prototype.constructor=or,or.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},or.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},sr.prototype=Object.create(oe.prototype),sr.prototype.constructor=sr,sr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},sr.prototype.update=function(){var e=new a,t=new z,n=new z;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=r.count;a<o;a++){var s=a<o/2?t:n;r.setXYZ(a,s.r,s.g,s.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),lr.prototype=Object.create($t.prototype),lr.prototype.constructor=lr,cr.prototype=Object.create($t.prototype),cr.prototype.constructor=cr,ur.prototype=Object.create($t.prototype),ur.prototype.constructor=ur,ur.prototype.update=function(){var e=new a,t=new a,n=new o;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,a=a.faces,s=0,l=0,c=a.length;l<c;l++){var u=a[l],d=u.normal;e.copy(o[u.a]).add(o[u.b]).add(o[u.c]).divideScalar(3).applyMatrix4(i),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(s,e.x,e.y,e.z),s+=1,r.setXYZ(s,t.x,t.y,t.z),s+=1}r.needsUpdate=!0}}(),dr.prototype=Object.create(oe.prototype),dr.prototype.constructor=dr,dr.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},dr.prototype.update=function(){var e=new a,t=new a,n=new a;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),fr.prototype=Object.create($t.prototype),fr.prototype.constructor=fr,fr.prototype.update=function(){function e(e,a,o,s){if(i.set(a,o,s).unproject(r),e=n[e],void 0!==e)for(a=t.getAttribute("position"),o=0,s=e.length;o<s;o++)a.setXYZ(e[o],i.x,i.y,i.z)}var t,n,i=new a,r=new se;return function(){t=this.geometry,n=this.pointMap,r.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),hr.prototype=Object.create($t.prototype),hr.prototype.constructor=hr,hr.prototype.update=function(){var e=new J;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){t=e.min;var n=e.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),hr.prototype.setFromObject=function(e){return this.object=e,this.update(),this},mr.prototype=Object.create($t.prototype),mr.prototype.constructor=mr,mr.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),oe.prototype.updateMatrixWorld.call(this,e))},pr.prototype=Object.create(Ct.prototype),pr.prototype.constructor=pr,pr.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>Math.abs(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),oe.prototype.updateMatrixWorld.call(this,e)};var sa,la;gr.prototype=Object.create(oe.prototype),gr.prototype.constructor=gr,gr.prototype.setDirection=function(){var e,t=new a;return function(n){.99999<n.y?this.quaternion.set(0,0,0,1):-.99999>n.y?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),gr.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},gr.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},vr.prototype=Object.create($t.prototype),vr.prototype.constructor=vr;var ca=new a,ua=new br,da=new br,fa=new br;yr.prototype=Object.create(vi.prototype),yr.prototype.constructor=yr,yr.prototype.isCatmullRomCurve3=!0,yr.prototype.getPoint=function(e,t){t=t||new a;var n=this.points,i=n.length;e*=i-(this.closed?0:1);var r=Math.floor(e);if(e-=r,this.closed?r+=0<r?0:(Math.floor(Math.abs(r)/n.length)+1)*n.length:0===e&&r===i-1&&(r=i-2,e=1),this.closed||0<r)var o=n[(r-1)%i];else ca.subVectors(n[0],n[1]).add(n[0]),o=ca;var s=n[r%i],l=n[(r+1)%i];if(this.closed||r+2<i?n=n[(r+2)%i]:(ca.subVectors(n[i-1],n[i-2]).add(n[i-1]),n=ca),"centripetal"===this.curveType||"chordal"===this.curveType){var c="chordal"===this.curveType?.5:.25,i=Math.pow(o.distanceToSquared(s),c),r=Math.pow(s.distanceToSquared(l),c),c=Math.pow(l.distanceToSquared(n),c);1e-4>r&&(r=1),1e-4>i&&(i=r),1e-4>c&&(c=r),ua.initNonuniformCatmullRom(o.x,s.x,l.x,n.x,i,r,c),da.initNonuniformCatmullRom(o.y,s.y,l.y,n.y,i,r,c),fa.initNonuniformCatmullRom(o.z,s.z,l.z,n.z,i,r,c)}else"catmullrom"===this.curveType&&(ua.initCatmullRom(o.x,s.x,l.x,n.x,this.tension),da.initCatmullRom(o.y,s.y,l.y,n.y,this.tension),fa.initCatmullRom(o.z,s.z,l.z,n.z,this.tension));return t.set(ua.calc(e),da.calc(e),fa.calc(e)),t},yr.prototype.copy=function(e){vi.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Er.prototype=Object.create(vi.prototype),Er.prototype.constructor=Er,Er.prototype.isCubicBezierCurve3=!0,Er.prototype.getPoint=function(e,t){t=t||new a;var n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set(gi(e,n.x,i.x,r.x,o.x),gi(e,n.y,i.y,r.y,o.y),gi(e,n.z,i.z,r.z,o.z)),t},Er.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},wr.prototype=Object.create(vi.prototype),wr.prototype.constructor=wr,wr.prototype.isQuadraticBezierCurve3=!0,wr.prototype.getPoint=function(e,t){t=t||new a;var n=this.v0,i=this.v1,r=this.v2;return t.set(pi(e,n.x,i.x,r.x),pi(e,n.y,i.y,r.y),pi(e,n.z,i.z,r.z)),t},wr.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},_r.prototype=Object.create(vi.prototype),_r.prototype.constructor=_r,_r.prototype.isLineCurve3=!0,_r.prototype.getPoint=function(e,t){return t=t||new a,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},_r.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},_r.prototype.copy=function(e){return vi.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},xr.prototype=Object.create(Ei.prototype),xr.prototype.constructor=xr,xr.prototype.isArcCurve=!0,vi.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(vi.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(yi.prototype,{createPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new ue,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new a(r.x,r.y,r.z||0))}return t}}),Object.assign(Mi.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Mr.prototype=Object.create(yr.prototype),kr.prototype=Object.create(yr.prototype),Tr.prototype=Object.create(yr.prototype),Object.assign(Tr.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),lr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},rr.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(W.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(J.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Re.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Sr,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Sr.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Sr.ceilPowerOfTwo(e)}}),Object.assign(o.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(i.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new a),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),
e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)}}),ee.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},r.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign($e.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ki.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new rn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new mn(this,e)}}),Object.assign(n.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(a.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(l.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),ue.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(oe.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(oe.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Mt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(kt.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(vi.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),dt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Hn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(de.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(xe.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(xe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(ji.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(X.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new z}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(Sn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ce.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(vt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(vt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(ne.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(e){e=1!==e,console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(c.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ni.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Ci).load(e,function(e){t.setBuffer(e)}),this},Di.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Ri.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},e.WebGLRenderTargetCube=u,e.WebGLRenderTarget=c,e.WebGLRenderer=vt,e.ShaderLib=Ur,e.UniformsLib=Lr,e.UniformsUtils=Fr,e.ShaderChunk=Hr,e.FogExp2=bt,e.Fog=yt,e.Scene=Et,e.LensFlare=wt,e.Sprite=xt,e.LOD=Mt,e.SkinnedMesh=St,e.Skeleton=kt,e.Bone=Tt,e.Mesh=Ne,e.LineSegments=$t,e.LineLoop=Rt,e.Line=Ct,e.Points=Nt,e.Group=Ot,e.VideoTexture=Dt,e.DataTexture=d,e.CompressedTexture=It,e.CubeTexture=f,e.CanvasTexture=q,e.DepthTexture=Lt,e.Texture=s,e.CompressedTextureLoader=On,e.DataTextureLoader=Dn,e.CubeTextureLoader=Ln,e.TextureLoader=Fn,e.ObjectLoader=hi,e.MaterialLoader=ci,e.BufferGeometryLoader=ui,e.DefaultLoadingManager=Kr,e.LoadingManager=Pn,e.JSONLoader=fi,e.ImageLoader=In,e.FontLoader=Ai,e.FileLoader=Nn,e.Loader=di,e.Cache=Xr,e.AudioLoader=Ci,e.SpotLightShadow=jn,e.SpotLight=Vn,e.PointLight=zn,e.RectAreaLight=Yn,e.HemisphereLight=Un,e.DirectionalLightShadow=Wn,e.DirectionalLight=Gn,e.AmbientLight=qn,e.LightShadow=Bn,e.Light=Hn,e.StereoCamera=$i,e.PerspectiveCamera=dt,e.OrthographicCamera=le,e.CubeCamera=Ri,e.ArrayCamera=ft,e.Camera=se,e.AudioListener=Pi,e.PositionalAudio=Oi,e.AudioContext=oa,e.AudioAnalyser=Di,e.Audio=Ni,e.VectorKeyframeTrack=ei,e.StringKeyframeTrack=ri,e.QuaternionKeyframeTrack=ni,e.NumberKeyframeTrack=ii,e.ColorKeyframeTrack=oi,e.BooleanKeyframeTrack=ai,e.PropertyMixer=Ii,e.PropertyBinding=Fi,e.KeyframeTrack=si,e.AnimationUtils=Jr,e.AnimationObjectGroup=Hi,e.AnimationMixer=Bi,e.AnimationClip=li,e.Uniform=ji,e.InstancedBufferGeometry=Vi,e.BufferGeometry=xe,e.Geometry=ue,e.InterleavedBufferAttribute=zi,e.InstancedInterleavedBuffer=Gi,e.InterleavedBuffer=Wi,e.InstancedBufferAttribute=qi,e.Face3=ce,e.Object3D=oe,e.Raycaster=Yi,e.Layers=ae,e.EventDispatcher=t,e.Clock=Zi,e.QuaternionLinearInterpolant=ti,e.LinearInterpolant=Zn,e.DiscreteInterpolant=Jn,e.CubicInterpolant=Kn,e.Interpolant=Xn,e.Triangle=Pe,e.Math=Sr,e.Spherical=Ji,e.Cylindrical=Qi,e.Plane=ee,e.Frustum=te,e.Sphere=Q,e.Ray=$e,e.Matrix4=i,e.Matrix3=o,e.Box3=J,e.Box2=W,e.Line3=Re,e.Euler=re,e.Vector4=l,e.Vector3=a,e.Vector2=n,e.Quaternion=r,e.Color=z,e.ImmediateRenderObject=er,e.VertexNormalsHelper=tr,e.SpotLightHelper=nr,e.SkeletonHelper=rr,e.PointLightHelper=ar,e.RectAreaLightHelper=or,e.HemisphereLightHelper=sr,e.GridHelper=lr,e.PolarGridHelper=cr,e.FaceNormalsHelper=ur,e.DirectionalLightHelper=dr,e.CameraHelper=fr,e.BoxHelper=hr,e.Box3Helper=mr,e.PlaneHelper=pr,e.ArrowHelper=gr,e.AxesHelper=vr,e.CatmullRomCurve3=yr,e.CubicBezierCurve3=Er,e.QuadraticBezierCurve3=wr,e.LineCurve3=_r,e.ArcCurve=xr,e.EllipseCurve=Ei,e.SplineCurve=wi,e.CubicBezierCurve=_i,e.QuadraticBezierCurve=xi,e.LineCurve=bi,e.Shape=ki,e.Path=Mi,e.ShapePath=Ti,e.Font=Si,e.CurvePath=yi,e.Curve=vi,e.ShapeUtils=Gr,e.SceneUtils={createMultiMaterialObject:function(e,t){for(var n=new Ot,i=0,r=t.length;i<r;i++)n.add(new Ne(e,t[i]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix((new i).getInverse(n.matrixWorld)),t.remove(e),n.add(e)}},e.WebGLUtils=gt,e.WireframeGeometry=Ft,e.ParametricGeometry=Ht,e.ParametricBufferGeometry=Ut,e.TetrahedronGeometry=Vt,e.TetrahedronBufferGeometry=zt,e.OctahedronGeometry=Wt,e.OctahedronBufferGeometry=Gt,e.IcosahedronGeometry=qt,e.IcosahedronBufferGeometry=Yt,e.DodecahedronGeometry=Xt,e.DodecahedronBufferGeometry=Kt,e.PolyhedronGeometry=Bt,e.PolyhedronBufferGeometry=jt,e.TubeGeometry=Zt,e.TubeBufferGeometry=Jt,e.TorusKnotGeometry=Qt,e.TorusKnotBufferGeometry=en,e.TorusGeometry=tn,e.TorusBufferGeometry=nn,e.TextGeometry=on,e.TextBufferGeometry=sn,e.SphereGeometry=ln,e.SphereBufferGeometry=cn,e.RingGeometry=un,e.RingBufferGeometry=dn,e.PlaneGeometry=Te,e.PlaneBufferGeometry=Se,e.LatheGeometry=fn,e.LatheBufferGeometry=hn,e.ShapeGeometry=mn,e.ShapeBufferGeometry=pn,e.ExtrudeGeometry=rn,e.ExtrudeBufferGeometry=an,e.EdgesGeometry=gn,e.ConeGeometry=yn,e.ConeBufferGeometry=En,e.CylinderGeometry=vn,e.CylinderBufferGeometry=bn,e.CircleGeometry=wn,e.CircleBufferGeometry=_n,e.BoxGeometry=Me,e.BoxBufferGeometry=ke,e.ShadowMaterial=xn,e.SpriteMaterial=_t,e.RawShaderMaterial=Mn,e.ShaderMaterial=Ce,e.PointsMaterial=Pt,e.MeshPhysicalMaterial=Tn,e.MeshStandardMaterial=kn,e.MeshPhongMaterial=Sn,e.MeshToonMaterial=An,e.MeshNormalMaterial=Cn,e.MeshLambertMaterial=$n,e.MeshDepthMaterial=K,e.MeshDistanceMaterial=Z,e.MeshBasicMaterial=Ae,e.LineDashedMaterial=Rn,e.LineBasicMaterial=At,e.Material=X,e.Float64BufferAttribute=Ee,e.Float32BufferAttribute=ye,e.Uint32BufferAttribute=be,e.Int32BufferAttribute=ve,e.Uint16BufferAttribute=ge,e.Int16BufferAttribute=pe,e.Uint8ClampedBufferAttribute=me,e.Uint8BufferAttribute=he,e.Int8BufferAttribute=fe,e.BufferAttribute=de,e.REVISION="88",e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.CullFaceNone=0,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.FrontFaceDirectionCW=0,e.FrontFaceDirectionCCW=1,e.BasicShadowMap=0,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.FrontSide=0,e.BackSide=1,e.DoubleSide=2,e.FlatShading=1,e.SmoothShading=2,e.NoColors=0,e.FaceColors=1,e.VertexColors=2,e.NoBlending=0,e.NormalBlending=1,e.AdditiveBlending=2,e.SubtractiveBlending=3,e.MultiplyBlending=4,e.CustomBlending=5,e.AddEquation=100,e.SubtractEquation=101,e.ReverseSubtractEquation=102,e.MinEquation=103,e.MaxEquation=104,e.ZeroFactor=200,e.OneFactor=201,e.SrcColorFactor=202,e.OneMinusSrcColorFactor=203,e.SrcAlphaFactor=204,e.OneMinusSrcAlphaFactor=205,e.DstAlphaFactor=206,e.OneMinusDstAlphaFactor=207,e.DstColorFactor=208,e.OneMinusDstColorFactor=209,e.SrcAlphaSaturateFactor=210,e.NeverDepth=0,e.AlwaysDepth=1,e.LessDepth=2,e.LessEqualDepth=3,e.EqualDepth=4,e.GreaterEqualDepth=5,e.GreaterDepth=6,e.NotEqualDepth=7,e.MultiplyOperation=0,e.MixOperation=1,e.AddOperation=2,e.NoToneMapping=0,e.LinearToneMapping=1,e.ReinhardToneMapping=2,e.Uncharted2ToneMapping=3,e.CineonToneMapping=4,e.UVMapping=300,e.CubeReflectionMapping=301,e.CubeRefractionMapping=302,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=304,e.SphericalReflectionMapping=305,e.CubeUVReflectionMapping=306,e.CubeUVRefractionMapping=307,e.RepeatWrapping=1e3,e.ClampToEdgeWrapping=1001,e.MirroredRepeatWrapping=1002,e.NearestFilter=1003,e.NearestMipMapNearestFilter=1004,e.NearestMipMapLinearFilter=1005,e.LinearFilter=1006,e.LinearMipMapNearestFilter=1007,e.LinearMipMapLinearFilter=1008,e.UnsignedByteType=1009,e.ByteType=1010,e.ShortType=1011,e.UnsignedShortType=1012,e.IntType=1013,e.UnsignedIntType=1014,e.FloatType=1015,e.HalfFloatType=1016,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedInt248Type=1020,e.AlphaFormat=1021,e.RGBFormat=1022,e.RGBAFormat=1023,e.LuminanceFormat=1024,e.LuminanceAlphaFormat=1025,e.RGBEFormat=1023,e.DepthFormat=1026,e.DepthStencilFormat=1027,e.RGB_S3TC_DXT1_Format=2001,e.RGBA_S3TC_DXT1_Format=2002,e.RGBA_S3TC_DXT3_Format=2003,e.RGBA_S3TC_DXT5_Format=2004,e.RGB_PVRTC_4BPPV1_Format=2100,e.RGB_PVRTC_2BPPV1_Format=2101,e.RGBA_PVRTC_4BPPV1_Format=2102,e.RGBA_PVRTC_2BPPV1_Format=2103,e.RGB_ETC1_Format=2151,e.LoopOnce=2200,e.LoopRepeat=2201,e.LoopPingPong=2202,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.ZeroCurvatureEnding=2400,e.ZeroSlopeEnding=2401,e.WrapAroundEnding=2402,e.TrianglesDrawMode=0,e.TriangleStripDrawMode=1,e.TriangleFanDrawMode=2,e.LinearEncoding=3e3,e.sRGBEncoding=3001,e.GammaEncoding=3007,e.RGBEEncoding=3002,e.LogLuvEncoding=3003,e.RGBM7Encoding=3004,e.RGBM16Encoding=3005,e.RGBDEncoding=3006,e.BasicDepthPacking=3200,e.RGBADepthPacking=3201,e.CubeGeometry=Me,e.Face4=function(e,t,n,i,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ce(e,t,n,r,a,o)},e.LineStrip=0,e.LinePieces=1,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Nt(e,t)},e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new xt(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Nt(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Pt(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Pt(e)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Pt(e)},e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new a(e,t,n)},e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new de(e,t).setDynamic(!0)},e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new fe(e,t)},e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new he(e,t)},e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new me(e,t)},e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new pe(e,t)},e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ge(e,t)},e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ve(e,t)},e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new be(e,t)},e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ye(e,t)},e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ee(e,t)},e.ClosedSplineCurve3=Mr,e.SplineCurve3=kr,e.Spline=Tr,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new vr(e)},e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new hr(e,t)},e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new $t(new gn(e.geometry),new At({color:void 0!==t?t:16777215}))},e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new $t(new Ft(e.geometry),new At({color:void 0!==t?t:16777215}))},e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Nn(e)},e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Dn(e)},e.GeometryUtils={merge:function(e,t,n){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh){t.matrixAutoUpdate&&t.updateMatrix();var i=t.matrix;t=t.geometry}e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},e.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Fn;return r.setCrossOrigin(this.crossOrigin),e=r.load(e,n,void 0,i),t&&(e.mapping=t),e},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Ln;return r.setCrossOrigin(this.crossOrigin),e=r.load(e,n,void 0,i),t&&(e.mapping=t),e},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},e.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Object.defineProperty(e,"__esModule",{value:!0})}),THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"Anonymous",load:function(e,t,n,i){var r=this,a=THREE.Loader.prototype.extractUrlBase(e),o=new THREE.FileLoader(r.manager);o.load(e,function(e){t(r.parse(e,a))},n,i)},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){function n(e,t){for(var n=[],i=e.childNodes,r=0,a=i.length;r<a;r++){var o=i[r];o.nodeName===t&&n.push(o)}return n}function i(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=t[i];return n}function r(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=parseFloat(t[i]);
return n}function a(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=parseInt(t[i]);return n}function o(e){return e.substring(1)}function s(){return"three_default_"+ut++}function l(e){return 0===Object.keys(e).length}function c(e){return{unit:u(n(e,"unit")[0]),upAxis:d(n(e,"up_axis")[0])}}function u(e){return void 0!==e?parseFloat(e.getAttribute("meter")):1}function d(e){return void 0!==e?e.textContent:"Y_UP"}function f(e,t,i,r){var a=n(e,t)[0];if(void 0!==a)for(var o=n(a,i),s=0;s<o.length;s++)r(o[s])}function h(e,t){for(var n in e){var i=e[n];i.build=t(e[n])}}function m(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function p(e){for(var t={sources:{},samplers:{},channels:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType){var a;switch(r.nodeName){case"source":a=r.getAttribute("id"),t.sources[a]=pe(r);break;case"sampler":a=r.getAttribute("id"),t.samplers[a]=g(r);break;case"channel":a=r.getAttribute("target"),t.channels[a]=v(r);break;default:console.log(r)}}}dt.animations[e.getAttribute("id")]=t}function g(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=o(r.getAttribute("source")),s=r.getAttribute("semantic");t.inputs[s]=a}}return t}function v(e){var t={},n=e.getAttribute("target"),i=n.split("/"),r=i.shift(),a=i.shift(),s=a.indexOf("(")!==-1,l=a.indexOf(".")!==-1;if(l)i=a.split("."),a=i.shift(),t.member=i.shift();else if(s){var c=a.split("(");a=c.shift();for(var u=0;u<c.length;u++)c[u]=parseInt(c[u].replace(/\)/,""));t.indices=c}return t.id=r,t.sid=a,t.arraySyntax=s,t.memberSyntax=l,t.sampler=o(e.getAttribute("source")),t}function b(e){var t=[],n=e.channels,i=e.samplers,r=e.sources;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a],s=i[o.sampler],l=s.inputs.INPUT,c=s.inputs.OUTPUT,u=r[l],d=r[c],f=E(o,u,d);_(f,t)}return t}function y(e){return m(dt.animations[e],b)}function E(e,t,n){var i,r,a,o,s,l,c=dt.nodes[e.id],u=Ge(c.id),d=c.transforms[e.sid],f=c.matrix.clone().transpose(),h={};switch(d){case"matrix":for(a=0,o=t.array.length;a<o;a++)if(i=t.array[a],r=a*n.stride,void 0===h[i]&&(h[i]={}),e.arraySyntax===!0){var m=n.array[r],p=e.indices[0]+4*e.indices[1];h[i][p]=m}else for(s=0,l=n.stride;s<l;s++)h[i][s]=n.array[r+s];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',d);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',d);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',d)}var g=w(h,f),v={name:u.uuid,keyframes:g};return v}function w(e,t){function n(e,t){return e.time-t.time}var i=[];for(var r in e)i.push({time:parseFloat(r),value:e[r]});i.sort(n);for(var a=0;a<16;a++)x(i,a,t.elements[a]);return i}function _(e,t){for(var n=e.keyframes,i=e.name,r=[],a=[],o=[],s=[],l=0,c=n.length;l<c;l++){var u=n[l],d=u.time,f=u.value;tt.fromArray(f).transpose(),tt.decompose(Je,et,Qe),r.push(d),a.push(Je.x,Je.y,Je.z),o.push(et.x,et.y,et.z,et.w),s.push(Qe.x,Qe.y,Qe.z)}return a.length>0&&t.push(new THREE.VectorKeyframeTrack(i+".position",r,a)),o.length>0&&t.push(new THREE.QuaternionKeyframeTrack(i+".quaternion",r,o)),s.length>0&&t.push(new THREE.VectorKeyframeTrack(i+".scale",r,s)),t}function x(e,t,n){var i,r,a,o=!0;for(r=0,a=e.length;r<a;r++)i=e[r],void 0===i.value[t]?i.value[t]=null:o=!1;if(o===!0)for(r=0,a=e.length;r<a;r++)i=e[r],i.value[t]=n;else M(e,t)}function M(e,t){for(var n,i,r=0,a=e.length;r<a;r++){var o=e[r];if(null===o.value[t]){if(n=k(e,r,t),i=T(e,r,t),null===n){o.value[t]=i.value[t];continue}if(null===i){o.value[t]=n.value[t];continue}S(o,n,i,t)}}}function k(e,t,n){for(;t>=0;){var i=e[t];if(null!==i.value[n])return i;t--}return null}function T(e,t,n){for(;t<e.length;){var i=e[t];if(null!==i.value[n])return i;t++}return null}function S(e,t,n,i){return n.time-t.time===0?void(e.value[i]=t.value[i]):void(e.value[i]=(e.time-t.time)*(n.value[i]-t.value[i])/(n.time-t.time)+t.value[i])}function A(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"instance_animation":t.animations.push(o(r.getAttribute("url")))}}dt.clips[e.getAttribute("id")]=t}function C(e){for(var t=[],n=e.name,i=e.end-e.start||-1,r=e.animations,a=0,o=r.length;a<o;a++)for(var s=y(r[a]),l=0,c=s.length;l<c;l++)t.push(s[l]);return new THREE.AnimationClip(n,i,t)}function $(e){return m(dt.clips[e],C)}function R(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=o(r.getAttribute("source")),t.skin=P(r);break;case"morph":t.id=o(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}dt.controllers[e.getAttribute("id")]=t}function P(e){for(var t={sources:{}},n=0,i=e.childNodes.length;n<i;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=r(a.textContent);break;case"source":var o=a.getAttribute("id");t.sources[o]=pe(a);break;case"joints":t.joints=N(a);break;case"vertex_weights":t.vertexWeights=O(a)}}return t}function N(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=r.getAttribute("semantic"),s=o(r.getAttribute("source"));t.inputs[a]=s}}return t}function O(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var s=r.getAttribute("semantic"),l=o(r.getAttribute("source")),c=parseInt(r.getAttribute("offset"));t.inputs[s]={id:l,offset:c};break;case"vcount":t.vcount=a(r.textContent);break;case"v":t.v=a(r.textContent)}}return t}function D(e){var t={id:e.id},n=dt.geometries[t.id];return void 0!==e.skin&&(t.skin=I(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function I(e){function t(e,t){return t.weight-e.weight}var n,i,r,a=4,o={joints:[],indices:{array:[],stride:a},weights:{array:[],stride:a}},s=e.sources,l=e.vertexWeights,c=l.vcount,u=l.v,d=l.inputs.JOINT.offset,f=l.inputs.WEIGHT.offset,h=e.sources[e.joints.inputs.JOINT],m=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=s[l.inputs.WEIGHT.id].array,g=0;for(n=0,r=c.length;n<r;n++){var v=c[n],b=[];for(i=0;i<v;i++){var y=u[g+d],E=u[g+f],w=p[E];b.push({index:y,weight:w}),g+=2}for(b.sort(t),i=0;i<a;i++){var _=b[i];void 0!==_?(o.indices.array.push(_.index),o.weights.array.push(_.weight)):(o.indices.array.push(0),o.weights.array.push(0))}}for(o.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose(),n=0,r=h.array.length;n<r;n++){var x=h.array[n],M=(new THREE.Matrix4).fromArray(m.array,n*m.stride).transpose();o.joints.push({name:x,boneInverse:M})}return o}function L(e){return m(dt.controllers[e],D)}function F(e){var t={init_from:n(e,"init_from")[0].textContent};dt.images[e.getAttribute("id")]=t}function H(e){return void 0!==e.build?e.build:e.init_from}function U(e){return m(dt.images[e],H)}function B(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"profile_COMMON":t.profile=j(r)}}dt.effects[e.getAttribute("id")]=t}function j(e){for(var t={surfaces:{},samplers:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"newparam":V(r,t);break;case"technique":t.technique=G(r)}}return t}function V(e,t){for(var n=e.getAttribute("sid"),i=0,r=e.childNodes.length;i<r;i++){var a=e.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case"surface":t.surfaces[n]=z(a);break;case"sampler2D":t.samplers[n]=W(a)}}}function z(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"init_from":t.init_from=r.textContent}}return t}function W(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"source":t.source=r.textContent}}return t}function G(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=q(r)}}return t}function q(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparent":case"transparency":t[r.nodeName]=Y(r)}}return t}function Y(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"color":t[a.nodeName]=r(a.textContent);break;case"float":t[a.nodeName]=parseFloat(a.textContent);break;case"texture":t[a.nodeName]={id:a.getAttribute("texture"),extra:X(a)}}}return t}function X(e){for(var t={technique:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"extra":K(r,t)}}return t}function K(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique":Z(r,t)}}}function Z(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent)}}}function J(e){return e}function Q(e){return m(dt.effects[e],J)}function ee(e){for(var t={name:e.getAttribute("name")},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"instance_effect":t.url=o(r.getAttribute("url"))}}dt.materials[e.getAttribute("id")]=t}function te(e){function t(e){var t=i.profile.samplers[e.id];if(void 0!==t){var n=i.profile.surfaces[t.source],r=st.load(U(n.init_from)),a=e.extra;if(void 0!==a&&void 0!==a.technique&&l(a.technique)===!1){var o=a.technique;r.wrapS=o.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,r.wrapT=o.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,r.offset.set(o.offsetU||0,o.offsetV||0),r.repeat.set(o.repeatU||1,o.repeatV||1)}else r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping;return r}return console.error("THREE.ColladaLoader: Undefined sampler",e.id),null}var n,i=Q(e.url),r=i.profile.technique;switch(r.type){case"phong":case"blinn":n=new THREE.MeshPhongMaterial;break;case"lambert":n=new THREE.MeshLambertMaterial;break;default:n=new THREE.MeshBasicMaterial}n.name=e.name;var a=r.parameters;for(var o in a){var s=a[o];switch(o){case"diffuse":s.color&&n.color.fromArray(s.color),s.texture&&(n.map=t(s.texture));break;case"specular":s.color&&n.specular&&n.specular.fromArray(s.color),s.texture&&(n.specularMap=t(s.texture));break;case"shininess":s["float"]&&n.shininess&&(n.shininess=s["float"]);break;case"emission":s.color&&n.emissive&&n.emissive.fromArray(s.color);break;case"transparent":n.transparent=!0;break;case"transparency":void 0!==s["float"]&&(n.opacity=s["float"]),n.transparent=!0}}return n}function ne(e){return m(dt.materials[e],te)}function ie(e){for(var t={name:e.getAttribute("name")},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"optics":t.optics=re(r)}}dt.cameras[e.getAttribute("id")]=t}function re(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"technique_common":return ae(n)}}return{}}function ae(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"perspective":case"orthographic":t.technique=i.nodeName,t.parameters=oe(i)}}return t}function oe(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[i.nodeName]=parseFloat(i.textContent)}}return t}function se(e){var t;switch(e.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,i=e.optics.parameters.xmag,r=e.optics.parameters.aspect_ratio;i=void 0===i?n*r:i,n=void 0===n?i/r:n,i*=.5,n*=.5,t=new THREE.OrthographicCamera((-i),i,n,(-n),e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function le(e){return m(dt.cameras[e],se)}function ce(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":t=ue(r)}}dt.lights[e.getAttribute("id")]=t}function ue(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=de(r)}}return t}function de(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"color":var o=r(a.textContent);t.color=(new THREE.Color).fromArray(o);break;case"falloff_angle":t.falloffAngle=parseFloat(a.textContent);break;case"quadratic_attenuation":var s=parseFloat(a.textContent);t.distance=s?Math.sqrt(1/s):0}}return t}function fe(e){var t;switch(e.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function he(e){return m(dt.lights[e],fe)}function me(e){for(var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},i=n(e,"mesh")[0],r=0;r<i.childNodes.length;r++){var a=i.childNodes[r];if(1===a.nodeType){var o=a.getAttribute("id");switch(a.nodeName){case"source":t.sources[o]=pe(a);break;case"vertices":t.vertices=ge(a);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",a.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ve(a));break;default:console.log(a)}}}dt.geometries[e.getAttribute("id")]=t}function pe(e){for(var t={array:[],stride:3},a=0;a<e.childNodes.length;a++){var o=e.childNodes[a];if(1===o.nodeType)switch(o.nodeName){case"float_array":t.array=r(o.textContent);break;case"Name_array":t.array=i(o.textContent);break;case"technique_common":var s=n(o,"accessor")[0];void 0!==s&&(t.stride=parseInt(s.getAttribute("stride")))}}return t}function ge(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];1===i.nodeType&&(t[i.getAttribute("semantic")]=o(i.getAttribute("source")))}return t}function ve(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var s=o(r.getAttribute("source")),l=r.getAttribute("semantic"),c=parseInt(r.getAttribute("offset"));t.inputs[l]={id:s,offset:c},t.stride=Math.max(t.stride,c+1);break;case"vcount":t.vcount=a(r.textContent);break;case"p":t.p=a(r.textContent)}}return t}function be(e){for(var t={},n=0;n<e.length;n++){var i=e[n];void 0===t[i.type]&&(t[i.type]=[]),t[i.type].push(i)}return t}function ye(e){var t={},n=e.sources,i=e.vertices,r=e.primitives;if(0===r.length)return{};var a=be(r);for(var o in a)t[o]=Ee(a[o],n,i);return t}function Ee(e,t,n){for(var i={},r={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},s={array:[],stride:0},l={array:[],stride:4},c={array:[],stride:4},u=new THREE.BufferGeometry,d=[],f=0,h=0,m=0;m<e.length;m++){var p=e[m],g=p.inputs,v=1;p.vcount&&4===p.vcount[0]&&(v=2),h="lines"===p.type||"linestrips"===p.type?2*p.count:3*p.count*v,u.addGroup(f,h,m),f+=h,p.material&&d.push(p.material);for(var b in g){var y=g[b];switch(b){case"VERTEX":for(var E in n){var w=n[E];switch(E){case"POSITION":we(p,t[w],y.offset,r.array),r.stride=t[w].stride,t.skinWeights&&t.skinIndices&&(we(p,t.skinIndices,y.offset,l.array),we(p,t.skinWeights,y.offset,c.array));break;case"NORMAL":we(p,t[w],y.offset,a.array),a.stride=t[w].stride;break;case"COLOR":we(p,t[w],y.offset,s.array),s.stride=t[w].stride;break;case"TEXCOORD":we(p,t[w],y.offset,o.array),o.stride=t[w].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',E)}}break;case"NORMAL":we(p,t[y.id],y.offset,a.array),a.stride=t[y.id].stride;break;case"COLOR":we(p,t[y.id],y.offset,s.array),s.stride=t[y.id].stride;break;case"TEXCOORD":we(p,t[y.id],y.offset,o.array),o.stride=t[y.id].stride}}}return r.array.length>0&&u.addAttribute("position",new THREE.Float32BufferAttribute(r.array,r.stride)),a.array.length>0&&u.addAttribute("normal",new THREE.Float32BufferAttribute(a.array,a.stride)),s.array.length>0&&u.addAttribute("color",new THREE.Float32BufferAttribute(s.array,s.stride)),o.array.length>0&&u.addAttribute("uv",new THREE.Float32BufferAttribute(o.array,o.stride)),l.array.length>0&&u.addAttribute("skinIndex",new THREE.Float32BufferAttribute(l.array,l.stride)),c.array.length>0&&u.addAttribute("skinWeight",new THREE.Float32BufferAttribute(c.array,c.stride)),i.data=u,i.type=e[0].type,i.materialKeys=d,i}function we(e,t,n,i){function r(e){for(var t=a[e+n]*u,r=t+u;t<r;t++)i.push(c[t])}var a=e.p,o=e.stride,s=e.vcount,l=0,c=t.array,u=t.stride;if(void 0!==e.vcount){for(var d=0,f=0,h=s.length;f<h;f++){var m=s[f];if(4===m){var p=d+0*o,g=d+1*o,v=d+2*o,b=d+3*o;r(p),r(g),r(b),r(g),r(v),r(b)}else if(3===m){var p=d+0*o,g=d+1*o,v=d+2*o;r(p),r(g),r(v)}else l=Math.max(l,m);d+=o*m}l>0&&console.log("THREE.ColladaLoader: Geometry has faces with more than 4 vertices.")}else for(var f=0,h=a.length;f<h;f+=o)r(f)}function _e(e){return m(dt.geometries[e],ye)}function xe(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique_common":Te(i,t)}}dt.kinematicsModels[e.getAttribute("id")]=t}function Me(e){return void 0!==e.build?e.build:e}function ke(e){return m(dt.kinematicsModels[e],Me)}function Te(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"joint":t.joints[i.getAttribute("sid")]=Se(i);break;case"link":t.links.push(Ce(i))}}}function Se(e){for(var t,n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"prismatic":case"revolute":t=Ae(i)}}return t}function Ae(e,t){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,"static":!1,zeroPosition:0,middlePosition:0},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"axis":var a=r(i.textContent);t.axis.fromArray(a);break;case"limits":var o=i.getElementsByTagName("max")[0],s=i.getElementsByTagName("min")[0];t.limits.max=parseFloat(o.textContent),t.limits.min=parseFloat(s.textContent)}}return t.limits.min>=t.limits.max&&(t["static"]=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function Ce(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"attachment_full":t.attachments.push($e(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(Re(i))}}return t}function $e(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"link":t.links.push(Ce(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(Re(i))}}return t}function Re(e){var t={type:e.nodeName},n=r(e.textContent);switch(t.type){case"matrix":t.obj=new THREE.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new THREE.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new THREE.Vector3,t.obj.fromArray(n),t.angle=THREE.Math.degToRad(n[3])}return t}function Pe(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"bind_joint_axis":t.bindJointAxis.push(Ne(i))}}dt.kinematicsScenes[o(e.getAttribute("url"))]=t}function Ne(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"axis":var r=i.getElementsByTagName("param")[0];t.axis=r.textContent;var a=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=a.substr(0,a.length-1)}}return t}function Oe(e){return void 0!==e.build?e.build:e}function De(e){return m(dt.kinematicsScenes[e],Oe)}function Ie(){function e(e,t){var n=t.getAttribute("name"),i=r.joints[e];o.traverse(function(r){r.name===n&&(l[e]={object:r,transforms:Le(t),joint:i,position:i.zeroPosition})})}var t=Object.keys(dt.kinematicsModels)[0],n=Object.keys(dt.kinematicsScenes)[0],i=Object.keys(dt.visualScenes)[0];if(void 0!==t&&void 0!==n){for(var r=ke(t),a=De(n),o=Xe(i),s=a.bindJointAxis,l={},c=0,u=s.length;c<u;c++){var d=s[c],f=rt.querySelector('[sid="'+d.target+'"]');if(f){var h=f.parentElement;e(d.jointIndex,h)}}var m=new THREE.Matrix4;ct={joints:r&&r.joints,getJointValue:function(e){var t=l[e];return t?t.position:void console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=l[e];if(n){var i=n.joint;if(t>i.limits.max||t<i.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+").");else if(i["static"])console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var r=n.object,a=i.axis,o=n.transforms;tt.identity();for(var s=0;s<o.length;s++){var c=o[s];if(c.sid&&c.sid.indexOf(e)!==-1)switch(i.type){case"revolute":tt.multiply(m.makeRotationAxis(a,THREE.Math.degToRad(t)));break;case"prismatic":tt.multiply(m.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+i.type)}else switch(c.type){case"matrix":tt.multiply(c.obj);break;case"translate":tt.multiply(m.makeTranslation(c.obj.x,c.obj.y,c.obj.z));break;case"scale":tt.scale(c.obj);break;case"rotate":tt.multiply(m.makeRotationAxis(c.obj,c.angle))}}r.matrix.copy(tt),r.matrix.decompose(r.position,r.quaternion,r.scale),l[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}}function Le(e){for(var t=[],n=rt.querySelector('[id="'+e.id+'"]'),i=0;i<n.childNodes.length;i++){var a=n.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case"matrix":var o=r(a.textContent),s=(new THREE.Matrix4).fromArray(o).transpose();t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:s});break;case"translate":case"scale":var o=r(a.textContent),l=(new THREE.Vector3).fromArray(o);t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:l});break;case"rotate":var o=r(a.textContent),l=(new THREE.Vector3).fromArray(o),c=THREE.Math.degToRad(o[3]);t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:l,angle:c})}}return t}function Fe(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var i=t[n];i.hasAttribute("id")===!1&&i.setAttribute("id",s())}}function He(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"node":t.nodes.push(i.getAttribute("id")),He(i);break;case"instance_camera":t.instanceCameras.push(o(i.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Ue(i));break;case"instance_light":t.instanceLights.push(o(i.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Ue(i));break;case"instance_node":t.instanceNodes.push(o(i.getAttribute("url")));break;case"matrix":var a=r(i.textContent);t.matrix.multiply(tt.fromArray(a).transpose()),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"translate":var a=r(i.textContent);nt.fromArray(a),t.matrix.multiply(tt.makeTranslation(nt.x,nt.y,nt.z)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"rotate":var a=r(i.textContent),s=THREE.Math.degToRad(a[3]);t.matrix.multiply(tt.makeRotationAxis(nt.fromArray(a),s)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"scale":var a=r(i.textContent);t.matrix.scale(nt.fromArray(a)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"extra":break;default:console.log(i)}}return dt.nodes[t.id]=t,t}function Ue(e){for(var t={id:o(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"bind_material":for(var r=i.getElementsByTagName("instance_material"),a=0;a<r.length;a++){var s=r[a],l=s.getAttribute("symbol"),c=s.getAttribute("target");t.materials[l]=o(c)}break;case"skeleton":t.skeletons.push(o(i.textContent))}}return t}function Be(e,t){var n,i,r,a=[],o=[];for(n=0;n<e.length;n++){var s=e[n],l=Ge(s);je(l,t,a)}for(n=0;n<t.length;n++)for(i=0;i<a.length;i++)if(r=a[i],r.bone.name===t[n].name){o[n]=r,r.processed=!0;break}for(n=0;n<a.length;n++)r=a[n],r.processed===!1&&(o.push(r),r.processed=!0);var c=[],u=[];for(n=0;n<o.length;n++)r=o[n],c.push(r.bone),u.push(r.boneInverse);return new THREE.Skeleton(c,u)}function je(e,t,n){e.traverse(function(e){if(e.isBone===!0){for(var i,r=0;r<t.length;r++){var a=t[r];if(a.name===e.name){i=a.boneInverse;break}}void 0===i&&(i=new THREE.Matrix4),n.push({bone:e,boneInverse:i,processed:!1})}})}function Ve(e){for(var t=[],n=e.matrix,i=e.nodes,r=e.type,a=e.instanceCameras,o=e.instanceControllers,s=e.instanceLights,l=e.instanceGeometries,c=e.instanceNodes,u=0,d=i.length;u<d;u++)t.push(Ge(i[u]));for(var u=0,d=a.length;u<d;u++)t.push(le(a[u]).clone());for(var u=0,d=o.length;u<d;u++)for(var f=o[u],h=L(f.id),m=_e(h.id),p=We(m,f.materials),g=f.skeletons,v=h.skin.joints,b=Be(g,v),y=0,E=p.length;y<E;y++){var w=p[y];w.isSkinnedMesh&&(w.bind(b,h.skin.bindMatrix),w.normalizeSkinWeights()),t.push(w)}for(var u=0,d=s.length;u<d;u++)t.push(he(s[u]).clone());for(var u=0,d=l.length;u<d;u++)for(var f=l[u],m=_e(f.id),p=We(m,f.materials),y=0,E=p.length;y<E;y++)t.push(p[y]);for(var u=0,d=c.length;u<d;u++)t.push(Ge(c[u]).clone());var w;if(0===i.length&&1===t.length)w=t[0];else{w="JOINT"===r?new THREE.Bone:new THREE.Group;for(var u=0;u<t.length;u++)w.add(t[u])}return w.name="JOINT"===r?e.sid:e.name,w.matrix.copy(n),w.matrix.decompose(w.position,w.quaternion,w.scale),w}function ze(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var a=t[e[i]];n.push(ne(a))}return n}function We(e,t){var n=[];for(var i in e){var r=e[i],a=ze(r.materialKeys,t);0===a.length&&("lines"===i||"linestrips"===i?a.push(new THREE.LineBasicMaterial):a.push(new THREE.MeshPhongMaterial));var o=void 0!==r.data.attributes.skinIndex;if(o)for(var s=0,l=a.length;s<l;s++)a[s].skinning=!0;var c,u=1===a.length?a[0]:a;switch(i){case"lines":c=new THREE.LineSegments(r.data,u);break;case"linestrips":c=new THREE.Line(r.data,u);break;case"triangles":case"polylist":c=o?new THREE.SkinnedMesh(r.data,u):new THREE.Mesh(r.data,u)}n.push(c)}return n}function Ge(e){return m(dt.nodes[e],Ve)}function qe(e){var t={name:e.getAttribute("name"),children:[]};Fe(e);for(var i=n(e,"node"),r=0;r<i.length;r++)t.children.push(He(i[r]));dt.visualScenes[e.getAttribute("id")]=t}function Ye(e){var t=new THREE.Group;t.name=e.name;for(var n=e.children,i=0;i<n.length;i++){var r=n[i];null===r.id?t.add(Ve(r)):t.add(Ge(r.id))}return t}function Xe(e){return m(dt.visualScenes[e],Ye)}function Ke(e){var t=n(e,"instance_visual_scene")[0];return Xe(o(t.getAttribute("url")))}function Ze(){var e=dt.clips;if(l(e)===!0){if(l(dt.animations)===!1){var t=[];for(var n in dt.animations)for(var i=y(n),r=0,a=i.length;r<a;r++)t.push(i[r]);lt.push(new THREE.AnimationClip("default",(-1),t))}}else for(var n in e)lt.push($(n))}var Je=new THREE.Vector3,Qe=new THREE.Vector3,et=new THREE.Quaternion,tt=new THREE.Matrix4,nt=new THREE.Vector3;if(console.time("THREE.ColladaLoader"),0===e.length)return{scene:new THREE.Scene};console.time("THREE.ColladaLoader: DOMParser");var it=(new DOMParser).parseFromString(e,"application/xml");console.timeEnd("THREE.ColladaLoader: DOMParser");var rt=n(it,"COLLADA")[0],at=rt.getAttribute("version");console.log("THREE.ColladaLoader: File version",at);var ot=c(n(rt,"asset")[0]),st=new THREE.TextureLoader(this.manager);st.setPath(t).setCrossOrigin(this.crossOrigin);var lt=[],ct={},ut=0,dt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},kinematicsScenes:{}};console.time("THREE.ColladaLoader: Parse"),f(rt,"library_animations","animation",p),f(rt,"library_animation_clips","animation_clip",A),f(rt,"library_controllers","controller",R),f(rt,"library_images","image",F),f(rt,"library_effects","effect",B),f(rt,"library_materials","material",ee),f(rt,"library_cameras","camera",ie),f(rt,"library_lights","light",ce),f(rt,"library_geometries","geometry",me),f(rt,"library_nodes","node",He),f(rt,"library_visual_scenes","visual_scene",qe),f(rt,"library_kinematics_models","kinematics_model",xe),f(rt,"scene","instance_kinematics_scene",Pe),console.timeEnd("THREE.ColladaLoader: Parse"),console.time("THREE.ColladaLoader: Build"),h(dt.animations,b),h(dt.clips,C),h(dt.controllers,D),h(dt.images,H),h(dt.effects,J),h(dt.materials,te),h(dt.cameras,se),h(dt.lights,fe),h(dt.geometries,ye),h(dt.visualScenes,Ye),console.timeEnd("THREE.ColladaLoader: Build"),Ze(),Ie();var ft=Ke(n(rt,"scene")[0]);return"Z_UP"===ot.upAxis&&(ft.rotation.x=-Math.PI/2),ft.scale.multiplyScalar(ot.unit),console.timeEnd("THREE.ColladaLoader"),{animations:lt,kinematics:ct,library:dt,scene:ft}}},THREE.OrbitControls=function(e,t){function n(){return 2*Math.PI/60/60*N.autoRotateSpeed}function i(){return Math.pow(.95,N.zoomSpeed)}function r(e){B.theta-=e}function a(e){B.phi-=e}function o(e){N.object.isPerspectiveCamera?j/=e:N.object.isOrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom*e)),N.object.updateProjectionMatrix(),z=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),N.enableZoom=!1)}function s(e){N.object.isPerspectiveCamera?j*=e:N.object.isOrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom/e)),N.object.updateProjectionMatrix(),z=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),N.enableZoom=!1)}function l(e){W.set(e.clientX,e.clientY)}function c(e){Z.set(e.clientX,e.clientY)}function u(e){Y.set(e.clientX,e.clientY)}function d(e){G.set(e.clientX,e.clientY),q.subVectors(G,W);var t=N.domElement===document?N.domElement.body:N.domElement;r(2*Math.PI*q.x/t.clientWidth*N.rotateSpeed),a(2*Math.PI*q.y/t.clientHeight*N.rotateSpeed),W.copy(G),N.update()}function f(e){J.set(e.clientX,e.clientY),Q.subVectors(J,Z),Q.y>0?o(i()):Q.y<0&&s(i()),Z.copy(J),N.update()}function h(e){X.set(e.clientX,e.clientY),K.subVectors(X,Y),ne(K.x,K.y),Y.copy(X),N.update()}function m(e){}function p(e){e.deltaY<0?s(i()):e.deltaY>0&&o(i()),N.update()}function g(e){switch(e.keyCode){case N.keys.UP:ne(0,N.keyPanSpeed),N.update();break;case N.keys.BOTTOM:ne(0,-N.keyPanSpeed),N.update();break;case N.keys.LEFT:ne(N.keyPanSpeed,0),N.update();break;case N.keys.RIGHT:ne(-N.keyPanSpeed,0),N.update()}}function v(e){W.set(e.touches[0].pageX,e.touches[0].pageY)}function b(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);
Z.set(0,i)}function y(e){Y.set(e.touches[0].pageX,e.touches[0].pageY)}function E(e){G.set(e.touches[0].pageX,e.touches[0].pageY),q.subVectors(G,W);var t=N.domElement===document?N.domElement.body:N.domElement;r(2*Math.PI*q.x/t.clientWidth*N.rotateSpeed),a(2*Math.PI*q.y/t.clientHeight*N.rotateSpeed),W.copy(G),N.update()}function w(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);J.set(0,r),Q.subVectors(J,Z),Q.y>0?s(i()):Q.y<0&&o(i()),Z.copy(J),N.update()}function _(e){X.set(e.touches[0].pageX,e.touches[0].pageY),K.subVectors(X,Y),ne(K.x,K.y),Y.copy(X),N.update()}function x(e){}function M(e){if(N.enabled!==!1){switch(e.preventDefault(),e.button){case N.mouseButtons.ORBIT:if(N.enableRotate===!1)return;l(e),F=L.ROTATE;break;case N.mouseButtons.ZOOM:if(N.enableZoom===!1)return;c(e),F=L.DOLLY;break;case N.mouseButtons.PAN:if(N.enablePan===!1)return;u(e),F=L.PAN}F!==L.NONE&&(document.addEventListener("mousemove",k,!1),document.addEventListener("mouseup",T,!1),N.dispatchEvent(D))}}function k(e){if(N.enabled!==!1)switch(e.preventDefault(),F){case L.ROTATE:if(N.enableRotate===!1)return;d(e);break;case L.DOLLY:if(N.enableZoom===!1)return;f(e);break;case L.PAN:if(N.enablePan===!1)return;h(e)}}function T(e){N.enabled!==!1&&(m(e),document.removeEventListener("mousemove",k,!1),document.removeEventListener("mouseup",T,!1),N.dispatchEvent(I),F=L.NONE)}function S(e){N.enabled===!1||N.enableZoom===!1||F!==L.NONE&&F!==L.ROTATE||(e.preventDefault(),e.stopPropagation(),p(e),N.dispatchEvent(D),N.dispatchEvent(I))}function A(e){N.enabled!==!1&&N.enableKeys!==!1&&N.enablePan!==!1&&g(e)}function C(e){if(N.enabled!==!1){switch(e.touches.length){case 1:if(N.enableRotate===!1)return;v(e),F=L.TOUCH_ROTATE;break;case 2:if(N.enableZoom===!1)return;b(e),F=L.TOUCH_DOLLY;break;case 3:if(N.enablePan===!1)return;y(e),F=L.TOUCH_PAN;break;default:F=L.NONE}F!==L.NONE&&N.dispatchEvent(D)}}function $(e){if(N.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(N.enableRotate===!1)return;if(F!==L.TOUCH_ROTATE)return;E(e);break;case 2:if(N.enableZoom===!1)return;if(F!==L.TOUCH_DOLLY)return;w(e);break;case 3:if(N.enablePan===!1)return;if(F!==L.TOUCH_PAN)return;_(e);break;default:F=L.NONE}}function R(e){N.enabled!==!1&&(x(e),N.dispatchEvent(I),F=L.NONE)}function P(e){N.enabled!==!1&&e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return U.phi},this.getAzimuthalAngle=function(){return U.theta},this.saveState=function(){N.target0.copy(N.target),N.position0.copy(N.object.position),N.zoom0=N.object.zoom},this.reset=function(){N.target.copy(N.target0),N.object.position.copy(N.position0),N.object.zoom=N.zoom0,N.object.updateProjectionMatrix(),N.dispatchEvent(O),N.update(),F=L.NONE},this.update=function(){var t=new THREE.Vector3,i=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),a=i.clone().inverse(),o=new THREE.Vector3,s=new THREE.Quaternion;return function(){var e=N.object.position;return t.copy(e).sub(N.target),t.applyQuaternion(i),U.setFromVector3(t),N.autoRotate&&F===L.NONE&&r(n()),U.theta+=B.theta,U.phi+=B.phi,U.theta=Math.max(N.minAzimuthAngle,Math.min(N.maxAzimuthAngle,U.theta)),U.phi=Math.max(N.minPolarAngle,Math.min(N.maxPolarAngle,U.phi)),U.makeSafe(),U.radius*=j,U.radius=Math.max(N.minDistance,Math.min(N.maxDistance,U.radius)),N.target.add(V),t.setFromSpherical(U),t.applyQuaternion(a),e.copy(N.target).add(t),N.object.lookAt(N.target),N.enableDamping===!0?(B.theta*=1-N.dampingFactor,B.phi*=1-N.dampingFactor):B.set(0,0,0),j=1,V.set(0,0,0),!!(z||o.distanceToSquared(N.object.position)>H||8*(1-s.dot(N.object.quaternion))>H)&&(N.dispatchEvent(O),o.copy(N.object.position),s.copy(N.object.quaternion),z=!1,!0)}}(),this.dispose=function(){N.domElement.removeEventListener("contextmenu",P,!1),N.domElement.removeEventListener("mousedown",M,!1),N.domElement.removeEventListener("wheel",S,!1),N.domElement.removeEventListener("touchstart",C,!1),N.domElement.removeEventListener("touchend",R,!1),N.domElement.removeEventListener("touchmove",$,!1),document.removeEventListener("mousemove",k,!1),document.removeEventListener("mouseup",T,!1),window.removeEventListener("keydown",A,!1)};var N=this,O={type:"change"},D={type:"start"},I={type:"end"},L={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=L.NONE,H=1e-6,U=new THREE.Spherical,B=new THREE.Spherical,j=1,V=new THREE.Vector3,z=!1,W=new THREE.Vector2,G=new THREE.Vector2,q=new THREE.Vector2,Y=new THREE.Vector2,X=new THREE.Vector2,K=new THREE.Vector2,Z=new THREE.Vector2,J=new THREE.Vector2,Q=new THREE.Vector2,ee=function(){var e=new THREE.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),V.add(e)}}(),te=function(){var e=new THREE.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),V.add(e)}}(),ne=function(){var e=new THREE.Vector3;return function(t,n){var i=N.domElement===document?N.domElement.body:N.domElement;if(N.object.isPerspectiveCamera){var r=N.object.position;e.copy(r).sub(N.target);var a=e.length();a*=Math.tan(N.object.fov/2*Math.PI/180),ee(2*t*a/i.clientHeight,N.object.matrix),te(2*n*a/i.clientHeight,N.object.matrix)}else N.object.isOrthographicCamera?(ee(t*(N.object.right-N.object.left)/N.object.zoom/i.clientWidth,N.object.matrix),te(n*(N.object.top-N.object.bottom)/N.object.zoom/i.clientHeight,N.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),N.enablePan=!1)}}();N.domElement.addEventListener("contextmenu",P,!1),N.domElement.addEventListener("mousedown",M,!1),N.domElement.addEventListener("wheel",S,!1),N.domElement.addEventListener("touchstart",C,!1),N.domElement.addEventListener("touchend",R,!1),N.domElement.addEventListener("touchmove",$,!1),window.addEventListener("keydown",A,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var Detector={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,i;e=e||{},t=void 0!==e.parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",i=Detector.getWebGLErrorMessage(),i.id=n,t.appendChild(i)}};"object"==typeof module&&(module.exports=Detector),!function(e,t,n){function i(e,t){return typeof e===t}function r(){var e,t,n,r,a,o,s;for(var l in y)if(y.hasOwnProperty(l)){if(e=[],t=y[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)o=e[a],s=o.split("."),1===s.length?w[s[0]]=r:(!w[s[0]]||w[s[0]]instanceof Boolean||(w[s[0]]=new Boolean(w[s[0]])),w[s[0]][s[1]]=r),b.push((r?"":"no-")+s.join("-"))}}function a(e){var t=_.className,n=w._config.classPrefix||"";if(x&&(t=t.baseVal),w._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}w._config.enableClasses&&(t+=" "+n+e.join(" "+n),x?_.className.baseVal=t:_.className=t)}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):x?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function l(e,t){return!!~(""+e).indexOf(t)}function c(e,t){return function(){return e.apply(t,arguments)}}function u(e,t,n){var r;for(var a in e)if(e[a]in t)return n===!1?e[a]:(r=t[e[a]],i(r,"function")?c(r,n||t):r);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(t,n,i){var r;if("getComputedStyle"in e){r=getComputedStyle.call(e,t,n);var a=e.console;if(null!==r)i&&(r=r.getPropertyValue(i));else if(a){var o=a.error?"error":"log";a[o].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else r=!n&&t.currentStyle&&t.currentStyle[i];return r}function h(){var e=t.body;return e||(e=o(x?"svg":"body"),e.fake=!0),e}function m(e,n,i,r){var a,s,l,c,u="modernizr",d=o("div"),f=h();if(parseInt(i,10))for(;i--;)l=o("div"),l.id=r?r[i]:u+(i+1),d.appendChild(l);return a=o("style"),a.type="text/css",a.id="s"+u,(f.fake?f:d).appendChild(a),f.appendChild(d),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),d.id=u,f.fake&&(f.style.background="",f.style.overflow="hidden",c=_.style.overflow,_.style.overflow="hidden",_.appendChild(f)),s=n(d,e),f.fake?(f.parentNode.removeChild(f),_.style.overflow=c,_.offsetHeight):d.parentNode.removeChild(d),!!s}function p(t,i){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(d(t[r]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];r--;)a.push("("+d(t[r])+":"+i+")");return a=a.join(" or "),m("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==f(e,null,"position")})}return n}function g(e,t,r,a){function c(){d&&(delete C.style,delete C.modElem)}if(a=!i(a,"undefined")&&a,!i(r,"undefined")){var u=p(e,r);if(!i(u,"undefined"))return u}for(var d,f,h,m,g,v=["modernizr","tspan","samp"];!C.style&&v.length;)d=!0,C.modElem=o(v.shift()),C.style=C.modElem.style;for(h=e.length,f=0;h>f;f++)if(m=e[f],g=C.style[m],l(m,"-")&&(m=s(m)),C.style[m]!==n){if(a||i(r,"undefined"))return c(),"pfx"!=t||m;try{C.style[m]=r}catch(b){}if(C.style[m]!=g)return c(),"pfx"!=t||m}return c(),!1}function v(e,t,n,r,a){var o=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+k.join(o+" ")+o).split(" ");return i(t,"string")||i(t,"undefined")?g(s,t,r,a):(s=(e+" "+S.join(o+" ")+o).split(" "),u(s,t,n))}var b=[],y=[],E={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){y.push({name:e,fn:t,options:n})},addAsyncTest:function(e){y.push({name:null,fn:e})}},w=function(){};w.prototype=E,w=new w;var _=t.documentElement,x="svg"===_.nodeName.toLowerCase();w.addTest("webgl",function(){var t=o("canvas"),n="probablySupportsContext"in t?"probablySupportsContext":"supportsContext";return n in t?t[n]("webgl")||t[n]("experimental-webgl"):"WebGLRenderingContext"in e}),w.addAsyncTest(function(){if(w.webglextensions=!1,w.webgl){var e,t,i;try{e=o("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),i=t.getSupportedExtensions()}catch(r){return}t!==n&&(w.webglextensions=new Boolean((!0)));for(var a=-1,s=i.length;++a<s;)w.webglextensions[i[a]]=!0;e=n}});var M="Moz O ms Webkit",k=E._config.usePrefixes?M.split(" "):[];E._cssomPrefixes=k;var T=function(t){var i,r=prefixes.length,a=e.CSSRule;if("undefined"==typeof a)return n;if(!t)return!1;if(t=t.replace(/^@/,""),i=t.replace(/-/g,"_").toUpperCase()+"_RULE",i in a)return"@"+t;for(var o=0;r>o;o++){var s=prefixes[o],l=s.toUpperCase()+"_"+i;if(l in a)return"@-"+s.toLowerCase()+"-"+t}return!1};E.atRule=T;var S=E._config.usePrefixes?M.toLowerCase().split(" "):[];E._domPrefixes=S;var A={elem:o("modernizr")};w._q.push(function(){delete A.elem});var C={style:A.elem.style};w._q.unshift(function(){delete C.style}),E.testAllProps=v;var $=E.prefixed=function(e,t,n){return 0===e.indexOf("@")?T(e):(-1!=e.indexOf("-")&&(e=s(e)),t?v(e,t,n):v(e,"pfx"))};w.addTest("getusermedia",!!$("getUserMedia",navigator)),w.addTest("peerconnection",!!$("RTCPeerConnection",e)),r(),a(b),delete E.addTest,delete E.addAsyncTest;for(var R=0;R<w._q.length;R++)w._q[R]();e.Modernizr=w}(window,document),function(){"use strict";function e(){h.forEach(function(e){f[e]=Module[e]});for(var e in Module)e.match(/^AR/)&&(f[e]=Module[e])}function t(e,t,n){var i="/marker_"+m++;l(t,i,function(){var t=Module._addMarker(e,i);n&&n(t)})}function n(e){return String.fromCharCode.apply(String,e)}function i(e){var t=n(e),i=t.split("\n"),r=[],a=0,o=0;return i.forEach(function(e){if(e=e.trim(),e&&!e.startsWith("#"))switch(a){case 0:return o=+e,void(a=1);case 1:e.match(/^\d+$/)||r.push(e);case 2:case 3:case 4:return void a++;case 5:return void(a=1)}}),r}function r(e,t,n){var r="/multi_marker_"+p++;l(t,r,function(a){function o(){var t=Module._addMultiMarker(e,r),i=Module.getMultiMarkerNum(e,t);n&&n(t,i)}var s=i(a);if(!s.length)return o();var l=t.split("/").slice(0,-1).join("/");s=s.map(function(e){return[l+"/"+e,e]}),c(s,o)})}function a(e,t){var n="/camera_param_"+g++,i=function(){var e=Module._loadCamera(n);t&&t(e)};"object"==typeof e?s(n,e,i):e.indexOf("\n")>-1?o(n,e,i):l(e,n,i)}function o(e,t,n){for(var i=new Uint8Array(t.length),r=0;r<i.length;r++)i[r]=255&t.charCodeAt(r);s(e,i,n)}function s(e,t,n){FS.writeFile(e,t,{encoding:"binary"}),n(t)}function l(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(e){var r=i.response,a=new Uint8Array(r);s(t,a,n)},i.send()}function c(e,t){var n=e.pop();n?l(n[0],n[1],function(){c(e,t)}):t()}var u=function(e,t,n){var i=e,r=t;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var a=e;n=t,i=a.videoWidth||a.width,r=a.videoHeight||a.height,this.image=a}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=r,this.ctx=this.canvas.getContext("2d"),this.videoWidth=i,this.videoHeight=r,"string"==typeof n){var o=this;this.cameraParam=new d(n,function(){o._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=n,this._initialize()};u.prototype.dispose=function(){f.teardown(this.id);for(var e in this)this[e]=null},u.prototype.process=function(e){this.detectMarker(e);var t,n,i=this.getMarkerNum();for(t in this.patternMarkers)n=this.patternMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(t in this.barcodeMarkers)n=this.barcodeMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(var r=0;r<i;r++){var a=this.getMarker(r),o=f.UNKNOWN_MARKER,s=this.trackPatternMarkerId(-1);a.idPatt>-1&&(a.id===a.idPatt||a.idMatrix===-1)?(s=this.trackPatternMarkerId(a.idPatt),o=f.PATTERN_MARKER,a.dir!==a.dirPatt&&this.setMarkerInfoDir(r,a.dirPatt)):a.idMatrix>-1&&(s=this.trackBarcodeMarkerId(a.idMatrix),o=f.BARCODE_MARKER,a.dir!==a.dirMatrix&&this.setMarkerInfoDir(r,a.dirMatrix)),o!==f.UNKNOWN_MARKER&&s.inPrevious?this.getTransMatSquareCont(r,s.markerWidth,s.matrix,s.matrix):this.getTransMatSquare(r,s.markerWidth,s.matrix),s.inCurrent=!0,this.transMatToGLMat(s.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:r,type:o,marker:a,matrix:this.transform_mat}})}for(var l=this.getMultiMarkerCount(),r=0;r<l;r++){var c=this.getMultiMarkerPatternCount(r),s=!1;f.getTransMatMultiSquareRobust(this.id,r),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var u=0;u<c;u++){var d=this.getMultiEachMarker(r,u);if(d.visible>=0){s=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:r,matrix:this.transform_mat}});break}}if(s)for(var u=0;u<c;u++){var d=this.getMultiEachMarker(r,u);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:r,markerIndex:u,marker:d,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},u.prototype.trackPatternMarkerId=function(e,t){var n=this.patternMarkers[e];return n||(this.patternMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},u.prototype.trackBarcodeMarkerId=function(e,t){var n=this.barcodeMarkers[e];return n||(this.barcodeMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},u.prototype.getMultiMarkerCount=function(){return f.getMultiMarkerCount(this.id)},u.prototype.getMultiMarkerPatternCount=function(e){return f.getMultiMarkerNum(this.id,e)},u.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},u.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}},u.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var n=0;n<t.length;n++)t[n].call(this,e)},u.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},u.prototype.loadMarker=function(e,t,n){return f.addMarker(this.id,e,t,n)},u.prototype.loadMultiMarker=function(e,t,n){return f.addMultiMarker(this.id,e,t,n)},u.prototype.getTransMatSquare=function(e,t,n){return f.getTransMatSquare(this.id,e,t),n.set(this.marker_transform_mat),n},u.prototype.getTransMatSquareCont=function(e,t,n,i){return this.marker_transform_mat.set(n),f.getTransMatSquareCont(this.id,e,t),i.set(this.marker_transform_mat),i},u.prototype.getTransMatMultiSquare=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},u.prototype.getTransMatMultiSquareRobust=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},u.prototype.transMatToGLMat=function(e,t,n){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,void 0!=n&&0!==n&&(t[12]*=n,t[13]*=n,t[14]*=n),t},u.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?f.detectMarker(this.id):-99},u.prototype.getMarkerNum=function(){return f.getMarkerNum(this.id)},u.prototype.getMarker=function(e){if(0===f.getMarker(this.id,e))return f.markerInfo},u.prototype.setMarkerInfoVertex=function(e,t){for(var n=0;n<t.length;n++)this.marker_transform_mat[2*n+0]=t[n][0],this.marker_transform_mat[2*n+1]=t[n][1];return f.setMarkerInfoVertex(this.id,e)},u.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},u.prototype.getMultiEachMarker=function(e,t){if(0===f.getMultiEachMarker(this.id,e,t))return f.multiEachMarkerInfo},u.prototype.getTransformationMatrix=function(){return this.transform_mat},u.prototype.getCameraMatrix=function(){return this.camera_mat},u.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},u.prototype.setDebugMode=function(e){return f.setDebugMode(this.id,e)},u.prototype.getDebugMode=function(){return f.getDebugMode(this.id)},u.prototype.getProcessingImage=function(){return f.getProcessingImage(this.id)},u.prototype.setLogLevel=function(e){return f.setLogLevel(e)},u.prototype.getLogLevel=function(){return f.getLogLevel()},u.prototype.setMarkerInfoDir=function(e,t){return f.setMarkerInfoDir(this.id,e,t)},u.prototype.setProjectionNearPlane=function(e){return f.setProjectionNearPlane(this.id,e)},u.prototype.getProjectionNearPlane=function(){return f.getProjectionNearPlane(this.id)},u.prototype.setProjectionFarPlane=function(e){return f.setProjectionFarPlane(this.id,e)},u.prototype.getProjectionFarPlane=function(){return f.getProjectionFarPlane(this.id)},u.prototype.setThresholdMode=function(e){return f.setThresholdMode(this.id,e)},u.prototype.getThresholdMode=function(){return f.getThresholdMode(this.id)},u.prototype.setThreshold=function(e){return f.setThreshold(this.id,e)},u.prototype.getThreshold=function(){return f.getThreshold(this.id)},u.prototype.setPatternDetectionMode=function(e){return f.setPatternDetectionMode(this.id,e)},u.prototype.getPatternDetectionMode=function(){return f.getPatternDetectionMode(this.id)},u.prototype.setMatrixCodeType=function(e){return f.setMatrixCodeType(this.id,e)},u.prototype.getMatrixCodeType=function(){return f.getMatrixCodeType(this.id)},u.prototype.setLabelingMode=function(e){return f.setLabelingMode(this.id,e)},u.prototype.getLabelingMode=function(){return f.getLabelingMode(this.id)},u.prototype.setPattRatio=function(e){return f.setPattRatio(this.id,e)},u.prototype.getPattRatio=function(){return f.getPattRatio(this.id)},u.prototype.setImageProcMode=function(e){return f.setImageProcMode(this.id,e)},u.prototype.getImageProcMode=function(){return f.getImageProcMode(this.id)},u.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var n=this.getMarkerNum(),i=0;i<n;i++)this._debugMarker(this.getMarker(i))},u.prototype._initialize=function(){this.id=f.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=f.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},u.prototype._copyImageToHeap=function(e){e||(e=this.image),this.ctx.save(),"portrait"===this.orientation?(this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width)):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height),this.ctx.restore();var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.data;return!!this.dataHeap&&(this.dataHeap.set(n),!0)},u.prototype._debugMarker=function(e){var t,n;t=e.vertex;var i=this.ctx;i.strokeStyle="red",i.beginPath(),i.moveTo(t[0][0],t[0][1]),i.lineTo(t[1][0],t[1][1]),i.stroke(),i.beginPath(),i.moveTo(t[2][0],t[2][1]),i.lineTo(t[3][0],t[3][1]),i.stroke(),i.strokeStyle="green",i.beginPath(),i.lineTo(t[1][0],t[1][1]),i.lineTo(t[2][0],t[2][1]),i.stroke(),i.beginPath(),i.moveTo(t[3][0],t[3][1]),i.lineTo(t[0][0],t[0][1]),i.stroke(),n=e.pos,i.beginPath(),i.arc(n[0],n[1],8,0,2*Math.PI),i.fillStyle="red",i.fill()},u.getUserMedia=function(e){var t=e.facingMode||"environment",n=e.onSuccess,i=e.onError||function(e){console.error("ARController.getUserMedia",e)},r=document.createElement("video"),a=function(){0!==this.videoWidth&&n(r)},o=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],l=function(e){o&&(r.play(),r.paused||s.forEach(function(e){window.removeEventListener(e,l,!0)}))};s.forEach(function(e){window.addEventListener(e,l,!0)});var c=function(e){r.addEventListener("loadedmetadata",a,!1),r.src=window.URL.createObjectURL(e),o=!0,l()},u={},d={};e.width&&(d.width=e.width,"object"==typeof e.width?(e.width.max&&(u.maxWidth=e.width.max),e.width.min&&(u.minWidth=e.width.max)):u.maxWidth=e.width),e.height&&(d.height=e.height,"object"==typeof e.height?(e.height.max&&(u.maxHeight=e.height.max),e.height.min&&(u.minHeight=e.height.max)):u.maxHeight=e.height),d.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var f={audio:!1,video:{mandatory:u}};return navigator.getUserMedia?navigator.getUserMedia(f,c,i):i("navigator.getUserMedia is not supported on your browser"),r},u.getUserMediaARController=function(e){var t={};for(var n in e)t[n]=e[n];var i=e.onSuccess,r=e.cameraParam;t.onSuccess=function(){new d(r,function(){var t=this,n=e.maxARVideoSize||Math.max(a.videoWidth,a.videoHeight),r=n/Math.max(a.videoWidth,a.videoHeight),o=r*a.videoWidth,s=r*a.videoHeight;if(a.videoWidth<a.videoHeight){var l=o;o=s,s=l}var c=new u(o,s,t);c.image=a,a.videoWidth<a.videoHeight?(c.orientation="portrait",c.videoWidth=a.videoHeight,c.videoHeight=a.videoWidth):(c.orientation="landscape",c.videoWidth=a.videoWidth,c.videoHeight=a.videoHeight),i(c,t)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var a=this.getUserMedia(t);return a};var d=function(e,t,n){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=n,e&&this.load(e)};d.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;f.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(d.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),d.prototype.dispose=function(){this.id!==-1&&f.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var f={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:a,addMarker:t,addMultiMarker:r},h=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"],m=0,p=0,g=0;window.artoolkit=f,window.ARController=u,window.ARCameraParam=d,window.Module?e():window.Module={onRuntimeInitialized:function(){e()}}}();var Module;Module||(Module=("undefined"!=typeof Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(e,t){e=nodePath.normalize(e);var n=nodeFS.readFileSync(e);return n||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),n=nodeFS.readFileSync(e)),n&&!t&&(n=n.toString()),n},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"==typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),"undefined"==typeof Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),
Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8===0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4===(7&e)),e+=4):assert(0===(3&e)),e},getAlignSize:function(e,t,n){return n||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,n){return n&&n.length?(n.splice||(n=Array.prototype.slice.call(n)),n.splice(0,0,t),Module["dynCall_"+e].apply(null,n)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var n=Runtime.funcWrappers[t];return n[e]||(n[e]=function(){return Runtime.dynCall(t,e,arguments)}),n[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if(DYNAMICTOP=DYNAMICTOP+e|0,DYNAMICTOP=DYNAMICTOP+15&-16,DYNAMICTOP>=TOTAL_MEMORY){var n=enlargeMemory();if(!n)return DYNAMICTOP=t,0}return t},alignMemory:function(e,t){var n=e=Math.ceil(e/(t?t:16))*(t?t:16);return n},makeBigInt:function(e,t,n){var i=n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t);return i},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9,globalScope=this,cwrap,ccall;!function(){function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&(t=Runtime.stackAlloc((e.length<<2)+1),writeStringToMemory(e,t)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,n,i,r){var a=getCFunc(e),o=[],s=0;if(i)for(var l=0;l<i.length;l++){var c=toC[n[l]];c?(0===s&&(s=Runtime.stackSave()),o[l]=c(i[l])):o[l]=i[l]}var u=a.apply(null,o);if("string"===t&&(u=Pointer_stringify(u)),0!==s){if(r&&r.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return u};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;for(var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456,totalMemory=65536;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer;buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(e,t){var n=e>>>16,i=65535&e,r=t>>>16,a=65535&t;return i*a+(n*a+i*r<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[function(e,t,n,i){artoolkit.multiEachMarkerInfo||(artoolkit.multiEachMarkerInfo={});var r=artoolkit.multiEachMarkerInfo;r.visible=e,r.pattId=t,r.pattType=n,r.width=i},function(e,t,n,i,r,a,o,s,l,c,u,d,f,h,m,p,g,v,b,y,E,w,_,x,M,k,T,S,A,C,$,R,P){var N=arguments,O=12;artoolkit.markerInfo||(artoolkit.markerInfo={pos:[0,0],line:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertex:[[0,0],[0,0],[0,0],[0,0]]});var D=artoolkit.markerInfo;D.area=e,D.id=t,D.idPatt=n,D.idMatrix=i,D.dir=r,D.dirPatt=a,D.dirMatrix=o,D.cf=s,D.cfPatt=l,D.cfMatrix=c,D.pos[0]=u,D.pos[1]=d,D.line[0][0]=N[O++],D.line[0][1]=N[O++],D.line[0][2]=N[O++],D.line[1][0]=N[O++],D.line[1][1]=N[O++],D.line[1][2]=N[O++],D.line[2][0]=N[O++],D.line[2][1]=N[O++],D.line[2][2]=N[O++],D.line[3][0]=N[O++],D.line[3][1]=N[O++],D.line[3][2]=N[O++],D.vertex[0][0]=N[O++],D.vertex[0][1]=N[O++],D.vertex[1][0]=N[O++],D.vertex[1][1]=N[O++],D.vertex[2][0]=N[O++],D.vertex[2][1]=N[O++],D.vertex[3][0]=N[O++],D.vertex[3][1]=N[O++],D.errorCorrected=N[O++]},function(e,t,n,i,r){artoolkit.frameMalloc||(artoolkit.frameMalloc={});var a=artoolkit.frameMalloc;a.framepointer=t,a.framesize=n,a.camera=i,a.transform=r}];STATIC_BASE=8,STATICTOP=STATIC_BASE+16496,__ATINIT__.push({func:function(){__GLOBAL__sub_I_ARToolKitJS_cpp()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,52,9,0,0,53,42,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,116,42,0,0,52,9,0,0,136,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,52,9,0,0,73,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,54,47,0,0,228,8,0,0,23,47,0,0,228,8,0,0,62,46,0,0,228,8,0,0,31,46,0,0,228,8,0,0,0,46,0,0,228,8,0,0,225,45,0,0,228,8,0,0,194,45,0,0,228,8,0,0,93,46,0,0,228,8,0,0,124,46,0,0,228,8,0,0,155,46,0,0,228,8,0,0,186,46,0,0,228,8,0,0,217,46,0,0,228,8,0,0,248,46,0,0,12,9,0,0,199,47,0,0,48,2,0,0,0,0,0,0,228,8,0,0,212,47,0,0,228,8,0,0,225,47,0,0,12,9,0,0,238,47,0,0,56,2,0,0,0,0,0,0,12,9,0,0,15,48,0,0,64,2,0,0,0,0,0,0,12,9,0,0,49,48,0,0,64,2,0,0,0,0,0,0,200,8,0,0,89,48,0,0,200,8,0,0,91,48,0,0,200,8,0,0,93,48,0,0,200,8,0,0,95,48,0,0,200,8,0,0,97,48,0,0,200,8,0,0,99,48,0,0,200,8,0,0,101,48,0,0,200,8,0,0,103,48,0,0,200,8,0,0,105,48,0,0,200,8,0,0,107,48,0,0,200,8,0,0,109,48,0,0,200,8,0,0,111,48,0,0,200,8,0,0,113,48,0,0,12,9,0,0,115,48,0,0,80,2,0,0,0,0,0,0,12,9,0,0,152,48,0,0,80,2,0,0,0,0,0,0,255,15,0,0,6,16,0,0,18,16,0,0,28,16,0,0,255,255,255,255,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,11,0,0,0,5,0,0,0,10,0,0,0,7,0,0,0,14,0,0,0,15,0,0,0,13,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,24,0,0,0,48,0,0,0,96,0,0,0,67,0,0,0,5,0,0,0,10,0,0,0,20,0,0,0,40,0,0,0,80,0,0,0,35,0,0,0,70,0,0,0,15,0,0,0,30,0,0,0,60,0,0,0,120,0,0,0,115,0,0,0,101,0,0,0,73,0,0,0,17,0,0,0,34,0,0,0,68,0,0,0,11,0,0,0,22,0,0,0,44,0,0,0,88,0,0,0,51,0,0,0,102,0,0,0,79,0,0,0,29,0,0,0,58,0,0,0,116,0,0,0,107,0,0,0,85,0,0,0,41,0,0,0,82,0,0,0,39,0,0,0,78,0,0,0,31,0,0,0,62,0,0,0,124,0,0,0,123,0,0,0,117,0,0,0,105,0,0,0,81,0,0,0,33,0,0,0,66,0,0,0,7,0,0,0,14,0,0,0,28,0,0,0,56,0,0,0,112,0,0,0,99,0,0,0,69,0,0,0,9,0,0,0,18,0,0,0,36,0,0,0,72,0,0,0,19,0,0,0,38,0,0,0,76,0,0,0,27,0,0,0,54,0,0,0,108,0,0,0,91,0,0,0,53,0,0,0,106,0,0,0,87,0,0,0,45,0,0,0,90,0,0,0,55,0,0,0,110,0,0,0,95,0,0,0,61,0,0,0,122,0,0,0,119,0,0,0,109,0,0,0,89,0,0,0,49,0,0,0,98,0,0,0,71,0,0,0,13,0,0,0,26,0,0,0,52,0,0,0,104,0,0,0,83,0,0,0,37,0,0,0,74,0,0,0,23,0,0,0,46,0,0,0,92,0,0,0,59,0,0,0,118,0,0,0,111,0,0,0,93,0,0,0,57,0,0,0,114,0,0,0,103,0,0,0,77,0,0,0,25,0,0,0,50,0,0,0,100,0,0,0,75,0,0,0,21,0,0,0,42,0,0,0,84,0,0,0,43,0,0,0,86,0,0,0,47,0,0,0,94,0,0,0,63,0,0,0,126,0,0,0,127,0,0,0,125,0,0,0,121,0,0,0,113,0,0,0,97,0,0,0,65,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,4,0,0,0,2,0,0,0,8,0,0,0,5,0,0,0,10,0,0,0,3,0,0,0,14,0,0,0,9,0,0,0,7,0,0,0,6,0,0,0,13,0,0,0,11,0,0,0,12,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,14,0,0,0,8,0,0,0,56,0,0,0,3,0,0,0,63,0,0,0,15,0,0,0,31,0,0,0,9,0,0,0,90,0,0,0,57,0,0,0,21,0,0,0,4,0,0,0,28,0,0,0,64,0,0,0,67,0,0,0,16,0,0,0,112,0,0,0,32,0,0,0,97,0,0,0,10,0,0,0,108,0,0,0,91,0,0,0,70,0,0,0,58,0,0,0,38,0,0,0,22,0,0,0,47,0,0,0,5,0,0,0,54,0,0,0,29,0,0,0,19,0,0,0,65,0,0,0,95,0,0,0,68,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,113,0,0,0,115,0,0,0,33,0,0,0,77,0,0,0,98,0,0,0,117,0,0,0,11,0,0,0,87,0,0,0,109,0,0,0,35,0,0,0,92,0,0,0,74,0,0,0,71,0,0,0,79,0,0,0,59,0,0,0,104,0,0,0,39,0,0,0,100,0,0,0,23,0,0,0,82,0,0,0,48,0,0,0,119,0,0,0,6,0,0,0,126,0,0,0,55,0,0,0,13,0,0,0,30,0,0,0,62,0,0,0,20,0,0,0,89,0,0,0,66,0,0,0,27,0,0,0,96,0,0,0,111,0,0,0,69,0,0,0,107,0,0,0,46,0,0,0,37,0,0,0,18,0,0,0,53,0,0,0,44,0,0,0,94,0,0,0,114,0,0,0,42,0,0,0,116,0,0,0,76,0,0,0,34,0,0,0,86,0,0,0,78,0,0,0,73,0,0,0,99,0,0,0,103,0,0,0,118,0,0,0,81,0,0,0,12,0,0,0,125,0,0,0,88,0,0,0,61,0,0,0,110,0,0,0,26,0,0,0,36,0,0,0,106,0,0,0,93,0,0,0,52,0,0,0,75,0,0,0,41,0,0,0,72,0,0,0,85,0,0,0,80,0,0,0,102,0,0,0,60,0,0,0,124,0,0,0,105,0,0,0,25,0,0,0,40,0,0,0,51,0,0,0,101,0,0,0,84,0,0,0,24,0,0,0,123,0,0,0,83,0,0,0,50,0,0,0,49,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,136,0,0,0,5,0,0,0,144,0,0,0,6,0,0,0,152,0,0,0,9,0,0,0,176,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,253,255,255,255,254,255,255,255,0,0,0,0,112,2,0,0,168,2,0,0,200,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,0,0,0,0,32,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,96,2,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,80,2,0,0,3,0,0,0,7,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,216,2,0,0,3,0,0,0,8,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,2,0,0,3,0,0,0,9,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,240,10,0,0,96,11,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,0,0,0,81,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,5,0,0,0,73,58,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,5,0,0,0,7,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,211,0,0,0,1,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,121,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,143,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,169,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,187,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,209,0,0,0,69,114,114,111,114,58,32,108,97,98,101,108,105,110,103,32,119,111,114,107,32,111,118,101,114,102,108,111,119,46,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,40,37,100,41,32,114,101,113,117,101,115,116,101,100,46,10,0,85,110,107,110,111,119,110,32,111,114,32,117,110,115,117,112,112,111,114,116,101,100,32,108,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,114,101,113,117,101,115,116,101,100,46,32,83,101,116,32,116,111,32,109,97,110,117,97,108,46,10,0,76,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,46,10,0,77,65,78,85,65,76,0,65,85,84,79,95,77,69,68,73,65,78,0,65,85,84,79,95,79,84,83,85,0,65,85,84,79,95,65,68,65,80,84,73,86,69,65,85,84,79,95,66,82,65,67,75,69,84,73,78,71,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,109,97,114,107,101,114,32,99,111,117,110,116,115,32,45,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,43,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,109,101,100,105,97,110,0,79,116,115,117,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,37,115,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,63,63,63,32,49,10,0,63,63,63,32,50,10,0,63,63,63,32,51,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,112,97,115,115,101,100,32,116,111,32,97,114,73,109,97,103,101,80,114,111,99,72,105,115,116,40,41,46,10,0,0,0,0,1,0,1,1,1,0,2,4,255,255,5,3,1,0,2,255,6,7,255,3,1,2,2,3,2,3,2,3,3,0,255,4,6,7,5,255,1,4,5,4,4,5,5,4,5,7,6,6,6,7,7,7,6,255,2,4,6,7,5,3,255,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,255,255,3,255,5,6,255,255,9,10,255,12,255,255,15,255,17,18,255,20,255,255,23,24,255,255,27,255,29,30,255,255,1,2,255,4,255,255,7,8,255,255,11,255,13,14,255,16,255,255,19,255,21,22,255,255,25,26,255,28,255,255,31,69,114,114,111,114,58,32,117,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,46,10,0,69,114,114,111,114,58,32,78,85,76,76,32,112,97,116,116,72,97,110,100,108,101,46,10,0,69,114,114,111,114,58,32,99,97,110,39,116,32,108,111,97,100,32,112,97,116,116,101,114,110,32,102,114,111,109,32,78,85,76,76,32,98,117,102,102,101,114,46,10,0,69,114,114,111,114,58,32,111,117,116,32,111,102,32,109,101,109,111,114,121,46,10,0,32,9,10,13,0,80,97,116,116,101,114,110,32,68,97,116,97,32,114,101,97,100,32,101,114,114,111,114,33,33,10,0,69,114,114,111,114,32,111,112,101,110,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,114,101,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,46,10,0,114,98,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,115,32,102,105,108,101,32,34,37,115,34,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,102,105,108,101,32,108,101,110,103,116,104,46,0,69,114,114,111,114,58,32,115,117,112,112,108,105,101,100,32,102,105,108,101,32,100,111,101,115,32,110,111,116,32,97,112,112,101,97,114,32,116,111,32,98,101,32,97,110,32,65,82,84,111,111,108,75,105,116,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,114,101,97,100,32,102,114,111,109,32,102,105,108,101,46,0,69,114,114,111,114,58,32,105,99,112,71,101,116,74,95,85,95,88,99,0,69,114,114,111,114,58,32,109,97,108,108,111,99,10,0,69,114,114,111,114,32,49,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,50,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,51,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,52,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,53,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,54,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,55,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,114,0,69,114,114,111,114,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,46,10,0,37,115,37,115,10,0,0,37,100,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,110,117,109,98,101,114,32,111,102,32,109,97,114,107,101,114,32,99,111,110,102,105,103,115,32,116,111,32,114,101,97,100,46,10,0,79,117,116,32,111,102,32,109,101,109,111,114,121,33,33,10,0,37,108,108,117,37,99,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,112,97,116,116,101,114,110,32,39,37,115,39,32,115,112,101,99,105,102,105,101,100,32,105,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,117,114,97,116,105,111,110,32,119,104,105,108,101,32,105,110,32,98,97,114,99,111,100,101,45,111,110,108,121,32,109,111,100,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,100,105,114,101,99,116,111,114,121,32,110,97,109,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,108,111,97,100,32,112,97,116,116,101,114,110,32,39,37,115,39,46,10,0,37,108,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,112,97,116,116,101,114,110,32,119,105,100,116,104,46,10,0,37,108,102,32,37,108,102,32,37,108,102,32,37,108,102,0,37,102,32,37,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,76,105,110,101,115,32,50,32,45,32,52,32,109,117,115,116,32,98,101,32,109,97,114,107,101,114,32,116,114,97,110,115,102,111,114,109,46,10,0,97,114,103,108,67,97,109,101,114,97,70,114,117,115,116,117,109,40,41,58,32,97,114,80,97,114,97,109,68,101,99,111,109,112,77,97,116,40,41,32,105,110,100,105,99,97,116,101,100,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,46,10,0,108,111,97,100,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,32,37,115,32,102,111,114,32,99,97,109,101,114,97,46,10,0,42,42,42,32,67,97,109,101,114,97,32,80,97,114,97,109,101,116,101,114,32,114,101,115,105,122,101,100,32,102,114,111,109,32,37,100,44,32,37,100,46,32,42,42,42,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,114,97,109,76,84,67,114,101,97,116,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,99,114,101,97,116,105,110,103,32,51,68,32,104,97,110,100,108,101,0,108,111,97,100,77,97,114,107,101,114,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,37,115,46,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,97,114,107,101,114,46,10,0,99,111,110,102,105,103,32,100,97,116,97,32,108,111,97,100,32,101,114,114,111,114,32,33,33,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,117,108,116,105,109,97,114,107,101,114,46,10,0,80,97,116,116,101,114,110,32,100,101,116,101,99,116,105,111,110,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,80,97,116,116,101,114,110,32,114,97,116,105,111,32,115,105,122,101,32,115,101,116,32,116,111,32,37,102,46,10,0,76,97,98,101,108,105,110,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,111,110,46,0,111,102,102,46,0,68,101,98,117,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,10,0,73,109,97,103,101,32,112,114,111,99,46,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,118,105,115,105,98,108,101,39,93,32,61,32,36,48,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,73,100,39,93,32,61,32,36,49,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,84,121,112,101,39,93,32,61,32,36,50,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,119,105,100,116,104,39,93,32,61,32,36,51,59,32,125,0,123,32,118,97,114,32,36,97,32,61,32,97,114,103,117,109,101,110,116,115,59,32,118,97,114,32,105,32,61,32,49,50,59,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,32,112,111,115,58,32,91,48,44,48,93,44,32,108,105,110,101,58,32,91,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,93,44,32,118,101,114,116,101,120,58,32,91,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,93,32,125,41,59,32,125,32,118,97,114,32,109,97,114,107,101,114,73,110,102,111,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,97,114,101,97,34,93,32,61,32,36,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,34,93,32,61,32,36,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,80,97,116,116,34,93,32,61,32,36,50,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,77,97,116,114,105,120,34,93,32,61,32,36,51,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,34,93,32,61,32,36,52,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,80,97,116,116,34,93,32,61,32,36,53,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,77,97,116,114,105,120,34,93,32,61,32,36,54,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,34,93,32,61,32,36,55,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,80,97,116,116,34,93,32,61,32,36,56,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,77,97,116,114,105,120,34,93,32,61,32,36,57,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,48,93,32,61,32,36,49,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,49,93,32,61,32,36,49,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,101,114,114,111,114,67,111,114,114,101,99,116,101,100,34,93,32,61,32,36,97,91,105,43,43,93,59,32,125,0,115,101,116,117,112,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,116,116,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,65,108,108,111,99,97,116,101,100,32,118,105,100,101,111,70,114,97,109,101,83,105,122,101,32,37,100,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,102,114,97,109,101,77,97,108,108,111,99,32,61,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,112,111,105,110,116,101,114,34,93,32,61,32,36,49,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,115,105,122,101,34,93,32,61,32,36,50,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,99,97,109,101,114,97,34,93,32,61,32,36,51,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,116,114,97,110,115,102,111,114,109,34,93,32,61,32,36,52,59,32,125,0,115,101,116,117,112,0,116,101,97,114,100,111,119,110,0,95,97,100,100,77,97,114,107,101,114,0,95,97,100,100,77,117,108,116,105,77,97,114,107,101,114,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,67,111,117,110,116,0,95,108,111,97,100,67,97,109,101,114,97,0,115,101,116,77,97,114,107,101,114,73,110,102,111,68,105,114,0,115,101,116,77,97,114,107,101,114,73,110,102,111,86,101,114,116,101,120,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,67,111,110,116,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,82,111,98,117,115,116,0,100,101,116,101,99,116,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,69,97,99,104,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,0,115,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,80,114,111,99,101,115,115,105,110,103,73,109,97,103,101,0,115,101,116,76,111,103,76,101,118,101,108,0,103,101,116,76,111,103,76,101,118,101,108,0,115,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,115,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,115,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,103,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,115,101,116,84,104,114,101,115,104,111,108,100,0,103,101,116,84,104,114,101,115,104,111,108,100,0,115,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,103,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,115,101,116,80,97,116,116,82,97,116,105,111,0,103,101,116,80,97,116,116,82,97,116,105,111,0,115,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,103,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,115,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,103,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,115,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,103,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,69,82,82,79,82,95,65,82,67,79,78,84,82,79,76,76,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,85,76,84,73,77,65,82,75,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,65,82,75,69,82,95,73,78,68,69,88,95,79,85,84,95,79,70,95,66,79,85,78,68,83,0,65,82,95,68,69,66,85,71,95,68,73,83,65,66,76,69,0,65,82,95,68,69,66,85,71,95,69,78,65,66,76,69,0,65,82,95,68,69,70,65,85,76,84,95,68,69,66,85,71,95,77,79,68,69,0,65,82,95,76,65,66,69,76,73,78,71,95,87,72,73,84,69,95,82,69,71,73,79,78,0,65,82,95,76,65,66,69,76,73,78,71,95,66,76,65,67,75,95,82,69,71,73,79,78,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,77,79,68,69,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,82,65,77,69,95,73,77,65,71,69,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,73,69,76,68,95,73,77,65,71,69,0,65,82,95,68,69,70,65,85,76,84,95,73,77,65,71,69,95,80,82,79,67,95,77,79,68,69,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,68,69,84,69,67,84,73,79,78,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,68,69,70,65,85,76,84,95,80,65,84,84,69,82,78,95,68,69,84,69,67,84,73,79,78,95,77,79,68,69,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,78,79,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,95,86,50,0,65,82,95,68,69,70,65,85,76,84,95,77,65,82,75,69,82,95,69,88,84,82,65,67,84,73,79,78,95,77,79,68,69,0,65,82,95,77,65,88,95,76,79,79,80,95,67,79,85,78,84,0,65,82,95,76,79,79,80,95,66,82,69,65,75,95,84,72,82,69,83,72,0,65,82,95,76,79,71,95,76,69,86,69,76,95,68,69,66,85,71,0,65,82,95,76,79,71,95,76,69,86,69,76,95,73,78,70,79,0,65,82,95,76,79,71,95,76,69,86,69,76,95,87,65,82,78,0,65,82,95,76,79,71,95,76,69,86,69,76,95,69,82,82,79,82,0,65,82,95,76,79,71,95,76,69,86,69,76,95,82,69,76,95,73,78,70,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,72,65,77,77,73,78,71,54,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,80,65,82,73,84,89,54,53,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,57,95,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,53,95,53,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,77,65,78,85,65,76,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,77,69,68,73,65,78,0,65,82,95,76,65],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),
allocate([66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,79,84,83,85,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,65,68,65,80,84,73,86,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,78,79,78,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,65,84,84,69,82,78,95,69,88,84,82,65,67,84,73,79,78,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,71,69,78,69,82,73,67,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,84,82,65,83,84,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,78,79,84,95,70,79,85,78,68,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,69,68,67,95,70,65,73,76,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,70,73,68,69,78,67,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,95,77,85,76,84,73,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,72,69,85,82,73,83,84,73,67,95,84,82,79,85,66,76,69,83,79,77,69,95,77,65,84,82,73,88,95,67,79,68,69,83,0,118,105,105,102,0,118,105,105,105,0,100,105,105,0,118,105,105,100,0,105,105,0,118,105,105,0,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,105,105,105,105,0,105,105,105,105,105,0,118,111,105,100,0,98,111,111,108,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,108,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,101,116,105,101,110,110,101,47,119,111,114,107,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,101,116,105,101,110,110,101,47,119,111,114,107,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,114,119,97],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+15945);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0,awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57,BindingError=void 0,InternalError=void 0,EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){var n=EXCEPTIONS.infos[t];if(n.adjusted===e)return t}return e},addRef:function(e){if(e){var t=EXCEPTIONS.infos[e];t.refcount++}},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){if(e){var t=EXCEPTIONS.infos[e];t.refcount=0}}};Module._memset=_memset;var _BDtoILow=!0;Module._bitshift64Shl=_bitshift64Shl,Module._free=_free,Module._malloc=_malloc;var _emscripten_asm_const_int=!0;Module._i64Add=_i64Add;var _fabs=Math_abs,_sqrt=Math_sqrt,emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}],_sin=Math_sin,ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};Module._bitshift64Lshr=_bitshift64Lshr;var _llvm_ctlz_i32=!0,_BDtoIHigh=!0,UnboundTypeError=void 0,ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:FS.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";e=i+"/"+e,t="/"===i.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var i=n(e.split("/")),r=n(t.split("/")),a=Math.min(i.length,r.length),o=a,s=0;s<a;s++)if(i[s]!==r[s]){o=s;break}for(var l=[],s=o;s<i.length;s++)l.push("..");return l=l.concat(r.slice(o)),l.join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,i,r){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0,o=0;o<i;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(l){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,r){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0;a<i;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(o){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var n=256,i=new Buffer(n),r=0,a=process.stdin.fd,o=!1;try{a=fs.openSync("/dev/stdin","r"),o=!0}catch(s){}r=fs.readSync(a,i,0,n,null),o&&fs.closeSync(a),t=r>0?i.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),null!==t&&(t+="\n")):"function"==typeof readline&&(t=readline(),null!==t&&(t+="\n"));if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,n,i){if(FS.isBlkdev(n)||FS.isFIFO(n))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var r=FS.createNode(e,t,n,i);return FS.isDir(r.mode)?(r.node_ops=MEMFS.ops_table.dir.node,r.stream_ops=MEMFS.ops_table.dir.stream,r.contents={}):FS.isFile(r.mode)?(r.node_ops=MEMFS.ops_table.file.node,r.stream_ops=MEMFS.ops_table.file.stream,r.usedBytes=0,r.contents=null):FS.isLink(r.mode)?(r.node_ops=MEMFS.ops_table.link.node,r.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(r.mode)&&(r.node_ops=MEMFS.ops_table.chrdev.node,r.stream_ops=MEMFS.ops_table.chrdev.stream),r.timestamp=Date.now(),e&&(e.contents[t]=r),r},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.buffer.byteLength:0;if(n>=t)return;var i=1048576;t=Math.max(t,n*(n<i?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,n,i){return MEMFS.createNode(e,t,n,i)},rename:function(e,t,n){if(FS.isDir(e.mode)){var i;try{i=FS.lookupNode(t,n)}catch(r){}if(i)for(var a in i.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=FS.lookupNode(e,t);for(var i in n.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var i=MEMFS.createNode(e,t,41471,0);return i.link=n,i},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,n,i,r){var a=e.node.contents;if(r>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-r,i);if(assert(o>=0),o>8&&a.subarray)t.set(a.subarray(r,r+o),n);else for(var s=0;s<o;s++)t[n+s]=a[r+s];return o},write:function(e,t,n,i,r,a){if(!i)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+i),
o.usedBytes=i,i;if(0===o.usedBytes&&0===r)return o.contents=new Uint8Array(t.subarray(n,n+i)),o.usedBytes=i,i;if(r+i<=o.usedBytes)return o.contents.set(t.subarray(n,n+i),r),i}if(MEMFS.expandFileStorage(o,r+i),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+i),r);else for(var s=0;s<i;s++)o.contents[r+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,r+i),i},llseek:function(e,t,n){var i=t;if(1===n?i+=e.position:2===n&&FS.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return i},allocate:function(e,t,n){MEMFS.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,i,r,a,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,l,c=e.node.contents;if(2&o||c.buffer!==t&&c.buffer!==t.buffer){if((r>0||r+i<e.node.usedBytes)&&(c=c.subarray?c.subarray(r,r+i):Array.prototype.slice.call(c,r,r+i)),l=!0,s=_malloc(i),!s)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(c,s)}else l=!1,s=c.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,i,r){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&r)return 0;MEMFS.stream_ops.write(e,t,0,i,n,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,n){IDBFS.getLocalSet(e,function(i,r){return i?n(i):void IDBFS.getRemoteSet(e,function(e,i){if(e)return n(e);var a=t?i:r,o=t?r:i;IDBFS.reconcile(a,o,n)})})},getDB:function(e,t){var n=IDBFS.dbs[e];if(n)return t(null,n);var i;try{i=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(r){return t(r)}i.onupgradeneeded=function(e){var t,n=e.target.result,i=e.target.transaction;t=n.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?i.objectStore(IDBFS.DB_STORE_NAME):n.createObjectStore(IDBFS.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},i.onsuccess=function(){n=i.result,IDBFS.dbs[e]=n,t(null,n)},i.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function i(e){return function(t){return PATH.join2(e,t)}}for(var r={},a=FS.readdir(e.mountpoint).filter(n).map(i(e.mountpoint));a.length;){var o,s=a.pop();try{o=FS.stat(s)}catch(l){return t(l)}FS.isDir(o.mode)&&a.push.apply(a,FS.readdir(s).filter(n).map(i(s))),r[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var n={};IDBFS.getDB(e.mountpoint,function(e,i){if(e)return t(e);var r=i.transaction([IDBFS.DB_STORE_NAME],"readonly");r.onerror=function(e){t(this.error),e.preventDefault()};var a=r.objectStore(IDBFS.DB_STORE_NAME),o=a.index("timestamp");o.openKeyCursor().onsuccess=function(e){var r=e.target.result;return r?(n[r.primaryKey]={timestamp:r.key},void r["continue"]()):t(null,{type:"remote",db:i,entries:n})}})},loadLocalEntry:function(e,t){var n,i;try{var r=FS.lookupPath(e);i=r.node,n=FS.stat(e)}catch(a){return t(a)}return FS.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):FS.isFile(n.mode)?(i.contents=MEMFS.getFileDataAsTypedArray(i),t(null,{timestamp:n.mtime,mode:n.mode,contents:i.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return n(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(i){return n(i)}n(null)},removeLocalEntry:function(e,t){try{var n=(FS.lookupPath(e),FS.stat(e));FS.isDir(n.mode)?FS.rmdir(e):FS.isFile(n.mode)&&FS.unlink(e)}catch(i){return t(i)}t(null)},loadRemoteEntry:function(e,t,n){var i=e.get(t);i.onsuccess=function(e){n(null,e.target.result)},i.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,i){var r=e.put(n,t);r.onsuccess=function(){i(null)},r.onerror=function(e){i(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var i=e["delete"](t);i.onsuccess=function(){n(null)},i.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function i(e){if(e){if(!i.errored)return i.errored=!0,n(e)}else if(++s>=r)return n(null)}var r=0,a=[];Object.keys(e.entries).forEach(function(n){var i=e.entries[n],o=t.entries[n];(!o||i.timestamp>o.timestamp)&&(a.push(n),r++)});var o=[];if(Object.keys(t.entries).forEach(function(n){var i=(t.entries[n],e.entries[n]);i||(o.push(n),r++)}),!r)return n(null);var s=0,l="remote"===e.type?e.db:t.db,c=l.transaction([IDBFS.DB_STORE_NAME],"readwrite"),u=c.objectStore(IDBFS.DB_STORE_NAME);c.onerror=function(e){i(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(u,e,function(t,n){return t?i(t):void IDBFS.storeLocalEntry(e,n,i)}):IDBFS.loadLocalEntry(e,function(t,n){return t?i(t):void IDBFS.storeRemoteEntry(u,e,n,i)})}),o.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,i):IDBFS.removeRemoteEntry(u,e,i)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,n,i){if(!FS.isDir(n)&&!FS.isFile(n)&&!FS.isLink(n))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=FS.createNode(e,t,n);return r.node_ops=NODEFS.node_ops,r.stream_ops=NODEFS.stream_ops,r},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(n){if(!n.code)throw n;throw new FS.ErrnoError(ERRNO_CODES[n.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if(e&=-32769,e in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,n=NODEFS.realPath(e);try{t=fs.lstatSync(n)}catch(i){if(!i.code)throw i;throw new FS.ErrnoError(ERRNO_CODES[i.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var i=new Date(t.timestamp);fs.utimesSync(n,i,i)}void 0!==t.size&&fs.truncateSync(n,t.size)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(ERRNO_CODES[r.code])}},lookup:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t),i=NODEFS.getMode(n);return NODEFS.createNode(e,t,i)},mknod:function(e,t,n,i){var r=NODEFS.createNode(e,t,n,i),a=NODEFS.realPath(r);try{FS.isDir(r.mode)?fs.mkdirSync(a,r.mode):fs.writeFileSync(a,"",{mode:r.mode})}catch(o){if(!o.code)throw o;throw new FS.ErrnoError(ERRNO_CODES[o.code])}return r},rename:function(e,t,n){var i=NODEFS.realPath(e),r=PATH.join2(NODEFS.realPath(t),n);try{fs.renameSync(i,r)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},unlink:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(n)}catch(i){if(!i.code)throw i;throw new FS.ErrnoError(ERRNO_CODES[i.code])}},rmdir:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(n)}catch(i){if(!i.code)throw i;throw new FS.ErrnoError(ERRNO_CODES[i.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(n){if(!n.code)throw n;throw new FS.ErrnoError(ERRNO_CODES[n.code])}},symlink:function(e,t,n){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(n,i)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(ERRNO_CODES[r.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(n){if(!n.code)throw n;throw new FS.ErrnoError(ERRNO_CODES[n.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(n){if(!n.code)throw n;throw new FS.ErrnoError(ERRNO_CODES[n.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(t){if(!t.code)throw t;throw new FS.ErrnoError(ERRNO_CODES[t.code])}},read:function(e,t,n,i,r){if(0===i)return 0;var a,o=new Buffer(i);try{a=fs.readSync(e.nfd,o,0,i,r)}catch(s){throw new FS.ErrnoError(ERRNO_CODES[s.code])}if(a>0)for(var l=0;l<a;l++)t[n+l]=o[l];return a},write:function(e,t,n,i,r){var a,o=new Buffer(t.subarray(n,n+i));try{a=fs.writeSync(e.nfd,o,0,i,r)}catch(s){throw new FS.ErrnoError(ERRNO_CODES[s.code])}return a},llseek:function(e,t,n){var i=t;if(1===n)i+=e.position;else if(2===n&&FS.isFile(e.node.mode))try{var r=fs.fstatSync(e.nfd);i+=r.size}catch(a){throw new FS.ErrnoError(ERRNO_CODES[a.code])}if(i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return i}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function t(e){for(var t=e.split("/"),n=i,a=0;a<t.length-1;a++){var o=t.slice(0,a+1).join("/");r[o]||(r[o]=WORKERFS.createNode(n,o,WORKERFS.DIR_MODE,0)),n=r[o]}return n}function n(e){var t=e.split("/");return t[t.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var i=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),r={};return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(i){var r=i.filename.substr(1);WORKERFS.createNode(t(r),n(r),WORKERFS.FILE_MODE,0,e.blob.slice(i.start,i.end))})}),i},createNode:function(e,t,n,i,r,a){var o=FS.createNode(e,t,n);return o.mode=n,o.node_ops=WORKERFS.node_ops,o.stream_ops=WORKERFS.stream_ops,o.timestamp=(a||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),n===WORKERFS.FILE_MODE?(o.size=r.size,o.contents=r):(o.size=4096,o.contents={}),e&&(e.contents[t]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,n,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,n,i,r){if(r>=e.node.size)return 0;var a=e.node.contents.slice(r,r+i),o=WORKERFS.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,i,r){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,n){var i=t;if(1===n?i+=e.position:2===n&&FS.isFile(e.node.mode)&&(i+=e.node.size),i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return i}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(e=PATH.resolve(FS.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var i in n)void 0===t[i]&&(t[i]=n[i]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var r=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=FS.root,o="/",s=0;s<r.length;s++){var l=s===r.length-1;if(l&&t.parent)break;if(a=FS.lookupNode(a,r[s]),o=PATH.join2(o,r[s]),FS.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var c=0;FS.isLink(a.mode);){var u=FS.readlink(o);o=PATH.resolve(PATH.dirname(o),u);var d=FS.lookupPath(o,{recurse_count:t.recurse_count});if(a=d.node,c++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i)|0;return(e+n>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var n=FS.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=FS.mayLookup(e);if(n)throw new FS.ErrnoError(n,e);for(var i=FS.hashName(e.id,t),r=FS.nameTable[i];r;r=r.name_next){var a=r.name;if(r.parent.id===e.id&&a===t)return r}return FS.lookup(e,t)},createNode:function(e,t,n,i){if(!FS.FSNode){FS.FSNode=function(e,t,n,i){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=i},FS.FSNode.prototype={};var r=365,a=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&r)===r},set:function(e){e?this.mode|=r:this.mode&=~r}},write:{get:function(){return(this.mode&a)===a},set:function(e){e?this.mode|=a:this.mode&=~a}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var o=new FS.FSNode(e,t,n,i);return FS.hashAddNode(o),o},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if("undefined"==typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(t.indexOf("r")===-1||292&e.mode)&&(t.indexOf("w")===-1||146&e.mode)&&(t.indexOf("x")===-1||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t?t:e.node_ops.lookup?0:ERRNO_CODES.EACCES},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(n){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var i;try{i=FS.lookupNode(e,t)}catch(r){return r.errno}var a=FS.nodePermissions(e,"wx");if(a)return a;if(n){if(!FS.isDir(i.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(i)||FS.getPath(i)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(i.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!==(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!FS.streams[n])return n;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,n){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var i=new FS.FSStream;for(var r in e)i[r]=e[r];e=i;var a=FS.nextfd(t,n);return e.fd=a,FS.streams[a]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var i=n.pop();t.push(i),n.push.apply(n,i.mounts)}return t},syncfs:function(e,t){function n(e){if(e){if(!n.errored)return n.errored=!0,t(e)}else++r>=i.length&&t(null)}"function"==typeof e&&(t=e,e=!1);var i=FS.getMounts(FS.root.mount),r=0;i.forEach(function(t){return t.type.syncfs?void t.type.syncfs(t,e,n):n(null)})},mount:function(e,t,n){var i,r="/"===n,a=!n;if(r&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!r&&!a){var o=FS.lookupPath(n,{follow_mount:!1});if(n=o.path,i=o.node,FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(i.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,r?FS.root=l:i&&(i.mounted=s,i.mount&&i.mount.mounts.push(s)),l},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=t.node,i=n.mounted,r=FS.getMounts(i);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var n=t.name_next;r.indexOf(t.mount)!==-1&&FS.destroyNode(t),t=n}}),n.mounted=null;var a=n.mount.mounts.indexOf(i);assert(a!==-1),n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var i=FS.lookupPath(e,{parent:!0}),r=i.node,a=PATH.basename(e);if(!a||"."===a||".."===a)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=FS.mayCreate(r,a);if(o)throw new FS.ErrnoError(o);if(!r.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.mknod(r,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,n){return"undefined"==typeof n&&(n=t,t=438),t|=8192,FS.mknod(e,t,n)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n=FS.lookupPath(t,{parent:!0}),i=n.node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var r=PATH.basename(t),a=FS.mayCreate(i,r);if(a)throw new FS.ErrnoError(a);if(!i.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.symlink(i,r,e)},rename:function(e,t){var n,i,r,a=PATH.dirname(e),o=PATH.dirname(t),s=PATH.basename(e),l=PATH.basename(t);try{n=FS.lookupPath(e,{parent:!0}),i=n.node,n=FS.lookupPath(t,{parent:!0}),r=n.node}catch(c){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!i||!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(i.mount!==r.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var u=FS.lookupNode(i,s),d=PATH.relative(e,o);if("."!==d.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(d=PATH.relative(t,a),"."!==d.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var f;try{f=FS.lookupNode(r,l)}catch(c){}if(u!==f){var h=FS.isDir(u.mode),m=FS.mayDelete(i,s,h);if(m)throw new FS.ErrnoError(m);if(m=f?FS.mayDelete(r,l,h):FS.mayCreate(r,l))throw new FS.ErrnoError(m);if(!i.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(u)||f&&FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(r!==i&&(m=FS.nodePermissions(i,"w")))throw new FS.ErrnoError(m);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(c){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+c.message)}FS.hashRemoveNode(u);try{i.node_ops.rename(u,r,l)}catch(c){throw c}finally{FS.hashAddNode(u)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(c){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+c.message)}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,i=PATH.basename(e),r=FS.lookupNode(n,i),a=FS.mayDelete(n,i,!0);if(a)throw new FS.ErrnoError(a);if(!n.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(o){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}n.node_ops.rmdir(n,i),FS.destroyNode(r);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(o){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+o.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,i=PATH.basename(e),r=FS.lookupNode(n,i),a=FS.mayDelete(n,i,!1);if(a)throw a===ERRNO_CODES.EISDIR&&(a=ERRNO_CODES.EPERM),new FS.ErrnoError(a);if(!n.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(o){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}n.node_ops.unlink(n,i),FS.destroyNode(r);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(o){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+o.message)}},readlink:function(e){var t=FS.lookupPath(e),n=t.node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!n.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=FS.lookupPath(e,{follow:!t}),i=n.node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!i.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.getattr(i)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,n){var i;if("string"==typeof e){var r=FS.lookupPath(e,{follow:!n});i=r.node}else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{mode:4095&t|i.mode&-4096,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(n.node,t)},chown:function(e,t,n,i){var r;if("string"==typeof e){var a=FS.lookupPath(e,{follow:!i});r=a.node}else r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(e,t,n){FS.chown(e,t,n,!0)},fchown:function(e,t,n){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(i.node,t,n)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n;if("string"==typeof e){var i=FS.lookupPath(e,{follow:!0});n=i.node}else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=FS.nodePermissions(n,"w");if(r)throw new FS.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&n.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(n.node,t)},utime:function(e,t,n){var i=FS.lookupPath(e,{follow:!0}),r=i.node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n,i,r){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);t="string"==typeof t?FS.modeStringToFlags(t):t,n="undefined"==typeof n?438:n,n=64&t?4095&n|32768:0;var a;if("object"==typeof e)a=e;else{e=PATH.normalize(e);try{var o=FS.lookupPath(e,{follow:!(131072&t)});a=o.node}catch(s){}}var l=!1;if(64&t)if(a){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else a=FS.mknod(e,n,0),l=!0;if(!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(a.mode)&&(t&=-513),65536&t&&!FS.isDir(a.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!l){var c=FS.mayOpen(a,t);if(c)throw new FS.ErrnoError(c)}512&t&&FS.truncate(a,0),t&=-641;var u=FS.createStream({node:a,path:FS.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},i,r);u.stream_ops.open&&u.stream_ops.open(u),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var d=0;1!==(2097155&t)&&(d|=FS.tracking.openFlags.READ),0!==(2097155&t)&&(d|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,d)}}catch(s){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+s.message)}return u},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{FS.closeStream(e.fd)}},llseek:function(e,t,n){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,i,r){if(i<0||r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=!0;if("undefined"==typeof r)r=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var o=e.stream_ops.read(e,t,n,i,r);return a||(e.position+=o),o},write:function(e,t,n,i,r,a){if(i<0||r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var o=!0;if("undefined"==typeof r)r=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,t,n,i,r,a);o||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(l){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+l.message)}return s},allocate:function(e,t,n){if(t<0||n<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,i,r,a,o){if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,n,i,r,a,o)},msync:function(e,t,n,i,r){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,i,r):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,i=FS.open(e,t.flags),r=FS.stat(e),a=r.size,o=new Uint8Array(a);return FS.read(i,o,0,a,0),"utf8"===t.encoding?n=UTF8ArrayToString(o,0):"binary"===t.encoding&&(n=o),FS.close(i),n},writeFile:function(e,t,n){if(n=n||{},n.flags=n.flags||"w",n.encoding=n.encoding||"utf8","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var i=FS.open(e,n.flags,n.mode);if("utf8"===n.encoding){var r=new Uint8Array(lengthBytesUTF8(t)+1),a=stringToUTF8Array(t,r,0,r.length);FS.write(i,r,0,a,0,n.canOwn)}else"binary"===n.encoding&&FS.write(i,t,0,t.length,0,n.canOwn);FS.close(i)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var n=FS.nodePermissions(t.node,"x");if(n)throw new FS.ErrnoError(n);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,n,i,r){return i}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,i=FS.getStream(n);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return i.path}}};return r.parent=r,r}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var n=FS.open("/dev/stderr","w");assert(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,n){
assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=n||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var n=FS.streams[t];n&&FS.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=PATH.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var n=FS.analyzePath(e,t);return n.exists?n.object:(___setErrNo(n.error),null)},analyzePath:function(e,t){try{var n=FS.lookupPath(e,{follow:!t});e=n.path}catch(i){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=PATH.basename(e),n=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(i){r.error=i.errno}return r},createFolder:function(e,t,n,i){var r=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(n,i);return FS.mkdir(r,a)},createPath:function(e,t,n,i){e="string"==typeof e?e:FS.getPath(e);for(var r=t.split("/").reverse();r.length;){var a=r.pop();if(a){var o=PATH.join2(e,a);try{FS.mkdir(o)}catch(s){}e=o}}return o},createFile:function(e,t,n,i,r){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(i,r);return FS.create(a,o)},createDataFile:function(e,t,n,i,r,a){var o=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,s=FS.getMode(i,r),l=FS.create(o,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),u=0,d=n.length;u<d;++u)c[u]=n.charCodeAt(u);n=c}FS.chmod(l,146|s);var f=FS.open(l,"w");FS.write(f,n,0,n.length,0,a),FS.close(f),FS.chmod(l,s)}return l},createDevice:function(e,t,n,i){var r=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(!!n,!!i);FS.createDevice.major||(FS.createDevice.major=64);var o=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,t,i,r,a){for(var o=0,s=0;s<r;s++){var l;try{l=n()}catch(c){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;o++,t[i+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,a){for(var o=0;o<r;o++)try{i(t[n+o])}catch(s){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return r&&(e.node.timestamp=Date.now()),o}}),FS.mkdev(r,a,o)},createLink:function(e,t,n,i,r){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(n){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,n,i,r){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,i=Number(e.getResponseHeader("Content-length")),r=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=1048576;r||(a=i);var o=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>i-1)throw new Error("only "+i+" bytes available! programmer error!");var r=new XMLHttpRequest;if(r.open("GET",n,!1),i!==a&&r.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.send(null),!(r.status>=200&&r.status<300||304===r.status))throw new Error("Couldn't load "+n+". Status: "+r.status);return void 0!==r.response?new Uint8Array(r.response||[]):intArrayFromString(r.responseText||"",!0)},s=this;s.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,i-1),"undefined"==typeof s.chunks[e]&&(s.chunks[e]=o(t,n)),"undefined"==typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),this._length=i,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new a;Object.defineProperty(o,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:o}}else var s={isDevice:!1,url:n};var l=FS.createFile(e,t,s,i,r);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var c={},u=Object.keys(l.stream_ops);return u.forEach(function(e){var t=l.stream_ops[e];c[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),c.read=function(e,t,n,i,r){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var a=e.node.contents;if(r>=a.length)return 0;var o=Math.min(a.length-r,i);if(assert(o>=0),a.slice)for(var s=0;s<o;s++)t[n+s]=a[r+s];else for(var s=0;s<o;s++)t[n+s]=a.get(r+s);return o},l.stream_ops=c,l},createPreloadedFile:function(e,t,n,i,r,a,o,s,l,c){function u(n){function u(n){c&&c(),s||FS.createDataFile(e,t,n,i,r,l),a&&a(),removeRunDependency(f)}var h=!1;Module.preloadPlugins.forEach(function(e){h||e.canHandle(d)&&(e.handle(n,d,u,function(){o&&o(),removeRunDependency(f)}),h=!0)}),h||u(n)}Browser.init();var d=t?PATH.resolve(PATH.join2(e,t)):e,f=getUniqueRunDependency("cp "+d);addRunDependency(f),"string"==typeof n?Browser.asyncLoad(n,function(e){u(e)},o):u(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var i=FS.indexedDB();try{var r=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(a){return n(a)}r.onupgradeneeded=function(){console.log("creating db");var e=r.result;e.createObjectStore(FS.DB_STORE_NAME)},r.onsuccess=function(){function i(){0==c?t():n()}var a=r.result,o=a.transaction([FS.DB_STORE_NAME],"readwrite"),s=o.objectStore(FS.DB_STORE_NAME),l=0,c=0,u=e.length;e.forEach(function(e){var t=s.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){l++,l+c==u&&i()},t.onerror=function(){c++,l+c==u&&i()}}),o.onerror=n},r.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var i=FS.indexedDB();try{var r=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(a){return n(a)}r.onupgradeneeded=n,r.onsuccess=function(){function i(){0==u?t():n()}var a=r.result;try{var o=a.transaction([FS.DB_STORE_NAME],"readonly")}catch(s){return void n(s)}var l=o.objectStore(FS.DB_STORE_NAME),c=0,u=0,d=e.length;e.forEach(function(e){var t=l.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),c++,c+u==d&&i()},t.onerror=function(){u++,c+u==d&&i()}}),o.onerror=n},r.onerror=n}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(e===-100)n=FS.cwd();else{var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);n=i.path}t=PATH.join2(n,t)}return t},doStat:function(e,t,n){try{var i=e(t)}catch(r){if(r&&r.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(r.node)))return-ERRNO_CODES.ENOTDIR;throw r}return HEAP32[n>>2]=i.dev,HEAP32[n+4>>2]=0,HEAP32[n+8>>2]=i.ino,HEAP32[n+12>>2]=i.mode,HEAP32[n+16>>2]=i.nlink,HEAP32[n+20>>2]=i.uid,HEAP32[n+24>>2]=i.gid,HEAP32[n+28>>2]=i.rdev,HEAP32[n+32>>2]=0,HEAP32[n+36>>2]=i.size,HEAP32[n+40>>2]=4096,HEAP32[n+44>>2]=i.blocks,HEAP32[n+48>>2]=i.atime.getTime()/1e3|0,HEAP32[n+52>>2]=0,HEAP32[n+56>>2]=i.mtime.getTime()/1e3|0,HEAP32[n+60>>2]=0,HEAP32[n+64>>2]=i.ctime.getTime()/1e3|0,HEAP32[n+68>>2]=0,HEAP32[n+72>>2]=i.ino,0},doMsync:function(e,t,n,i){var r=new Uint8Array(HEAPU8.subarray(e,e+n));FS.msync(t,r,0,n,i)},doMkdir:function(e,t){return e=PATH.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-ERRNO_CODES.EINVAL;var i=FS.readlink(e);return i=i.slice(0,Math.max(0,n)),writeStringToMemory(i,t,!0),i.length},doAccess:function(e,t){if(t&-8)return-ERRNO_CODES.EINVAL;var n,i=FS.lookupPath(e,{follow:!0});n=i.node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&FS.nodePermissions(n,r)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,n){var i=FS.getStream(n);return i&&FS.close(i),FS.open(e,t,0,n,n).fd},doReadv:function(e,t,n,i){for(var r=0,a=0;a<n;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.read(e,HEAP8,o,s,i);if(l<0)return-1;if(r+=l,l<s)break}return r},doWritev:function(e,t,n,i){for(var r=0,a=0;a<n;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.write(e,HEAP8,o,s,i);if(l<0)return-1;r+=l}return r},varargs:0,get:function(e){SYSCALLS.varargs+=4;var t=HEAP32[SYSCALLS.varargs-4>>2];return t},getStr:function(){var e=Pointer_stringify(SYSCALLS.get());return e},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),n=SYSCALLS.get();if(e&&0===t)return null;var i=__read_sockaddr(t,n);if(i.errno)throw new FS.ErrnoError(i.errno);return i.addr=DNS.lookup_addr(i.addr)||i.addr,i},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:t===-1),e},getZero:function(){assert(0===SYSCALLS.get())}};Module._memcpy=_memcpy;var _cos=Math_cos,_BItoD=!0,_ceilf=Math_ceil,___dso_handle=allocate(1,"i32*",ALLOC_STATIC);if(embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_emval(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_dii:invoke_dii,invoke_vid:invoke_vid,invoke_di:invoke_di,invoke_i:invoke_i,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,_fabs:_fabs,___syscall221:___syscall221,_sin:_sin,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,integerReadValueFromPointer:integerReadValueFromPointer,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,count_emval_handles:count_emval_handles,_pthread_cleanup_push:_pthread_cleanup_push,__embind_register_integer:__embind_register_integer,extendError:extendError,___assert_fail:___assert_fail,init_emval:init_emval,__embind_register_void:__embind_register_void,___cxa_find_matching_catch:___cxa_find_matching_catch,_ceilf:_ceilf,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,embind_init_charCodes:embind_init_charCodes,_emscripten_asm_const_33:_emscripten_asm_const_33,throwBindingError:throwBindingError,___setErrNo:___setErrNo,__emval_register:__emval_register,_sbrk:_sbrk,readLatin1String:readLatin1String,___cxa_allocate_exception:___cxa_allocate_exception,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_sysconf:_sysconf,_embind_repr:_embind_repr,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,__embind_register_emval:__embind_register_emval,_cos:_cos,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,_sqrt:_sqrt,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,___syscall54:___syscall54,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,_pthread_cleanup_pop:_pthread_cleanup_pop,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_exit:_exit,__embind_register_std_string:__embind_register_std_string,new_:new_,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,__exit:__exit,___lock:___lock,___syscall6:___syscall6,___syscall5:___syscall5,ensureOverloadTable:ensureOverloadTable,__embind_register_constant:__embind_register_constant,_time:_time,requireFunction:requireFunction,runDestructors:runDestructors,getTypeName:getTypeName,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,_emscripten_asm_const_5:_emscripten_asm_const_5,_emscripten_asm_const_4:_emscripten_asm_const_4,replacePublicSymbol:replacePublicSymbol,___syscall145:___syscall145,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,n){"use asm";var i=new e.Int8Array(n);var r=new e.Int16Array(n);var a=new e.Int32Array(n);var o=new e.Uint8Array(n);var s=new e.Uint16Array(n);var l=new e.Uint32Array(n);var c=new e.Float32Array(n);var u=new e.Float64Array(n);var d=t.STACKTOP|0;var f=t.STACK_MAX|0;var h=t.tempDoublePtr|0;var m=t.ABORT|0;var p=t.cttz_i8|0;var g=t.___dso_handle|0;var v=0;var b=0;var y=0;var E=0;var w=e.NaN,_=e.Infinity;var x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;var P=0;var N=0;var O=0;var D=0;var I=0;var L=0;var F=0;var H=0;var U=0;var B=0;var j=e.Math.floor;var V=e.Math.abs;var z=e.Math.sqrt;var W=e.Math.pow;var G=e.Math.cos;var q=e.Math.sin;var Y=e.Math.tan;var X=e.Math.acos;var K=e.Math.asin;var Z=e.Math.atan;var J=e.Math.atan2;var Q=e.Math.exp;var ee=e.Math.log;var te=e.Math.ceil;var ne=e.Math.imul;var ie=e.Math.min;var re=e.Math.clz32;var ae=t.abort;var oe=t.assert;var se=t.invoke_iiii;var le=t.invoke_viiiii;var ce=t.invoke_dii;var ue=t.invoke_vid;var de=t.invoke_di;var fe=t.invoke_i;var he=t.invoke_vi;var me=t.invoke_vii;var pe=t.invoke_ii;var ge=t.invoke_viii;var ve=t.invoke_v;var be=t.invoke_viid;var ye=t.invoke_iiiii;var Ee=t.invoke_viiiiii;var we=t.invoke_iii;var _e=t.invoke_viiii;var xe=t._fabs;var Me=t.___syscall221;var ke=t._sin;var Te=t.floatReadValueFromPointer;var Se=t.simpleReadValueFromPointer;var Ae=t.integerReadValueFromPointer;var Ce=t.__embind_register_memory_view;var $e=t.throwInternalError;var Re=t.get_first_emval;var Pe=t._abort;var Ne=t.count_emval_handles;var Oe=t._pthread_cleanup_push;var De=t.__embind_register_integer;var Ie=t.extendError;var Le=t.___assert_fail;var Fe=t.init_emval;var He=t.__embind_register_void;var Ue=t.___cxa_find_matching_catch;var Be=t._ceilf;var je=t.getShiftFromSize;var Ve=t.__embind_register_function;var ze=t.embind_init_charCodes;var We=t._emscripten_asm_const_33;var Ge=t.throwBindingError;var qe=t.___setErrNo;var Ye=t.__emval_register;var Xe=t._sbrk;var Ke=t.readLatin1String;var Ze=t.___cxa_allocate_exception;var Je=t._emscripten_memcpy_big;var Qe=t.__embind_register_bool;var et=t.___resumeException;var tt=t.__ZSt18uncaught_exceptionv;var nt=t._sysconf;var it=t._embind_repr;var rt=t.__embind_register_std_wstring;var at=t.createNamedFunction;var ot=t.__embind_register_emval;var st=t._cos;var lt=t.throwUnboundTypeError;var ct=t._pthread_self;var ut=t.craftInvokerFunction;var dt=t.__emval_decref;var ft=t._sqrt;var ht=t.__embind_register_float;var mt=t.makeLegalFunctionName;var pt=t.___syscall54;var gt=t.___unlock;var vt=t.heap32VectorToArray;var bt=t._pthread_cleanup_pop;var yt=t.whenDependentTypesAreResolved;var Et=t._exit;var wt=t.__embind_register_std_string;var _t=t.new_;var xt=t.___cxa_atexit;var Mt=t.registerType;var kt=t.___cxa_throw;var Tt=t.__exit;var St=t.___lock;var At=t.___syscall6;var Ct=t.___syscall5;var $t=t.ensureOverloadTable;var Rt=t.__embind_register_constant;var Pt=t._time;var Nt=t.requireFunction;var Ot=t.runDestructors;var Dt=t.getTypeName;var It=t._atexit;var Lt=t.___syscall140;var Ft=t.exposePublicSymbol;var Ht=t._emscripten_asm_const_5;var Ut=t._emscripten_asm_const_4;var Bt=t.replacePublicSymbol;var jt=t.___syscall145;var Vt=t.___syscall146;var zt=0;function Wt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}k=C+-1|0;if((n|0)>1){c=0;f=m;h=m+(k<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{f=f+(C<<1)|0;h=h+(C<<1)|0}}}h=l+1179664|0;f=C+1|0;_=0-C|0;E=1-C|0;w=~C;y=t+4|0;e:do if((T|0)>1){x=(k|0)>1;c=(a[l+4>>2]|0)+f|0;M=1;n=e+((t<<1)+2)|0;e=m+(f<<1)|0;f=0;t:while(1){if(x){b=1;v=n;g=f;while(1){do if((o[v>>0]|0|0)>(s|0)){r[e>>1]=0;i[c>>0]=0;f=g}else{i[c>>0]=-1;f=r[e+(_<<1)>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}t=r[e+(E<<1)>>1]|0;m=t<<16>>16;f=r[e+(w<<1)>>1]|0;p=f<<16>>16;n=f<<16>>16>0;if(t<<16>>16<=0){if(n){r[e>>1]=f;f=p*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-3<<2)|0;if((a[n>>2]|0)<(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=r[e+-2>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(b|0)){f=g;break}a[f>>2]=b;f=g;break}else{f=g+1|0;if((g|0)>32767)break t;r[e>>1]=f;a[l+1179664+(g<<2)>>2]=f<<16>>16;g=g*7|0;a[l+1310736+(g<<2)>>2]=1;a[l+1310736+(g+1<<2)>>2]=b;a[l+1310736+(g+2<<2)>>2]=M;a[l+1310736+(g+3<<2)>>2]=b;a[l+1310736+(g+4<<2)>>2]=b;a[l+1310736+(g+5<<2)>>2]=M;a[l+1310736+(g+6<<2)>>2]=M;break}}if(n){f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+(p+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}n=r[e+-2>>1]|0;if(n<<16>>16<=0){r[e>>1]=t;f=m*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-4<<2)|0;if((a[n>>2]|0)>(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+M;f=g}while(0);b=b+1|0;n=v+2|0;e=e+2|0;c=c+1|0;if((b|0)>=(k|0))break;else{v=n;g=f}}}M=M+1|0;if((M|0)>=(T|0)){m=f;A=52;break e}else{c=c+2|0;n=n+y|0;e=e+4|0}}to(3,3904,S);c=-1}else{m=0;A=52}while(0);if((A|0)==52){e=l+12|0;if((m|0)<1)f=1;else{n=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(n|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((n|0)<(m|0)){n=n+1|0;h=h+4|0}else break}}t=l+8|0;c=f+-1|0;a[t>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[t>>2]|0))}if((m|0)>0){e=0;do{h=(a[l+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(n<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(n+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(n+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(n+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(n+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(n+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(n+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;e=e+1|0}while((e|0)<(m|0))}if((a[t>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[t>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function Gt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}k=C+-1|0;if((n|0)>1){c=0;f=m;h=m+(k<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{f=f+(C<<1)|0;h=h+(C<<1)|0}}}h=l+1179664|0;f=C+1|0;_=0-C|0;E=1-C|0;w=~C;y=(t<<1)+8|0;e:do if((T|0)>1){x=(k|0)>1;c=(a[l+4>>2]|0)+f|0;M=1;n=e+((t<<2)+4)|0;e=m+(f<<1)|0;f=0;t:while(1){if(x){b=1;v=n;g=f;while(1){do if((o[v+1>>0]|0|0)>(s|0)){r[e>>1]=0;i[c>>0]=0;f=g}else{i[c>>0]=-1;f=r[e+(_<<1)>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}t=r[e+(E<<1)>>1]|0;m=t<<16>>16;f=r[e+(w<<1)>>1]|0;p=f<<16>>16;n=f<<16>>16>0;if(t<<16>>16<=0){if(n){r[e>>1]=f;f=p*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-3<<2)|0;if((a[n>>2]|0)<(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=r[e+-2>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(b|0)){f=g;break}a[f>>2]=b;f=g;break}else{f=g+1|0;if((g|0)>32767)break t;r[e>>1]=f;a[l+1179664+(g<<2)>>2]=f<<16>>16;g=g*7|0;a[l+1310736+(g<<2)>>2]=1;a[l+1310736+(g+1<<2)>>2]=b;a[l+1310736+(g+2<<2)>>2]=M;a[l+1310736+(g+3<<2)>>2]=b;a[l+1310736+(g+4<<2)>>2]=b;a[l+1310736+(g+5<<2)>>2]=M;a[l+1310736+(g+6<<2)>>2]=M;break}}if(n){f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+(p+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}n=r[e+-2>>1]|0;if(n<<16>>16<=0){r[e>>1]=t;f=m*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-4<<2)|0;if((a[n>>2]|0)>(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+M;f=g}while(0);b=b+1|0;n=v+4|0;e=e+2|0;c=c+1|0;if((b|0)>=(k|0))break;else{v=n;g=f}}}M=M+1|0;if((M|0)>=(T|0)){m=f;A=52;break e}else{c=c+2|0;n=n+y|0;e=e+4|0}}to(3,3904,S);c=-1}else{m=0;A=52}while(0);if((A|0)==52){e=l+12|0;if((m|0)<1)f=1;else{n=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(n|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((n|0)<(m|0)){n=n+1|0;h=h+4|0}else break}}t=l+8|0;c=f+-1|0;a[t>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[t>>2]|0))}if((m|0)>0){e=0;do{h=(a[l+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(n<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(n+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(n+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(n+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(n+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(n+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(n+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;e=e+1|0}while((e|0)<(m|0))}if((a[t>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[t>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function qt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}k=C+-1|0;if((n|0)>1){c=0;f=m;h=m+(k<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{f=f+(C<<1)|0;h=h+(C<<1)|0}}}h=l+1179664|0;f=C+1|0;_=0-C|0;E=1-C|0;w=~C;y=(t<<1)+8|0;e:do if((T|0)>1){x=(k|0)>1;c=(a[l+4>>2]|0)+f|0;M=1;n=e+((t<<2)+4)|0;e=m+(f<<1)|0;f=0;t:while(1){if(x){b=1;v=n;g=f;while(1){do if((o[v>>0]|0|0)>(s|0)){r[e>>1]=0;i[c>>0]=0;f=g}else{i[c>>0]=-1;f=r[e+(_<<1)>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}t=r[e+(E<<1)>>1]|0;m=t<<16>>16;f=r[e+(w<<1)>>1]|0;p=f<<16>>16;n=f<<16>>16>0;if(t<<16>>16<=0){if(n){r[e>>1]=f;f=p*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-3<<2)|0;if((a[n>>2]|0)<(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=r[e+-2>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(b|0)){f=g;break}a[f>>2]=b;f=g;break}else{f=g+1|0;if((g|0)>32767)break t;r[e>>1]=f;a[l+1179664+(g<<2)>>2]=f<<16>>16;g=g*7|0;a[l+1310736+(g<<2)>>2]=1;a[l+1310736+(g+1<<2)>>2]=b;a[l+1310736+(g+2<<2)>>2]=M;a[l+1310736+(g+3<<2)>>2]=b;a[l+1310736+(g+4<<2)>>2]=b;a[l+1310736+(g+5<<2)>>2]=M;a[l+1310736+(g+6<<2)>>2]=M;break}}if(n){f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+(p+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}n=r[e+-2>>1]|0;if(n<<16>>16<=0){r[e>>1]=t;f=m*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-4<<2)|0;if((a[n>>2]|0)>(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+M;f=g}while(0);b=b+1|0;n=v+4|0;e=e+2|0;c=c+1|0;if((b|0)>=(k|0))break;else{v=n;g=f}}}M=M+1|0;if((M|0)>=(T|0)){m=f;A=52;break e}else{c=c+2|0;n=n+y|0;e=e+4|0}}to(3,3904,S);c=-1}else{m=0;A=52}while(0);if((A|0)==52){e=l+12|0;if((m|0)<1)f=1;else{
n=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(n|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((n|0)<(m|0)){n=n+1|0;h=h+4|0}else break}}t=l+8|0;c=f+-1|0;a[t>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[t>>2]|0))}if((m|0)>0){e=0;do{h=(a[l+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(n<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(n+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(n+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(n+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(n+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(n+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(n+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;e=e+1|0}while((e|0)<(m|0))}if((a[t>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[t>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function Yt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c*3|0)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){do if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(T|0)){r[e>>1]=0;i[c>>0]=0;s=v}else{i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}while(0);y=y+1|0;h=b+3|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+6|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Xt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<1)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){p=o[b>>0]|0;g=o[b+1>>0]|0;do if(((p&248)+10+(p<<5&224)+(g>>>3&28)+(g<<3&248)|0)>(T|0)){r[e>>1]=0;i[c>>0]=0;s=v}else{i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}while(0);y=y+1|0;h=b+2|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+4|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Kt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<2)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){do if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(T|0)){r[e>>1]=0;i[c>>0]=0;s=v}else{i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}while(0);y=y+1|0;h=b+4|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+8|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Zt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<1)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){g=o[b>>0]|0;do if(((g&240)+24+(g<<4&240)+((o[b+1>>0]|0)&240)|0)>(T|0)){r[e>>1]=0;i[c>>0]=0;s=v}else{i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}while(0);y=y+1|0;h=b+2|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+4|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Jt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<1)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){p=o[b>>0]|0;g=o[b+1>>0]|0;do if(((p&248)+12+(p<<5&224)+(g>>>3&24)+(g<<2&248)|0)>(T|0)){r[e>>1]=0;i[c>>0]=0;s=v}else{i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}while(0);y=y+1|0;h=b+2|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+4|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Qt(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<2)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){do if(((o[b+2>>0]|0)+(o[b+1>>0]|0)+(o[b+3>>0]|0)|0)>(T|0)){r[e>>1]=0;i[c>>0]=0;s=v}else{i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}while(0);y=y+1|0;h=b+4|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+8|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function en(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;c=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;p=(a[l+4>>2]|0)+c|0;k=1;e=e+c|0;m=m+(c<<1)|0;f=0;t:while(1){if(M){c=p;E=1;y=e;b=f;while(1){do if((o[y>>0]|0|0)>(s|0)){r[m>>1]=0;i[c>>0]=0;f=b}else{i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;
if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}while(0);E=E+1|0;e=y+1|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}else c=p;k=k+1|0;if((k|0)>=(S|0)){g=f;C=52;break e}else{p=c+2|0;e=e+2|0;m=m+4|0}}to(3,3904,A);c=-1}else{g=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((g|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(g|0)){e=e+1|0;h=h+4|0}else break}}p=l+8|0;c=f+-1|0;a[p>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[p>>2]|0))}if((g|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(g|0))}if((a[p>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[p>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function tn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;c=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;p=(a[l+4>>2]|0)+c|0;k=1;e=e+(c<<1)|0;m=m+(c<<1)|0;f=0;t:while(1){if(M){c=p;E=1;y=e;b=f;while(1){do if((o[y+1>>0]|0|0)>(s|0)){r[m>>1]=0;i[c>>0]=0;f=b}else{i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}while(0);E=E+1|0;e=y+2|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}else c=p;k=k+1|0;if((k|0)>=(S|0)){g=f;C=52;break e}else{p=c+2|0;e=e+4|0;m=m+4|0}}to(3,3904,A);c=-1}else{g=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((g|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(g|0)){e=e+1|0;h=h+4|0}else break}}p=l+8|0;c=f+-1|0;a[p>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[p>>2]|0))}if((g|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(g|0))}if((a[p>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[p>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function nn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;c=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;p=(a[l+4>>2]|0)+c|0;k=1;e=e+(c<<1)|0;m=m+(c<<1)|0;f=0;t:while(1){if(M){c=p;E=1;y=e;b=f;while(1){do if((o[y>>0]|0|0)>(s|0)){r[m>>1]=0;i[c>>0]=0;f=b}else{i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}while(0);E=E+1|0;e=y+2|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}else c=p;k=k+1|0;if((k|0)>=(S|0)){g=f;C=52;break e}else{p=c+2|0;e=e+4|0;m=m+4|0}}to(3,3904,A);c=-1}else{g=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((g|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(g|0)){e=e+1|0;h=h+4|0}else break}}p=l+8|0;c=f+-1|0;a[p>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[p>>2]|0))}if((g|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(g|0))}if((a[p>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[p>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function rn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;f=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;c=(a[l+4>>2]|0)+f|0;k=1;e=e+f|0;m=m+(f<<1)|0;s=s+f|0;f=0;t:while(1){if(M){E=1;y=e;b=f;while(1){do if((o[y>>0]|0)>(o[s>>0]|0)){r[m>>1]=0;i[c>>0]=0;f=b}else{i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}while(0);E=E+1|0;e=y+1|0;s=s+1|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}k=k+1|0;if((k|0)>=(S|0)){p=f;C=52;break e}else{c=c+2|0;e=e+2|0;m=m+4|0;s=s+2|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((p|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(p|0)){e=e+1|0;h=h+4|0}else break}}s=l+8|0;c=f+-1|0;a[s>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[s>>2]|0))}if((p|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(p|0))}if((a[s>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[s>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function an(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t*3|0)+12|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t*6|0)+6)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){do if(((o[g+1>>0]|0)+(o[g>>0]|0)+(o[g+2>>0]|0)|0)>(M|0)){i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}else{r[n>>1]=0;i[c>>0]=0;s=p}while(0);v=v+1|0;h=g+6|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function on(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<1)+8|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<2)+4)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){t=o[g>>0]|0;m=o[g+1>>0]|0;do if(((t&248)+10+(t<<5&224)+(m>>>3&28)+(m<<3&248)|0)>(M|0)){i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}else{r[n>>1]=0;i[c>>0]=0;s=p}while(0);v=v+1|0;h=g+4|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function sn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<2)+16|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<3)+8)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){do if(((o[g+1>>0]|0)+(o[g>>0]|0)+(o[g+2>>0]|0)|0)>(M|0)){i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}else{r[n>>1]=0;i[c>>0]=0;s=p}while(0);v=v+1|0;h=g+8|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function ln(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<1)+8|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<2)+4)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){m=o[g>>0]|0;do if(((m&240)+24+(m<<4&240)+((o[g+1>>0]|0)&240)|0)>(M|0)){i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;
if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}else{r[n>>1]=0;i[c>>0]=0;s=p}while(0);v=v+1|0;h=g+4|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function cn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<1)+8|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<2)+4)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){t=o[g>>0]|0;m=o[g+1>>0]|0;do if(((t&248)+12+(t<<5&224)+(m>>>3&24)+(m<<2&248)|0)>(M|0)){i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}else{r[n>>1]=0;i[c>>0]=0;s=p}while(0);v=v+1|0;h=g+4|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function un(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<2)+16|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<3)+8)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){do if(((o[g+2>>0]|0)+(o[g+1>>0]|0)+(o[g+3>>0]|0)|0)>(M|0)){i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}else{r[n>>1]=0;i[c>>0]=0;s=p}while(0);v=v+1|0;h=g+8|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function dn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}k=C+-1|0;if((n|0)>1){c=0;f=m;h=m+(k<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{f=f+(C<<1)|0;h=h+(C<<1)|0}}}h=l+1179664|0;f=C+1|0;_=0-C|0;E=1-C|0;w=~C;y=t+4|0;e:do if((T|0)>1){x=(k|0)>1;c=(a[l+4>>2]|0)+f|0;M=1;n=e+((t<<1)+2)|0;e=m+(f<<1)|0;f=0;t:while(1){if(x){b=1;v=n;g=f;while(1){do if((o[v>>0]|0|0)>(s|0)){i[c>>0]=-1;f=r[e+(_<<1)>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}t=r[e+(E<<1)>>1]|0;m=t<<16>>16;f=r[e+(w<<1)>>1]|0;p=f<<16>>16;n=f<<16>>16>0;if(t<<16>>16<=0){if(n){r[e>>1]=f;f=p*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-3<<2)|0;if((a[n>>2]|0)<(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=r[e+-2>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(b|0)){f=g;break}a[f>>2]=b;f=g;break}else{f=g+1|0;if((g|0)>32767)break t;r[e>>1]=f;a[l+1179664+(g<<2)>>2]=f<<16>>16;g=g*7|0;a[l+1310736+(g<<2)>>2]=1;a[l+1310736+(g+1<<2)>>2]=b;a[l+1310736+(g+2<<2)>>2]=M;a[l+1310736+(g+3<<2)>>2]=b;a[l+1310736+(g+4<<2)>>2]=b;a[l+1310736+(g+5<<2)>>2]=M;a[l+1310736+(g+6<<2)>>2]=M;break}}if(n){f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+(p+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}n=r[e+-2>>1]|0;if(n<<16>>16<=0){r[e>>1]=t;f=m*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-4<<2)|0;if((a[n>>2]|0)>(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+M;f=g}else{r[e>>1]=0;i[c>>0]=0;f=g}while(0);b=b+1|0;n=v+2|0;e=e+2|0;c=c+1|0;if((b|0)>=(k|0))break;else{v=n;g=f}}}M=M+1|0;if((M|0)>=(T|0)){m=f;A=52;break e}else{c=c+2|0;n=n+y|0;e=e+4|0}}to(3,3904,S);c=-1}else{m=0;A=52}while(0);if((A|0)==52){e=l+12|0;if((m|0)<1)f=1;else{n=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(n|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((n|0)<(m|0)){n=n+1|0;h=h+4|0}else break}}t=l+8|0;c=f+-1|0;a[t>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[t>>2]|0))}if((m|0)>0){e=0;do{h=(a[l+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(n<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(n+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(n+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(n+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(n+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(n+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(n+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;e=e+1|0}while((e|0)<(m|0))}if((a[t>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[t>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function fn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}k=C+-1|0;if((n|0)>1){c=0;f=m;h=m+(k<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{f=f+(C<<1)|0;h=h+(C<<1)|0}}}h=l+1179664|0;f=C+1|0;_=0-C|0;E=1-C|0;w=~C;y=(t<<1)+8|0;e:do if((T|0)>1){x=(k|0)>1;c=(a[l+4>>2]|0)+f|0;M=1;n=e+((t<<2)+4)|0;e=m+(f<<1)|0;f=0;t:while(1){if(x){b=1;v=n;g=f;while(1){do if((o[v+1>>0]|0|0)>(s|0)){i[c>>0]=-1;f=r[e+(_<<1)>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}t=r[e+(E<<1)>>1]|0;m=t<<16>>16;f=r[e+(w<<1)>>1]|0;p=f<<16>>16;n=f<<16>>16>0;if(t<<16>>16<=0){if(n){r[e>>1]=f;f=p*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-3<<2)|0;if((a[n>>2]|0)<(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=r[e+-2>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(b|0)){f=g;break}a[f>>2]=b;f=g;break}else{f=g+1|0;if((g|0)>32767)break t;r[e>>1]=f;a[l+1179664+(g<<2)>>2]=f<<16>>16;g=g*7|0;a[l+1310736+(g<<2)>>2]=1;a[l+1310736+(g+1<<2)>>2]=b;a[l+1310736+(g+2<<2)>>2]=M;a[l+1310736+(g+3<<2)>>2]=b;a[l+1310736+(g+4<<2)>>2]=b;a[l+1310736+(g+5<<2)>>2]=M;a[l+1310736+(g+6<<2)>>2]=M;break}}if(n){f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+(p+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}n=r[e+-2>>1]|0;if(n<<16>>16<=0){r[e>>1]=t;f=m*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-4<<2)|0;if((a[n>>2]|0)>(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+M;f=g}else{r[e>>1]=0;i[c>>0]=0;f=g}while(0);b=b+1|0;n=v+4|0;e=e+2|0;c=c+1|0;if((b|0)>=(k|0))break;else{v=n;g=f}}}M=M+1|0;if((M|0)>=(T|0)){m=f;A=52;break e}else{c=c+2|0;n=n+y|0;e=e+4|0}}to(3,3904,S);c=-1}else{m=0;A=52}while(0);if((A|0)==52){e=l+12|0;if((m|0)<1)f=1;else{n=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(n|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((n|0)<(m|0)){n=n+1|0;h=h+4|0}else break}}t=l+8|0;c=f+-1|0;a[t>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[t>>2]|0))}if((m|0)>0){e=0;do{h=(a[l+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(n<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(n+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(n+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(n+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(n+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(n+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(n+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;e=e+1|0}while((e|0)<(m|0))}if((a[t>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[t>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function hn(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}k=C+-1|0;if((n|0)>1){c=0;f=m;h=m+(k<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{f=f+(C<<1)|0;h=h+(C<<1)|0}}}h=l+1179664|0;f=C+1|0;_=0-C|0;E=1-C|0;w=~C;y=(t<<1)+8|0;e:do if((T|0)>1){x=(k|0)>1;c=(a[l+4>>2]|0)+f|0;M=1;n=e+((t<<2)+4)|0;e=m+(f<<1)|0;f=0;t:while(1){if(x){b=1;v=n;g=f;while(1){do if((o[v>>0]|0|0)>(s|0)){i[c>>0]=-1;f=r[e+(_<<1)>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}t=r[e+(E<<1)>>1]|0;m=t<<16>>16;f=r[e+(w<<1)>>1]|0;p=f<<16>>16;n=f<<16>>16>0;if(t<<16>>16<=0){if(n){r[e>>1]=f;f=p*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-3<<2)|0;if((a[n>>2]|0)<(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=r[e+-2>>1]|0;if(f<<16>>16>0){r[e>>1]=f;f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(b|0)){f=g;break}a[f>>2]=b;f=g;break}else{f=g+1|0;if((g|0)>32767)break t;r[e>>1]=f;a[l+1179664+(g<<2)>>2]=f<<16>>16;g=g*7|0;a[l+1310736+(g<<2)>>2]=1;a[l+1310736+(g+1<<2)>>2]=b;a[l+1310736+(g+2<<2)>>2]=M;a[l+1310736+(g+3<<2)>>2]=b;a[l+1310736+(g+4<<2)>>2]=b;a[l+1310736+(g+5<<2)>>2]=M;a[l+1310736+(g+6<<2)>>2]=M;break}}if(n){f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+(p+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=l+1310736+(f+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+M;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}n=r[e+-2>>1]|0;if(n<<16>>16<=0){r[e>>1]=t;f=m*7|0;n=l+1310736+(f+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=l+1310736+(f+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+b;n=l+1310736+(f+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+M;n=l+1310736+(f+-4<<2)|0;if((a[n>>2]|0)>(b|0))a[n>>2]=b;a[l+1310736+(f+-1<<2)>>2]=M;f=g;break}f=a[l+1179664+(m+-1<<2)>>2]|0;m=a[l+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){r[e>>1]=m;if((g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(f|0))a[t>>2]=m;n=n+1|0;if((n|0)>=(g|0)){f=m;break}else t=t+4|0}}else f=m}else{r[e>>1]=f;if((f|0)<(m|0)&(g|0)>0){n=0;t=h;while(1){if((a[t>>2]|0)==(m|0))a[t>>2]=f;n=n+1|0;if((n|0)>=(g|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;p=l+1310736+(f+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=l+1310736+(f+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+M;f=g}else{r[e>>1]=0;i[c>>0]=0;f=g}while(0);b=b+1|0;n=v+4|0;e=e+2|0;c=c+1|0;if((b|0)>=(k|0))break;else{v=n;g=f}}}M=M+1|0;if((M|0)>=(T|0)){m=f;A=52;break e}else{c=c+2|0;n=n+y|0;e=e+4|0}}to(3,3904,S);c=-1}else{m=0;A=52}while(0);if((A|0)==52){e=l+12|0;if((m|0)<1)f=1;else{n=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(n|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((n|0)<(m|0)){n=n+1|0;h=h+4|0}else break}}t=l+8|0;c=f+-1|0;a[t>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[t>>2]|0))}if((m|0)>0){e=0;do{h=(a[l+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(n<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(n+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(n+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(n+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(n+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(n+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(n+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;e=e+1|0}while((e|0)<(m|0))}if((a[t>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[t>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function mn(e){e=e|0;var t=0;t=d;d=d+e|0;d=d+15&-16;return t|0}function pn(){return d|0}function gn(e){e=e|0;d=e}function vn(e,t){e=e|0;t=t|0;d=e;f=t}function bn(e,t){e=e|0;t=t|0;if(!v){v=e;b=t}}function yn(e){e=e|0;i[h>>0]=i[e>>0];i[h+1>>0]=i[e+1>>0];i[h+2>>0]=i[e+2>>0];i[h+3>>0]=i[e+3>>0]}function En(e){e=e|0;i[h>>0]=i[e>>0];i[h+1>>0]=i[e+1>>0];i[h+2>>0]=i[e+2>>0];i[h+3>>0]=i[e+3>>0];i[h+4>>0]=i[e+4>>0];i[h+5>>0]=i[e+5>>0];i[h+6>>0]=i[e+6>>0];i[h+7>>0]=i[e+7>>0]}function wn(e){e=e|0;P=e}function _n(){return P|0}function xn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t*3|0)+12|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t*6|0)+6)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(_|0)){r[m>>1]=0;l=h}else{l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}while(0);p=p+1|0;i=i+6|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Mn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<1)+8|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<2)+4)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){e=o[i>>0]|0;t=o[i+1>>0]|0;do if(((e&248)+10+(e<<5&224)+(t>>>3&28)+(t<<3&248)|0)>(_|0)){r[m>>1]=0;l=h}else{l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){
r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}while(0);p=p+1|0;i=i+4|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function kn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<2)+16|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<3)+8)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(_|0)){r[m>>1]=0;l=h}else{l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}while(0);p=p+1|0;i=i+8|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Tn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<1)+8|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<2)+4)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){t=o[i>>0]|0;do if(((t&240)+24+(t<<4&240)+((o[i+1>>0]|0)&240)|0)>(_|0)){r[m>>1]=0;l=h}else{l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}while(0);p=p+1|0;i=i+4|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Sn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<1)+8|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<2)+4)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){e=o[i>>0]|0;t=o[i+1>>0]|0;do if(((e&248)+12+(e<<5&224)+(t>>>3&24)+(t<<2&248)|0)>(_|0)){r[m>>1]=0;l=h}else{l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}while(0);p=p+1|0;i=i+4|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function An(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<2)+16|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<3)+8)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){do if(((o[i+2>>0]|0)+(o[i+1>>0]|0)+(o[i+3>>0]|0)|0)>(_|0)){r[m>>1]=0;l=h}else{l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}while(0);p=p+1|0;i=i+8|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Cn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}x=S+-1|0;if((n|0)>1){l=0;c=h;f=h+(x<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{c=c+(S<<1)|0;f=f+(S<<1)|0}}}f=s+1179664|0;E=0-S|0;b=1-S|0;y=~S;v=t+4|0;e:do if((M|0)>1){w=(x|0)>1;_=1;c=e+((t<<1)+2)|0;n=h+(S+1<<1)|0;l=0;t:while(1){if(w){g=1;p=n;m=l;while(1){do if((o[c>>0]|0|0)>(i|0)){r[p>>1]=0;l=m}else{l=r[p+(E<<1)>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}e=r[p+(b<<1)>>1]|0;t=e<<16>>16;l=r[p+(y<<1)>>1]|0;h=l<<16>>16;n=l<<16>>16>0;if(e<<16>>16<=0){if(n){r[p>>1]=l;l=h*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-3<<2)|0;if((a[n>>2]|0)<(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=r[p+-2>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(g|0)){l=m;break}a[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;r[p>>1]=l;a[s+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;a[s+1310736+(m<<2)>>2]=1;a[s+1310736+(m+1<<2)>>2]=g;a[s+1310736+(m+2<<2)>>2]=_;a[s+1310736+(m+3<<2)>>2]=g;a[s+1310736+(m+4<<2)>>2]=g;a[s+1310736+(m+5<<2)>>2]=_;a[s+1310736+(m+6<<2)>>2]=_;break}}if(n){l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}n=r[p+-2>>1]|0;if(n<<16>>16<=0){r[p>>1]=e;l=t*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-4<<2)|0;if((a[n>>2]|0)>(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=m}while(0);g=g+1|0;c=c+2|0;n=p+2|0;if((g|0)>=(x|0))break;else{p=n;m=l}}}_=_+1|0;if((_|0)>=(M|0)){h=l;T=52;break e}else{c=c+v|0;n=n+4|0}}to(3,3904,k);l=-1}else{h=0;T=52}while(0);if((T|0)==52){e=s+12|0;if((h|0)<1)c=1;else{n=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(n|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((n|0)<(h|0)){n=n+1|0;f=f+4|0}else break}}t=s+8|0;l=c+-1|0;a[t>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[t>>2]|0))}if((h|0)>0){e=0;do{f=(a[s+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(n<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(n+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(n+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(n+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(n+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(n+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(n+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((a[t>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[t>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function $n(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}x=S+-1|0;if((n|0)>1){l=0;c=h;f=h+(x<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{c=c+(S<<1)|0;f=f+(S<<1)|0}}}f=s+1179664|0;E=0-S|0;b=1-S|0;y=~S;v=(t<<1)+8|0;e:do if((M|0)>1){w=(x|0)>1;_=1;c=e+((t<<2)+4)|0;n=h+(S+1<<1)|0;l=0;t:while(1){if(w){g=1;p=n;m=l;while(1){do if((o[c+1>>0]|0|0)>(i|0)){r[p>>1]=0;l=m}else{l=r[p+(E<<1)>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}e=r[p+(b<<1)>>1]|0;t=e<<16>>16;l=r[p+(y<<1)>>1]|0;h=l<<16>>16;n=l<<16>>16>0;if(e<<16>>16<=0){if(n){r[p>>1]=l;l=h*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-3<<2)|0;if((a[n>>2]|0)<(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=r[p+-2>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(g|0)){l=m;break}a[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;r[p>>1]=l;a[s+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;a[s+1310736+(m<<2)>>2]=1;a[s+1310736+(m+1<<2)>>2]=g;a[s+1310736+(m+2<<2)>>2]=_;a[s+1310736+(m+3<<2)>>2]=g;a[s+1310736+(m+4<<2)>>2]=g;a[s+1310736+(m+5<<2)>>2]=_;a[s+1310736+(m+6<<2)>>2]=_;break}}if(n){l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}n=r[p+-2>>1]|0;if(n<<16>>16<=0){r[p>>1]=e;l=t*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-4<<2)|0;if((a[n>>2]|0)>(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=m}while(0);g=g+1|0;c=c+4|0;n=p+2|0;if((g|0)>=(x|0))break;else{p=n;m=l}}}_=_+1|0;if((_|0)>=(M|0)){h=l;T=52;break e}else{c=c+v|0;n=n+4|0}}to(3,3904,k);l=-1}else{h=0;T=52}while(0);if((T|0)==52){e=s+12|0;if((h|0)<1)c=1;else{n=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(n|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((n|0)<(h|0)){n=n+1|0;f=f+4|0}else break}}t=s+8|0;l=c+-1|0;a[t>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[t>>2]|0))}if((h|0)>0){e=0;do{f=(a[s+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(n<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(n+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(n+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(n+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(n+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(n+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(n+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((a[t>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[t>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Rn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}x=S+-1|0;
if((n|0)>1){l=0;c=h;f=h+(x<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{c=c+(S<<1)|0;f=f+(S<<1)|0}}}f=s+1179664|0;E=0-S|0;b=1-S|0;y=~S;v=(t<<1)+8|0;e:do if((M|0)>1){w=(x|0)>1;_=1;c=e+((t<<2)+4)|0;n=h+(S+1<<1)|0;l=0;t:while(1){if(w){g=1;p=n;m=l;while(1){do if((o[c>>0]|0|0)>(i|0)){r[p>>1]=0;l=m}else{l=r[p+(E<<1)>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}e=r[p+(b<<1)>>1]|0;t=e<<16>>16;l=r[p+(y<<1)>>1]|0;h=l<<16>>16;n=l<<16>>16>0;if(e<<16>>16<=0){if(n){r[p>>1]=l;l=h*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-3<<2)|0;if((a[n>>2]|0)<(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=r[p+-2>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(g|0)){l=m;break}a[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;r[p>>1]=l;a[s+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;a[s+1310736+(m<<2)>>2]=1;a[s+1310736+(m+1<<2)>>2]=g;a[s+1310736+(m+2<<2)>>2]=_;a[s+1310736+(m+3<<2)>>2]=g;a[s+1310736+(m+4<<2)>>2]=g;a[s+1310736+(m+5<<2)>>2]=_;a[s+1310736+(m+6<<2)>>2]=_;break}}if(n){l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}n=r[p+-2>>1]|0;if(n<<16>>16<=0){r[p>>1]=e;l=t*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-4<<2)|0;if((a[n>>2]|0)>(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=m}while(0);g=g+1|0;c=c+4|0;n=p+2|0;if((g|0)>=(x|0))break;else{p=n;m=l}}}_=_+1|0;if((_|0)>=(M|0)){h=l;T=52;break e}else{c=c+v|0;n=n+4|0}}to(3,3904,k);l=-1}else{h=0;T=52}while(0);if((T|0)==52){e=s+12|0;if((h|0)<1)c=1;else{n=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(n|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((n|0)<(h|0)){n=n+1|0;f=f+4|0}else break}}t=s+8|0;l=c+-1|0;a[t>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[t>>2]|0))}if((h|0)>0){e=0;do{f=(a[s+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(n<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(n+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(n+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(n+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(n+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(n+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(n+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((a[t>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[t>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Pn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l*3|0)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(M|0)){r[g>>1]=0;l=p}else{l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}while(0);v=v+1|0;i=i+3|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+6|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Nn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){h=o[i>>0]|0;m=o[i+1>>0]|0;do if(((h&248)+10+(h<<5&224)+(m>>>3&28)+(m<<3&248)|0)>(M|0)){r[g>>1]=0;l=p}else{l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}while(0);v=v+1|0;i=i+2|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+4|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function On(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(M|0)){r[g>>1]=0;l=p}else{l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}while(0);v=v+1|0;i=i+4|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+8|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Dn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){m=o[i>>0]|0;do if(((m&240)+24+(m<<4&240)+((o[i+1>>0]|0)&240)|0)>(M|0)){r[g>>1]=0;l=p}else{l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}while(0);v=v+1|0;i=i+2|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+4|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function In(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){h=o[i>>0]|0;m=o[i+1>>0]|0;do if(((h&248)+12+(h<<5&224)+(m>>>3&24)+(m<<2&248)|0)>(M|0)){r[g>>1]=0;l=p}else{l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}while(0);v=v+1|0;i=i+2|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+4|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Ln(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){do if(((o[i+2>>0]|0)+(o[i+1>>0]|0)+(o[i+3>>0]|0)|0)>(M|0)){r[g>>1]=0;l=p}else{l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}while(0);v=v+1|0;i=i+4|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+8|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Fn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;
A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+l|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){b=1;v=e;g=l;while(1){do if((o[c>>0]|0|0)>(i|0)){r[v>>1]=0;l=g}else{l=r[v+(w<<1)>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}h=r[v+(y<<1)>>1]|0;m=h<<16>>16;l=r[v+(E<<1)>>1]|0;p=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){r[v>>1]=l;l=p*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-3<<2)|0;if((a[e>>2]|0)<(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[v>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(e){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16<=0){r[v>>1]=h;l=m*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-4<<2)|0;if((a[e>>2]|0)>(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}m=a[s+1179664+(m+-1<<2)>>2]|0;l=a[s+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((m|0)>(l|0)){r[v>>1]=l;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}else{r[v>>1]=m;if((m|0)<(l|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}while(0);b=b+1|0;c=c+1|0;e=v+2|0;if((b|0)>=(M|0))break;else{v=e;g=l}}}x=x+1|0;if((x|0)>=(k|0)){p=l;S=52;break e}else{c=c+2|0;e=e+4|0}}to(3,3904,T);l=-1}else{p=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((p|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}m=s+8|0;l=c+-1|0;a[m>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[m>>2]|0))}if((p|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((a[m>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[m>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Hn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){b=1;v=e;g=l;while(1){do if((o[c+1>>0]|0|0)>(i|0)){r[v>>1]=0;l=g}else{l=r[v+(w<<1)>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}h=r[v+(y<<1)>>1]|0;m=h<<16>>16;l=r[v+(E<<1)>>1]|0;p=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){r[v>>1]=l;l=p*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-3<<2)|0;if((a[e>>2]|0)<(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[v>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(e){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}e=r[v+-2>>1]|0;if(e<<16>>16<=0){r[v>>1]=h;l=m*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-4<<2)|0;if((a[e>>2]|0)>(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}while(0);b=b+1|0;c=c+2|0;e=v+2|0;if((b|0)>=(M|0))break;else{v=e;g=l}}}x=x+1|0;if((x|0)>=(k|0)){p=l;S=52;break e}else{c=c+4|0;e=e+4|0}}to(3,3904,T);l=-1}else{p=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((p|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}m=s+8|0;l=c+-1|0;a[m>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[m>>2]|0))}if((p|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((a[m>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[m>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Un(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){b=1;v=e;g=l;while(1){do if((o[c>>0]|0|0)>(i|0)){r[v>>1]=0;l=g}else{l=r[v+(w<<1)>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}h=r[v+(y<<1)>>1]|0;m=h<<16>>16;l=r[v+(E<<1)>>1]|0;p=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){r[v>>1]=l;l=p*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-3<<2)|0;if((a[e>>2]|0)<(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[v>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(e){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16<=0){r[v>>1]=h;l=m*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-4<<2)|0;if((a[e>>2]|0)>(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}m=a[s+1179664+(m+-1<<2)>>2]|0;l=a[s+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((m|0)>(l|0)){r[v>>1]=l;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}else{r[v>>1]=m;if((m|0)<(l|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}while(0);b=b+1|0;c=c+2|0;e=v+2|0;if((b|0)>=(M|0))break;else{v=e;g=l}}}x=x+1|0;if((x|0)>=(k|0)){p=l;S=52;break e}else{c=c+4|0;e=e+4|0}}to(3,3904,T);l=-1}else{p=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((p|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}m=s+8|0;l=c+-1|0;a[m>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[m>>2]|0))}if((p|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((a[m>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[m>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Bn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+l|0;e=h+(l<<1)|0;h=i+l|0;l=0;t:while(1){if(_){b=1;v=c;g=l;while(1){do if((o[v>>0]|0)>(o[h>>0]|0)){r[e>>1]=0;l=g}else{l=r[e+(w<<1)>>1]|0;if(l<<16>>16>0){r[e>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}i=r[e+(y<<1)>>1]|0;m=i<<16>>16;l=r[e+(E<<1)>>1]|0;p=l<<16>>16;c=l<<16>>16>0;if(i<<16>>16<=0){if(c){r[e>>1]=l;l=p*7|0;c=s+1310736+(l+-7<<2)|0;a[c>>2]=(a[c>>2]|0)+1;c=s+1310736+(l+-6<<2)|0;a[c>>2]=(a[c>>2]|0)+b;c=s+1310736+(l+-5<<2)|0;a[c>>2]=(a[c>>2]|0)+x;c=s+1310736+(l+-3<<2)|0;if((a[c>>2]|0)<(b|0))a[c>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[e+-2>>1]|0;if(l<<16>>16>0){r[e>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[e>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(c){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[e>>1]=m;if((g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(l|0))a[i>>2]=m;c=c+1|0;if((c|0)>=(g|0)){l=m;break}else i=i+4|0}}else l=m}else{r[e>>1]=l;if((l|0)<(m|0)&(g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(m|0))a[i>>2]=l;c=c+1|0;if((c|0)>=(g|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[e+-2>>1]|0;if(l<<16>>16<=0){r[e>>1]=i;l=m*7|0;c=s+1310736+(l+-7<<2)|0;a[c>>2]=(a[c>>2]|0)+1;c=s+1310736+(l+-6<<2)|0;a[c>>2]=(a[c>>2]|0)+b;c=s+1310736+(l+-5<<2)|0;a[c>>2]=(a[c>>2]|0)+x;c=s+1310736+(l+-4<<2)|0;if((a[c>>2]|0)>(b|0))a[c>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}m=a[s+1179664+(m+-1<<2)>>2]|0;l=a[s+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((m|0)>(l|0)){r[e>>1]=l;if((g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(m|0))a[i>>2]=l;c=c+1|0;if((c|0)>=(g|0))break;else i=i+4|0}}}else{r[e>>1]=m;if((m|0)<(l|0)&(g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(l|0))a[i>>2]=m;c=c+1|0;if((c|0)>=(g|0)){l=m;break}else i=i+4|0}}else l=m}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}while(0);b=b+1|0;c=v+1|0;h=h+1|0;e=e+2|0;if((b|0)>=(M|0))break;else{v=c;g=l}}}x=x+1|0;if((x|0)>=(k|0)){m=l;S=52;break e}else{c=c+2|0;e=e+4|0;h=h+2|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((m|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}i=s+8|0;l=c+-1|0;a[i>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[i>>2]|0))}if((m|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((a[i>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[i>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function jn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t*3|0)+12|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t*6|0)+6)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(_|0)){l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}else{r[m>>1]=0;l=h}while(0);p=p+1|0;i=i+6|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Vn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<1)+8|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<2)+4)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){e=o[i>>0]|0;t=o[i+1>>0]|0;do if(((e&248)+10+(e<<5&224)+(t>>>3&28)+(t<<3&248)|0)>(_|0)){l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}else{r[m>>1]=0;l=h}while(0);p=p+1|0;i=i+4|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function zn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<2)+16|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<3)+8)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(_|0)){l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}else{r[m>>1]=0;l=h}while(0);p=p+1|0;i=i+8|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));
l=0}else l=0}else l=0}d=C;return l|0}function Wn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<1)+8|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<2)+4)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){t=o[i>>0]|0;do if(((t&240)+24+(t<<4&240)+((o[i+1>>0]|0)&240)|0)>(_|0)){l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}else{r[m>>1]=0;l=h}while(0);p=p+1|0;i=i+4|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Gn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<1)+8|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<2)+4)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){e=o[i>>0]|0;t=o[i+1>>0]|0;do if(((e&248)+12+(e<<5&224)+(t>>>3&24)+(t<<2&248)|0)>(_|0)){l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}else{r[m>>1]=0;l=h}while(0);p=p+1|0;i=i+4|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function qn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}_=i*3|0;x=S+-1|0;if((n|0)>1){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{i=i+(S<<1)|0;c=c+(S<<1)|0}}}c=s+1179664|0;y=0-S|0;v=1-S|0;b=~S;g=(t<<2)+16|0;e:do if((M|0)>1){E=(x|0)>1;w=1;i=e+((t<<3)+8)|0;f=h+(S+1<<1)|0;l=0;t:while(1){if(E){p=1;m=f;h=l;while(1){do if(((o[i+2>>0]|0)+(o[i+1>>0]|0)+(o[i+3>>0]|0)|0)>(_|0)){l=r[m+(y<<1)>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}n=r[m+(v<<1)>>1]|0;e=n<<16>>16;l=r[m+(b<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(n<<16>>16<=0){if(f){r[m>>1]=l;l=t*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=r[m+-2>>1]|0;if(l<<16>>16>0){r[m>>1]=l;l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(p|0)){l=h;break}a[l>>2]=p;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;r[m>>1]=l;a[s+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;a[s+1310736+(h<<2)>>2]=1;a[s+1310736+(h+1<<2)>>2]=p;a[s+1310736+(h+2<<2)>>2]=w;a[s+1310736+(h+3<<2)>>2]=p;a[s+1310736+(h+4<<2)>>2]=p;a[s+1310736+(h+5<<2)>>2]=w;a[s+1310736+(h+6<<2)>>2]=w;break}}if(f){l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;t=s+1310736+(l+-5<<2)|0;a[t>>2]=(a[t>>2]|0)+w;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}f=r[m+-2>>1]|0;if(f<<16>>16<=0){r[m>>1]=n;l=e*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+p;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+w;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(p|0))a[f>>2]=p;a[s+1310736+(l+-1<<2)>>2]=w;l=h;break}l=a[s+1179664+(e+-1<<2)>>2]|0;e=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){r[m>>1]=e;if((h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(l|0))a[n>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else n=n+4|0}}else l=e}else{r[m>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;n=c;while(1){if((a[n>>2]|0)==(e|0))a[n>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else n=n+4|0}}}l=(l<<16>>16)*7|0;t=s+1310736+(l+-7<<2)|0;a[t>>2]=(a[t>>2]|0)+1;t=s+1310736+(l+-6<<2)|0;a[t>>2]=(a[t>>2]|0)+p;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+w;l=h}else{r[m>>1]=0;l=h}while(0);p=p+1|0;i=i+8|0;f=m+2|0;if((p|0)>=(x|0))break;else{m=f;h=l}}}w=w+1|0;if((w|0)>=(M|0)){t=l;T=52;break e}else{i=i+g|0;f=f+4|0}}to(3,3904,k);l=-1}else{t=0;T=52}while(0);if((T|0)==52){n=s+12|0;if((t|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(t|0)){f=f+1|0;c=c+4|0}else break}}e=s+8|0;l=i+-1|0;a[e>>2]=l;if(l){Gc(n|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{c=(a[s+1179664+(n<<2)>>2]|0)+-1|0;f=n*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[e>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Yn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}x=S+-1|0;if((n|0)>1){l=0;c=h;f=h+(x<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{c=c+(S<<1)|0;f=f+(S<<1)|0}}}f=s+1179664|0;E=0-S|0;b=1-S|0;y=~S;v=t+4|0;e:do if((M|0)>1){w=(x|0)>1;_=1;c=e+((t<<1)+2)|0;n=h+(S+1<<1)|0;l=0;t:while(1){if(w){g=1;p=n;m=l;while(1){do if((o[c>>0]|0|0)>(i|0)){l=r[p+(E<<1)>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}e=r[p+(b<<1)>>1]|0;t=e<<16>>16;l=r[p+(y<<1)>>1]|0;h=l<<16>>16;n=l<<16>>16>0;if(e<<16>>16<=0){if(n){r[p>>1]=l;l=h*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-3<<2)|0;if((a[n>>2]|0)<(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=r[p+-2>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(g|0)){l=m;break}a[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;r[p>>1]=l;a[s+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;a[s+1310736+(m<<2)>>2]=1;a[s+1310736+(m+1<<2)>>2]=g;a[s+1310736+(m+2<<2)>>2]=_;a[s+1310736+(m+3<<2)>>2]=g;a[s+1310736+(m+4<<2)>>2]=g;a[s+1310736+(m+5<<2)>>2]=_;a[s+1310736+(m+6<<2)>>2]=_;break}}if(n){l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}n=r[p+-2>>1]|0;if(n<<16>>16<=0){r[p>>1]=e;l=t*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-4<<2)|0;if((a[n>>2]|0)>(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=m}else{r[p>>1]=0;l=m}while(0);g=g+1|0;c=c+2|0;n=p+2|0;if((g|0)>=(x|0))break;else{p=n;m=l}}}_=_+1|0;if((_|0)>=(M|0)){h=l;T=52;break e}else{c=c+v|0;n=n+4|0}}to(3,3904,k);l=-1}else{h=0;T=52}while(0);if((T|0)==52){e=s+12|0;if((h|0)<1)c=1;else{n=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(n|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((n|0)<(h|0)){n=n+1|0;f=f+4|0}else break}}t=s+8|0;l=c+-1|0;a[t>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[t>>2]|0))}if((h|0)>0){e=0;do{f=(a[s+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(n<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(n+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(n+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(n+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(n+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(n+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(n+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((a[t>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[t>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Xn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}x=S+-1|0;if((n|0)>1){l=0;c=h;f=h+(x<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{c=c+(S<<1)|0;f=f+(S<<1)|0}}}f=s+1179664|0;E=0-S|0;b=1-S|0;y=~S;v=(t<<1)+8|0;e:do if((M|0)>1){w=(x|0)>1;_=1;c=e+((t<<2)+4)|0;n=h+(S+1<<1)|0;l=0;t:while(1){if(w){g=1;p=n;m=l;while(1){do if((o[c+1>>0]|0|0)>(i|0)){l=r[p+(E<<1)>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}e=r[p+(b<<1)>>1]|0;t=e<<16>>16;l=r[p+(y<<1)>>1]|0;h=l<<16>>16;n=l<<16>>16>0;if(e<<16>>16<=0){if(n){r[p>>1]=l;l=h*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-3<<2)|0;if((a[n>>2]|0)<(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=r[p+-2>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(g|0)){l=m;break}a[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;r[p>>1]=l;a[s+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;a[s+1310736+(m<<2)>>2]=1;a[s+1310736+(m+1<<2)>>2]=g;a[s+1310736+(m+2<<2)>>2]=_;a[s+1310736+(m+3<<2)>>2]=g;a[s+1310736+(m+4<<2)>>2]=g;a[s+1310736+(m+5<<2)>>2]=_;a[s+1310736+(m+6<<2)>>2]=_;break}}if(n){l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}n=r[p+-2>>1]|0;if(n<<16>>16<=0){r[p>>1]=e;l=t*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-4<<2)|0;if((a[n>>2]|0)>(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=m}else{r[p>>1]=0;l=m}while(0);g=g+1|0;c=c+4|0;n=p+2|0;if((g|0)>=(x|0))break;else{p=n;m=l}}}_=_+1|0;if((_|0)>=(M|0)){h=l;T=52;break e}else{c=c+v|0;n=n+4|0}}to(3,3904,k);l=-1}else{h=0;T=52}while(0);if((T|0)==52){e=s+12|0;if((h|0)<1)c=1;else{n=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(n|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((n|0)<(h|0)){n=n+1|0;f=f+4|0}else break}}t=s+8|0;l=c+-1|0;a[t>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[t>>2]|0))}if((h|0)>0){e=0;do{f=(a[s+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(n<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(n+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(n+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(n+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(n+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(n+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(n+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((a[t>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[t>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Kn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;C=d;d=d+16|0;k=C;S=(t|0)/2|0;A=(n|0)/2|0;h=a[s>>2]|0;M=A+-1|0;if((t|0)>1){l=0;c=h;f=h+((ne(M,S)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(S|0))break;else{c=c+2|0;f=f+2|0}}}x=S+-1|0;if((n|0)>1){l=0;c=h;f=h+(x<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{c=c+(S<<1)|0;f=f+(S<<1)|0}}}f=s+1179664|0;E=0-S|0;b=1-S|0;y=~S;v=(t<<1)+8|0;e:do if((M|0)>1){w=(x|0)>1;_=1;c=e+((t<<2)+4)|0;n=h+(S+1<<1)|0;l=0;t:while(1){if(w){g=1;p=n;m=l;while(1){do if((o[c>>0]|0|0)>(i|0)){l=r[p+(E<<1)>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}e=r[p+(b<<1)>>1]|0;t=e<<16>>16;l=r[p+(y<<1)>>1]|0;h=l<<16>>16;n=l<<16>>16>0;if(e<<16>>16<=0){if(n){r[p>>1]=l;l=h*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-3<<2)|0;if((a[n>>2]|0)<(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=r[p+-2>>1]|0;if(l<<16>>16>0){r[p>>1]=l;l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(g|0)){l=m;break}a[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;r[p>>1]=l;a[s+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;a[s+1310736+(m<<2)>>2]=1;a[s+1310736+(m+1<<2)>>2]=g;a[s+1310736+(m+2<<2)>>2]=_;a[s+1310736+(m+3<<2)>>2]=g;a[s+1310736+(m+4<<2)>>2]=g;a[s+1310736+(m+5<<2)>>2]=_;a[s+1310736+(m+6<<2)>>2]=_;break}}if(n){l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;h=s+1310736+(l+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}n=r[p+-2>>1]|0;if(n<<16>>16<=0){r[p>>1]=e;l=t*7|0;n=s+1310736+(l+-7<<2)|0;a[n>>2]=(a[n>>2]|0)+1;n=s+1310736+(l+-6<<2)|0;a[n>>2]=(a[n>>2]|0)+g;n=s+1310736+(l+-5<<2)|0;a[n>>2]=(a[n>>2]|0)+_;n=s+1310736+(l+-4<<2)|0;if((a[n>>2]|0)>(g|0))a[n>>2]=g;a[s+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[s+1179664+(t+-1<<2)>>2]|0;t=a[s+1179664+((n<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){r[p>>1]=t;if((m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=t;n=n+1|0;if((n|0)>=(m|0)){l=t;break}else e=e+4|0}}else l=t}else{r[p>>1]=l;if((l|0)<(t|0)&(m|0)>0){n=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=l;n=n+1|0;if((n|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=s+1310736+(l+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=s+1310736+(l+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+g;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=m}else{r[p>>1]=0;l=m}while(0);g=g+1|0;c=c+4|0;n=p+2|0;if((g|0)>=(x|0))break;else{p=n;m=l}}}_=_+1|0;if((_|0)>=(M|0)){h=l;T=52;break e}else{c=c+v|0;n=n+4|0}}to(3,3904,k);l=-1}else{h=0;T=52}while(0);if((T|0)==52){e=s+12|0;if((h|0)<1)c=1;else{n=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(n|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((n|0)<(h|0)){n=n+1|0;f=f+4|0}else break}}t=s+8|0;l=c+-1|0;a[t>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{T=l<<2;a[s+131084+(T<<2)>>2]=S;a[s+131084+((T|1)<<2)>>2]=0;a[s+131084+((T|2)<<2)>>2]=A;a[s+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[t>>2]|0))}if((h|0)>0){e=0;do{f=(a[s+1179664+(e<<2)>>2]|0)+-1|0;n=e*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(n<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(n+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(n+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(n+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(n+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(n+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(n+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((a[t>>2]|0)>0){l=0;do{S=s+12+(l<<2)|0;A=l<<1;T=s+655376+(A<<3)|0;u[T>>3]=+u[T>>3]/+(a[S>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(a[S>>2]|0);l=l+1|0}while((l|0)<(a[t>>2]|0));l=0}else l=0}else l=0}d=C;return l|0}function Zn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l*3|0)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(M|0)){l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}else{r[g>>1]=0;l=p}while(0);v=v+1|0;i=i+3|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+6|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;
i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Jn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){h=o[i>>0]|0;m=o[i+1>>0]|0;do if(((h&248)+10+(h<<5&224)+(m>>>3&28)+(m<<3&248)|0)>(M|0)){l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}else{r[g>>1]=0;l=p}while(0);v=v+1|0;i=i+2|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+4|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function Qn(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){do if(((o[i+1>>0]|0)+(o[i>>0]|0)+(o[i+2>>0]|0)|0)>(M|0)){l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}else{r[g>>1]=0;l=p}while(0);v=v+1|0;i=i+4|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+8|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function ei(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){m=o[i>>0]|0;do if(((m&240)+24+(m<<4&240)+((o[i+1>>0]|0)&240)|0)>(M|0)){l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}else{r[g>>1]=0;l=p}while(0);v=v+1|0;i=i+2|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+4|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function ti(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){h=o[i>>0]|0;m=o[i+1>>0]|0;do if(((h&248)+12+(h<<5&224)+(m>>>3&24)+(m<<2&248)|0)>(M|0)){l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}else{r[g>>1]=0;l=p}while(0);v=v+1|0;i=i+2|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+4|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function ni(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=i*3|0;x=t+-1|0;if((n|0)>0){l=0;i=h;c=h+(x<<1)|0;while(1){r[c>>1]=0;r[i>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{i=i+(t<<1)|0;c=c+(t<<1)|0}}}c=s+1179664|0;l=t+1|0;E=0-t|0;b=1-t|0;y=~t;e:do if((k|0)>1){w=(x|0)>1;_=1;i=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(w){v=1;g=f;p=l;while(1){do if(((o[i+2>>0]|0)+(o[i+1>>0]|0)+(o[i+3>>0]|0)|0)>(M|0)){l=r[g+(E<<1)>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}e=r[g+(b<<1)>>1]|0;h=e<<16>>16;l=r[g+(y<<1)>>1]|0;m=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){r[g>>1]=l;l=m*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-3<<2)|0;if((a[f>>2]|0)<(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=r[g+-2>>1]|0;if(l<<16>>16>0){r[g>>1]=l;l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(v|0)){l=p;break}a[l>>2]=v;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;r[g>>1]=l;a[s+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;a[s+1310736+(p<<2)>>2]=1;a[s+1310736+(p+1<<2)>>2]=v;a[s+1310736+(p+2<<2)>>2]=_;a[s+1310736+(p+3<<2)>>2]=v;a[s+1310736+(p+4<<2)>>2]=v;a[s+1310736+(p+5<<2)>>2]=_;a[s+1310736+(p+6<<2)>>2]=_;break}}if(f){l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+(m+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=s+1310736+(l+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+_;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}f=r[g+-2>>1]|0;if(f<<16>>16<=0){r[g>>1]=e;l=h*7|0;f=s+1310736+(l+-7<<2)|0;a[f>>2]=(a[f>>2]|0)+1;f=s+1310736+(l+-6<<2)|0;a[f>>2]=(a[f>>2]|0)+v;f=s+1310736+(l+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+_;f=s+1310736+(l+-4<<2)|0;if((a[f>>2]|0)>(v|0))a[f>>2]=v;a[s+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[s+1179664+(h+-1<<2)>>2]|0;h=a[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){r[g>>1]=h;if((p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(l|0))a[e>>2]=h;f=f+1|0;if((f|0)>=(p|0)){l=h;break}else e=e+4|0}}else l=h}else{r[g>>1]=l;if((l|0)<(h|0)&(p|0)>0){f=0;e=c;while(1){if((a[e>>2]|0)==(h|0))a[e>>2]=l;f=f+1|0;if((f|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;m=s+1310736+(l+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=s+1310736+(l+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+_;l=p}else{r[g>>1]=0;l=p}while(0);v=v+1|0;i=i+4|0;f=g+2|0;if((v|0)>=(x|0))break;else{g=f;p=l}}}_=_+1|0;if((_|0)>=(k|0)){m=l;S=52;break e}else{i=i+8|0;f=f+4|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){e=s+12|0;if((m|0)<1)i=1;else{f=1;i=1;while(1){l=a[c>>2]|0;if((l|0)==(f|0)){l=i;i=i+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[c>>2]=l;if((f|0)<(m|0)){f=f+1|0;c=c+4|0}else break}}h=s+8|0;l=i+-1|0;a[h>>2]=l;if(l){Gc(e|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((i|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[h>>2]|0))}if((m|0)>0){e=0;do{c=(a[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=s+12+(c<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(f<<2)>>2]|0);l=c<<1;i=s+655376+(l<<3)|0;u[i>>3]=+u[i>>3]+ +(a[s+1310736+(f+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(f+2<<2)>>2]|0);c=c<<2;l=s+131084+(c<<2)|0;i=a[s+1310736+(f+3<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;l=s+131084+((c|1)<<2)|0;i=a[s+1310736+(f+4<<2)>>2]|0;if((a[l>>2]|0)<(i|0))a[l>>2]=i;l=s+131084+((c|2)<<2)|0;i=a[s+1310736+(f+5<<2)>>2]|0;if((a[l>>2]|0)>(i|0))a[l>>2]=i;i=s+131084+((c|3)<<2)|0;l=a[s+1310736+(f+6<<2)>>2]|0;if((a[i>>2]|0)<(l|0))a[i>>2]=l;e=e+1|0}while((e|0)<(m|0))}if((a[h>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[h>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function ii(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+l|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){b=1;v=e;g=l;while(1){do if((o[c>>0]|0|0)>(i|0)){l=r[v+(w<<1)>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}h=r[v+(y<<1)>>1]|0;m=h<<16>>16;l=r[v+(E<<1)>>1]|0;p=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){r[v>>1]=l;l=p*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-3<<2)|0;if((a[e>>2]|0)<(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[v>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(e){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16<=0){r[v>>1]=h;l=m*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-4<<2)|0;if((a[e>>2]|0)>(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}m=a[s+1179664+(m+-1<<2)>>2]|0;l=a[s+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((m|0)>(l|0)){r[v>>1]=l;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}else{r[v>>1]=m;if((m|0)<(l|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}else{r[v>>1]=0;l=g}while(0);b=b+1|0;c=c+1|0;e=v+2|0;if((b|0)>=(M|0))break;else{v=e;g=l}}}x=x+1|0;if((x|0)>=(k|0)){p=l;S=52;break e}else{c=c+2|0;e=e+4|0}}to(3,3904,T);l=-1}else{p=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((p|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}m=s+8|0;l=c+-1|0;a[m>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[m>>2]|0))}if((p|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((a[m>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[m>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function ri(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){b=1;v=e;g=l;while(1){do if((o[c+1>>0]|0|0)>(i|0)){l=r[v+(w<<1)>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}h=r[v+(y<<1)>>1]|0;m=h<<16>>16;l=r[v+(E<<1)>>1]|0;p=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){r[v>>1]=l;l=p*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-3<<2)|0;if((a[e>>2]|0)<(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[v>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(e){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}e=r[v+-2>>1]|0;if(e<<16>>16<=0){r[v>>1]=h;l=m*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-4<<2)|0;if((a[e>>2]|0)>(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}else{r[v>>1]=0;l=g}while(0);b=b+1|0;c=c+2|0;e=v+2|0;if((b|0)>=(M|0))break;else{v=e;g=l}}}x=x+1|0;if((x|0)>=(k|0)){p=l;S=52;break e}else{c=c+4|0;e=e+4|0}}to(3,3904,T);l=-1}else{p=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((p|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}m=s+8|0;l=c+-1|0;a[m>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[m>>2]|0))}if((p|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;
c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((a[m>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[m>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function ai(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){b=1;v=e;g=l;while(1){do if((o[c>>0]|0|0)>(i|0)){l=r[v+(w<<1)>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}h=r[v+(y<<1)>>1]|0;m=h<<16>>16;l=r[v+(E<<1)>>1]|0;p=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){r[v>>1]=l;l=p*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-3<<2)|0;if((a[e>>2]|0)<(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16>0){r[v>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[v>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(e){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[v>>1]=m;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}else{r[v>>1]=l;if((l|0)<(m|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[v+-2>>1]|0;if(l<<16>>16<=0){r[v>>1]=h;l=m*7|0;e=s+1310736+(l+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=s+1310736+(l+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+b;e=s+1310736+(l+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+x;e=s+1310736+(l+-4<<2)|0;if((a[e>>2]|0)>(b|0))a[e>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}m=a[s+1179664+(m+-1<<2)>>2]|0;l=a[s+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((m|0)>(l|0)){r[v>>1]=l;if((g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(m|0))a[h>>2]=l;e=e+1|0;if((e|0)>=(g|0))break;else h=h+4|0}}}else{r[v>>1]=m;if((m|0)<(l|0)&(g|0)>0){e=0;h=f;while(1){if((a[h>>2]|0)==(l|0))a[h>>2]=m;e=e+1|0;if((e|0)>=(g|0)){l=m;break}else h=h+4|0}}else l=m}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}else{r[v>>1]=0;l=g}while(0);b=b+1|0;c=c+2|0;e=v+2|0;if((b|0)>=(M|0))break;else{v=e;g=l}}}x=x+1|0;if((x|0)>=(k|0)){p=l;S=52;break e}else{c=c+4|0;e=e+4|0}}to(3,3904,T);l=-1}else{p=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((p|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}m=s+8|0;l=c+-1|0;a[m>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[m>>2]|0))}if((p|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((a[m>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[m>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function oi(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;A=d;d=d+16|0;T=A;h=a[s>>2]|0;k=n+-1|0;if((t|0)>0){l=0;c=h;f=h+((ne(k,t)|0)<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{c=c+2|0;f=f+2|0}}}M=t+-1|0;if((n|0)>0){l=0;c=h;f=h+(M<<1)|0;while(1){r[f>>1]=0;r[c>>1]=0;l=l+1|0;if((l|0)>=(n|0))break;else{c=c+(t<<1)|0;f=f+(t<<1)|0}}}f=s+1179664|0;l=t+1|0;w=0-t|0;y=1-t|0;E=~t;e:do if((k|0)>1){_=(M|0)>1;x=1;c=e+l|0;e=h+(l<<1)|0;h=i+l|0;l=0;t:while(1){if(_){b=1;v=c;g=l;while(1){do if((o[v>>0]|0)>(o[h>>0]|0)){l=r[e+(w<<1)>>1]|0;if(l<<16>>16>0){r[e>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}i=r[e+(y<<1)>>1]|0;m=i<<16>>16;l=r[e+(E<<1)>>1]|0;p=l<<16>>16;c=l<<16>>16>0;if(i<<16>>16<=0){if(c){r[e>>1]=l;l=p*7|0;c=s+1310736+(l+-7<<2)|0;a[c>>2]=(a[c>>2]|0)+1;c=s+1310736+(l+-6<<2)|0;a[c>>2]=(a[c>>2]|0)+b;c=s+1310736+(l+-5<<2)|0;a[c>>2]=(a[c>>2]|0)+x;c=s+1310736+(l+-3<<2)|0;if((a[c>>2]|0)<(b|0))a[c>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[e+-2>>1]|0;if(l<<16>>16>0){r[e>>1]=l;l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;l=s+1310736+(l+-3<<2)|0;if((a[l>>2]|0)>=(b|0)){l=g;break}a[l>>2]=b;l=g;break}else{l=g+1|0;if((g|0)>32767)break t;r[e>>1]=l;a[s+1179664+(g<<2)>>2]=l<<16>>16;g=g*7|0;a[s+1310736+(g<<2)>>2]=1;a[s+1310736+(g+1<<2)>>2]=b;a[s+1310736+(g+2<<2)>>2]=x;a[s+1310736+(g+3<<2)>>2]=b;a[s+1310736+(g+4<<2)>>2]=b;a[s+1310736+(g+5<<2)>>2]=x;a[s+1310736+(g+6<<2)>>2]=x;break}}if(c){l=a[s+1179664+(m+-1<<2)>>2]|0;m=a[s+1179664+(p+-1<<2)>>2]|0;if((l|0)>(m|0)){r[e>>1]=m;if((g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(l|0))a[i>>2]=m;c=c+1|0;if((c|0)>=(g|0)){l=m;break}else i=i+4|0}}else l=m}else{r[e>>1]=l;if((l|0)<(m|0)&(g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(m|0))a[i>>2]=l;c=c+1|0;if((c|0)>=(g|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;p=s+1310736+(l+-5<<2)|0;a[p>>2]=(a[p>>2]|0)+x;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}l=r[e+-2>>1]|0;if(l<<16>>16<=0){r[e>>1]=i;l=m*7|0;c=s+1310736+(l+-7<<2)|0;a[c>>2]=(a[c>>2]|0)+1;c=s+1310736+(l+-6<<2)|0;a[c>>2]=(a[c>>2]|0)+b;c=s+1310736+(l+-5<<2)|0;a[c>>2]=(a[c>>2]|0)+x;c=s+1310736+(l+-4<<2)|0;if((a[c>>2]|0)>(b|0))a[c>>2]=b;a[s+1310736+(l+-1<<2)>>2]=x;l=g;break}m=a[s+1179664+(m+-1<<2)>>2]|0;l=a[s+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((m|0)>(l|0)){r[e>>1]=l;if((g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(m|0))a[i>>2]=l;c=c+1|0;if((c|0)>=(g|0))break;else i=i+4|0}}}else{r[e>>1]=m;if((m|0)<(l|0)&(g|0)>0){c=0;i=f;while(1){if((a[i>>2]|0)==(l|0))a[i>>2]=m;c=c+1|0;if((c|0)>=(g|0)){l=m;break}else i=i+4|0}}else l=m}l=(l<<16>>16)*7|0;p=s+1310736+(l+-7<<2)|0;a[p>>2]=(a[p>>2]|0)+1;p=s+1310736+(l+-6<<2)|0;a[p>>2]=(a[p>>2]|0)+b;l=s+1310736+(l+-5<<2)|0;a[l>>2]=(a[l>>2]|0)+x;l=g}else{r[e>>1]=0;l=g}while(0);b=b+1|0;c=v+1|0;h=h+1|0;e=e+2|0;if((b|0)>=(M|0))break;else{v=c;g=l}}}x=x+1|0;if((x|0)>=(k|0)){m=l;S=52;break e}else{c=c+2|0;e=e+4|0;h=h+2|0}}to(3,3904,T);l=-1}else{m=0;S=52}while(0);if((S|0)==52){h=s+12|0;if((m|0)<1)c=1;else{e=1;c=1;while(1){l=a[f>>2]|0;if((l|0)==(e|0)){l=c;c=c+1|0}else l=a[s+1179664+(l+-1<<2)>>2]|0;a[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}i=s+8|0;l=c+-1|0;a[i>>2]=l;if(l){Gc(h|0,0,l<<2|0)|0;Gc(s+655376|0,0,l<<4|0)|0;if((c|0)>1){l=0;do{S=l<<2;a[s+131084+(S<<2)>>2]=t;a[s+131084+((S|1)<<2)>>2]=0;a[s+131084+((S|2)<<2)>>2]=n;a[s+131084+((S|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(a[i>>2]|0))}if((m|0)>0){h=0;do{f=(a[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=s+12+(f<<2)|0;a[l>>2]=(a[l>>2]|0)+(a[s+1310736+(e<<2)>>2]|0);l=f<<1;c=s+655376+(l<<3)|0;u[c>>3]=+u[c>>3]+ +(a[s+1310736+(e+1<<2)>>2]|0);l=s+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(a[s+1310736+(e+2<<2)>>2]|0);f=f<<2;l=s+131084+(f<<2)|0;c=a[s+1310736+(e+3<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;l=s+131084+((f|1)<<2)|0;c=a[s+1310736+(e+4<<2)>>2]|0;if((a[l>>2]|0)<(c|0))a[l>>2]=c;l=s+131084+((f|2)<<2)|0;c=a[s+1310736+(e+5<<2)>>2]|0;if((a[l>>2]|0)>(c|0))a[l>>2]=c;c=s+131084+((f|3)<<2)|0;l=a[s+1310736+(e+6<<2)>>2]|0;if((a[c>>2]|0)<(l|0))a[c>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((a[i>>2]|0)>0){l=0;do{t=s+12+(l<<2)|0;n=l<<1;S=s+655376+(n<<3)|0;u[S>>3]=+u[S>>3]/+(a[t>>2]|0);n=s+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);l=l+1|0}while((l|0)<(a[i>>2]|0));l=0}else l=0}else l=0}d=A;return l|0}function si(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t*3|0)+12|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t*6|0)+6)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){do if(((o[g+1>>0]|0)+(o[g>>0]|0)+(o[g+2>>0]|0)|0)>(M|0)){r[n>>1]=0;i[c>>0]=0;s=p}else{i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}while(0);v=v+1|0;h=g+6|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function li(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<1)+8|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<2)+4)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){t=o[g>>0]|0;m=o[g+1>>0]|0;do if(((t&248)+10+(t<<5&224)+(m>>>3&28)+(m<<3&248)|0)>(M|0)){r[n>>1]=0;i[c>>0]=0;s=p}else{i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}while(0);v=v+1|0;h=g+4|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function ci(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<2)+16|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<3)+8)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){do if(((o[g+1>>0]|0)+(o[g>>0]|0)+(o[g+2>>0]|0)|0)>(M|0)){r[n>>1]=0;i[c>>0]=0;s=p}else{i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}while(0);v=v+1|0;h=g+8|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function ui(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<1)+8|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<2)+4)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){m=o[g>>0]|0;do if(((m&240)+24+(m<<4&240)+((o[g+1>>0]|0)&240)|0)>(M|0)){r[n>>1]=0;i[c>>0]=0;s=p}else{i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}while(0);v=v+1|0;h=g+4|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function di(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<1)+8|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<2)+4)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){t=o[g>>0]|0;m=o[g+1>>0]|0;do if(((t&248)+12+(t<<5&224)+(m>>>3&24)+(m<<2&248)|0)>(M|0)){r[n>>1]=0;i[c>>0]=0;s=p}else{i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}while(0);v=v+1|0;h=g+4|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;
a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function fi(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;S=R;C=(t|0)/2|0;$=(n|0)/2|0;m=a[l>>2]|0;T=$+-1|0;if((t|0)>1){c=0;f=m;h=m+((ne(T,C)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(C|0))break;else{f=f+2|0;h=h+2|0}}}M=s*3|0;k=C+-1|0;if((n|0)>1){c=0;s=m;f=m+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=($|0))break;else{s=s+(C<<1)|0;f=f+(C<<1)|0}}}f=l+1179664|0;s=C+1|0;w=0-C|0;y=1-C|0;E=~C;b=(t<<2)+16|0;e:do if((T|0)>1){_=(k|0)>1;c=(a[l+4>>2]|0)+s|0;x=1;h=e+((t<<3)+8)|0;n=m+(s<<1)|0;s=0;t:while(1){if(_){v=1;g=h;p=s;while(1){do if(((o[g+2>>0]|0)+(o[g+1>>0]|0)+(o[g+3>>0]|0)|0)>(M|0)){r[n>>1]=0;i[c>>0]=0;s=p}else{i[c>>0]=-1;s=r[n+(w<<1)>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}e=r[n+(y<<1)>>1]|0;t=e<<16>>16;s=r[n+(E<<1)>>1]|0;m=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){r[n>>1]=s;s=m*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=r[n+-2>>1]|0;if(s<<16>>16>0){r[n>>1]=s;s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(v|0)){s=p;break}a[s>>2]=v;s=p;break}else{s=p+1|0;if((p|0)>32767)break t;r[n>>1]=s;a[l+1179664+(p<<2)>>2]=s<<16>>16;p=p*7|0;a[l+1310736+(p<<2)>>2]=1;a[l+1310736+(p+1<<2)>>2]=v;a[l+1310736+(p+2<<2)>>2]=x;a[l+1310736+(p+3<<2)>>2]=v;a[l+1310736+(p+4<<2)>>2]=v;a[l+1310736+(p+5<<2)>>2]=x;a[l+1310736+(p+6<<2)>>2]=x;break}}if(h){s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+(m+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;m=l+1310736+(s+-5<<2)|0;a[m>>2]=(a[m>>2]|0)+x;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}h=r[n+-2>>1]|0;if(h<<16>>16<=0){r[n>>1]=e;s=t*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+v;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+x;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(v|0))a[h>>2]=v;a[l+1310736+(s+-1<<2)>>2]=x;s=p;break}s=a[l+1179664+(t+-1<<2)>>2]|0;t=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(t|0)){r[n>>1]=t;if((p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(s|0))a[e>>2]=t;h=h+1|0;if((h|0)>=(p|0)){s=t;break}else e=e+4|0}}else s=t}else{r[n>>1]=s;if((s|0)<(t|0)&(p|0)>0){h=0;e=f;while(1){if((a[e>>2]|0)==(t|0))a[e>>2]=s;h=h+1|0;if((h|0)>=(p|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;m=l+1310736+(s+-7<<2)|0;a[m>>2]=(a[m>>2]|0)+1;m=l+1310736+(s+-6<<2)|0;a[m>>2]=(a[m>>2]|0)+v;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+x;s=p}while(0);v=v+1|0;h=g+8|0;n=n+2|0;c=c+1|0;if((v|0)>=(k|0))break;else{g=h;p=s}}}x=x+1|0;if((x|0)>=(T|0)){t=s;A=52;break e}else{c=c+2|0;h=h+b|0;n=n+4|0}}to(3,3904,S);c=-1}else{t=0;A=52}while(0);if((A|0)==52){n=l+12|0;if((t|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;c=s+-1|0;a[e>>2]=c;if(c){Gc(n|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{A=c<<2;a[l+131084+(A<<2)>>2]=C;a[l+131084+((A|1)<<2)>>2]=0;a[l+131084+((A|2)<<2)>>2]=$;a[l+131084+((A|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[e>>2]|0))}if((t|0)>0){n=0;do{f=(a[l+1179664+(n<<2)>>2]|0)+-1|0;h=n*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;n=n+1|0}while((n|0)<(t|0))}if((a[e>>2]|0)>0){c=0;do{C=l+12+(c<<2)|0;$=c<<1;A=l+655376+($<<3)|0;u[A>>3]=+u[A>>3]/+(a[C>>2]|0);$=l+655376+(($|1)<<3)|0;u[$>>3]=+u[$>>3]/+(a[C>>2]|0);c=c+1|0}while((c|0)<(a[e>>2]|0));c=0}else c=0}else c=0}d=R;return c|0}function hi(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;if((t|0)!=1){if(t+-1&t)t=Uc(t)|0}else t=2;r=a[e+4>>2]|0;if(t>>>0<=r>>>0){if(t>>>0<r>>>0){if(r>>>0>2)i=(r+-1&r|0)==0;else i=0;n=~~+te(+(+((a[e+12>>2]|0)>>>0)/+c[e+16>>2]))>>>0;if(i)n=1<<32-(re(n+-1|0)|0);else n=Uc(n)|0;t=t>>>0<n>>>0?n:t;if(t>>>0<r>>>0)mi(e,t)}}else mi(e,t);return}function mi(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0;i=e+4|0;e:do if(t){f=Ri(t<<2)|0;n=a[e>>2]|0;a[e>>2]=f;if(n)Pi(n);a[i>>2]=t;if(t){n=0;do{a[(a[e>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=(t|0))}i=e+8|0;r=a[i>>2]|0;if(r){n=a[r+4>>2]|0;d=t+-1|0;f=(d&t|0)==0;if(f)s=n&d;else s=(n>>>0)%(t>>>0)|0;a[(a[e>>2]|0)+(s<<2)>>2]=i;n=a[r>>2]|0;if(n){o=r;i=r;while(1){u=i;t:while(1){while(1){i=a[n+4>>2]|0;if(f)c=i&d;else c=(i>>>0)%(t>>>0)|0;if((c|0)==(s|0)){i=n;break}i=(a[e>>2]|0)+(c<<2)|0;if(!(a[i>>2]|0)){s=c;r=n;break t}l=n+8|0;i=n;while(1){r=a[i>>2]|0;if(!r)break;if((a[l>>2]|0)==(a[r+8>>2]|0))i=r;else break}a[o>>2]=r;a[i>>2]=a[a[(a[e>>2]|0)+(c<<2)>>2]>>2];a[a[(a[e>>2]|0)+(c<<2)>>2]>>2]=n;n=a[u>>2]|0;if(!n)break e}n=a[i>>2]|0;if(!n)break e;else{o=i;u=i}}a[i>>2]=o;n=a[r>>2]|0;if(!n)break;else{o=r;i=r}}}}}else{n=a[e>>2]|0;a[e>>2]=0;if(n)Pi(n);a[i>>2]=0}while(0);return}function pi(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0,l=0;o=d;d=d+32|0;s=o+16|0;r=o+4|0;l=o;t=a[t>>2]|0;n=a[t>>2]|0;a[l>>2]=t;a[s>>2]=a[l>>2];gi(r,e,s);t=a[r>>2]|0;a[r>>2]=0;if(t){if(i[r+8>>0]|0)Ys(t+264|0);Pi(t)}d=o;return n|0}function gi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0;m=a[n>>2]|0;d=a[t+4>>2]|0;n=a[m+4>>2]|0;f=d+-1|0;h=(f&d|0)==0;if(h)u=f&n;else u=(n>>>0)%(d>>>0)|0;o=(a[t>>2]|0)+(u<<2)|0;r=a[o>>2]|0;while(1){n=a[r>>2]|0;if((n|0)==(m|0)){c=r;break}else r=n}l=t+8|0;if((c|0)!=(l|0)){n=a[c+4>>2]|0;if(h)n=n&f;else n=(n>>>0)%(d>>>0)|0;if((n|0)==(u|0))o=m;else s=12}else s=12;do if((s|0)==12){n=a[m>>2]|0;if(n){n=a[n+4>>2]|0;if(h)n=n&f;else n=(n>>>0)%(d>>>0)|0;if((n|0)==(u|0)){o=m;break}}a[o>>2]=0;o=m}while(0);r=a[o>>2]|0;n=r;if(r){r=a[r+4>>2]|0;if(h)r=r&f;else r=(r>>>0)%(d>>>0)|0;if((r|0)!=(u|0)){a[(a[t>>2]|0)+(r<<2)>>2]=c;n=a[m>>2]|0}}a[c>>2]=n;a[o>>2]=0;t=t+12|0;a[t>>2]=(a[t>>2]|0)+-1;a[e>>2]=m;a[e+4>>2]=l;i[e+8>>0]=1;return}function vi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;i=Ri(408)|0;a[i+8>>2]=a[n>>2];Gc(i+16|0,0,392)|0;u[i+248>>3]=1e-4;u[i+256>>3]=1e3;n=i+264|0;a[n>>2]=0;a[n+4>>2]=0;a[n+8>>2]=0;a[n+12>>2]=0;a[e>>2]=i;e=e+4|0;a[e>>2]=t+8;a[e+4>>2]=257;return}function bi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0;f=a[n+8>>2]|0;b=n+4|0;a[b>>2]=f;v=t+4|0;d=a[v>>2]|0;g=(d|0)==0;e:do if(!g){h=d+-1|0;m=(h&d|0)==0;if(m)o=h&f;else o=(f>>>0)%(d>>>0)|0;r=a[(a[t>>2]|0)+(o<<2)>>2]|0;if(!r)p=12;else while(1){s=a[r>>2]|0;if(!s){p=12;break e}r=a[s+4>>2]|0;if(m)r=r&h;else r=(r>>>0)%(d>>>0)|0;if((r|0)!=(o|0)){p=12;break e}if((a[s+8>>2]|0)==(f|0)){r=0;n=s;break}else r=s}}else{o=0;p=12}while(0);if((p|0)==12){f=t+12|0;l=+(((a[f>>2]|0)+1|0)>>>0);u=+c[t+16>>2];do if(g|l>+(d>>>0)*u){if(d>>>0>2)r=(d+-1&d|0)==0;else r=0;s=(r&1|d<<1)^1;r=~~+te(+(l/u))>>>0;yi(t,s>>>0<r>>>0?r:s);s=a[v>>2]|0;r=a[b>>2]|0;o=s+-1|0;if(!(o&s)){d=s;o=o&r;break}else{d=s;o=(r>>>0)%(s>>>0)|0;break}}while(0);r=a[(a[t>>2]|0)+(o<<2)>>2]|0;if(!r){r=t+8|0;a[n>>2]=a[r>>2];a[r>>2]=n;a[(a[t>>2]|0)+(o<<2)>>2]=r;r=a[n>>2]|0;if(r){r=a[r+4>>2]|0;o=d+-1|0;if(!(o&d))r=r&o;else r=(r>>>0)%(d>>>0)|0;a[(a[t>>2]|0)+(r<<2)>>2]=n}}else{a[n>>2]=a[r>>2];a[r>>2]=n}a[f>>2]=(a[f>>2]|0)+1;r=1}a[e>>2]=n;i[e+4>>0]=r;return}function yi(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;if((t|0)!=1){if(t+-1&t)t=Uc(t)|0}else t=2;r=a[e+4>>2]|0;if(t>>>0<=r>>>0){if(t>>>0<r>>>0){if(r>>>0>2)i=(r+-1&r|0)==0;else i=0;n=~~+te(+(+((a[e+12>>2]|0)>>>0)/+c[e+16>>2]))>>>0;if(i)n=1<<32-(re(n+-1|0)|0);else n=Uc(n)|0;t=t>>>0<n>>>0?n:t;if(t>>>0<r>>>0)Ei(e,t)}}else Ei(e,t);return}function Ei(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0;i=e+4|0;e:do if(t){f=Ri(t<<2)|0;n=a[e>>2]|0;a[e>>2]=f;if(n)Pi(n);a[i>>2]=t;if(t){n=0;do{a[(a[e>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=(t|0))}i=e+8|0;r=a[i>>2]|0;if(r){n=a[r+4>>2]|0;d=t+-1|0;f=(d&t|0)==0;if(f)s=n&d;else s=(n>>>0)%(t>>>0)|0;a[(a[e>>2]|0)+(s<<2)>>2]=i;n=a[r>>2]|0;if(n){o=r;i=r;while(1){u=i;t:while(1){while(1){i=a[n+4>>2]|0;if(f)c=i&d;else c=(i>>>0)%(t>>>0)|0;if((c|0)==(s|0)){i=n;break}i=(a[e>>2]|0)+(c<<2)|0;if(!(a[i>>2]|0)){s=c;r=n;break t}l=n+8|0;i=n;while(1){r=a[i>>2]|0;if(!r)break;if((a[l>>2]|0)==(a[r+8>>2]|0))i=r;else break}a[o>>2]=r;a[i>>2]=a[a[(a[e>>2]|0)+(c<<2)>>2]>>2];a[a[(a[e>>2]|0)+(c<<2)>>2]>>2]=n;n=a[u>>2]|0;if(!n)break e}n=a[i>>2]|0;if(!n)break e;else{o=i;u=i}}a[i>>2]=o;n=a[r>>2]|0;if(!n)break;else{o=r;i=r}}}}}else{n=a[e>>2]|0;a[e>>2]=0;if(n)Pi(n);a[i>>2]=0}while(0);return}function wi(e){e=e|0;return wa(a[e+4>>2]|0)|0}function _i(e){e=e|0;He(624,10917);Qe(632,10922,1,1,0);De(640,10927,1,-128,127);De(656,10932,1,-128,127);De(648,10944,1,0,255);De(664,10958,2,-32768,32767);De(672,10964,2,0,65535);De(680,10979,4,-2147483648,2147483647);De(688,10983,4,0,-1);De(696,10996,4,-2147483648,2147483647);De(704,11001,4,0,-1);ht(712,11015,4);ht(720,11021,8);wt(360,11028);wt(392,11040);rt(416,4,11073);ot(440,11086);Ce(448,0,11102);Mi(11132);ki(11169);Ti(11208);Si(11239);Ai(11279);Ci(11308);Ce(456,4,11346);Ce(464,5,11376);Mi(11415);ki(11447);Ti(11480);Si(11513);Ai(11547);Ci(11580);Ce(472,6,11614);Ce(480,7,11645);Ce(488,7,11677);return}function xi(){_i(0);return}function Mi(e){e=e|0;Ce(536,0,e|0);return}function ki(e){e=e|0;Ce(528,1,e|0);return}function Ti(e){e=e|0;Ce(520,2,e|0);return}function Si(e){e=e|0;Ce(512,3,e|0);return}function Ai(e){e=e|0;Ce(504,4,e|0);return}function Ci(e){e=e|0;Ce(496,5,e|0);return}function $i(e){e=e|0;Le(12478,12501,303,12589)}function Ri(e){e=e|0;var t=0;t=(e|0)==0?1:e;e=Ba(t)|0;e:do if(!e){while(1){e=Ii()|0;if(!e)break;Yu[e&0]();e=Ba(t)|0;if(e)break e}t=Ze(4)|0;a[t>>2]=2224;kt(t|0,544,1)}while(0);return e|0}function Pi(e){e=e|0;ja(e);return}function Ni(e){e=e|0;return}function Oi(e){e=e|0;Pi(e);return}function Di(e){e=e|0;return 12610}function Ii(){var e=0;e=a[559]|0;a[559]=e+0;return e|0}function Li(e){e=e|0;return}function Fi(e){e=e|0;return}function Hi(e){e=e|0;return}function Ui(e){e=e|0;return}function Bi(e){e=e|0;return}function ji(e){e=e|0;Pi(e);return}function Vi(e){e=e|0;Pi(e);return}function zi(e){e=e|0;Pi(e);return}function Wi(e){e=e|0;Pi(e);return}function Gi(e,t,n){e=e|0;t=t|0;n=n|0;return(e|0)==(t|0)|0}function qi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0;s=d;d=d+64|0;o=s;if((e|0)!=(t|0))if((t|0)!=0?(r=Qi(t,576,592,0)|0,(r|0)!=0):0){t=o;i=t+56|0;do{a[t>>2]=0;t=t+4|0}while((t|0)<(i|0));a[o>>2]=r;a[o+8>>2]=e;a[o+12>>2]=-1;a[o+48>>2]=1;Qu[a[(a[r>>2]|0)+28>>2]&3](r,o,a[n>>2]|0,1);if((a[o+24>>2]|0)==1){a[n>>2]=a[o+16>>2];t=1}else t=0}else t=0;else t=1;d=s;return t|0}function Yi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var o=0;e=t+16|0;o=a[e>>2]|0;do if(o){if((o|0)!=(n|0)){r=t+36|0;a[r>>2]=(a[r>>2]|0)+1;a[t+24>>2]=2;i[t+54>>0]=1;break}e=t+24|0;if((a[e>>2]|0)==2)a[e>>2]=r}else{a[e>>2]=n;a[t+24>>2]=r;a[t+36>>2]=1}while(0);return}function Xi(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;if((e|0)==(a[t+8>>2]|0))Yi(0,t,n,i);return}function Ki(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;if((e|0)==(a[t+8>>2]|0))Yi(0,t,n,i);else{e=a[e+8>>2]|0;Qu[a[(a[e>>2]|0)+28>>2]&3](e,t,n,i)}return}function Zi(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0;o=a[e+4>>2]|0;r=o>>8;if(o&1)r=a[(a[n>>2]|0)+r>>2]|0;e=a[e>>2]|0;Qu[a[(a[e>>2]|0)+28>>2]&3](e,t,n+r|0,(o&2|0)!=0?i:2);return}function Ji(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var o=0,s=0;e:do if((e|0)!=(a[t+8>>2]|0)){s=a[e+12>>2]|0;o=e+16+(s<<3)|0;Zi(e+16|0,t,n,r);if((s|0)>1){s=t+54|0;e=e+24|0;do{Zi(e,t,n,r);if(i[s>>0]|0)break e;e=e+8|0}while(e>>>0<o>>>0)}}else Yi(0,t,n,r);while(0);return}function Qi(e,t,n,o){e=e|0;t=t|0;n=n|0;o=o|0;var s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0;v=d;d=d+64|0;g=v;p=a[e>>2]|0;m=e+(a[p+-8>>2]|0)|0;p=a[p+-4>>2]|0;a[g>>2]=n;a[g+4>>2]=e;a[g+8>>2]=t;a[g+12>>2]=o;o=g+16|0;e=g+20|0;t=g+24|0;s=g+28|0;l=g+32|0;c=g+40|0;u=(p|0)==(n|0);f=o;h=f+36|0;do{a[f>>2]=0;f=f+4|0}while((f|0)<(h|0));r[o+36>>1]=0;i[o+38>>0]=0;e:do if(u){a[g+48>>2]=1;Zu[a[(a[n>>2]|0)+20>>2]&3](n,g,m,m,1,0);o=(a[t>>2]|0)==1?m:0}else{Hu[a[(a[p>>2]|0)+24>>2]&3](p,g,m,1,0);switch(a[g+36>>2]|0){case 0:{o=(a[c>>2]|0)==1&(a[s>>2]|0)==1&(a[l>>2]|0)==1?a[e>>2]|0:0;break e}case 1:break;default:{o=0;break e}}if((a[t>>2]|0)!=1?!((a[c>>2]|0)==0&(a[s>>2]|0)==1&(a[l>>2]|0)==1):0){o=0;break}o=a[o>>2]|0}while(0);d=v;return o|0}function er(e,t,n,r,o){e=e|0;t=t|0;n=n|0;r=r|0;o=o|0;i[t+53>>0]=1;do if((a[t+4>>2]|0)==(r|0)){i[t+52>>0]=1;r=t+16|0;e=a[r>>2]|0;if(!e){a[r>>2]=n;a[t+24>>2]=o;a[t+36>>2]=1;if(!((o|0)==1?(a[t+48>>2]|0)==1:0))break;i[t+54>>0]=1;break}if((e|0)!=(n|0)){o=t+36|0;a[o>>2]=(a[o>>2]|0)+1;i[t+54>>0]=1;break}e=t+24|0;r=a[e>>2]|0;if((r|0)==2){a[e>>2]=o;r=o}if((r|0)==1?(a[t+48>>2]|0)==1:0)i[t+54>>0]=1}while(0);return}function tr(e,t,n,r,o){e=e|0;t=t|0;n=n|0;r=r|0;o=o|0;var s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0;e:do if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(s=t+28|0,(a[s>>2]|0)!=1):0)a[s>>2]=r}else{if((e|0)!=(a[t>>2]|0)){g=a[e+12>>2]|0;c=e+16+(g<<3)|0;ir(e+16|0,t,n,r,o);s=e+24|0;if((g|0)<=1)break;l=a[e+8>>2]|0;if((l&2|0)==0?(u=t+36|0,(a[u>>2]|0)!=1):0){if(!(l&1)){l=t+54|0;while(1){if(i[l>>0]|0)break e;if((a[u>>2]|0)==1)break e;ir(s,t,n,r,o);s=s+8|0;if(s>>>0>=c>>>0)break e}}l=t+24|0;e=t+54|0;while(1){if(i[e>>0]|0)break e;if((a[u>>2]|0)==1?(a[l>>2]|0)==1:0)break e;ir(s,t,n,r,o);s=s+8|0;if(s>>>0>=c>>>0)break e}}l=t+54|0;while(1){if(i[l>>0]|0)break e;ir(s,t,n,r,o);s=s+8|0;if(s>>>0>=c>>>0)break e}}if((a[t+16>>2]|0)!=(n|0)?(p=t+20|0,(a[p>>2]|0)!=(n|0)):0){a[t+32>>2]=r;f=t+44|0;if((a[f>>2]|0)==4)break;l=a[e+12>>2]|0;c=e+16+(l<<3)|0;u=t+52|0;r=t+53|0;h=t+54|0;d=e+8|0;m=t+24|0;t:do if((l|0)>0){l=0;s=0;e=e+16|0;while(1){i[u>>0]=0;i[r>>0]=0;nr(e,t,n,n,1,o);if(i[h>>0]|0){g=20;break t}do if(i[r>>0]|0){if(!(i[u>>0]|0))if(!(a[d>>2]&1)){s=1;g=20;break t}else{s=1;break}if((a[m>>2]|0)==1)break t;if(!(a[d>>2]&2))break t;else{l=1;s=1}}while(0);e=e+8|0;if(e>>>0>=c>>>0){g=20;break}}}else{l=0;s=0;g=20}while(0);do if((g|0)==20){if((!l?(a[p>>2]=n,n=t+40|0,a[n>>2]=(a[n>>2]|0)+1,(a[t+36>>2]|0)==1):0)?(a[m>>2]|0)==2:0){i[h>>0]=1;if(s)break}else g=24;if((g|0)==24?s:0)break;a[f>>2]=4;break e}while(0);a[f>>2]=3;break}if((r|0)==1)a[t+32>>2]=1}while(0);return}function nr(e,t,n,i,r,o){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;var s=0,l=0;l=a[e+4>>2]|0;s=l>>8;if(l&1)s=a[(a[i>>2]|0)+s>>2]|0;e=a[e>>2]|0;Zu[a[(a[e>>2]|0)+20>>2]&3](e,t,n,i+s|0,(l&2|0)!=0?r:2,o);return}function ir(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0;s=a[e+4>>2]|0;o=s>>8;if(s&1)o=a[(a[n>>2]|0)+o>>2]|0;e=a[e>>2]|0;Hu[a[(a[e>>2]|0)+24>>2]&3](e,t,n+o|0,(s&2|0)!=0?i:2,r);return}function rr(e,t,n,r,o){e=e|0;t=t|0;n=n|0;r=r|0;o=o|0;var s=0,l=0,c=0,u=0;e:do if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(s=t+28|0,(a[s>>2]|0)!=1):0)a[s>>2]=r}else{if((e|0)!=(a[t>>2]|0)){c=a[e+8>>2]|0;Hu[a[(a[c>>2]|0)+24>>2]&3](c,t,n,r,o);break}if((a[t+16>>2]|0)!=(n|0)?(l=t+20|0,(a[l>>2]|0)!=(n|0)):0){a[t+32>>2]=r;r=t+44|0;if((a[r>>2]|0)==4)break;s=t+52|0;i[s>>0]=0;u=t+53|0;i[u>>0]=0;e=a[e+8>>2]|0;Zu[a[(a[e>>2]|0)+20>>2]&3](e,t,n,n,1,o);if(i[u>>0]|0){if(!(i[s>>0]|0)){s=1;c=13}}else{s=0;c=13}do if((c|0)==13){a[l>>2]=n;u=t+40|0;a[u>>2]=(a[u>>2]|0)+1;if((a[t+36>>2]|0)==1?(a[t+24>>2]|0)==2:0){i[t+54>>0]=1;if(s)break}else c=16;if((c|0)==16?s:0)break;a[r>>2]=4;break e}while(0);a[r>>2]=3;break}if((r|0)==1)a[t+32>>2]=1}while(0);return}function ar(e,t,n,r,o){e=e|0;t=t|0;n=n|0;r=r|0;o=o|0;var s=0,l=0;do if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(l=t+28|0,(a[l>>2]|0)!=1):0)a[l>>2]=r}else if((e|0)==(a[t>>2]|0)){if((a[t+16>>2]|0)!=(n|0)?(s=t+20|0,(a[s>>2]|0)!=(n|0)):0){a[t+32>>2]=r;a[s>>2]=n;o=t+40|0;a[o>>2]=(a[o>>2]|0)+1;if((a[t+36>>2]|0)==1?(a[t+24>>2]|0)==2:0)i[t+54>>0]=1;a[t+44>>2]=4;break}if((r|0)==1)a[t+32>>2]=1}while(0);return}function or(e,t,n,r,o,s){e=e|0;t=t|0;n=n|0;r=r|0;o=o|0;s=s|0;var l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0;if((e|0)==(a[t+8>>2]|0))er(0,t,n,r,o);else{f=t+52|0;h=i[f>>0]|0;m=t+53|0;p=i[m>>0]|0;d=a[e+12>>2]|0;l=e+16+(d<<3)|0;i[f>>0]=0;i[m>>0]=0;nr(e+16|0,t,n,r,o,s);e:do if((d|0)>1){c=t+24|0;u=e+8|0;d=t+54|0;e=e+24|0;do{if(i[d>>0]|0)break e;if(!(i[f>>0]|0)){if((i[m>>0]|0)!=0?(a[u>>2]&1|0)==0:0)break e}else{if((a[c>>2]|0)==1)break e;if(!(a[u>>2]&2))break e}i[f>>0]=0;i[m>>0]=0;nr(e,t,n,r,o,s);e=e+8|0}while(e>>>0<l>>>0)}while(0);i[f>>0]=h;i[m>>0]=p}return}function sr(e,t,n,i,r,o){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;if((e|0)==(a[t+8>>2]|0))er(0,t,n,i,r);else{e=a[e+8>>2]|0;Zu[a[(a[e>>2]|0)+20>>2]&3](e,t,n,i,r,o)}return}function lr(e,t,n,i,r,o){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;if((e|0)==(a[t+8>>2]|0))er(0,t,n,i,r);return}function cr(e){e=e|0;Le(12625,12654,1164,12589)}function ur(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function dr(){var e=0;if(!(a[597]|0))e=2644;else e=a[(ct()|0)+60>>2]|0;return e|0}function fr(e){e=e|0;var t=0,n=0;t=0;while(1){if((o[12742+t>>0]|0)==(e|0)){n=2;break}t=t+1|0;if((t|0)==87){t=87;e=12830;n=5;break}}if((n|0)==2)if(!t)e=12830;else{e=12830;n=5}if((n|0)==5)while(1){n=e;while(1){e=n+1|0;if(!(i[n>>0]|0))break;else n=e}t=t+-1|0;if(!t)break;else n=5}return e|0}function hr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,N=0,O=0,D=0,I=0,L=0,F=0;L=d;d=d+512|0;N=L;switch(t|0){case 0:{I=24;D=-149;T=4;break}case 1:{I=53;D=-1074;T=4;break}case 2:{I=53;D=-1074;T=4;break}default:r=0}e:do if((T|0)==4){C=e+4|0;A=e+100|0;do{t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0}while((ur(t)|0)!=0);t:do switch(t|0){case 43:case 45:{s=1-(((t|0)==45&1)<<1)|0;t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0;O=s;break t}else{t=gr(e)|0;O=s;break t}}default:O=1}while(0);s=t;t=0;do{if((s|32|0)!=(i[14634+t>>0]|0))break;do if(t>>>0<7){s=a[C>>2]|0;if(s>>>0<(a[A>>2]|0)>>>0){a[C>>2]=s+1;s=o[s>>0]|0;break}else{s=gr(e)|0;break}}while(0);t=t+1|0}while(t>>>0<8);t:do switch(t|0){case 8:break;case 3:{T=23;break}default:{c=(n|0)!=0;if(c&t>>>0>3)if((t|0)==8)break t;else{T=23;break t}n:do if(!t){t=0;do{if((s|32|0)!=(i[16477+t>>0]|0))break n;do if(t>>>0<2){s=a[C>>2]|0;if(s>>>0<(a[A>>2]|0)>>>0){a[C>>2]=s+1;s=o[s>>0]|0;break}else{s=gr(e)|0;break}}while(0);t=t+1|0}while(t>>>0<3)}while(0);switch(t|0){case 3:{t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if((t|0)==40)t=1;else{if(!(a[A>>2]|0)){r=w;break e}a[C>>2]=(a[C>>2]|0)+-1;r=w;break e}while(1){s=a[C>>2]|0;if(s>>>0<(a[A>>2]|0)>>>0){a[C>>2]=s+1;s=o[s>>0]|0}else s=gr(e)|0;if(!((s+-48|0)>>>0<10|(s+-65|0)>>>0<26)?!((s|0)==95|(s+-97|0)>>>0<26):0)break;t=t+1|0}if((s|0)==41){r=w;break e}s=(a[A>>2]|0)==0;if(!s)a[C>>2]=(a[C>>2]|0)+-1;if(!c){a[(dr()|0)>>2]=22;pr(e,0);r=0;break e}if(!t){r=w;break e}while(1){t=t+-1|0;if(!s)a[C>>2]=(a[C>>2]|0)+-1;if(!t){r=w;break e}}}case 0:{do if((s|0)==48){t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if((t|32|0)!=120){if(!(a[A>>2]|0)){t=48;break}a[C>>2]=(a[C>>2]|0)+-1;t=48;break}t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0;c=0}else{t=gr(e)|0;c=0}n:while(1){switch(t|0){case 46:{T=74;break n}case 48:break;default:{M=0;u=0;x=0;s=0;h=c;m=0;E=0;f=1;c=0;r=0;break n}}t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0;c=1;continue}else{t=gr(e)|0;c=1;continue}}if((T|0)==74){t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if((t|0)==48){c=0;s=0;do{t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;c=Yc(c|0,s|0,-1,-1)|0;s=P}while((t|0)==48);M=0;u=0;x=c;h=1;m=1;E=0;f=1;c=0;r=0}else{M=0;u=0;x=0;s=0;h=c;m=1;E=0;f=1;c=0;r=0}}while(1){b=t+-48|0;p=t|32;if(b>>>0>=10){y=(t|0)==46;if(!(y|(p+-97|0)>>>0<6)){p=x;b=M;break}if(y)if(!m){y=u;s=M;b=M;m=1;p=E;l=f}else{p=x;b=M;t=46;break}else T=86}else T=86;if((T|0)==86){T=0;t=(t|0)>57?p+-87|0:b;do if(!((M|0)<0|(M|0)==0&u>>>0<8)){if((M|0)<0|(M|0)==0&u>>>0<14){v=f*.0625;p=E;l=v;r=r+v*+(t|0);break}if((E|0)!=0|(t|0)==0){p=E;l=f}else{p=1;l=f;r=r+f*.5}}else{p=E;l=f;c=t+(c<<4)|0}while(0);u=Yc(u|0,M|0,1,0)|0;y=x;b=P;h=1}t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;M=b;x=y;t=o[t>>0]|0;E=p;f=l;continue}else{M=b;x=y;t=gr(e)|0;E=p;f=l;continue}}if(!h){t=(a[A>>2]|0)==0;if(!t)a[C>>2]=(a[C>>2]|0)+-1;if(n){if(!t?(k=a[C>>2]|0,a[C>>2]=k+-1,(m|0)!=0):0)a[C>>2]=k+-2}else pr(e,0);r=+(O|0)*0;break e}h=(m|0)==0;m=h?u:p;h=h?b:s;if((b|0)<0|(b|0)==0&u>>>0<8){s=b;do{c=c<<4;u=Yc(u|0,s|0,1,0)|0;s=P}while((s|0)<0|(s|0)==0&u>>>0<8)}if((t|32|0)==112){s=Aa(e,n)|0;t=P;if((s|0)==0&(t|0)==-2147483648){if(!n){pr(e,0);r=0;break e}if(!(a[A>>2]|0)){s=0;t=0}else{a[C>>2]=(a[C>>2]|0)+-1;s=0;t=0}}}else if(!(a[A>>2]|0)){s=0;t=0}else{a[C>>2]=(a[C>>2]|0)+-1;s=0;t=0}N=qc(m|0,h|0,2)|0;N=Yc(N|0,P|0,-32,-1)|0;t=Yc(N|0,P|0,s|0,t|0)|0;s=P;if(!c){r=+(O|0)*0;break e}if((s|0)>0|(s|0)==0&t>>>0>(0-D|0)>>>0){a[(dr()|0)>>2]=34;r=+(O|0)*1.7976931348623157e308*1.7976931348623157e308;break e}N=D+-106|0;R=((N|0)<0)<<31>>31;if((s|0)<(R|0)|(s|0)==(R|0)&t>>>0<N>>>0){a[(dr()|0)>>2]=34;r=+(O|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((c|0)>-1){do{R=!(r>=.5);N=R&1|c<<1;c=N^1;r=r+(R?r:r+-1);t=Yc(t|0,s|0,-1,-1)|0;s=P}while((N|0)>-1);u=t;f=r}else{u=t;f=r}t=Wc(32,0,D|0,((D|0)<0)<<31>>31|0)|0;t=Yc(u|0,s|0,t|0,P|0)|0;D=P;if(0>(D|0)|0==(D|0)&I>>>0>t>>>0)if((t|0)<0){t=0;T=127}else T=125;else{t=I;T=125}if((T|0)==125)if((t|0)<53)T=127;else{s=t;l=+(O|0);r=0}if((T|0)==127){r=+(O|0);s=t;l=r;r=+yr(+Mr(1,84-t|0),r)}I=(c&1|0)==0&(f!=0&(s|0)<32);r=l*(I?0:f)+(r+l*+(((I&1)+c|0)>>>0))-r;if(!(r!=0))a[(dr()|0)>>2]=34;r=+kr(r,u);break e}else t=s;while(0);$=D+I|0;R=0-$|0;c=0;n:while(1){switch(t|0){case 46:{T=138;break n}case 48:break;default:{s=0;p=0;m=0;break n}}t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0;c=1;continue}else{t=gr(e)|0;c=1;continue}}if((T|0)==138){t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if((t|0)==48){s=0;t=0;while(1){s=Yc(s|0,t|0,-1,-1)|0;c=P;t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if((t|0)==48)t=c;else{p=c;c=1;m=1;break}}}else{s=0;p=0;m=1}}a[N>>2]=0;h=t+-48|0;u=(t|0)==46;n:do if(u|h>>>0<10){S=N+496|0;M=0;y=0;E=u;T=p;b=c;k=m;c=0;u=0;m=0;i:while(1){do if(E)if(!k){s=M;p=y;k=1}else{p=T;t=M;h=y;break i}else{E=Yc(M|0,y|0,1,0)|0;y=P;x=(t|0)!=48;if((u|0)>=125){if(!x){p=T;M=E;break}a[S>>2]=a[S>>2]|1;p=T;M=E;break}p=N+(u<<2)|0;if(c)h=t+-48+((a[p>>2]|0)*10|0)|0;a[p>>2]=h;c=c+1|0;h=(c|0)==9;p=T;M=E;b=1;c=h?0:c;u=(h&1)+u|0;m=x?E:m}while(0);t=a[C>>2]|0;if(t>>>0<(a[A>>2]|0)>>>0){a[C>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;h=t+-48|0;E=(t|0)==46;if(!(E|h>>>0<10)){h=k;T=161;break n}else T=p}b=(b|0)!=0;T=169}else{M=0;y=0;b=c;h=m;c=0;u=0;m=0;T=161}while(0);do if((T|0)==161){S=(h|0)==0;s=S?M:s;p=S?y:p;b=(b|0)!=0;if(!((t|32|0)==101&b))if((t|0)>-1){t=M;h=y;T=169;break}else{t=M;h=y;T=171;break}h=Aa(e,n)|0;t=P;if((h|0)==0&(t|0)==-2147483648){if(!n){pr(e,0);r=0;break}if(!(a[A>>2]|0)){h=0;t=0}else{a[C>>2]=(a[C>>2]|0)+-1;h=0;t=0}}s=Yc(h|0,t|0,s|0,p|0)|0;b=M;p=P;h=y;T=173}while(0);if((T|0)==169)if(a[A>>2]|0){a[C>>2]=(a[C>>2]|0)+-1;if(b){b=t;T=173}else T=172}else T=171;if((T|0)==171)if(b){b=t;T=173}else T=172;do if((T|0)==172){a[(dr()|0)>>2]=22;pr(e,0);r=0}else if((T|0)==173){t=a[N>>2]|0;if(!t){r=+(O|0)*0;break}if(((h|0)<0|(h|0)==0&b>>>0<10)&((s|0)==(b|0)&(p|0)==(h|0))?I>>>0>30|(t>>>I|0)==0:0){r=+(O|0)*+(t>>>0);break}e=(D|0)/-2|0;C=((e|0)<0)<<31>>31;if((p|0)>(C|0)|(p|0)==(C|0)&s>>>0>e>>>0){a[(dr()|0)>>2]=34;r=+(O|0)*1.7976931348623157e308*1.7976931348623157e308;break}e=D+-106|0;C=((e|0)<0)<<31>>31;if((p|0)<(C|0)|(p|0)==(C|0)&s>>>0<e>>>0){a[(dr()|0)>>2]=34;r=+(O|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(c){if((c|0)<9){h=N+(u<<2)|0;t=a[h>>2]|0;do{t=t*10|0;c=c+1|0}while((c|0)!=9);a[h>>2]=t}u=u+1|0}if((m|0)<9?(m|0)<=(s|0)&(s|0)<18:0){if((s|0)==9){r=+(O|0)*+((a[N>>2]|0)>>>0);break}if((s|0)<9){r=+(O|0)*+((a[N>>2]|0)>>>0)/+(a[2648+(8-s<<2)>>2]|0);break}e=I+27+(ne(s,-3)|0)|0;t=a[N>>2]|0;if((e|0)>30|(t>>>e|0)==0){r=+(O|0)*+(t>>>0)*+(a[2648+(s+-10<<2)>>2]|0);break}}t=(s|0)%9|0;if(!t){c=0;t=0}else{b=(s|0)>-1?t:t+9|0;h=a[2648+(8-b<<2)>>2]|0;if(u){m=1e9/(h|0)|0;c=0;t=0;p=0;do{A=N+(p<<2)|0;C=a[A>>2]|0;e=((C>>>0)/(h>>>0)|0)+t|0;a[A>>2]=e;t=ne((C>>>0)%(h>>>0)|0,m)|0;e=(p|0)==(c|0)&(e|0)==0;p=p+1|0;s=e?s+-9|0:s;c=e?p&127:c}while((p|0)!=(u|0));if(t){a[N+(u<<2)>>2]=t;u=u+1|0}}else{c=0;u=0}t=0;s=9-b+s|0}n:while(1){y=(s|0)<18;E=(s|0)==18;x=N+(c<<2)|0;do{if(!y){if(!E)break n;if((a[x>>2]|0)>>>0>=9007199){s=18;break n}}h=0;m=u+127|0;while(1){b=m&127;p=N+(b<<2)|0;m=qc(a[p>>2]|0,0,29)|0;m=Yc(m|0,P|0,h|0,0)|0;h=P;if(h>>>0>0|(h|0)==0&m>>>0>1e9){e=iu(m|0,h|0,1e9,0)|0;m=ru(m|0,h|0,1e9,0)|0;h=e}else h=0;a[p>>2]=m;e=(b|0)==(c|0);u=(b|0)!=(u+127&127|0)|e?u:(m|0)==0?b:u;if(e)break;else m=b+-1|0}t=t+-29|0}while((h|0)==0);c=c+127&127;if((c|0)==(u|0)){e=u+127&127;u=N+((u+126&127)<<2)|0;a[u>>2]=a[u>>2]|a[N+(e<<2)>>2];u=e}a[N+(c<<2)>>2]=h;s=s+9|0}n:while(1){M=u+1&127;x=N+((u+127&127)<<2)|0;while(1){y=(s|0)==18;E=(s|0)>27?9:1;b=y^1;while(1){m=c&127;p=(m|0)==(u|0);do if(!p){h=a[N+(m<<2)>>2]|0;if(h>>>0<9007199){T=219;break}if(h>>>0>9007199)break;h=c+1&127;if((h|0)==(u|0)){T=219;break}h=a[N+(h<<2)>>2]|0;if(h>>>0<254740991){T=219;break}if(!(h>>>0>254740991|b)){s=m;break n}}else T=219;while(0);if((T|0)==219?(T=0,y):0){T=220;break n}t=t+E|0;if((c|0)==(u|0))c=u;else break}b=(1<<E)+-1|0;y=1e9>>>E;m=c;h=0;p=c;while(1){C=N+(p<<2)|0;e=a[C>>2]|0;c=(e>>>E)+h|0;a[C>>2]=c;h=ne(e&b,y)|0;c=(p|0)==(m|0)&(c|0)==0;p=p+1&127;s=c?s+-9|0:s;c=c?p:m;if((p|0)==(u|0))break;else m=c}if(!h)continue;if((M|0)!=(c|0))break;a[x>>2]=a[x>>2]|1}a[N+(u<<2)>>2]=h;u=M}if((T|0)==220)if(p){a[N+(M+-1<<2)>>2]=0;s=u;u=M}else s=m;r=+((a[N+(s<<2)>>2]|0)>>>0);s=c+1&127;if((s|0)==(u|0)){u=c+2&127;a[N+(u+-1<<2)>>2]=0}v=+(O|0);l=v*(r*1e9+ +((a[N+(s<<2)>>2]|0)>>>0));y=t+53|0;p=y-D|0;b=(p|0)<(I|0);s=b&1;m=b?(p|0)<0?0:p:I;if((m|0)<53){F=+yr(+Mr(1,105-m|0),l);f=+wr(l,+Mr(1,53-m|0));g=F;r=f;f=F+(l-f)}else{g=0;r=0;f=l}h=c+2&127;do if((h|0)==(u|0))l=r;else{h=a[N+(h<<2)>>2]|0;do if(h>>>0>=5e8){if(h>>>0>5e8){r=v*.75+r;break}if((c+3&127|0)==(u|0)){r=v*.5+r;break}else{r=v*.75+r;break}}else{if((h|0)==0?(c+3&127|0)==(u|0):0)break;r=v*.25+r}while(0);if((53-m|0)<=1){l=r;break}if(+wr(r,1)!=0){l=r;break}l=r+1}while(0);r=f+l-g;do if((y&2147483647|0)>(-2-$|0)){if(+V(+r)>=9007199254740992){s=b&(m|0)==(p|0)?0:s;t=t+1|0;r=r*.5}if((t+50|0)<=(R|0)?!(l!=0&(s|0)!=0):0)break;a[(dr()|0)>>2]=34}while(0);r=+kr(r,t)}while(0);break e}default:{if(a[A>>2]|0)a[C>>2]=(a[C>>2]|0)+-1;a[(dr()|0)>>2]=22;pr(e,0);r=0;break e}}}}while(0);if((T|0)==23){s=(a[A>>2]|0)==0;if(!s)a[C>>2]=(a[C>>2]|0)+-1;if((n|0)!=0&t>>>0>3)do{if(!s)a[C>>2]=(a[C>>2]|0)+-1;t=t+-1|0}while(t>>>0>3)}r=+(O|0)*_}while(0);d=L;return+r}function mr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0;e:do if(t>>>0>36){a[(dr()|0)>>2]=22;s=0;r=0}else{v=e+4|0;g=e+100|0;do{l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0}while((ur(l)|0)!=0);t:do switch(l|0){case 43:case 45:{c=((l|0)==45)<<31>>31;l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0;p=c;break t}else{l=gr(e)|0;p=c;break t}}default:p=0}while(0);c=(t|0)==0;do if((t&-17|0)==0&(l|0)==48){l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0;if((l|32|0)!=120)if(c){t=8;h=46;break}else{h=32;break}t=a[v>>2]|0;if(t>>>0<(a[g>>2]|0)>>>0){a[v>>2]=t+1;l=o[t>>0]|0}else l=gr(e)|0;if((o[14643+(l+1)>>0]|0)>15){r=(a[g>>2]|0)==0;if(!r)a[v>>2]=(a[v>>2]|0)+-1;if(!n){pr(e,0);s=0;r=0;break e}if(r){s=0;r=0;break e}a[v>>2]=(a[v>>2]|0)+-1;s=0;r=0;break e}else{t=16;h=46}}else{t=c?10:t;if((o[14643+(l+1)>>0]|0)>>>0<t>>>0)h=32;else{if(a[g>>2]|0)a[v>>2]=(a[v>>2]|0)+-1;pr(e,0);a[(dr()|0)>>2]=22;s=0;r=0;break e}}while(0);if((h|0)==32)if((t|0)==10){t=l+-48|0;if(t>>>0<10){l=0;while(1){c=(l*10|0)+t|0;t=a[v>>2]|0;if(t>>>0<(a[g>>2]|0)>>>0){a[v>>2]=t+1;l=o[t>>0]|0}else l=gr(e)|0;t=l+-48|0;if(!(t>>>0<10&c>>>0<429496729)){t=c;break}else l=c}c=0}else{t=0;c=0}n=l+-48|0;if(n>>>0<10){while(1){u=nu(t|0,c|0,10,0)|0;d=P;f=((n|0)<0)<<31>>31;m=~f;if(d>>>0>m>>>0|(d|0)==(m|0)&u>>>0>~n>>>0){u=t;break}t=Yc(u|0,d|0,n|0,f|0)|0;c=P;l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0;n=l+-48|0;if(!(n>>>0<10&(c>>>0<429496729|(c|0)==429496729&t>>>0<2576980378))){u=t;break}}if(n>>>0>9){l=u;t=p}else{t=10;h=72}}else{l=t;t=p}}else h=46;t:do if((h|0)==46){if(!(t+-1&t)){h=i[14900+((t*23|0)>>>5&7)>>0]|0;c=i[14643+(l+1)>>0]|0;n=c&255;if(n>>>0<t>>>0){l=0;while(1){u=n|l<<h;l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0;c=i[14643+(l+1)>>0]|0;n=c&255;if(!(u>>>0<134217728&n>>>0<t>>>0))break;else l=u}n=0}else{n=0;u=0}d=Xc(-1,-1,h|0)|0;f=P;if((c&255)>>>0>=t>>>0|(n>>>0>f>>>0|(n|0)==(f|0)&u>>>0>d>>>0)){c=n;h=72;break}else l=n;while(1){u=qc(u|0,l|0,h|0)|0;n=P;u=c&255|u;l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0;c=i[14643+(l+1)>>0]|0;if((c&255)>>>0>=t>>>0|(n>>>0>f>>>0|(n|0)==(f|0)&u>>>0>d>>>0)){c=n;h=72;break t}else l=n}}c=i[14643+(l+1)>>0]|0;n=c&255;if(n>>>0<t>>>0){l=0;while(1){u=n+(ne(l,t)|0)|0;l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0;c=i[14643+(l+1)>>0]|0;n=c&255;if(!(u>>>0<119304647&n>>>0<t>>>0))break;else l=u}n=0}else{u=0;n=0}if((c&255)>>>0<t>>>0){h=iu(-1,-1,t|0,0)|0;m=P;f=n;while(1){if(f>>>0>m>>>0|(f|0)==(m|0)&u>>>0>h>>>0){c=f;h=72;break t}n=nu(u|0,f|0,t|0,0)|0;d=P;c=c&255;if(d>>>0>4294967295|(d|0)==-1&n>>>0>~c>>>0){c=f;h=72;break t}u=Yc(c|0,0,n|0,d|0)|0;n=P;l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0;c=i[14643+(l+1)>>0]|0;if((c&255)>>>0>=t>>>0){c=n;h=72;break}else f=n}}else{c=n;h=72}}while(0);if((h|0)==72)if((o[14643+(l+1)>>0]|0)>>>0<t>>>0){do{l=a[v>>2]|0;if(l>>>0<(a[g>>2]|0)>>>0){a[v>>2]=l+1;l=o[l>>0]|0}else l=gr(e)|0}while((o[14643+(l+1)>>0]|0)>>>0<t>>>0);a[(dr()|0)>>2]=34;c=s;l=r;t=(r&1|0)==0&0==0?p:0}else{l=u;t=p}if(a[g>>2]|0)a[v>>2]=(a[v>>2]|0)+-1;if(!(c>>>0<s>>>0|(c|0)==(s|0)&l>>>0<r>>>0)){if(!((r&1|0)!=0|0!=0|(t|0)!=0)){a[(dr()|0)>>2]=34;r=Yc(r|0,s|0,-1,-1)|0;s=P;break}if(c>>>0>s>>>0|(c|0)==(s|0)&l>>>0>r>>>0){a[(dr()|0)>>2]=34;break}}r=((t|0)<0)<<31>>31;r=Wc(l^t|0,c^r|0,t|0,r|0)|0;s=P}while(0);P=s;return r|0}function pr(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;a[e+104>>2]=t;n=a[e+4>>2]|0;
i=a[e+8>>2]|0;r=i-n|0;a[e+108>>2]=r;if((t|0)!=0&(r|0)>(t|0))a[e+100>>2]=n+t;else a[e+100>>2]=i;return}function gr(e){e=e|0;var t=0,n=0,r=0,s=0,l=0,c=0;n=e+104|0;l=a[n>>2]|0;if((l|0)!=0?(a[e+108>>2]|0)>=(l|0):0)c=4;else{t=jr(e)|0;if((t|0)>=0){s=a[n>>2]|0;n=e+8|0;if(s){r=a[n>>2]|0;l=a[e+4>>2]|0;n=r;s=s-(a[e+108>>2]|0)+-1|0;if((n-l|0)>(s|0))a[e+100>>2]=l+s;else c=9}else{r=a[n>>2]|0;n=r;c=9}if((c|0)==9)a[e+100>>2]=n;n=a[e+4>>2]|0;if(r){e=e+108|0;a[e>>2]=r+1-n+(a[e>>2]|0)}n=n+-1|0;if((o[n>>0]|0|0)!=(t|0))i[n>>0]=t}else c=4}if((c|0)==4){a[e+100>>2]=0;t=-1}return t|0}function vr(e){e=e|0;if(e>>>0>4294963200){a[(dr()|0)>>2]=0-e;e=-1}return e|0}function br(e,t){e=+e;t=+t;var n=0,i=0;u[h>>3]=e;i=a[h>>2]|0;n=a[h+4>>2]|0;u[h>>3]=t;n=a[h+4>>2]&-2147483648|n&2147483647;a[h>>2]=i;a[h+4>>2]=n;return+ +u[h>>3]}function yr(e,t){e=+e;t=+t;return+ +br(e,t)}function Er(e,t){e=+e;t=+t;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,d=0,f=0,m=0,p=0,g=0;u[h>>3]=e;n=a[h>>2]|0;d=a[h+4>>2]|0;u[h>>3]=t;f=a[h>>2]|0;m=a[h+4>>2]|0;i=Xc(n|0,d|0,52)|0;i=i&2047;l=Xc(f|0,m|0,52)|0;l=l&2047;p=d&-2147483648;s=qc(f|0,m|0,1)|0;c=P;e:do if(!((s|0)==0&(c|0)==0)?(o=m&2147483647,!(o>>>0>2146435072|(o|0)==2146435072&f>>>0>0|(i|0)==2047)):0){r=qc(n|0,d|0,1)|0;o=P;if(!(o>>>0>c>>>0|(o|0)==(c|0)&r>>>0>s>>>0))return+((r|0)==(s|0)&(o|0)==(c|0)?e*0:e);if(!i){i=qc(n|0,d|0,12)|0;r=P;if((r|0)>-1|(r|0)==-1&i>>>0>4294967295){o=i;i=0;do{i=i+-1|0;o=qc(o|0,r|0,1)|0;r=P}while((r|0)>-1|(r|0)==-1&o>>>0>4294967295)}else i=0;n=qc(n|0,d|0,1-i|0)|0;r=P}else r=d&1048575|1048576;if(!l){o=qc(f|0,m|0,12)|0;s=P;if((s|0)>-1|(s|0)==-1&o>>>0>4294967295){l=0;do{l=l+-1|0;o=qc(o|0,s|0,1)|0;s=P}while((s|0)>-1|(s|0)==-1&o>>>0>4294967295)}else l=0;f=qc(f|0,m|0,1-l|0)|0;d=P}else d=m&1048575|1048576;c=Wc(n|0,r|0,f|0,d|0)|0;s=P;o=(s|0)>-1|(s|0)==-1&c>>>0>4294967295;t:do if((i|0)>(l|0)){while(1){if(o)if((n|0)==(f|0)&(r|0)==(d|0))break;else{n=c;r=s}n=qc(n|0,r|0,1)|0;r=P;i=i+-1|0;c=Wc(n|0,r|0,f|0,d|0)|0;s=P;o=(s|0)>-1|(s|0)==-1&c>>>0>4294967295;if((i|0)<=(l|0))break t}t=e*0;break e}while(0);if(o)if((n|0)==(f|0)&(r|0)==(d|0)){t=e*0;break}else{r=s;n=c}if(r>>>0<1048576|(r|0)==1048576&n>>>0<0)do{n=qc(n|0,r|0,1)|0;r=P;i=i+-1|0}while(r>>>0<1048576|(r|0)==1048576&n>>>0<0);if((i|0)>0){m=Yc(n|0,r|0,0,-1048576)|0;n=P;i=qc(i|0,0,52)|0;n=n|P;i=m|i}else{i=Xc(n|0,r|0,1-i|0)|0;n=P}a[h>>2]=i;a[h+4>>2]=n|p;t=+u[h>>3]}else g=3;while(0);if((g|0)==3){t=e*t;t=t/t}return+t}function wr(e,t){e=+e;t=+t;return+ +Er(e,t)}function _r(e,t){e=+e;t=t|0;var n=0,i=0,r=0;u[h>>3]=e;n=a[h>>2]|0;i=a[h+4>>2]|0;r=Xc(n|0,i|0,52)|0;r=r&2047;switch(r|0){case 0:{if(e!=0){e=+_r(e*0x10000000000000000,t);n=(a[t>>2]|0)+-64|0}else n=0;a[t>>2]=n;break}case 2047:break;default:{a[t>>2]=r+-1022;a[h>>2]=n;a[h+4>>2]=i&-2146435073|1071644672;e=+u[h>>3]}}return+e}function xr(e,t){e=+e;t=t|0;return+ +_r(e,t)}function Mr(e,t){e=+e;t=t|0;var n=0;if((t|0)>1023){e=e*8.98846567431158e307;n=t+-1023|0;if((n|0)>1023){n=t+-2046|0;n=(n|0)>1023?1023:n;e=e*8.98846567431158e307}}else if((t|0)<-1022){e=e*2.2250738585072014e-308;n=t+1022|0;if((n|0)<-1022){n=t+2044|0;n=(n|0)<-1022?-1022:n;e=e*2.2250738585072014e-308}}else n=t;n=qc(n+1023|0,0,52)|0;t=P;a[h>>2]=n;a[h+4>>2]=t;return+(e*+u[h>>3])}function kr(e,t){e=+e;t=t|0;return+ +Mr(e,t)}function Tr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var o=0,s=0,l=0,c=0,u=0,f=0;u=d;d=d+16|0;o=u;l=(r|0)==0?2680:r;r=a[l>>2]|0;e:do if(!t)if(!r)r=0;else c=15;else{s=(e|0)==0?o:e;if(!n)r=-2;else{if(!r){r=i[t>>0]|0;o=r&255;if(r<<24>>24>-1){a[s>>2]=o;r=r<<24>>24!=0&1;break}r=o+-194|0;if(r>>>0>50){c=15;break}r=a[2432+(r<<2)>>2]|0;o=n+-1|0;if(o){t=t+1|0;c=9}}else{o=n;c=9}t:do if((c|0)==9){e=i[t>>0]|0;f=(e&255)>>>3;if((f+-16|f+(r>>26))>>>0>7){c=15;break e}while(1){t=t+1|0;r=(e&255)+-128|r<<6;o=o+-1|0;if((r|0)>=0)break;if(!o)break t;e=i[t>>0]|0;if((e&-64)<<24>>24!=-128){c=15;break e}}a[l>>2]=0;a[s>>2]=r;r=n-o|0;break e}while(0);a[l>>2]=r;r=-2}}while(0);if((c|0)==15){a[l>>2]=0;a[(dr()|0)>>2]=84;r=-1}d=u;return r|0}function Sr(e){e=e|0;if(!e)e=1;else e=(a[e>>2]|0)==0;return e&1|0}function Ar(e,t,n){e=e|0;t=t|0;n=n|0;do if(e){if(t>>>0<128){i[e>>0]=t;e=1;break}if(t>>>0<2048){i[e>>0]=t>>>6|192;i[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){i[e>>0]=t>>>12|224;i[e+1>>0]=t>>>6&63|128;i[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){i[e>>0]=t>>>18|240;i[e+1>>0]=t>>>12&63|128;i[e+2>>0]=t>>>6&63|128;i[e+3>>0]=t&63|128;e=4;break}else{a[(dr()|0)>>2]=84;e=-1;break}}else e=1;while(0);return e|0}function Cr(e,t){e=e|0;t=t|0;if(!e)e=0;else e=Ar(e,t,0)|0;return e|0}function $r(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0;m=d;d=d+112|0;h=m+40|0;u=m+24|0;c=m+16|0;o=m;f=m+52|0;r=i[t>>0]|0;if(ha(14909,r<<24>>24,4)|0){n=Ba(1144)|0;if(!n)n=0;else{s=n;l=s+112|0;do{a[s>>2]=0;s=s+4|0}while((s|0)<(l|0));if(!(va(t,43)|0))a[n>>2]=r<<24>>24==114?8:4;if(va(t,101)|0){a[o>>2]=e;a[o+4>>2]=2;a[o+8>>2]=1;Me(221,o|0)|0;r=i[t>>0]|0}if(r<<24>>24==97){a[c>>2]=e;a[c+4>>2]=3;r=Me(221,c|0)|0;if(!(r&1024)){a[u>>2]=e;a[u+4>>2]=4;a[u+8>>2]=r|1024;Me(221,u|0)|0}t=a[n>>2]|128;a[n>>2]=t}else t=a[n>>2]|0;a[n+60>>2]=e;a[n+44>>2]=n+120;a[n+48>>2]=1024;r=n+75|0;i[r>>0]=-1;if((t&8|0)==0?(a[h>>2]=e,a[h+4>>2]=21505,a[h+8>>2]=f,(pt(54,h|0)|0)==0):0)i[r>>0]=10;a[n+32>>2]=14;a[n+36>>2]=4;a[n+40>>2]=5;a[n+12>>2]=2;if(!(a[598]|0))a[n+76>>2]=-1;St(2416);r=a[603]|0;a[n+56>>2]=r;if(r)a[r+52>>2]=n;a[603]=n;gt(2416)}}else{a[(dr()|0)>>2]=22;n=0}d=m;return n|0}function Rr(e){e=e|0;var t=0,n=0,r=0;n=(va(e,43)|0)==0;t=i[e>>0]|0;n=n?t<<24>>24!=114&1:2;r=(va(e,120)|0)==0;n=r?n:n|128;e=(va(e,101)|0)==0;e=e?n:n|524288;e=t<<24>>24==114?e:e|64;e=t<<24>>24==119?e|512:e;return(t<<24>>24==97?e|1024:e)|0}function Pr(e){e=e|0;return 0}function Nr(e){e=e|0;return}function Or(e){e=e|0;var t=0,n=0;t=d;d=d+16|0;n=t;a[n>>2]=a[e+60>>2];e=vr(At(6,n|0)|0)|0;d=t;return e|0}function Dr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;f=d;d=d+48|0;s=f+16|0;o=f;r=f+32|0;a[r>>2]=t;l=r+4|0;u=e+48|0;h=a[u>>2]|0;a[l>>2]=n-((h|0)!=0&1);c=e+44|0;a[r+8>>2]=a[c>>2];a[r+12>>2]=h;if(!(a[597]|0)){a[s>>2]=a[e+60>>2];a[s+4>>2]=r;a[s+8>>2]=2;r=vr(jt(145,s|0)|0)|0}else{Oe(13,e|0);a[o>>2]=a[e+60>>2];a[o+4>>2]=r;a[o+8>>2]=2;r=vr(jt(145,o|0)|0)|0;bt(0)}if((r|0)>=1){l=a[l>>2]|0;if(r>>>0>l>>>0){s=a[c>>2]|0;o=e+4|0;a[o>>2]=s;a[e+8>>2]=s+(r-l);if(!(a[u>>2]|0))r=n;else{a[o>>2]=s+1;i[t+(n+-1)>>0]=i[s>>0]|0;r=n}}}else{a[e>>2]=a[e>>2]|r&48^16;a[e+8>>2]=0;a[e+4>>2]=0}d=f;return r|0}function Ir(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0;r=d;d=d+32|0;o=r;i=r+20|0;a[o>>2]=a[e+60>>2];a[o+4>>2]=0;a[o+8>>2]=t;a[o+12>>2]=i;a[o+16>>2]=n;if((vr(Lt(140,o|0)|0)|0)<0){a[i>>2]=-1;e=-1}else e=a[i>>2]|0;d=r;return e|0}function Lr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0;g=d;d=d+48|0;h=g+16|0;f=g;i=g+32|0;m=e+28|0;r=a[m>>2]|0;a[i>>2]=r;p=e+20|0;r=(a[p>>2]|0)-r|0;a[i+4>>2]=r;a[i+8>>2]=t;a[i+12>>2]=n;c=e+60|0;u=e+44|0;t=2;r=r+n|0;while(1){if(!(a[597]|0)){a[h>>2]=a[c>>2];a[h+4>>2]=i;a[h+8>>2]=t;s=vr(Vt(146,h|0)|0)|0}else{Oe(14,e|0);a[f>>2]=a[c>>2];a[f+4>>2]=i;a[f+8>>2]=t;s=vr(Vt(146,f|0)|0)|0;bt(0)}if((r|0)==(s|0)){r=6;break}if((s|0)<0){r=8;break}r=r-s|0;o=a[i+4>>2]|0;if(s>>>0<=o>>>0)if((t|0)==2){a[m>>2]=(a[m>>2]|0)+s;l=o;t=2}else l=o;else{l=a[u>>2]|0;a[m>>2]=l;a[p>>2]=l;l=a[i+12>>2]|0;s=s-o|0;i=i+8|0;t=t+-1|0}a[i>>2]=(a[i>>2]|0)+s;a[i+4>>2]=l-s}if((r|0)==6){h=a[u>>2]|0;a[e+16>>2]=h+(a[e+48>>2]|0);e=h;a[m>>2]=e;a[p>>2]=e}else if((r|0)==8){a[e+16>>2]=0;a[m>>2]=0;a[p>>2]=0;a[e>>2]=a[e>>2]|32;if((t|0)==2)n=0;else n=n-(a[i+4>>2]|0)|0}d=g;return n|0}function Fr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0;o=d;d=d+80|0;r=o;a[e+36>>2]=4;if((a[e>>2]&64|0)==0?(a[r>>2]=a[e+60>>2],a[r+4>>2]=21505,a[r+8>>2]=o+12,(pt(54,r|0)|0)!=0):0)i[e+75>>0]=-1;r=Lr(e,t,n)|0;d=o;return r|0}function Hr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0;i=e+84|0;o=a[i>>2]|0;s=n+256|0;r=ha(o,0,s)|0;r=(r|0)==0?s:r-o|0;n=r>>>0<n>>>0?r:n;Kc(t|0,o|0,n|0)|0;a[e+4>>2]=o+n;t=o+r|0;a[e+8>>2]=t;a[i>>2]=t;return n|0}function Ur(e){e=e|0;var t=0,n=0;t=e+74|0;n=i[t>>0]|0;i[t>>0]=n+255|n;t=e+20|0;n=e+44|0;if((a[t>>2]|0)>>>0>(a[n>>2]|0)>>>0)Fu[a[e+36>>2]&15](e,0,0)|0;a[e+16>>2]=0;a[e+28>>2]=0;a[t>>2]=0;t=a[e>>2]|0;if(t&20)if(!(t&4))t=-1;else{a[e>>2]=t|32;t=-1}else{t=a[n>>2]|0;a[e+8>>2]=t;a[e+4>>2]=t;t=0}return t|0}function Br(e){e=e|0;var t=0,n=0;t=e+74|0;n=i[t>>0]|0;i[t>>0]=n+255|n;t=a[e>>2]|0;if(!(t&8)){a[e+8>>2]=0;a[e+4>>2]=0;t=a[e+44>>2]|0;a[e+28>>2]=t;a[e+20>>2]=t;a[e+16>>2]=t+(a[e+48>>2]|0);t=0}else{a[e>>2]=t|32;t=-1}return t|0}function jr(e){e=e|0;var t=0,n=0;n=d;d=d+16|0;t=n;if((a[e+8>>2]|0)==0?(Ur(e)|0)!=0:0)t=-1;else if((Fu[a[e+32>>2]&15](e,t,1)|0)==1)t=o[t>>0]|0;else t=-1;d=n;return t|0}function Vr(e){e=e|0;var t=0,n=0,i=0;i=(a[e>>2]&1|0)!=0;if(!i){St(2416);n=a[e+52>>2]|0;t=e+56|0;if(n)a[n+56>>2]=a[t>>2];t=a[t>>2]|0;if(t)a[t+52>>2]=n;if((a[603]|0)==(e|0))a[603]=t;gt(2416)}t=Wr(e)|0;t=Gu[a[e+12>>2]&31](e)|0|t;n=a[e+92>>2]|0;if(n)ja(n);if(!i)ja(e);return t|0}function zr(e){e=e|0;var t=0;if((a[e+76>>2]|0)>-1){t=(Pr(e)|0)==0;e=(a[e>>2]|0)>>>5&1}else e=(a[e>>2]|0)>>>5&1;return e|0}function Wr(e){e=e|0;var t=0,n=0;do if(e){if((a[e+76>>2]|0)<=-1){t=Ra(e)|0;break}n=(Pr(e)|0)==0;t=Ra(e)|0;if(!n)Nr(e)}else{if(!(a[660]|0))t=0;else t=Wr(a[660]|0)|0;St(2416);e=a[603]|0;if(e)do{if((a[e+76>>2]|0)>-1)n=Pr(e)|0;else n=0;if((a[e+20>>2]|0)>>>0>(a[e+28>>2]|0)>>>0)t=Ra(e)|0|t;if(n)Nr(e);e=a[e+56>>2]|0}while((e|0)!=0);gt(2416)}while(0);return t|0}function Gr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0;if((a[n+76>>2]|0)>-1)m=Pr(n)|0;else m=0;r=t+-1|0;if((t|0)<2){p=n+74|0;h=i[p>>0]|0;i[p>>0]=h+255|h;if(m)Nr(n);if(!r)i[e>>0]=0;else e=0}else{e:do if(r){f=n+4|0;h=n+8|0;s=e;while(1){l=a[f>>2]|0;g=l;u=(a[h>>2]|0)-g|0;c=ha(l,10,u)|0;v=(c|0)==0;c=v?u:1-g+c|0;g=c>>>0<r>>>0;c=g?c:r;Kc(s|0,l|0,c|0)|0;l=a[f>>2]|0;u=l+c|0;a[f>>2]=u;t=s+c|0;d=r-c|0;if(!(v&g)){p=18;break e}if(u>>>0<(a[h>>2]|0)>>>0){c=c+1|0;a[f>>2]=l+c;l=o[u>>0]|0}else{r=jr(n)|0;if((r|0)<0)break;c=c+1|0;l=r}r=d+-1|0;s=s+c|0;i[t>>0]=l;if(!((r|0)!=0&(l&255|0)!=10)){t=s;p=18;break e}}if((t|0)!=(e|0)?(a[n>>2]&16|0)!=0:0)p=18;else e=0}else{t=e;p=18}while(0);if((p|0)==18)if(!e)e=0;else i[t>>0]=0;if(m)Nr(n)}return e|0}function qr(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0;o=d;d=d+32|0;r=o+16|0;n=o;if(ha(14909,i[t>>0]|0,4)|0){s=Rr(t)|0|32768;a[n>>2]=e;a[n+4>>2]=s;a[n+8>>2]=438;n=vr(Ct(5,n|0)|0)|0;if((n|0)>=0){e=$r(n,t)|0;if(!e){a[r>>2]=n;At(6,r|0)|0;e=0}}else e=0}else{a[(dr()|0)>>2]=22;e=0}d=o;return e|0}function Yr(e,t){e=e|0;t=t|0;return(ia(e,_a(e)|0,1,t)|0)+-1|0}function Xr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var o=0,s=0,l=0,c=0,u=0,d=0;c=ne(n,t)|0;if((a[r+76>>2]|0)>-1)u=Pr(r)|0;else u=0;o=r+74|0;s=i[o>>0]|0;i[o>>0]=s+255|s;o=r+4|0;s=a[o>>2]|0;l=(a[r+8>>2]|0)-s|0;if((l|0)>0){l=l>>>0<c>>>0?l:c;Kc(e|0,s|0,l|0)|0;a[o>>2]=s+l;e=e+l|0;o=c-l|0}else o=c;e:do if(!o)d=13;else{l=r+32|0;s=o;while(1){if(Ur(r)|0){n=s;break}o=Fu[a[l>>2]&15](r,e,s)|0;if((o+1|0)>>>0<2){n=s;break}if((s|0)==(o|0)){d=13;break e}else{e=e+o|0;s=s-o|0}}if(u)Nr(r);n=((c-n|0)>>>0)/(t>>>0)|0}while(0);if((d|0)==13)if(u)Nr(r);return n|0}function Kr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;if((n|0)==1)t=t-(a[e+8>>2]|0)+(a[e+4>>2]|0)|0;r=e+20|0;i=e+28|0;if((a[r>>2]|0)>>>0>(a[i>>2]|0)>>>0?(Fu[a[e+36>>2]&15](e,0,0)|0,(a[r>>2]|0)==0):0)t=-1;else{a[e+16>>2]=0;a[i>>2]=0;a[r>>2]=0;if((Fu[a[e+40>>2]&15](e,t,n)|0)<0)t=-1;else{a[e+8>>2]=0;a[e+4>>2]=0;a[e>>2]=a[e>>2]&-17;t=0}}return t|0}function Zr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if((a[e+76>>2]|0)>-1){i=(Pr(e)|0)==0;t=Kr(e,t,n)|0;if(!i)Nr(e)}else t=Kr(e,t,n)|0;return t|0}function Jr(e,t,n){e=e|0;t=t|0;n=n|0;return Zr(e,t,n)|0}function Qr(e){e=e|0;var t=0;if(!(a[e>>2]&128))t=1;else t=(a[e+20>>2]|0)>>>0>(a[e+28>>2]|0)>>>0?2:1;t=Fu[a[e+40>>2]&15](e,0,t)|0;if((t|0)>=0)t=t-(a[e+8>>2]|0)+(a[e+4>>2]|0)+(a[e+20>>2]|0)-(a[e+28>>2]|0)|0;return t|0}function ea(e){e=e|0;var t=0;if((a[e+76>>2]|0)>-1){t=(Pr(e)|0)==0;e=Qr(e)|0}else e=Qr(e)|0;return e|0}function ta(e){e=e|0;return ea(e)|0}function na(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0;r=n+16|0;o=a[r>>2]|0;if(!o)if(!(Br(n)|0)){o=a[r>>2]|0;s=4}else r=0;else s=4;e:do if((s|0)==4){l=n+20|0;s=a[l>>2]|0;if((o-s|0)>>>0<t>>>0){r=Fu[a[n+36>>2]&15](n,e,t)|0;break}t:do if((i[n+75>>0]|0)>-1){r=t;while(1){if(!r){o=s;r=0;break t}o=r+-1|0;if((i[e+o>>0]|0)==10)break;else r=o}if((Fu[a[n+36>>2]&15](n,e,r)|0)>>>0<r>>>0)break e;t=t-r|0;e=e+r|0;o=a[l>>2]|0}else{o=s;r=0}while(0);Kc(o|0,e|0,t|0)|0;a[l>>2]=(a[l>>2]|0)+t;r=r+t|0}while(0);return r|0}function ia(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0;r=ne(n,t)|0;if((a[i+76>>2]|0)>-1){o=(Pr(i)|0)==0;e=na(e,r,i)|0;if(!o)Nr(i)}else e=na(e,r,i)|0;if((e|0)!=(r|0))n=(e>>>0)/(t>>>0)|0;return n|0}function ra(e){e=e|0;var t=0;if((a[e+76>>2]|0)>-1){t=(Pr(e)|0)==0;Kr(e,0,0)|0;a[e>>2]=a[e>>2]&-33;if(!t)Nr(e)}else{Kr(e,0,0)|0;a[e>>2]=a[e>>2]&-33}return}function aa(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;i=d;d=d+16|0;r=i;a[r>>2]=n;n=ua(e,t,r)|0;d=i;return n|0}function oa(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0;l=d;d=d+16|0;i=l;r=Ba(240)|0;do if(r){a[i>>2]=a[n>>2];i=ca(r,240,t,i)|0;if(i>>>0<240){t=za(r,i+1|0)|0;a[e>>2]=(t|0)!=0?t:r;break}ja(r);if((i|0)>=0?(s=i+1|0,o=Ba(s)|0,a[e>>2]=o,(o|0)!=0):0)i=ca(o,s,t,n)|0;else i=-1}else i=-1;while(0);d=l;return i|0}function sa(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0;b=d;d=d+224|0;m=b+80|0;v=b+96|0;g=b;p=b+136|0;r=v;o=r+40|0;do{a[r>>2]=0;r=r+4|0}while((r|0)<(o|0));a[m>>2]=a[n>>2];if((Pa(0,t,m,g,v)|0)<0)n=-1;else{if((a[e+76>>2]|0)>-1)f=Pr(e)|0;else f=0;n=a[e>>2]|0;h=n&32;if((i[e+74>>0]|0)<1)a[e>>2]=n&-33;n=e+48|0;if(!(a[n>>2]|0)){o=e+44|0;s=a[o>>2]|0;a[o>>2]=p;l=e+28|0;a[l>>2]=p;c=e+20|0;a[c>>2]=p;a[n>>2]=80;u=e+16|0;a[u>>2]=p+80;r=Pa(e,t,m,g,v)|0;if(s){Fu[a[e+36>>2]&15](e,0,0)|0;r=(a[c>>2]|0)==0?-1:r;a[o>>2]=s;a[n>>2]=0;a[u>>2]=0;a[l>>2]=0;a[c>>2]=0}}else r=Pa(e,t,m,g,v)|0;n=a[e>>2]|0;a[e>>2]=n|h;if(f)Nr(e);n=(n&32|0)==0?r:-1}d=b;return n|0}function la(e,t,n){e=e|0;t=t|0;n=n|0;var s=0,l=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0;B=d;d=d+304|0;N=B+16|0;D=B+8|0;O=B+33|0;I=B;M=B+32|0;if((a[e+76>>2]|0)>-1)U=Pr(e)|0;else U=0;s=i[t>>0]|0;e:do if(s<<24>>24){L=e+4|0;F=e+100|0;R=e+108|0;k=e+8|0;T=O+10|0;S=O+33|0;A=D+4|0;C=O+46|0;$=O+94|0;f=s;s=0;h=t;b=0;l=0;t=0;t:while(1){n:do if(!(ur(f&255)|0)){f=(i[h>>0]|0)==37;i:do if(f){g=h+1|0;m=i[g>>0]|0;r:do switch(m<<24>>24){case 37:break i;case 42:{x=0;m=h+2|0;break}default:{m=(m&255)+-48|0;if(m>>>0<10?(i[h+2>>0]|0)==36:0){a[N>>2]=a[n>>2];while(1){x=(a[N>>2]|0)+(4-1)&~(4-1);f=a[x>>2]|0;a[N>>2]=x+4;if(m>>>0>1)m=m+-1|0;else break}x=f;m=h+3|0;break r}m=(a[n>>2]|0)+(4-1)&~(4-1);x=a[m>>2]|0;a[n>>2]=m+4;m=g}}while(0);f=i[m>>0]|0;h=f&255;if((h+-48|0)>>>0<10){f=0;while(1){g=(f*10|0)+-48+h|0;m=m+1|0;f=i[m>>0]|0;h=f&255;if((h+-48|0)>>>0>=10)break;else f=g}}else g=0;if(f<<24>>24==109){m=m+1|0;v=i[m>>0]|0;f=(x|0)!=0&1;l=0;t=0}else{v=f;f=0}h=m+1|0;switch(v&255|0){case 104:{_=(i[h>>0]|0)==104;h=_?m+2|0:h;m=_?-2:-1;break}case 108:{_=(i[h>>0]|0)==108;h=_?m+2|0:h;m=_?3:1;break}case 106:{m=3;break}case 116:case 122:{m=1;break}case 76:{m=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{h=m;m=0;break}default:{H=152;break t}}v=o[h>>0]|0;y=(v&47|0)==3;v=y?v|32:v;y=y?1:m;switch(v|0){case 99:{_=b;w=(g|0)<1?1:g;break}case 91:{_=b;w=g;break}case 110:{if(!x){m=b;break n}switch(y|0){case-2:{i[x>>0]=b;m=b;break n}case-1:{r[x>>1]=b;m=b;break n}case 0:{a[x>>2]=b;m=b;break n}case 1:{a[x>>2]=b;m=b;break n}case 3:{m=x;a[m>>2]=b;a[m+4>>2]=((b|0)<0)<<31>>31;m=b;break n}default:{m=b;break n}}}default:{pr(e,0);do{m=a[L>>2]|0;if(m>>>0<(a[F>>2]|0)>>>0){a[L>>2]=m+1;m=o[m>>0]|0}else m=gr(e)|0}while((ur(m)|0)!=0);m=a[L>>2]|0;if(a[F>>2]|0){m=m+-1|0;a[L>>2]=m}_=(a[R>>2]|0)+b+m-(a[k>>2]|0)|0;w=g}}pr(e,w);m=a[L>>2]|0;g=a[F>>2]|0;if(m>>>0<g>>>0)a[L>>2]=m+1;else{if((gr(e)|0)<0){H=152;break t}g=a[F>>2]|0}if(g)a[L>>2]=(a[L>>2]|0)+-1;r:do switch(v|0){case 91:case 99:case 115:{E=(v|0)==99;a:do if((v&239|0)==99){Gc(O|0,-1,257)|0;i[O>>0]=0;if((v|0)==115){i[S>>0]=0;i[T>>0]=0;i[T+1>>0]=0;i[T+2>>0]=0;i[T+3>>0]=0;i[T+4>>0]=0}}else{j=h+1|0;b=(i[j>>0]|0)==94;m=b&1;v=b?j:h;h=b?h+2|0:j;Gc(O|0,b&1|0,257)|0;i[O>>0]=0;switch(i[h>>0]|0){case 45:{b=(m^1)&255;i[C>>0]=b;h=v+2|0;break}case 93:{b=(m^1)&255;i[$>>0]=b;h=v+2|0;break}default:b=(m^1)&255}while(1){m=i[h>>0]|0;o:do switch(m<<24>>24){case 0:{H=152;break t}case 93:break a;case 45:{v=h+1|0;m=i[v>>0]|0;switch(m<<24>>24){case 93:case 0:{m=45;break o}default:{}}h=i[h+-1>>0]|0;if((h&255)<(m&255)){h=h&255;do{h=h+1|0;i[O+h>>0]=b;m=i[v>>0]|0}while((h|0)<(m&255|0));h=v}else h=v;break}default:{}}while(0);i[O+((m&255)+1)>>0]=b;h=h+1|0}}while(0);v=E?w+1|0:31;b=(y|0)==1;y=(f|0)!=0;a:do if(b){if(y){t=Ba(v<<2)|0;if(!t){l=0;H=152;break t}}else t=x;a[D>>2]=0;a[A>>2]=0;l=0;o:while(1){g=(t|0)==0;do{s:while(1){m=a[L>>2]|0;if(m>>>0<(a[F>>2]|0)>>>0){a[L>>2]=m+1;m=o[m>>0]|0}else m=gr(e)|0;if(!(i[O+(m+1)>>0]|0))break o;i[M>>0]=m;switch(Tr(I,M,1,D)|0){case-1:{l=0;H=152;break t}case-2:break;default:break s}}if(!g){a[t+(l<<2)>>2]=a[I>>2];l=l+1|0}}while(!(y&(l|0)==(v|0)));l=v<<1|1;m=za(t,l<<2)|0;if(!m){l=0;H=152;break t}j=v;v=l;t=m;l=j}if(!(Sr(D)|0)){l=0;H=152;break t}else{g=l;l=0}}else{if(y){l=Ba(v)|0;if(!l){l=0;t=0;H=152;break t}else m=0;while(1){do{t=a[L>>2]|0;if(t>>>0<(a[F>>2]|0)>>>0){a[L>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if(!(i[O+(t+1)>>0]|0)){g=m;t=0;break a}i[l+m>>0]=t;m=m+1|0}while((m|0)!=(v|0));t=v<<1|1;m=za(l,t)|0;if(!m){t=0;H=152;break t}else{j=v;v=t;l=m;m=j}}}if(!x){l=g;while(1){t=a[L>>2]|0;if(t>>>0<l>>>0){a[L>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if(!(i[O+(t+1)>>0]|0)){g=0;l=0;t=0;break a}l=a[F>>2]|0}}else{l=0;while(1){t=a[L>>2]|0;if(t>>>0<g>>>0){a[L>>2]=t+1;t=o[t>>0]|0}else t=gr(e)|0;if(!(i[O+(t+1)>>0]|0)){g=l;l=x;t=0;break a}i[x+l>>0]=t;g=a[F>>2]|0;l=l+1|0}}}while(0);m=a[L>>2]|0;if(a[F>>2]|0){m=m+-1|0;a[L>>2]=m}m=m-(a[k>>2]|0)+(a[R>>2]|0)|0;if(!m)break t;if(!((m|0)==(w|0)|E^1))break t;do if(y)if(b){a[x>>2]=t;break}else{a[x>>2]=l;break}while(0);if(!E){if(t)a[t+(g<<2)>>2]=0;if(!l){l=0;break r}i[l+g>>0]=0}break}case 120:case 88:case 112:{m=16;H=134;break}case 111:{m=8;H=134;break}case 117:case 100:{m=10;H=134;break}case 105:{m=0;H=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{p=+hr(e,y,0);if((a[R>>2]|0)==((a[k>>2]|0)-(a[L>>2]|0)|0))break t;if(x)switch(y|0){case 0:{c[x>>2]=p;break r}case 1:{u[x>>3]=p;break r}case 2:{u[x>>3]=p;break r}default:break r}break}default:{}}while(0);r:do if((H|0)==134){H=0;m=mr(e,m,0,-1,-1)|0;if((a[R>>2]|0)==((a[k>>2]|0)-(a[L>>2]|0)|0))break t;if((x|0)!=0&(v|0)==112){a[x>>2]=m;break}if(x)switch(y|0){case-2:{i[x>>0]=m;break r}case-1:{r[x>>1]=m;break r}case 0:{a[x>>2]=m;break r}case 1:{a[x>>2]=m;break r}case 3:{j=x;a[j>>2]=m;a[j+4>>2]=P;break r}default:break r}}while(0);s=((x|0)!=0&1)+s|0;m=(a[R>>2]|0)+_+(a[L>>2]|0)-(a[k>>2]|0)|0;break n}while(0);h=h+(f&1)|0;pr(e,0);f=a[L>>2]|0;if(f>>>0<(a[F>>2]|0)>>>0){a[L>>2]=f+1;f=o[f>>0]|0}else f=gr(e)|0;if((f|0)!=(o[h>>0]|0)){H=21;break t}m=b+1|0}else{while(1){f=h+1|0;if(!(ur(o[f>>0]|0)|0))break;else h=f}pr(e,0);do{f=a[L>>2]|0;if(f>>>0<(a[F>>2]|0)>>>0){a[L>>2]=f+1;f=o[f>>0]|0}else f=gr(e)|0}while((ur(f)|0)!=0);f=a[L>>2]|0;if(a[F>>2]|0){f=f+-1|0;a[L>>2]=f}m=(a[R>>2]|0)+b+f-(a[k>>2]|0)|0}while(0);h=h+1|0;f=i[h>>0]|0;if(!(f<<24>>24))break e;else b=m}if((H|0)==21){if(a[F>>2]|0)a[L>>2]=(a[L>>2]|0)+-1;if((s|0)!=0|(f|0)>-1)break;else{s=0;H=153}}else if((H|0)==152)if(!s){s=f;H=153}if((H|0)==153){f=s;s=-1}if(f){ja(l);ja(t)}}else s=0;while(0);if(U)Nr(e);d=B;return s|0}function ca(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var o=0,s=0,l=0,c=0,u=0,f=0,h=0;h=d;d=d+128|0;o=h+112|0;f=h;s=f;l=2684;c=s+112|0;do{a[s>>2]=a[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(c|0));if((t+-1|0)>>>0>2147483646)if(!t){t=1;u=4}else{a[(dr()|0)>>2]=75;t=-1}else{o=e;u=4}if((u|0)==4){u=-2-o|0;u=t>>>0>u>>>0?u:t;a[f+48>>2]=u;e=f+20|0;a[e>>2]=o;a[f+44>>2]=o;t=o+u|0;o=f+16|0;a[o>>2]=t;a[f+28>>2]=t;t=sa(f,n,r)|0;if(u){n=a[e>>2]|0;i[n+(((n|0)==(a[o>>2]|0))<<31>>31)>>0]=0}}d=h;return t|0}function ua(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0;o=d;d=d+112|0;i=o;r=i;s=r+112|0;do{a[r>>2]=0;r=r+4|0}while((r|0)<(s|0));a[i+32>>2]=15;a[i+44>>2]=e;a[i+76>>2]=-1;a[i+84>>2]=e;s=la(i,t,n)|0;d=o;return s|0}function da(e){e=e|0;var t=0,n=0,r=0,a=0;while(1){t=e+1|0;if(!(ur(i[e>>0]|0)|0))break;else e=t}n=i[e>>0]|0;switch(n<<24>>24|0){case 45:{r=1;a=5;break}case 43:{r=0;a=5;break}default:r=0}if((a|0)==5){e=t;n=i[t>>0]|0}t=(n<<24>>24)+-48|0;if(t>>>0<10){n=e;e=0;do{n=n+1|0;e=(e*10|0)-t|0;t=(i[n>>0]|0)+-48|0}while(t>>>0<10)}else e=0;return((r|0)!=0?e:0-e|0)|0}function fa(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0;v=d;d=d+208|0;m=v+8|0;p=v;r=ne(n,t)|0;h=p;a[h>>2]=1;a[h+4>>2]=0;if(r){l=r-n|0;a[m+4>>2]=n;a[m>>2]=n;o=n;t=n;s=2;while(1){t=t+n+o|0;a[m+(s<<2)>>2]=t;if(t>>>0<r>>>0){h=o;o=t;s=s+1|0;t=h}else break}h=0-n|0;c=e+l|0;f=p+4|0;if((l|0)>0){l=c;r=1;s=1;while(1){do if((r&3|0)==3){Oa(e,n,i,s,m);u=a[f>>2]|0;t=u<<30|(a[p>>2]|0)>>>2;a[p>>2]=t;a[f>>2]=u>>>2;s=s+2|0}else{t=s+-1|0;if((a[m+(t<<2)>>2]|0)>>>0<(l-e|0)>>>0)Oa(e,n,i,s,m);else Da(e,n,i,p,s,0,m);if((s|0)==1){t=a[p>>2]|0;a[f>>2]=t>>>31|a[f>>2]<<1;t=t<<1;a[p>>2]=t;s=0;break}if(t>>>0>31){r=a[p>>2]|0;a[f>>2]=r;a[p>>2]=0;t=s+-33|0;o=0}else{r=a[f>>2]|0;o=a[p>>2]|0}a[f>>2]=o>>>(32-t|0)|r<<t;t=o<<t;a[p>>2]=t;s=1}while(0);r=t|1;a[p>>2]=r;t=e+n|0;if(t>>>0>=c>>>0){r=t;break}else e=t}}else{r=e;s=1}Da(r,n,i,p,s,0,m);u=p+4|0;t=a[p>>2]|0;if(!((s|0)==1&(t|0)==1&(a[u>>2]|0)==0)){o=r;while(1){if((s|0)<2){r=t+-1|0;do if(r){if(!(r&1)){l=r;r=0;do{r=r+1|0;l=l>>>1}while((l&1|0)==0);if(!r)g=24}else g=24;if((g|0)==24){g=0;c=a[f>>2]|0;if(!c){r=64;g=30;break}if(!(c&1)){l=c;r=0}else{e=0;l=c;r=0;break}while(1){e=r+1|0;l=l>>>1;if(l&1){l=e;break}else r=e}if(!l){e=0;l=c;r=0;break}else r=r+33|0}if(r>>>0>31)g=30;else{e=r;l=a[f>>2]|0}}else{r=32;g=30}while(0);if((g|0)==30){g=0;t=a[f>>2]|0;a[p>>2]=t;a[f>>2]=0;e=r+-32|0;l=0}a[p>>2]=l<<32-e|t>>>e;a[f>>2]=l>>>e;o=o+h|0;r=r+s|0}else{e=t>>>30;c=e|a[f>>2]<<2;r=s+-2|0;a[p>>2]=(t<<1&2147483646|e<<31)^3;a[f>>2]=c>>>1;Da(o+(0-((a[m+(r<<2)>>2]|0)+n))|0,n,i,p,s+-1|0,1,m);c=a[p>>2]|0;a[f>>2]=c>>>31|a[f>>2]<<1;a[p>>2]=c<<1|1;o=o+h|0;Da(o,n,i,p,r,1,m)}t=a[p>>2]|0;if((r|0)==1&(t|0)==1&(a[u>>2]|0)==0)break;else s=r}}}d=v;return}function ha(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0;s=t&255;r=(n|0)!=0;e:do if(r&(e&3|0)!=0){o=t&255;while(1){if((i[e>>0]|0)==o<<24>>24){l=6;break e}e=e+1|0;n=n+-1|0;r=(n|0)!=0;if(!(r&(e&3|0)!=0)){l=5;break}}}else l=5;while(0);if((l|0)==5)if(r)l=6;else n=0;e:do if((l|0)==6){o=t&255;if((i[e>>0]|0)!=o<<24>>24){r=ne(s,16843009)|0;t:do if(n>>>0>3)while(1){s=a[e>>2]^r;if((s&-2139062144^-2139062144)&s+-16843009)break;e=e+4|0;n=n+-4|0;if(n>>>0<=3){l=11;break t}}else l=11;while(0);if((l|0)==11)if(!n){n=0;break}while(1){if((i[e>>0]|0)==o<<24>>24)break e;e=e+1|0;n=n+-1|0;if(!n){n=0;break}}}}while(0);return((n|0)!=0?e:0)|0}function ma(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;r=t&255;do{if(!n){t=0;break}n=n+-1|0;t=e+n|0}while((i[t>>0]|0)!=r<<24>>24);return t|0}function pa(e,t){e=e|0;t=t|0;var n=0,r=0;n=t;e:do if(!((n^e)&3)){if(n&3)do{n=i[t>>0]|0;i[e>>0]=n;if(!(n<<24>>24))break e;t=t+1|0;e=e+1|0}while((t&3|0)!=0);n=a[t>>2]|0;if(!((n&-2139062144^-2139062144)&n+-16843009)){r=e;while(1){t=t+4|0;e=r+4|0;a[r>>2]=n;n=a[t>>2]|0;if((n&-2139062144^-2139062144)&n+-16843009)break;else r=e}}r=8}else r=8;while(0);if((r|0)==8){r=i[t>>0]|0;i[e>>0]=r;if(r<<24>>24)do{t=t+1|0;e=e+1|0;r=i[t>>0]|0;i[e>>0]=r}while(r<<24>>24!=0)}return e|0}function ga(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0;o=t;do if(!((o^e)&3)){r=(n|0)!=0;e:do if(r&(o&3|0)!=0)while(1){o=i[t>>0]|0;i[e>>0]=o;if(!(o<<24>>24))break e;n=n+-1|0;t=t+1|0;e=e+1|0;r=(n|0)!=0;if(!(r&(t&3|0)!=0)){s=5;break}}else s=5;while(0);if((s|0)==5)if(!r){n=0;break}if(i[t>>0]|0){e:do if(n>>>0>3)do{r=a[t>>2]|0;if((r&-2139062144^-2139062144)&r+-16843009)break e;a[e>>2]=r;n=n+-4|0;t=t+4|0;e=e+4|0}while(n>>>0>3);while(0);s=11}}else s=11;while(0);e:do if((s|0)==11)if(!n)n=0;else while(1){s=i[t>>0]|0;i[e>>0]=s;if(!(s<<24>>24))break e;n=n+-1|0;e=e+1|0;if(!n){n=0;break}else t=t+1|0}while(0);Gc(e|0,0,n|0)|0;return e|0}function va(e,t){e=e|0;t=t|0;e=ba(e,t)|0;return((i[e>>0]|0)==(t&255)<<24>>24?e:0)|0}function ba(e,t){e=e|0;t=t|0;var n=0,r=0,o=0;r=t&255;e:do if(!r)e=e+(_a(e)|0)|0;else{if(e&3){n=t&255;do{o=i[e>>0]|0;if(o<<24>>24==0?1:o<<24>>24==n<<24>>24)break e;e=e+1|0}while((e&3|0)!=0)}r=ne(r,16843009)|0;n=a[e>>2]|0;t:do if(!((n&-2139062144^-2139062144)&n+-16843009))do{o=n^r;if((o&-2139062144^-2139062144)&o+-16843009)break t;e=e+4|0;n=a[e>>2]|0}while(((n&-2139062144^-2139062144)&n+-16843009|0)==0);while(0);n=t&255;while(1){o=i[e>>0]|0;if(o<<24>>24==0?1:o<<24>>24==n<<24>>24)break;else e=e+1|0}}while(0);return e|0}function ya(e,t){e=e|0;t=t|0;pa(e,t)|0;return e|0}function Ea(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0;o=d;d=d+32|0;r=o;n=i[t>>0]|0;if(n<<24>>24!=0?(i[t+1>>0]|0)!=0:0){a[r>>2]=0;a[r+4>>2]=0;a[r+8>>2]=0;a[r+12>>2]=0;a[r+16>>2]=0;a[r+20>>2]=0;a[r+24>>2]=0;a[r+28>>2]=0;do{s=r+(((n&255)>>>5&255)<<2)|0;a[s>>2]=a[s>>2]|1<<(n&31);t=t+1|0;n=i[t>>0]|0}while(n<<24>>24!=0);t=i[e>>0]|0;e:do if(!(t<<24>>24))n=e;else{n=e;do{if(a[r+(((t&255)>>>5&255)<<2)>>2]&1<<(t&31))break e;n=n+1|0;t=i[n>>0]|0}while(t<<24>>24!=0)}while(0);n=n-e|0}else n=(ba(e,n<<24>>24)|0)-e|0;d=o;return n|0}function wa(e){e=e|0;var t=0,n=0;n=(_a(e)|0)+1|0;t=Ba(n)|0;if(!t)t=0;else Kc(t|0,e|0,n|0)|0;return t|0}function _a(e){e=e|0;var t=0,n=0,r=0;r=e;e:do if(!(r&3))n=4;else{t=e;e=r;while(1){if(!(i[t>>0]|0))break e;t=t+1|0;e=t;if(!(e&3)){e=t;n=4;break}}}while(0);if((n|0)==4){while(1){t=a[e>>2]|0;if(!((t&-2139062144^-2139062144)&t+-16843009))e=e+4|0;else break}if((t&255)<<24>>24)do e=e+1|0;while((i[e>>0]|0)!=0)}return e-r|0}function xa(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,a=0,o=0;r=e+(_a(e)|0)|0;e:do if(n)while(1){a=i[t>>0]|0;if(!(a<<24>>24))break e;n=n+-1|0;o=r+1|0;i[r>>0]=a;if(!n){r=o;break}else{t=t+1|0;r=o}}while(0);i[r>>0]=0;return e|0}function Ma(e,t,n){e=e|0;t=t|0;n=n|0;ga(e,t,n)|0;return e|0}function ka(e,t){e=e|0;t=t|0;return ma(e,t,(_a(e)|0)+1|0)|0}function Ta(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0;s=d;d=d+32|0;o=s;a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=0;a[o+16>>2]=0;a[o+20>>2]=0;a[o+24>>2]=0;a[o+28>>2]=0;r=i[t>>0]|0;do if(!(r<<24>>24))t=0;else{if(!(i[t+1>>0]|0)){t=e;while(1)if((i[t>>0]|0)==r<<24>>24)t=t+1|0;else break;t=t-e|0;break}else{n=t;t=r}do{r=o+(((t&255)>>>5&255)<<2)|0;a[r>>2]=a[r>>2]|1<<(t&31);n=n+1|0;t=i[n>>0]|0}while(t<<24>>24!=0);n=i[e>>0]|0;e:do if(!(n<<24>>24))t=e;else{t=e;do{if(!(a[o+(((n&255)>>>5&255)<<2)>>2]&1<<(n&31)))break e;t=t+1|0;n=i[t>>0]|0}while(n<<24>>24!=0)}while(0);t=t-e|0}while(0);d=s;return t|0}function Sa(e,t){e=e|0;t=t|0;var n=0,r=0;if(!e){e=a[699]|0;if(!e)e=0;else{r=e;n=3}}else{r=e;n=3}do if((n|0)==3){n=Ta(r,t)|0;e=r+n|0;if(!(i[e>>0]|0)){a[699]=0;e=0;break}n=(Ea(e,t)|0)+n|0;t=r+n|0;a[699]=t;if(!(i[t>>0]|0)){a[699]=0;break}else{a[699]=r+(n+1);i[t>>0]=0;break}}while(0);return e|0}function Aa(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,s=0,l=0,c=0;l=e+4|0;n=a[l>>2]|0;c=e+100|0;if(n>>>0<(a[c>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=gr(e)|0;switch(n|0){case 43:case 45:{i=(n|0)==45&1;n=a[l>>2]|0;if(n>>>0<(a[c>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=gr(e)|0;if((t|0)!=0&(n+-48|0)>>>0>9?(a[c>>2]|0)!=0:0){a[l>>2]=(a[l>>2]|0)+-1;s=i}else s=i;break}default:s=0}if((n+-48|0)>>>0>9)if(!(a[c>>2]|0)){i=-2147483648;n=0}else{a[l>>2]=(a[l>>2]|0)+-1;i=-2147483648;n=0}else{i=0;do{i=n+-48+(i*10|0)|0;n=a[l>>2]|0;if(n>>>0<(a[c>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=gr(e)|0}while((n+-48|0)>>>0<10&(i|0)<214748364);t=((i|0)<0)<<31>>31;if((n+-48|0)>>>0<10){do{t=nu(i|0,t|0,10,0)|0;i=P;n=Yc(n|0,((n|0)<0)<<31>>31|0,-48,-1)|0;i=Yc(n|0,P|0,t|0,i|0)|0;t=P;n=a[l>>2]|0;if(n>>>0<(a[c>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=gr(e)|0}while((n+-48|0)>>>0<10&((t|0)<21474836|(t|0)==21474836&i>>>0<2061584302));r=i}else r=i;if((n+-48|0)>>>0<10)do{n=a[l>>2]|0;if(n>>>0<(a[c>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=gr(e)|0}while((n+-48|0)>>>0<10);if(a[c>>2]|0)a[l>>2]=(a[l>>2]|0)+-1;e=(s|0)!=0;n=Wc(0,0,r|0,t|0)|0;i=e?P:t;n=e?n:r}P=i;return n|0}function Ca(e){e=e|0;if(!(a[e+68>>2]|0))Nr(e);return}function $a(e){e=e|0;if(!(a[e+68>>2]|0))Nr(e);return}function Ra(e){e=e|0;var t=0,n=0,i=0,r=0,o=0,s=0;t=e+20|0;o=e+28|0;if((a[t>>2]|0)>>>0>(a[o>>2]|0)>>>0?(Fu[a[e+36>>2]&15](e,0,0)|0,(a[t>>2]|0)==0):0)t=-1;else{s=e+4|0;n=a[s>>2]|0;i=e+8|0;r=a[i>>2]|0;if(n>>>0<r>>>0)Fu[a[e+40>>2]&15](e,n-r|0,1)|0;a[e+16>>2]=0;a[o>>2]=0;a[t>>2]=0;a[i>>2]=0;a[s>>2]=0;t=0}return t|0}function Pa(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0,V=0,z=0,W=0,G=0,q=0,Y=0,X=0,K=0,Z=0,J=0,Q=0,ee=0,te=0,ie=0,re=0,ae=0,oe=0,se=0;se=d;d=d+624|0;te=se+24|0;re=se+16|0;ie=se+588|0;K=se+576|0;ee=se;q=se+536|0;oe=se+8|0;ae=se+528|0;F=(e|0)!=0;H=q+40|0;G=H;q=q+39|0;Y=oe+4|0;X=K+12|0;K=K+11|0;Z=ie;J=X;Q=J-Z|0;U=-2-Z|0;B=J+2|0;j=te+288|0;V=ie+9|0;z=V;W=ie+8|0;c=0;_=t;f=0;t=0;e:while(1){do if((c|0)>-1)if((f|0)>(2147483647-c|0)){a[(dr()|0)>>2]=75;c=-1;break}else{c=f+c|0;break}while(0);f=i[_>>0]|0;if(!(f<<24>>24)){L=245;break}else m=_;t:while(1){switch(f<<24>>24){case 37:{f=m;L=9;break t}case 0:{f=m;break t}default:{}}I=m+1|0;f=i[I>>0]|0;m=I}t:do if((L|0)==9)while(1){L=0;if((i[f+1>>0]|0)!=37)break t;m=m+1|0;f=f+2|0;if((i[f>>0]|0)==37)L=9;else break}while(0);M=m-_|0;if(F?(a[e>>2]&32|0)==0:0)na(_,M,e)|0;if((m|0)!=(_|0)){_=f;f=M;continue}v=f+1|0;m=i[v>>0]|0;p=(m<<24>>24)+-48|0;if(p>>>0<10){I=(i[f+2>>0]|0)==36;v=I?f+3|0:v;m=i[v>>0]|0;E=I?p:-1;t=I?1:t}else E=-1;f=m<<24>>24;t:do if((f&-32|0)==32){p=0;while(1){if(!(1<<f+-32&75913)){b=p;f=v;break t}p=1<<(m<<24>>24)+-32|p;v=v+1|0;m=i[v>>0]|0;f=m<<24>>24;if((f&-32|0)!=32){b=p;f=v;break}}}else{b=0;f=v}while(0);do if(m<<24>>24==42){p=f+1|0;m=(i[p>>0]|0)+-48|0;if(m>>>0<10?(i[f+2>>0]|0)==36:0){a[l+(m<<2)>>2]=10;t=1;f=f+3|0;m=a[s+((i[p>>0]|0)+-48<<3)>>2]|0}else{if(t){c=-1;break e}if(!F){x=b;f=p;t=0;I=0;break}t=(a[n>>2]|0)+(4-1)&~(4-1);m=a[t>>2]|0;a[n>>2]=t+4;t=0;f=p}if((m|0)<0){x=b|8192;I=0-m|0}else{x=b;I=m}}else{p=(m<<24>>24)+-48|0;if(p>>>0<10){m=0;do{m=(m*10|0)+p|0;f=f+1|0;p=(i[f>>0]|0)+-48|0}while(p>>>0<10);if((m|0)<0){c=-1;break e}else{x=b;I=m}}else{x=b;I=0}}while(0);t:do if((i[f>>0]|0)==46){p=f+1|0;m=i[p>>0]|0;if(m<<24>>24!=42){v=(m<<24>>24)+-48|0;if(v>>>0<10){f=p;m=0}else{f=p;v=0;break}while(1){m=(m*10|0)+v|0;f=f+1|0;v=(i[f>>0]|0)+-48|0;if(v>>>0>=10){v=m;break t}}}p=f+2|0;m=(i[p>>0]|0)+-48|0;if(m>>>0<10?(i[f+3>>0]|0)==36:0){a[l+(m<<2)>>2]=10;f=f+4|0;v=a[s+((i[p>>0]|0)+-48<<3)>>2]|0;break}if(t){c=-1;break e}if(F){f=(a[n>>2]|0)+(4-1)&~(4-1);v=a[f>>2]|0;a[n>>2]=f+4;f=p}else{f=p;v=0}}else v=-1;while(0);y=0;while(1){m=(i[f>>0]|0)+-65|0;if(m>>>0>57){c=-1;break e}p=f+1|0;m=i[15953+(y*58|0)+m>>0]|0;b=m&255;if((b+-1|0)>>>0<8){f=p;y=b}else{D=p;break}}if(!(m<<24>>24)){c=-1;break}p=(E|0)>-1;do if(m<<24>>24==19)if(p){c=-1;break e}else L=52;else{if(p){a[l+(E<<2)>>2]=b;N=s+(E<<3)|0;O=a[N+4>>2]|0;L=ee;a[L>>2]=a[N>>2];a[L+4>>2]=O;L=52;break}if(!F){c=0;break e}Fa(ee,b,n)}while(0);if((L|0)==52?(L=0,!F):0){_=D;f=M;continue}E=i[f>>0]|0;E=(y|0)!=0&(E&15|0)==3?E&-33:E;p=x&-65537;O=(x&8192|0)==0?x:p;t:do switch(E|0){case 110:switch(y|0){case 0:{a[a[ee>>2]>>2]=c;_=D;f=M;continue e}case 1:{a[a[ee>>2]>>2]=c;_=D;f=M;continue e}case 2:{_=a[ee>>2]|0;a[_>>2]=c;a[_+4>>2]=((c|0)<0)<<31>>31;_=D;f=M;continue e}case 3:{r[a[ee>>2]>>1]=c;_=D;f=M;continue e}case 4:{i[a[ee>>2]>>0]=c;_=D;f=M;continue e}case 6:{a[a[ee>>2]>>2]=c;_=D;f=M;continue e}case 7:{_=a[ee>>2]|0;a[_>>2]=c;a[_+4>>2]=((c|0)<0)<<31>>31;_=D;f=M;continue e}default:{_=D;f=M;continue e}}case 112:{y=O|8;v=v>>>0>8?v:8;E=120;L=64;break}case 88:case 120:{y=O;L=64;break}case 111:{p=ee;m=a[p>>2]|0;p=a[p+4>>2]|0;if((m|0)==0&(p|0)==0)f=H;else{f=H;do{f=f+-1|0;i[f>>0]=m&7|48;m=Xc(m|0,p|0,3)|0;p=P}while(!((m|0)==0&(p|0)==0))}if(!(O&8)){m=O;y=0;b=16433;L=77}else{y=G-f+1|0;m=O;v=(v|0)<(y|0)?y:v;y=0;b=16433;L=77}break}case 105:case 100:{m=ee;
f=a[m>>2]|0;m=a[m+4>>2]|0;if((m|0)<0){f=Wc(0,0,f|0,m|0)|0;m=P;p=ee;a[p>>2]=f;a[p+4>>2]=m;p=1;b=16433;L=76;break t}if(!(O&2048)){b=O&1;p=b;b=(b|0)==0?16433:16435;L=76}else{p=1;b=16434;L=76}break}case 117:{m=ee;f=a[m>>2]|0;m=a[m+4>>2]|0;p=0;b=16433;L=76;break}case 99:{i[q>>0]=a[ee>>2];_=q;m=1;y=0;E=16433;f=H;break}case 109:{f=fr(a[(dr()|0)>>2]|0)|0;L=82;break}case 115:{f=a[ee>>2]|0;f=(f|0)!=0?f:16443;L=82;break}case 67:{a[oe>>2]=a[ee>>2];a[Y>>2]=0;a[ee>>2]=oe;v=-1;L=86;break}case 83:{if(!v){Ua(e,32,I,0,O);f=0;L=98}else L=86;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{g=+u[ee>>3];a[re>>2]=0;u[h>>3]=g;if((a[h+4>>2]|0)>=0)if(!(O&2048)){N=O&1;R=N;N=(N|0)==0?16451:16456}else{R=1;N=16453}else{g=-g;R=1;N=16450}u[h>>3]=g;$=a[h+4>>2]&2146435072;do if($>>>0<2146435072|($|0)==2146435072&0<0){w=+xr(g,re)*2;m=w!=0;if(m)a[re>>2]=(a[re>>2]|0)+-1;A=E|32;if((A|0)==97){_=E&32;M=(_|0)==0?N:N+9|0;x=R|2;f=12-v|0;do if(!(v>>>0>11|(f|0)==0)){g=8;do{f=f+-1|0;g=g*16}while((f|0)!=0);if((i[M>>0]|0)==45){g=-(g+(-w-g));break}else{g=w+g-g;break}}else g=w;while(0);m=a[re>>2]|0;f=(m|0)<0?0-m|0:m;f=Ha(f,((f|0)<0)<<31>>31,X)|0;if((f|0)==(X|0)){i[K>>0]=48;f=K}i[f+-1>>0]=(m>>31&2)+43;y=f+-2|0;i[y>>0]=E+15;b=(v|0)<1;p=(O&8|0)==0;m=ie;while(1){N=~~g;f=m+1|0;i[m>>0]=o[16417+N>>0]|_;g=(g-+(N|0))*16;do if((f-Z|0)==1){if(p&(b&g==0))break;i[f>>0]=46;f=m+2|0}while(0);if(!(g!=0))break;else m=f}v=(v|0)!=0&(U+f|0)<(v|0)?B+v-y|0:Q-y+f|0;p=v+x|0;Ua(e,32,I,p,O);if(!(a[e>>2]&32))na(M,x,e)|0;Ua(e,48,I,p,O^65536);f=f-Z|0;if(!(a[e>>2]&32))na(ie,f,e)|0;m=J-y|0;Ua(e,48,v-(f+m)|0,0,0);if(!(a[e>>2]&32))na(y,m,e)|0;Ua(e,32,I,p,O^8192);f=(p|0)<(I|0)?I:p;break}f=(v|0)<0?6:v;if(m){m=(a[re>>2]|0)+-28|0;a[re>>2]=m;g=w*268435456}else{g=w;m=a[re>>2]|0}$=(m|0)<0?te:j;C=$;m=$;do{S=~~g>>>0;a[m>>2]=S;m=m+4|0;g=(g-+(S>>>0))*1e9}while(g!=0);p=m;m=a[re>>2]|0;if((m|0)>0){b=$;while(1){y=(m|0)>29?29:m;v=p+-4|0;do if(v>>>0<b>>>0)v=b;else{m=0;do{S=qc(a[v>>2]|0,0,y|0)|0;S=Yc(S|0,P|0,m|0,0)|0;m=P;T=ru(S|0,m|0,1e9,0)|0;a[v>>2]=T;m=iu(S|0,m|0,1e9,0)|0;v=v+-4|0}while(v>>>0>=b>>>0);if(!m){v=b;break}v=b+-4|0;a[v>>2]=m}while(0);while(1){if(p>>>0<=v>>>0)break;m=p+-4|0;if(!(a[m>>2]|0))p=m;else break}m=(a[re>>2]|0)-y|0;a[re>>2]=m;if((m|0)>0)b=v;else break}}else v=$;if((m|0)<0){M=((f+25|0)/9|0)+1|0;k=(A|0)==102;_=v;while(1){x=0-m|0;x=(x|0)>9?9:x;do if(_>>>0<p>>>0){m=(1<<x)+-1|0;b=1e9>>>x;v=0;y=_;do{S=a[y>>2]|0;a[y>>2]=(S>>>x)+v;v=ne(S&m,b)|0;y=y+4|0}while(y>>>0<p>>>0);m=(a[_>>2]|0)==0?_+4|0:_;if(!v){v=m;break}a[p>>2]=v;v=m;p=p+4|0}else v=(a[_>>2]|0)==0?_+4|0:_;while(0);m=k?$:v;p=(p-m>>2|0)>(M|0)?m+(M<<2)|0:p;m=(a[re>>2]|0)+x|0;a[re>>2]=m;if((m|0)>=0){_=v;break}else _=v}}else _=v;do if(_>>>0<p>>>0){m=(C-_>>2)*9|0;b=a[_>>2]|0;if(b>>>0<10)break;else v=10;do{v=v*10|0;m=m+1|0}while(b>>>0>=v>>>0)}else m=0;while(0);T=(A|0)==103;S=(f|0)!=0;v=f-((A|0)!=102?m:0)+((S&T)<<31>>31)|0;if((v|0)<(((p-C>>2)*9|0)+-9|0)){y=v+9216|0;k=(y|0)/9|0;v=$+(k+-1023<<2)|0;y=((y|0)%9|0)+1|0;if((y|0)<9){b=10;do{b=b*10|0;y=y+1|0}while((y|0)!=9)}else b=10;x=a[v>>2]|0;M=(x>>>0)%(b>>>0)|0;if((M|0)==0?($+(k+-1022<<2)|0)==(p|0):0)b=_;else L=163;do if((L|0)==163){L=0;w=(((x>>>0)/(b>>>0)|0)&1|0)==0?9007199254740992:9007199254740994;y=(b|0)/2|0;do if(M>>>0<y>>>0)g=.5;else{if((M|0)==(y|0)?($+(k+-1022<<2)|0)==(p|0):0){g=1;break}g=1.5}while(0);do if(R){if((i[N>>0]|0)!=45)break;w=-w;g=-g}while(0);y=x-M|0;a[v>>2]=y;if(!(w+g!=w)){b=_;break}A=y+b|0;a[v>>2]=A;if(A>>>0>999999999){m=_;while(1){b=v+-4|0;a[v>>2]=0;if(b>>>0<m>>>0){m=m+-4|0;a[m>>2]=0}A=(a[b>>2]|0)+1|0;a[b>>2]=A;if(A>>>0>999999999)v=b;else{_=m;v=b;break}}}m=(C-_>>2)*9|0;y=a[_>>2]|0;if(y>>>0<10){b=_;break}else b=10;do{b=b*10|0;m=m+1|0}while(y>>>0>=b>>>0);b=_}while(0);A=v+4|0;_=b;p=p>>>0>A>>>0?A:p}M=0-m|0;while(1){if(p>>>0<=_>>>0){k=0;A=p;break}v=p+-4|0;if(!(a[v>>2]|0))p=v;else{k=1;A=p;break}}do if(T){f=(S&1^1)+f|0;if((f|0)>(m|0)&(m|0)>-5){E=E+-1|0;f=f+-1-m|0}else{E=E+-2|0;f=f+-1|0}p=O&8;if(p)break;do if(k){p=a[A+-4>>2]|0;if(!p){v=9;break}if(!((p>>>0)%10|0)){b=10;v=0}else{v=0;break}do{b=b*10|0;v=v+1|0}while(((p>>>0)%(b>>>0)|0|0)==0)}else v=9;while(0);p=((A-C>>2)*9|0)+-9|0;if((E|32|0)==102){p=p-v|0;p=(p|0)<0?0:p;f=(f|0)<(p|0)?f:p;p=0;break}else{p=p+m-v|0;p=(p|0)<0?0:p;f=(f|0)<(p|0)?f:p;p=0;break}}else p=O&8;while(0);x=f|p;b=(x|0)!=0&1;y=(E|32|0)==102;if(y){m=(m|0)>0?m:0;E=0}else{v=(m|0)<0?M:m;v=Ha(v,((v|0)<0)<<31>>31,X)|0;if((J-v|0)<2)do{v=v+-1|0;i[v>>0]=48}while((J-v|0)<2);i[v+-1>>0]=(m>>31&2)+43;C=v+-2|0;i[C>>0]=E;m=J-C|0;E=C}M=R+1+f+b+m|0;Ua(e,32,I,M,O);if(!(a[e>>2]&32))na(N,R,e)|0;Ua(e,48,I,M,O^65536);do if(y){v=_>>>0>$>>>0?$:_;m=v;do{p=Ha(a[m>>2]|0,0,V)|0;do if((m|0)==(v|0)){if((p|0)!=(V|0))break;i[W>>0]=48;p=W}else{if(p>>>0<=ie>>>0)break;do{p=p+-1|0;i[p>>0]=48}while(p>>>0>ie>>>0)}while(0);if(!(a[e>>2]&32))na(p,z-p|0,e)|0;m=m+4|0}while(m>>>0<=$>>>0);do if(x){if(a[e>>2]&32)break;na(16485,1,e)|0}while(0);if((f|0)>0&m>>>0<A>>>0){p=m;while(1){m=Ha(a[p>>2]|0,0,V)|0;if(m>>>0>ie>>>0)do{m=m+-1|0;i[m>>0]=48}while(m>>>0>ie>>>0);if(!(a[e>>2]&32))na(m,(f|0)>9?9:f,e)|0;p=p+4|0;m=f+-9|0;if(!((f|0)>9&p>>>0<A>>>0)){f=m;break}else f=m}}Ua(e,48,f+9|0,9,0)}else{y=k?A:_+4|0;if((f|0)>-1){b=(p|0)==0;v=_;do{m=Ha(a[v>>2]|0,0,V)|0;if((m|0)==(V|0)){i[W>>0]=48;m=W}do if((v|0)==(_|0)){p=m+1|0;if(!(a[e>>2]&32))na(m,1,e)|0;if(b&(f|0)<1){m=p;break}if(a[e>>2]&32){m=p;break}na(16485,1,e)|0;m=p}else{if(m>>>0<=ie>>>0)break;do{m=m+-1|0;i[m>>0]=48}while(m>>>0>ie>>>0)}while(0);p=z-m|0;if(!(a[e>>2]&32))na(m,(f|0)>(p|0)?p:f,e)|0;f=f-p|0;v=v+4|0}while(v>>>0<y>>>0&(f|0)>-1)}Ua(e,48,f+18|0,18,0);if(a[e>>2]&32)break;na(E,J-E|0,e)|0}while(0);Ua(e,32,I,M,O^8192);f=(M|0)<(I|0)?I:M}else{y=(E&32|0)!=0;b=g!=g|0!=0;m=b?0:R;v=m+3|0;Ua(e,32,I,v,p);f=a[e>>2]|0;if(!(f&32)){na(N,m,e)|0;f=a[e>>2]|0}if(!(f&32))na(b?y?16477:16481:y?16469:16473,3,e)|0;Ua(e,32,I,v,O^8192);f=(v|0)<(I|0)?I:v}while(0);_=D;continue e}default:{p=O;m=v;y=0;E=16433;f=H}}while(0);t:do if((L|0)==64){p=ee;m=a[p>>2]|0;p=a[p+4>>2]|0;b=E&32;if(!((m|0)==0&(p|0)==0)){f=H;do{f=f+-1|0;i[f>>0]=o[16417+(m&15)>>0]|b;m=Xc(m|0,p|0,4)|0;p=P}while(!((m|0)==0&(p|0)==0));L=ee;if((y&8|0)==0|(a[L>>2]|0)==0&(a[L+4>>2]|0)==0){m=y;y=0;b=16433;L=77}else{m=y;y=2;b=16433+(E>>4)|0;L=77}}else{f=H;m=y;y=0;b=16433;L=77}}else if((L|0)==76){f=Ha(f,m,H)|0;m=O;y=p;L=77}else if((L|0)==82){L=0;O=ha(f,0,v)|0;N=(O|0)==0;_=f;m=N?v:O-f|0;y=0;E=16433;f=N?f+v|0:O}else if((L|0)==86){L=0;m=0;f=0;b=a[ee>>2]|0;while(1){p=a[b>>2]|0;if(!p)break;f=Cr(ae,p)|0;if((f|0)<0|f>>>0>(v-m|0)>>>0)break;m=f+m|0;if(v>>>0>m>>>0)b=b+4|0;else break}if((f|0)<0){c=-1;break e}Ua(e,32,I,m,O);if(!m){f=0;L=98}else{p=0;v=a[ee>>2]|0;while(1){f=a[v>>2]|0;if(!f){f=m;L=98;break t}f=Cr(ae,f)|0;p=f+p|0;if((p|0)>(m|0)){f=m;L=98;break t}if(!(a[e>>2]&32))na(ae,f,e)|0;if(p>>>0>=m>>>0){f=m;L=98;break}else v=v+4|0}}}while(0);if((L|0)==98){L=0;Ua(e,32,I,f,O^8192);_=D;f=(I|0)>(f|0)?I:f;continue}if((L|0)==77){L=0;p=(v|0)>-1?m&-65537:m;m=ee;m=(a[m>>2]|0)!=0|(a[m+4>>2]|0)!=0;if((v|0)!=0|m){m=(m&1^1)+(G-f)|0;_=f;m=(v|0)>(m|0)?v:m;E=b;f=H}else{_=H;m=0;E=b;f=H}}b=f-_|0;m=(m|0)<(b|0)?b:m;v=y+m|0;f=(I|0)<(v|0)?v:I;Ua(e,32,f,v,p);if(!(a[e>>2]&32))na(E,y,e)|0;Ua(e,48,f,v,p^65536);Ua(e,48,m,b,0);if(!(a[e>>2]&32))na(_,b,e)|0;Ua(e,32,f,v,p^8192);_=D}e:do if((L|0)==245)if(!e)if(t){c=1;while(1){t=a[l+(c<<2)>>2]|0;if(!t)break;Fa(s+(c<<3)|0,t,n);c=c+1|0;if((c|0)>=10){c=1;break e}}if((c|0)<10)while(1){if(a[l+(c<<2)>>2]|0){c=-1;break e}c=c+1|0;if((c|0)>=10){c=1;break}}else c=1}else c=0;while(0);d=se;return c|0}function Na(e,t,n){e=e|0;t=t|0;n=n|0;return Hr(e,t,n)|0}function Oa(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0;p=d;d=d+240|0;m=p;a[m>>2]=e;e:do if((i|0)>1){h=0-t|0;o=i;s=e;c=e;u=1;while(1){e=s+h|0;f=o+-2|0;l=s+(0-((a[r+(f<<2)>>2]|0)+t))|0;if((Ju[n&15](c,l)|0)>-1?(Ju[n&15](c,e)|0)>-1:0){i=u;break e}i=u+1|0;s=m+(u<<2)|0;if((Ju[n&15](l,e)|0)>-1){a[s>>2]=l;e=l;o=o+-1|0}else{a[s>>2]=e;o=f}if((o|0)<=1)break e;s=e;c=a[m>>2]|0;u=i}}else i=1;while(0);Ia(t,m,i);d=p;return}function Da(e,t,n,i,r,o,s){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;var l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0;v=d;d=d+240|0;p=v;c=a[i>>2]|0;i=a[i+4>>2]|0;a[p>>2]=e;m=0-t|0;e:do if((i|0)!=0|(c|0)!=1?(l=e+(0-(a[s+(r<<2)>>2]|0))|0,(Ju[n&15](l,e)|0)>=1):0){o=(o|0)==0;h=l;u=c;f=i;l=1;while(1){if(o&(r|0)>1){i=a[s+(r+-2<<2)>>2]|0;if((Ju[n&15](e+m|0,h)|0)>-1){o=r;i=l;g=20;break e}if((Ju[n&15](e+(0-(i+t))|0,h)|0)>-1){o=r;i=l;g=20;break e}}i=l+1|0;a[p+(l<<2)>>2]=h;o=u+-1|0;do if(o){if(!(o&1)){e=o;o=0;do{o=o+1|0;e=e>>>1}while((e&1|0)==0);if(!o)g=11}else g=11;if((g|0)==11){g=0;if(!f){o=64;g=16;break}if(!(f&1)){e=f;o=0}else{c=0;e=u;l=f;o=0;break}while(1){l=o+1|0;e=e>>>1;if(e&1){e=l;break}else o=l}if(!e){c=0;e=u;l=f;o=0;break}else o=o+33|0}if(o>>>0>31)g=16;else{c=o;e=u;l=f}}else{o=32;g=16}while(0);if((g|0)==16){g=0;c=o+-32|0;e=f;l=0}u=l<<32-c|e>>>c;f=l>>>c;o=o+r|0;if(!((f|0)!=0|(u|0)!=1)){e=h;g=20;break e}e=h+(0-(a[s+(o<<2)>>2]|0))|0;if((Ju[n&15](e,a[p>>2]|0)|0)<1){e=h;r=o;o=0;g=19;break}else{c=h;r=o;o=1;h=e;l=i;e=c}}}else{i=1;g=19}while(0);if((g|0)==19?(o|0)==0:0){o=r;g=20}if((g|0)==20){Ia(t,p,i);Oa(e,t,n,o,s)}d=v;return}function Ia(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0;s=d;d=d+256|0;i=s;e:do if((n|0)>=2?(o=t+(n<<2)|0,a[o>>2]=i,(e|0)!=0):0)while(1){r=e>>>0>256?256:e;Kc(i|0,a[t>>2]|0,r|0)|0;i=0;do{l=t+(i<<2)|0;i=i+1|0;Kc(a[l>>2]|0,a[t+(i<<2)>>2]|0,r|0)|0;a[l>>2]=(a[l>>2]|0)+r}while((i|0)!=(n|0));if((e|0)==(r|0))break e;e=e-r|0;i=a[o>>2]|0}while(0);d=s;return}function La(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;i=e+20|0;r=a[i>>2]|0;e=(a[e+16>>2]|0)-r|0;e=e>>>0>n>>>0?n:e;Kc(r|0,t|0,e|0)|0;a[i>>2]=(a[i>>2]|0)+e;return n|0}function Fa(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0;e:do if(t>>>0<=20)do switch(t|0){case 9:{i=(a[n>>2]|0)+(4-1)&~(4-1);t=a[i>>2]|0;a[n>>2]=i+4;a[e>>2]=t;break e}case 10:{i=(a[n>>2]|0)+(4-1)&~(4-1);t=a[i>>2]|0;a[n>>2]=i+4;i=e;a[i>>2]=t;a[i+4>>2]=((t|0)<0)<<31>>31;break e}case 11:{i=(a[n>>2]|0)+(4-1)&~(4-1);t=a[i>>2]|0;a[n>>2]=i+4;i=e;a[i>>2]=t;a[i+4>>2]=0;break e}case 12:{i=(a[n>>2]|0)+(8-1)&~(8-1);t=i;r=a[t>>2]|0;t=a[t+4>>2]|0;a[n>>2]=i+8;i=e;a[i>>2]=r;a[i+4>>2]=t;break e}case 13:{r=(a[n>>2]|0)+(4-1)&~(4-1);i=a[r>>2]|0;a[n>>2]=r+4;i=(i&65535)<<16>>16;r=e;a[r>>2]=i;a[r+4>>2]=((i|0)<0)<<31>>31;break e}case 14:{r=(a[n>>2]|0)+(4-1)&~(4-1);i=a[r>>2]|0;a[n>>2]=r+4;r=e;a[r>>2]=i&65535;a[r+4>>2]=0;break e}case 15:{r=(a[n>>2]|0)+(4-1)&~(4-1);i=a[r>>2]|0;a[n>>2]=r+4;i=(i&255)<<24>>24;r=e;a[r>>2]=i;a[r+4>>2]=((i|0)<0)<<31>>31;break e}case 16:{r=(a[n>>2]|0)+(4-1)&~(4-1);i=a[r>>2]|0;a[n>>2]=r+4;r=e;a[r>>2]=i&255;a[r+4>>2]=0;break e}case 17:{r=(a[n>>2]|0)+(8-1)&~(8-1);o=+u[r>>3];a[n>>2]=r+8;u[e>>3]=o;break e}case 18:{r=(a[n>>2]|0)+(8-1)&~(8-1);o=+u[r>>3];a[n>>2]=r+8;u[e>>3]=o;break e}default:break e}while(0);while(0);return}function Ha(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295)while(1){r=ru(e|0,t|0,10,0)|0;n=n+-1|0;i[n>>0]=r|48;r=iu(e|0,t|0,10,0)|0;if(t>>>0>9|(t|0)==9&e>>>0>4294967295){e=r;t=P}else{e=r;break}}if(e)while(1){n=n+-1|0;i[n>>0]=(e>>>0)%10|0|48;if(e>>>0<10)break;else e=(e>>>0)/10|0}return n|0}function Ua(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0;l=d;d=d+256|0;s=l;do if((n|0)>(i|0)&(r&73728|0)==0){r=n-i|0;Gc(s|0,t|0,(r>>>0>256?256:r)|0)|0;t=a[e>>2]|0;o=(t&32|0)==0;if(r>>>0>255){i=n-i|0;do{if(o){na(s,256,e)|0;t=a[e>>2]|0}r=r+-256|0;o=(t&32|0)==0}while(r>>>0>255);if(o)r=i&255;else break}else if(!o)break;na(s,r,e)|0}while(0);d=l;return}function Ba(e){e=e|0;var t=0,n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0;do if(e>>>0<245){m=e>>>0<11?16:e+11&-8;e=m>>>3;l=a[756]|0;n=l>>>e;if(n&3){e=(n&1^1)+e|0;i=e<<1;n=3064+(i<<2)|0;i=3064+(i+2<<2)|0;r=a[i>>2]|0;o=r+8|0;s=a[o>>2]|0;do if((n|0)!=(s|0)){if(s>>>0<(a[760]|0)>>>0)Pe();t=s+12|0;if((a[t>>2]|0)==(r|0)){a[t>>2]=n;a[i>>2]=s;break}else Pe()}else a[756]=l&~(1<<e);while(0);F=e<<3;a[r+4>>2]=F|3;F=r+(F|4)|0;a[F>>2]=a[F>>2]|1;F=o;return F|0}s=a[758]|0;if(m>>>0>s>>>0){if(n){i=2<<e;i=n<<e&(i|0-i);i=(i&0-i)+-1|0;c=i>>>12&16;i=i>>>c;r=i>>>5&8;i=i>>>r;o=i>>>2&4;i=i>>>o;n=i>>>1&2;i=i>>>n;e=i>>>1&1;e=(r|c|o|n|e)+(i>>>e)|0;i=e<<1;n=3064+(i<<2)|0;i=3064+(i+2<<2)|0;o=a[i>>2]|0;c=o+8|0;r=a[c>>2]|0;do if((n|0)!=(r|0)){if(r>>>0<(a[760]|0)>>>0)Pe();t=r+12|0;if((a[t>>2]|0)==(o|0)){a[t>>2]=n;a[i>>2]=r;u=a[758]|0;break}else Pe()}else{a[756]=l&~(1<<e);u=s}while(0);F=e<<3;s=F-m|0;a[o+4>>2]=m|3;l=o+m|0;a[o+(m|4)>>2]=s|1;a[o+F>>2]=s;if(u){r=a[761]|0;n=u>>>3;t=n<<1;i=3064+(t<<2)|0;e=a[756]|0;n=1<<n;if(e&n){e=3064+(t+2<<2)|0;t=a[e>>2]|0;if(t>>>0<(a[760]|0)>>>0)Pe();else{d=e;f=t}}else{a[756]=e|n;d=3064+(t+2<<2)|0;f=i}a[d>>2]=r;a[f+12>>2]=r;a[r+8>>2]=f;a[r+12>>2]=i}a[758]=s;a[761]=l;F=c;return F|0}e=a[757]|0;if(e){n=(e&0-e)+-1|0;L=n>>>12&16;n=n>>>L;I=n>>>5&8;n=n>>>I;F=n>>>2&4;n=n>>>F;e=n>>>1&2;n=n>>>e;i=n>>>1&1;i=a[3328+((I|L|F|e|i)+(n>>>i)<<2)>>2]|0;n=(a[i+4>>2]&-8)-m|0;e=i;while(1){t=a[e+16>>2]|0;if(!t){t=a[e+20>>2]|0;if(!t){c=n;break}}e=(a[t+4>>2]&-8)-m|0;F=e>>>0<n>>>0;n=F?e:n;e=t;i=F?t:i}o=a[760]|0;if(i>>>0<o>>>0)Pe();l=i+m|0;if(i>>>0>=l>>>0)Pe();s=a[i+24>>2]|0;n=a[i+12>>2]|0;do if((n|0)==(i|0)){e=i+20|0;t=a[e>>2]|0;if(!t){e=i+16|0;t=a[e>>2]|0;if(!t){h=0;break}}while(1){n=t+20|0;r=a[n>>2]|0;if(r){t=r;e=n;continue}n=t+16|0;r=a[n>>2]|0;if(!r)break;else{t=r;e=n}}if(e>>>0<o>>>0)Pe();else{a[e>>2]=0;h=t;break}}else{r=a[i+8>>2]|0;if(r>>>0<o>>>0)Pe();t=r+12|0;if((a[t>>2]|0)!=(i|0))Pe();e=n+8|0;if((a[e>>2]|0)==(i|0)){a[t>>2]=n;a[e>>2]=r;h=n;break}else Pe()}while(0);do if(s){t=a[i+28>>2]|0;e=3328+(t<<2)|0;if((i|0)==(a[e>>2]|0)){a[e>>2]=h;if(!h){a[757]=a[757]&~(1<<t);break}}else{if(s>>>0<(a[760]|0)>>>0)Pe();t=s+16|0;if((a[t>>2]|0)==(i|0))a[t>>2]=h;else a[s+20>>2]=h;if(!h)break}e=a[760]|0;if(h>>>0<e>>>0)Pe();a[h+24>>2]=s;t=a[i+16>>2]|0;do if(t)if(t>>>0<e>>>0)Pe();else{a[h+16>>2]=t;a[t+24>>2]=h;break}while(0);t=a[i+20>>2]|0;if(t)if(t>>>0<(a[760]|0)>>>0)Pe();else{a[h+20>>2]=t;a[t+24>>2]=h;break}}while(0);if(c>>>0<16){F=c+m|0;a[i+4>>2]=F|3;F=i+(F+4)|0;a[F>>2]=a[F>>2]|1}else{a[i+4>>2]=m|3;a[i+(m|4)>>2]=c|1;a[i+(c+m)>>2]=c;t=a[758]|0;if(t){o=a[761]|0;n=t>>>3;t=n<<1;r=3064+(t<<2)|0;e=a[756]|0;n=1<<n;if(e&n){t=3064+(t+2<<2)|0;e=a[t>>2]|0;if(e>>>0<(a[760]|0)>>>0)Pe();else{p=t;g=e}}else{a[756]=e|n;p=3064+(t+2<<2)|0;g=r}a[p>>2]=o;a[g+12>>2]=o;a[o+8>>2]=g;a[o+12>>2]=r}a[758]=c;a[761]=l}F=i+8|0;return F|0}else g=m}else g=m}else if(e>>>0<=4294967231){e=e+11|0;f=e&-8;d=a[757]|0;if(d){n=0-f|0;e=e>>>8;if(e)if(f>>>0>16777215)u=31;else{g=(e+1048320|0)>>>16&8;w=e<<g;p=(w+520192|0)>>>16&4;w=w<<p;u=(w+245760|0)>>>16&2;u=14-(p|g|u)+(w<<u>>>15)|0;u=f>>>(u+7|0)&1|u<<1}else u=0;e=a[3328+(u<<2)>>2]|0;e:do if(!e){r=0;e=0;w=86}else{s=n;r=0;l=f<<((u|0)==31?0:25-(u>>>1)|0);c=e;e=0;while(1){o=a[c+4>>2]&-8;n=o-f|0;if(n>>>0<s>>>0)if((o|0)==(f|0)){o=c;e=c;w=90;break e}else e=c;else n=s;w=a[c+20>>2]|0;c=a[c+16+(l>>>31<<2)>>2]|0;r=(w|0)==0|(w|0)==(c|0)?r:w;if(!c){w=86;break}else{s=n;l=l<<1}}}while(0);if((w|0)==86){if((r|0)==0&(e|0)==0){e=2<<u;e=d&(e|0-e);if(!e){g=f;break}e=(e&0-e)+-1|0;h=e>>>12&16;e=e>>>h;d=e>>>5&8;e=e>>>d;p=e>>>2&4;e=e>>>p;g=e>>>1&2;e=e>>>g;r=e>>>1&1;r=a[3328+((d|h|p|g|r)+(e>>>r)<<2)>>2]|0;e=0}if(!r){l=n;c=e}else{o=r;w=90}}if((w|0)==90)while(1){w=0;g=(a[o+4>>2]&-8)-f|0;r=g>>>0<n>>>0;n=r?g:n;e=r?o:e;r=a[o+16>>2]|0;if(r){o=r;w=90;continue}o=a[o+20>>2]|0;if(!o){l=n;c=e;break}else w=90}if((c|0)!=0?l>>>0<((a[758]|0)-f|0)>>>0:0){r=a[760]|0;if(c>>>0<r>>>0)Pe();s=c+f|0;if(c>>>0>=s>>>0)Pe();o=a[c+24>>2]|0;n=a[c+12>>2]|0;do if((n|0)==(c|0)){e=c+20|0;t=a[e>>2]|0;if(!t){e=c+16|0;t=a[e>>2]|0;if(!t){m=0;break}}while(1){n=t+20|0;i=a[n>>2]|0;if(i){t=i;e=n;continue}n=t+16|0;i=a[n>>2]|0;if(!i)break;else{t=i;e=n}}if(e>>>0<r>>>0)Pe();else{a[e>>2]=0;m=t;break}}else{i=a[c+8>>2]|0;if(i>>>0<r>>>0)Pe();t=i+12|0;if((a[t>>2]|0)!=(c|0))Pe();e=n+8|0;if((a[e>>2]|0)==(c|0)){a[t>>2]=n;a[e>>2]=i;m=n;break}else Pe()}while(0);do if(o){t=a[c+28>>2]|0;e=3328+(t<<2)|0;if((c|0)==(a[e>>2]|0)){a[e>>2]=m;if(!m){a[757]=a[757]&~(1<<t);break}}else{if(o>>>0<(a[760]|0)>>>0)Pe();t=o+16|0;if((a[t>>2]|0)==(c|0))a[t>>2]=m;else a[o+20>>2]=m;if(!m)break}e=a[760]|0;if(m>>>0<e>>>0)Pe();a[m+24>>2]=o;t=a[c+16>>2]|0;do if(t)if(t>>>0<e>>>0)Pe();else{a[m+16>>2]=t;a[t+24>>2]=m;break}while(0);t=a[c+20>>2]|0;if(t)if(t>>>0<(a[760]|0)>>>0)Pe();else{a[m+20>>2]=t;a[t+24>>2]=m;break}}while(0);e:do if(l>>>0>=16){a[c+4>>2]=f|3;a[c+(f|4)>>2]=l|1;a[c+(l+f)>>2]=l;t=l>>>3;if(l>>>0<256){e=t<<1;i=3064+(e<<2)|0;n=a[756]|0;t=1<<t;if(n&t){t=3064+(e+2<<2)|0;e=a[t>>2]|0;if(e>>>0<(a[760]|0)>>>0)Pe();else{b=t;y=e}}else{a[756]=n|t;b=3064+(e+2<<2)|0;y=i}a[b>>2]=s;a[y+12>>2]=s;a[c+(f+8)>>2]=y;a[c+(f+12)>>2]=i;break}t=l>>>8;if(t)if(l>>>0>16777215)i=31;else{L=(t+1048320|0)>>>16&8;F=t<<L;I=(F+520192|0)>>>16&4;F=F<<I;i=(F+245760|0)>>>16&2;i=14-(I|L|i)+(F<<i>>>15)|0;i=l>>>(i+7|0)&1|i<<1}else i=0;t=3328+(i<<2)|0;a[c+(f+28)>>2]=i;a[c+(f+20)>>2]=0;a[c+(f+16)>>2]=0;e=a[757]|0;n=1<<i;if(!(e&n)){a[757]=e|n;a[t>>2]=s;a[c+(f+24)>>2]=t;a[c+(f+12)>>2]=s;a[c+(f+8)>>2]=s;break}t=a[t>>2]|0;t:do if((a[t+4>>2]&-8|0)!=(l|0)){i=l<<((i|0)==31?0:25-(i>>>1)|0);while(1){e=t+16+(i>>>31<<2)|0;n=a[e>>2]|0;if(!n)break;if((a[n+4>>2]&-8|0)==(l|0)){M=n;break t}else{i=i<<1;t=n}}if(e>>>0<(a[760]|0)>>>0)Pe();else{a[e>>2]=s;a[c+(f+24)>>2]=t;a[c+(f+12)>>2]=s;a[c+(f+8)>>2]=s;break e}}else M=t;while(0);t=M+8|0;e=a[t>>2]|0;F=a[760]|0;if(e>>>0>=F>>>0&M>>>0>=F>>>0){a[e+12>>2]=s;a[t>>2]=s;a[c+(f+8)>>2]=e;a[c+(f+12)>>2]=M;a[c+(f+24)>>2]=0;break}else Pe()}else{F=l+f|0;a[c+4>>2]=F|3;F=c+(F+4)|0;a[F>>2]=a[F>>2]|1}while(0);F=c+8|0;return F|0}else g=f}else g=f}else g=-1;while(0);n=a[758]|0;if(n>>>0>=g>>>0){t=n-g|0;e=a[761]|0;if(t>>>0>15){a[761]=e+g;a[758]=t;a[e+(g+4)>>2]=t|1;a[e+n>>2]=t;a[e+4>>2]=g|3}else{a[758]=0;a[761]=0;a[e+4>>2]=n|3;F=e+(n+4)|0;a[F>>2]=a[F>>2]|1}F=e+8|0;return F|0}e=a[759]|0;if(e>>>0>g>>>0){L=e-g|0;a[759]=L;F=a[762]|0;a[762]=F+g;a[F+(g+4)>>2]=L|1;a[F+4>>2]=g|3;F=F+8|0;return F|0}do if(!(a[874]|0)){e=nt(30)|0;if(!(e+-1&e)){a[876]=e;a[875]=e;a[877]=-1;a[878]=-1;a[879]=0;a[867]=0;a[874]=(Pt(0)|0)&-16^1431655768;break}else Pe()}while(0);c=g+48|0;l=a[876]|0;u=g+47|0;s=l+u|0;l=0-l|0;d=s&l;if(d>>>0<=g>>>0){F=0;return F|0}e=a[866]|0;if((e|0)!=0?(y=a[864]|0,M=y+d|0,M>>>0<=y>>>0|M>>>0>e>>>0):0){F=0;return F|0}e:do if(!(a[867]&4)){e=a[762]|0;t:do if(e){r=3472;while(1){n=a[r>>2]|0;if(n>>>0<=e>>>0?(v=r+4|0,(n+(a[v>>2]|0)|0)>>>0>e>>>0):0){o=r;e=v;break}r=a[r+8>>2]|0;if(!r){w=174;break t}}n=s-(a[759]|0)&l;if(n>>>0<2147483647){r=Xe(n|0)|0;M=(r|0)==((a[o>>2]|0)+(a[e>>2]|0)|0);e=M?n:0;if(M){if((r|0)!=(-1|0)){_=r;p=e;w=194;break e}}else w=184}else e=0}else w=174;while(0);do if((w|0)==174){o=Xe(0)|0;if((o|0)!=(-1|0)){e=o;n=a[875]|0;r=n+-1|0;if(!(r&e))n=d;else n=d-e+(r+e&0-n)|0;e=a[864]|0;r=e+n|0;if(n>>>0>g>>>0&n>>>0<2147483647){M=a[866]|0;if((M|0)!=0?r>>>0<=e>>>0|r>>>0>M>>>0:0){e=0;break}r=Xe(n|0)|0;M=(r|0)==(o|0);e=M?n:0;if(M){_=o;p=e;w=194;break e}else w=184}else e=0}else e=0}while(0);t:do if((w|0)==184){o=0-n|0;do if(c>>>0>n>>>0&(n>>>0<2147483647&(r|0)!=(-1|0))?(E=a[876]|0,E=u-n+E&0-E,E>>>0<2147483647):0)if((Xe(E|0)|0)==(-1|0)){Xe(o|0)|0;break t}else{n=E+n|0;break}while(0);if((r|0)!=(-1|0)){_=r;p=n;w=194;break e}}while(0);a[867]=a[867]|4;w=191}else{e=0;w=191}while(0);if((((w|0)==191?d>>>0<2147483647:0)?(_=Xe(d|0)|0,x=Xe(0)|0,_>>>0<x>>>0&((_|0)!=(-1|0)&(x|0)!=(-1|0))):0)?(k=x-_|0,T=k>>>0>(g+40|0)>>>0,T):0){p=T?k:e;w=194}if((w|0)==194){e=(a[864]|0)+p|0;a[864]=e;if(e>>>0>(a[865]|0)>>>0)a[865]=e;s=a[762]|0;e:do if(s){o=3472;do{e=a[o>>2]|0;n=o+4|0;r=a[n>>2]|0;if((_|0)==(e+r|0)){S=e;A=n;C=r;$=o;w=204;break}o=a[o+8>>2]|0}while((o|0)!=0);if(((w|0)==204?(a[$+12>>2]&8|0)==0:0)?s>>>0<_>>>0&s>>>0>=S>>>0:0){a[A>>2]=C+p;F=(a[759]|0)+p|0;L=s+8|0;L=(L&7|0)==0?0:0-L&7;I=F-L|0;a[762]=s+L;a[759]=I;a[s+(L+4)>>2]=I|1;a[s+(F+4)>>2]=40;a[763]=a[878];break}e=a[760]|0;if(_>>>0<e>>>0){a[760]=_;e=_}n=_+p|0;o=3472;while(1){if((a[o>>2]|0)==(n|0)){r=o;n=o;w=212;break}o=a[o+8>>2]|0;if(!o){n=3472;break}}if((w|0)==212)if(!(a[n+12>>2]&8)){a[r>>2]=_;h=n+4|0;a[h>>2]=(a[h>>2]|0)+p;h=_+8|0;h=(h&7|0)==0?0:0-h&7;u=_+(p+8)|0;u=(u&7|0)==0?0:0-u&7;t=_+(u+p)|0;f=h+g|0;m=_+f|0;d=t-(_+h)-g|0;a[_+(h+4)>>2]=g|3;t:do if((t|0)!=(s|0)){if((t|0)==(a[761]|0)){F=(a[758]|0)+d|0;a[758]=F;a[761]=m;a[_+(f+4)>>2]=F|1;a[_+(F+f)>>2]=F;break}l=p+4|0;n=a[_+(l+u)>>2]|0;if((n&3|0)==1){c=n&-8;o=n>>>3;n:do if(n>>>0>=256){s=a[_+((u|24)+p)>>2]|0;i=a[_+(p+12+u)>>2]|0;do if((i|0)==(t|0)){r=u|16;i=_+(l+r)|0;n=a[i>>2]|0;if(!n){i=_+(r+p)|0;n=a[i>>2]|0;if(!n){D=0;break}}while(1){r=n+20|0;o=a[r>>2]|0;if(o){n=o;i=r;continue}r=n+16|0;o=a[r>>2]|0;if(!o)break;else{n=o;i=r}}if(i>>>0<e>>>0)Pe();else{a[i>>2]=0;D=n;break}}else{r=a[_+((u|8)+p)>>2]|0;if(r>>>0<e>>>0)Pe();e=r+12|0;if((a[e>>2]|0)!=(t|0))Pe();n=i+8|0;if((a[n>>2]|0)==(t|0)){a[e>>2]=i;a[n>>2]=r;D=i;break}else Pe()}while(0);if(!s)break;e=a[_+(p+28+u)>>2]|0;n=3328+(e<<2)|0;do if((t|0)!=(a[n>>2]|0)){if(s>>>0<(a[760]|0)>>>0)Pe();e=s+16|0;if((a[e>>2]|0)==(t|0))a[e>>2]=D;else a[s+20>>2]=D;if(!D)break n}else{a[n>>2]=D;if(D)break;a[757]=a[757]&~(1<<e);break n}while(0);n=a[760]|0;if(D>>>0<n>>>0)Pe();a[D+24>>2]=s;t=u|16;e=a[_+(t+p)>>2]|0;do if(e)if(e>>>0<n>>>0)Pe();else{a[D+16>>2]=e;a[e+24>>2]=D;break}while(0);t=a[_+(l+t)>>2]|0;if(!t)break;if(t>>>0<(a[760]|0)>>>0)Pe();else{a[D+20>>2]=t;a[t+24>>2]=D;break}}else{i=a[_+((u|8)+p)>>2]|0;r=a[_+(p+12+u)>>2]|0;n=3064+(o<<1<<2)|0;do if((i|0)!=(n|0)){if(i>>>0<e>>>0)Pe();if((a[i+12>>2]|0)==(t|0))break;Pe()}while(0);if((r|0)==(i|0)){a[756]=a[756]&~(1<<o);break}do if((r|0)==(n|0))R=r+8|0;else{if(r>>>0<e>>>0)Pe();e=r+8|0;if((a[e>>2]|0)==(t|0)){R=e;break}Pe()}while(0);a[i+12>>2]=r;a[R>>2]=i}while(0);t=_+((c|u)+p)|0;r=c+d|0}else r=d;t=t+4|0;a[t>>2]=a[t>>2]&-2;a[_+(f+4)>>2]=r|1;a[_+(r+f)>>2]=r;t=r>>>3;if(r>>>0<256){e=t<<1;i=3064+(e<<2)|0;n=a[756]|0;t=1<<t;do if(!(n&t)){a[756]=n|t;I=3064+(e+2<<2)|0;L=i}else{t=3064+(e+2<<2)|0;e=a[t>>2]|0;if(e>>>0>=(a[760]|0)>>>0){I=t;L=e;break}Pe()}while(0);a[I>>2]=m;a[L+12>>2]=m;a[_+(f+8)>>2]=L;a[_+(f+12)>>2]=i;break}t=r>>>8;do if(!t)i=0;else{if(r>>>0>16777215){i=31;break}I=(t+1048320|0)>>>16&8;L=t<<I;D=(L+520192|0)>>>16&4;L=L<<D;i=(L+245760|0)>>>16&2;i=14-(D|I|i)+(L<<i>>>15)|0;i=r>>>(i+7|0)&1|i<<1}while(0);t=3328+(i<<2)|0;a[_+(f+28)>>2]=i;a[_+(f+20)>>2]=0;a[_+(f+16)>>2]=0;e=a[757]|0;n=1<<i;if(!(e&n)){a[757]=e|n;a[t>>2]=m;a[_+(f+24)>>2]=t;a[_+(f+12)>>2]=m;a[_+(f+8)>>2]=m;break}t=a[t>>2]|0;n:do if((a[t+4>>2]&-8|0)!=(r|0)){i=r<<((i|0)==31?0:25-(i>>>1)|0);while(1){e=t+16+(i>>>31<<2)|0;n=a[e>>2]|0;if(!n)break;if((a[n+4>>2]&-8|0)==(r|0)){F=n;break n}else{i=i<<1;t=n}}if(e>>>0<(a[760]|0)>>>0)Pe();else{a[e>>2]=m;a[_+(f+24)>>2]=t;a[_+(f+12)>>2]=m;a[_+(f+8)>>2]=m;break t}}else F=t;while(0);t=F+8|0;e=a[t>>2]|0;L=a[760]|0;if(e>>>0>=L>>>0&F>>>0>=L>>>0){a[e+12>>2]=m;a[t>>2]=m;a[_+(f+8)>>2]=e;a[_+(f+12)>>2]=F;a[_+(f+24)>>2]=0;break}else Pe()}else{F=(a[759]|0)+d|0;a[759]=F;a[762]=m;a[_+(f+4)>>2]=F|1}while(0);F=_+(h|8)|0;return F|0}else n=3472;while(1){e=a[n>>2]|0;if(e>>>0<=s>>>0?(t=a[n+4>>2]|0,i=e+t|0,i>>>0>s>>>0):0)break;n=a[n+8>>2]|0}r=e+(t+-39)|0;e=e+(t+-47+((r&7|0)==0?0:0-r&7))|0;r=s+16|0;e=e>>>0<r>>>0?s:e;t=e+8|0;n=_+8|0;n=(n&7|0)==0?0:0-n&7;F=p+-40-n|0;a[762]=_+n;a[759]=F;a[_+(n+4)>>2]=F|1;a[_+(p+-36)>>2]=40;a[763]=a[878];n=e+4|0;a[n>>2]=27;a[t>>2]=a[868];a[t+4>>2]=a[869];a[t+8>>2]=a[870];a[t+12>>2]=a[871];a[868]=_;a[869]=p;a[871]=0;a[870]=t;t=e+28|0;a[t>>2]=7;if((e+32|0)>>>0<i>>>0)do{F=t;t=t+4|0;a[t>>2]=7}while((F+8|0)>>>0<i>>>0);if((e|0)!=(s|0)){o=e-s|0;a[n>>2]=a[n>>2]&-2;a[s+4>>2]=o|1;a[e>>2]=o;t=o>>>3;if(o>>>0<256){e=t<<1;i=3064+(e<<2)|0;n=a[756]|0;t=1<<t;if(n&t){t=3064+(e+2<<2)|0;e=a[t>>2]|0;if(e>>>0<(a[760]|0)>>>0)Pe();else{P=t;N=e}}else{a[756]=n|t;P=3064+(e+2<<2)|0;N=i}a[P>>2]=s;a[N+12>>2]=s;a[s+8>>2]=N;a[s+12>>2]=i;break}t=o>>>8;if(t)if(o>>>0>16777215)i=31;else{L=(t+1048320|0)>>>16&8;F=t<<L;I=(F+520192|0)>>>16&4;F=F<<I;i=(F+245760|0)>>>16&2;i=14-(I|L|i)+(F<<i>>>15)|0;i=o>>>(i+7|0)&1|i<<1}else i=0;n=3328+(i<<2)|0;a[s+28>>2]=i;a[s+20>>2]=0;a[r>>2]=0;t=a[757]|0;e=1<<i;if(!(t&e)){a[757]=t|e;a[n>>2]=s;a[s+24>>2]=n;a[s+12>>2]=s;a[s+8>>2]=s;break}t=a[n>>2]|0;t:do if((a[t+4>>2]&-8|0)!=(o|0)){i=o<<((i|0)==31?0:25-(i>>>1)|0);while(1){e=t+16+(i>>>31<<2)|0;n=a[e>>2]|0;if(!n)break;if((a[n+4>>2]&-8|0)==(o|0)){O=n;break t}else{i=i<<1;t=n}}if(e>>>0<(a[760]|0)>>>0)Pe();else{a[e>>2]=s;a[s+24>>2]=t;a[s+12>>2]=s;a[s+8>>2]=s;break e}}else O=t;while(0);t=O+8|0;e=a[t>>2]|0;F=a[760]|0;if(e>>>0>=F>>>0&O>>>0>=F>>>0){a[e+12>>2]=s;a[t>>2]=s;a[s+8>>2]=e;a[s+12>>2]=O;a[s+24>>2]=0;break}else Pe()}}else{F=a[760]|0;if((F|0)==0|_>>>0<F>>>0)a[760]=_;a[868]=_;a[869]=p;a[871]=0;a[765]=a[874];a[764]=-1;t=0;do{F=t<<1;L=3064+(F<<2)|0;a[3064+(F+3<<2)>>2]=L;a[3064+(F+2<<2)>>2]=L;t=t+1|0}while((t|0)!=32);F=_+8|0;F=(F&7|0)==0?0:0-F&7;L=p+-40-F|0;a[762]=_+F;a[759]=L;a[_+(F+4)>>2]=L|1;a[_+(p+-36)>>2]=40;a[763]=a[878]}while(0);t=a[759]|0;if(t>>>0>g>>>0){L=t-g|0;a[759]=L;F=a[762]|0;a[762]=F+g;a[F+(g+4)>>2]=L|1;a[F+4>>2]=g|3;F=F+8|0;return F|0}}a[(dr()|0)>>2]=12;F=0;return F|0}function ja(e){e=e|0;var t=0,n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0;if(!e)return;t=e+-8|0;l=a[760]|0;if(t>>>0<l>>>0)Pe();n=a[e+-4>>2]|0;i=n&3;if((i|0)==1)Pe();m=n&-8;g=e+(m+-8)|0;do if(!(n&1)){t=a[t>>2]|0;if(!i)return;c=-8-t|0;d=e+c|0;f=t+m|0;if(d>>>0<l>>>0)Pe();if((d|0)==(a[761]|0)){t=e+(m+-4)|0;n=a[t>>2]|0;if((n&3|0)!=3){E=d;o=f;break}a[758]=f;a[t>>2]=n&-2;a[e+(c+4)>>2]=f|1;a[g>>2]=f;return}r=t>>>3;if(t>>>0<256){i=a[e+(c+8)>>2]|0;n=a[e+(c+12)>>2]|0;t=3064+(r<<1<<2)|0;if((i|0)!=(t|0)){if(i>>>0<l>>>0)Pe();if((a[i+12>>2]|0)!=(d|0))Pe()}if((n|0)==(i|0)){a[756]=a[756]&~(1<<r);E=d;o=f;break}if((n|0)!=(t|0)){if(n>>>0<l>>>0)Pe();t=n+8|0;if((a[t>>2]|0)==(d|0))s=t;else Pe()}else s=n+8|0;a[i+12>>2]=n;a[s>>2]=i;E=d;o=f;break}s=a[e+(c+24)>>2]|0;i=a[e+(c+12)>>2]|0;do if((i|0)==(d|0)){n=e+(c+20)|0;t=a[n>>2]|0;if(!t){n=e+(c+16)|0;t=a[n>>2]|0;if(!t){u=0;break}}while(1){i=t+20|0;r=a[i>>2]|0;if(r){t=r;n=i;continue}i=t+16|0;r=a[i>>2]|0;if(!r)break;else{t=r;n=i}}if(n>>>0<l>>>0)Pe();else{a[n>>2]=0;u=t;break}}else{r=a[e+(c+8)>>2]|0;if(r>>>0<l>>>0)Pe();t=r+12|0;if((a[t>>2]|0)!=(d|0))Pe();n=i+8|0;if((a[n>>2]|0)==(d|0)){a[t>>2]=i;a[n>>2]=r;u=i;break}else Pe()}while(0);if(s){t=a[e+(c+28)>>2]|0;n=3328+(t<<2)|0;if((d|0)==(a[n>>2]|0)){a[n>>2]=u;if(!u){a[757]=a[757]&~(1<<t);E=d;o=f;break}}else{if(s>>>0<(a[760]|0)>>>0)Pe();t=s+16|0;if((a[t>>2]|0)==(d|0))a[t>>2]=u;else a[s+20>>2]=u;if(!u){E=d;o=f;break}}n=a[760]|0;if(u>>>0<n>>>0)Pe();a[u+24>>2]=s;t=a[e+(c+16)>>2]|0;do if(t)if(t>>>0<n>>>0)Pe();else{a[u+16>>2]=t;a[t+24>>2]=u;break}while(0);t=a[e+(c+20)>>2]|0;if(t)if(t>>>0<(a[760]|0)>>>0)Pe();else{a[u+20>>2]=t;a[t+24>>2]=u;E=d;o=f;break}else{E=d;o=f}}else{E=d;o=f}}else{E=t;o=m}while(0);if(E>>>0>=g>>>0)Pe();t=e+(m+-4)|0;n=a[t>>2]|0;if(!(n&1))Pe();if(!(n&2)){if((g|0)==(a[762]|0)){y=(a[759]|0)+o|0;a[759]=y;a[762]=E;a[E+4>>2]=y|1;if((E|0)!=(a[761]|0))return;a[761]=0;a[758]=0;return}if((g|0)==(a[761]|0)){y=(a[758]|0)+o|0;a[758]=y;a[761]=E;a[E+4>>2]=y|1;a[E+y>>2]=y;return}o=(n&-8)+o|0;r=n>>>3;do if(n>>>0>=256){s=a[e+(m+16)>>2]|0;t=a[e+(m|4)>>2]|0;do if((t|0)==(g|0)){n=e+(m+12)|0;t=a[n>>2]|0;if(!t){n=e+(m+8)|0;t=a[n>>2]|0;if(!t){p=0;break}}while(1){i=t+20|0;r=a[i>>2]|0;if(r){t=r;n=i;continue}i=t+16|0;r=a[i>>2]|0;if(!r)break;else{t=r;n=i}}if(n>>>0<(a[760]|0)>>>0)Pe();else{a[n>>2]=0;p=t;break}}else{n=a[e+m>>2]|0;if(n>>>0<(a[760]|0)>>>0)Pe();i=n+12|0;if((a[i>>2]|0)!=(g|0))Pe();r=t+8|0;if((a[r>>2]|0)==(g|0)){a[i>>2]=t;a[r>>2]=n;p=t;break}else Pe()}while(0);if(s){t=a[e+(m+20)>>2]|0;n=3328+(t<<2)|0;if((g|0)==(a[n>>2]|0)){a[n>>2]=p;if(!p){a[757]=a[757]&~(1<<t);break}}else{if(s>>>0<(a[760]|0)>>>0)Pe();t=s+16|0;if((a[t>>2]|0)==(g|0))a[t>>2]=p;else a[s+20>>2]=p;if(!p)break}n=a[760]|0;if(p>>>0<n>>>0)Pe();a[p+24>>2]=s;t=a[e+(m+8)>>2]|0;do if(t)if(t>>>0<n>>>0)Pe();else{a[p+16>>2]=t;a[t+24>>2]=p;break}while(0);t=a[e+(m+12)>>2]|0;if(t)if(t>>>0<(a[760]|0)>>>0)Pe();else{a[p+20>>2]=t;a[t+24>>2]=p;break}}}else{i=a[e+m>>2]|0;n=a[e+(m|4)>>2]|0;t=3064+(r<<1<<2)|0;if((i|0)!=(t|0)){if(i>>>0<(a[760]|0)>>>0)Pe();if((a[i+12>>2]|0)!=(g|0))Pe()}if((n|0)==(i|0)){a[756]=a[756]&~(1<<r);break}if((n|0)!=(t|0)){if(n>>>0<(a[760]|0)>>>0)Pe();t=n+8|0;if((a[t>>2]|0)==(g|0))h=t;else Pe()}else h=n+8|0;a[i+12>>2]=n;a[h>>2]=i}while(0);a[E+4>>2]=o|1;a[E+o>>2]=o;if((E|0)==(a[761]|0)){a[758]=o;return}}else{a[t>>2]=n&-2;a[E+4>>2]=o|1;a[E+o>>2]=o}t=o>>>3;if(o>>>0<256){n=t<<1;r=3064+(n<<2)|0;i=a[756]|0;t=1<<t;if(i&t){t=3064+(n+2<<2)|0;n=a[t>>2]|0;if(n>>>0<(a[760]|0)>>>0)Pe();else{v=t;b=n}}else{a[756]=i|t;v=3064+(n+2<<2)|0;b=r}a[v>>2]=E;a[b+12>>2]=E;a[E+8>>2]=b;a[E+12>>2]=r;return}t=o>>>8;if(t)if(o>>>0>16777215)r=31;else{v=(t+1048320|0)>>>16&8;b=t<<v;g=(b+520192|0)>>>16&4;b=b<<g;r=(b+245760|0)>>>16&2;r=14-(g|v|r)+(b<<r>>>15)|0;r=o>>>(r+7|0)&1|r<<1}else r=0;t=3328+(r<<2)|0;a[E+28>>2]=r;a[E+20>>2]=0;a[E+16>>2]=0;n=a[757]|0;i=1<<r;e:do if(n&i){t=a[t>>2]|0;t:do if((a[t+4>>2]&-8|0)!=(o|0)){r=o<<((r|0)==31?0:25-(r>>>1)|0);while(1){n=t+16+(r>>>31<<2)|0;i=a[n>>2]|0;if(!i)break;if((a[i+4>>2]&-8|0)==(o|0)){y=i;break t}else{r=r<<1;t=i}}if(n>>>0<(a[760]|0)>>>0)Pe();else{a[n>>2]=E;a[E+24>>2]=t;a[E+12>>2]=E;a[E+8>>2]=E;break e}}else y=t;while(0);t=y+8|0;n=a[t>>2]|0;b=a[760]|0;if(n>>>0>=b>>>0&y>>>0>=b>>>0){a[n+12>>2]=E;a[t>>2]=E;a[E+8>>2]=n;a[E+12>>2]=y;a[E+24>>2]=0;break}else Pe()}else{a[757]=n|i;a[t>>2]=E;a[E+24>>2]=t;a[E+12>>2]=E;a[E+8>>2]=E}while(0);E=(a[764]|0)+-1|0;a[764]=E;if(!E)t=3480;else return;while(1){t=a[t>>2]|0;if(!t)break;else t=t+8|0}a[764]=-1;return}function Va(e,t){e=e|0;t=t|0;var n=0;if(e){n=ne(t,e)|0;if((t|e)>>>0>65535)n=((n>>>0)/(e>>>0)|0|0)==(t|0)?n:-1}else n=0;t=Ba(n)|0;if(!t)return t|0;if(!(a[t+-4>>2]&3))return t|0;Gc(t|0,0,n|0)|0;return t|0}function za(e,t){e=e|0;t=t|0;var n=0,i=0;if(!e){e=Ba(t)|0;return e|0}if(t>>>0>4294967231){a[(dr()|0)>>2]=12;e=0;return e|0}n=Wa(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(n){e=n+8|0;return e|0}n=Ba(t)|0;if(!n){e=0;return e|0}i=a[e+-4>>2]|0;i=(i&-8)-((i&3|0)==0?8:4)|0;Kc(n|0,e|0,(i>>>0<t>>>0?i:t)|0)|0;ja(e);e=n;return e|0}function Wa(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0;m=e+4|0;p=a[m>>2]|0;c=p&-8;d=e+c|0;l=a[760]|0;n=p&3;if(!((n|0)!=1&e>>>0>=l>>>0&e>>>0<d>>>0))Pe();i=e+(c|4)|0;r=a[i>>2]|0;if(!(r&1))Pe();if(!n){if(t>>>0<256){e=0;return e|0}if(c>>>0>=(t+4|0)>>>0?(c-t|0)>>>0<=a[876]<<1>>>0:0)return e|0;e=0;return e|0}if(c>>>0>=t>>>0){n=c-t|0;if(n>>>0<=15)return e|0;a[m>>2]=p&1|t|2;a[e+(t+4)>>2]=n|3;a[i>>2]=a[i>>2]|1;Ga(e+t|0,n);return e|0}if((d|0)==(a[762]|0)){n=(a[759]|0)+c|0;if(n>>>0<=t>>>0){e=0;return e|0}h=n-t|0;a[m>>2]=p&1|t|2;a[e+(t+4)>>2]=h|1;a[762]=e+t;a[759]=h;return e|0}if((d|0)==(a[761]|0)){i=(a[758]|0)+c|0;if(i>>>0<t>>>0){e=0;return e|0}n=i-t|0;if(n>>>0>15){a[m>>2]=p&1|t|2;a[e+(t+4)>>2]=n|1;a[e+i>>2]=n;i=e+(i+4)|0;a[i>>2]=a[i>>2]&-2;i=e+t|0}else{a[m>>2]=p&1|i|2;i=e+(i+4)|0;a[i>>2]=a[i>>2]|1;i=0;n=0}a[758]=n;a[761]=i;return e|0}if(r&2){e=0;return e|0}f=(r&-8)+c|0;if(f>>>0<t>>>0){e=0;return e|0}h=f-t|0;o=r>>>3;do if(r>>>0>=256){s=a[e+(c+24)>>2]|0;o=a[e+(c+12)>>2]|0;do if((o|0)==(d|0)){i=e+(c+20)|0;n=a[i>>2]|0;if(!n){i=e+(c+16)|0;n=a[i>>2]|0;if(!n){u=0;break}}while(1){r=n+20|0;o=a[r>>2]|0;if(o){n=o;i=r;continue}r=n+16|0;o=a[r>>2]|0;if(!o)break;else{n=o;i=r}}if(i>>>0<l>>>0)Pe();else{a[i>>2]=0;u=n;break}}else{r=a[e+(c+8)>>2]|0;if(r>>>0<l>>>0)Pe();n=r+12|0;if((a[n>>2]|0)!=(d|0))Pe();i=o+8|0;if((a[i>>2]|0)==(d|0)){a[n>>2]=o;a[i>>2]=r;u=o;break}else Pe()}while(0);if(s){n=a[e+(c+28)>>2]|0;i=3328+(n<<2)|0;if((d|0)==(a[i>>2]|0)){a[i>>2]=u;if(!u){a[757]=a[757]&~(1<<n);break}}else{if(s>>>0<(a[760]|0)>>>0)Pe();n=s+16|0;if((a[n>>2]|0)==(d|0))a[n>>2]=u;else a[s+20>>2]=u;if(!u)break}i=a[760]|0;if(u>>>0<i>>>0)Pe();a[u+24>>2]=s;n=a[e+(c+16)>>2]|0;do if(n)if(n>>>0<i>>>0)Pe();else{a[u+16>>2]=n;a[n+24>>2]=u;break}while(0);n=a[e+(c+20)>>2]|0;if(n)if(n>>>0<(a[760]|0)>>>0)Pe();else{a[u+20>>2]=n;a[n+24>>2]=u;break}}}else{r=a[e+(c+8)>>2]|0;i=a[e+(c+12)>>2]|0;n=3064+(o<<1<<2)|0;if((r|0)!=(n|0)){if(r>>>0<l>>>0)Pe();if((a[r+12>>2]|0)!=(d|0))Pe()}if((i|0)==(r|0)){a[756]=a[756]&~(1<<o);break}if((i|0)!=(n|0)){if(i>>>0<l>>>0)Pe();n=i+8|0;if((a[n>>2]|0)==(d|0))s=n;else Pe()}else s=i+8|0;a[r+12>>2]=i;a[s>>2]=r}while(0);if(h>>>0<16){a[m>>2]=f|p&1|2;t=e+(f|4)|0;a[t>>2]=a[t>>2]|1;
return e|0}else{a[m>>2]=p&1|t|2;a[e+(t+4)>>2]=h|3;p=e+(f|4)|0;a[p>>2]=a[p>>2]|1;Ga(e+t|0,h);return e|0}return 0}function Ga(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0;g=e+t|0;n=a[e+4>>2]|0;do if(!(n&1)){u=a[e>>2]|0;if(!(n&3))return;h=e+(0-u)|0;f=u+t|0;c=a[760]|0;if(h>>>0<c>>>0)Pe();if((h|0)==(a[761]|0)){i=e+(t+4)|0;n=a[i>>2]|0;if((n&3|0)!=3){y=h;s=f;break}a[758]=f;a[i>>2]=n&-2;a[e+(4-u)>>2]=f|1;a[g>>2]=f;return}o=u>>>3;if(u>>>0<256){r=a[e+(8-u)>>2]|0;i=a[e+(12-u)>>2]|0;n=3064+(o<<1<<2)|0;if((r|0)!=(n|0)){if(r>>>0<c>>>0)Pe();if((a[r+12>>2]|0)!=(h|0))Pe()}if((i|0)==(r|0)){a[756]=a[756]&~(1<<o);y=h;s=f;break}if((i|0)!=(n|0)){if(i>>>0<c>>>0)Pe();n=i+8|0;if((a[n>>2]|0)==(h|0))l=n;else Pe()}else l=i+8|0;a[r+12>>2]=i;a[l>>2]=r;y=h;s=f;break}l=a[e+(24-u)>>2]|0;r=a[e+(12-u)>>2]|0;do if((r|0)==(h|0)){r=16-u|0;i=e+(r+4)|0;n=a[i>>2]|0;if(!n){i=e+r|0;n=a[i>>2]|0;if(!n){d=0;break}}while(1){r=n+20|0;o=a[r>>2]|0;if(o){n=o;i=r;continue}r=n+16|0;o=a[r>>2]|0;if(!o)break;else{n=o;i=r}}if(i>>>0<c>>>0)Pe();else{a[i>>2]=0;d=n;break}}else{o=a[e+(8-u)>>2]|0;if(o>>>0<c>>>0)Pe();n=o+12|0;if((a[n>>2]|0)!=(h|0))Pe();i=r+8|0;if((a[i>>2]|0)==(h|0)){a[n>>2]=r;a[i>>2]=o;d=r;break}else Pe()}while(0);if(l){n=a[e+(28-u)>>2]|0;i=3328+(n<<2)|0;if((h|0)==(a[i>>2]|0)){a[i>>2]=d;if(!d){a[757]=a[757]&~(1<<n);y=h;s=f;break}}else{if(l>>>0<(a[760]|0)>>>0)Pe();n=l+16|0;if((a[n>>2]|0)==(h|0))a[n>>2]=d;else a[l+20>>2]=d;if(!d){y=h;s=f;break}}r=a[760]|0;if(d>>>0<r>>>0)Pe();a[d+24>>2]=l;n=16-u|0;i=a[e+n>>2]|0;do if(i)if(i>>>0<r>>>0)Pe();else{a[d+16>>2]=i;a[i+24>>2]=d;break}while(0);n=a[e+(n+4)>>2]|0;if(n)if(n>>>0<(a[760]|0)>>>0)Pe();else{a[d+20>>2]=n;a[n+24>>2]=d;y=h;s=f;break}else{y=h;s=f}}else{y=h;s=f}}else{y=e;s=t}while(0);c=a[760]|0;if(g>>>0<c>>>0)Pe();n=e+(t+4)|0;i=a[n>>2]|0;if(!(i&2)){if((g|0)==(a[762]|0)){b=(a[759]|0)+s|0;a[759]=b;a[762]=y;a[y+4>>2]=b|1;if((y|0)!=(a[761]|0))return;a[761]=0;a[758]=0;return}if((g|0)==(a[761]|0)){b=(a[758]|0)+s|0;a[758]=b;a[761]=y;a[y+4>>2]=b|1;a[y+b>>2]=b;return}s=(i&-8)+s|0;o=i>>>3;do if(i>>>0>=256){l=a[e+(t+24)>>2]|0;r=a[e+(t+12)>>2]|0;do if((r|0)==(g|0)){i=e+(t+20)|0;n=a[i>>2]|0;if(!n){i=e+(t+16)|0;n=a[i>>2]|0;if(!n){p=0;break}}while(1){r=n+20|0;o=a[r>>2]|0;if(o){n=o;i=r;continue}r=n+16|0;o=a[r>>2]|0;if(!o)break;else{n=o;i=r}}if(i>>>0<c>>>0)Pe();else{a[i>>2]=0;p=n;break}}else{o=a[e+(t+8)>>2]|0;if(o>>>0<c>>>0)Pe();n=o+12|0;if((a[n>>2]|0)!=(g|0))Pe();i=r+8|0;if((a[i>>2]|0)==(g|0)){a[n>>2]=r;a[i>>2]=o;p=r;break}else Pe()}while(0);if(l){n=a[e+(t+28)>>2]|0;i=3328+(n<<2)|0;if((g|0)==(a[i>>2]|0)){a[i>>2]=p;if(!p){a[757]=a[757]&~(1<<n);break}}else{if(l>>>0<(a[760]|0)>>>0)Pe();n=l+16|0;if((a[n>>2]|0)==(g|0))a[n>>2]=p;else a[l+20>>2]=p;if(!p)break}i=a[760]|0;if(p>>>0<i>>>0)Pe();a[p+24>>2]=l;n=a[e+(t+16)>>2]|0;do if(n)if(n>>>0<i>>>0)Pe();else{a[p+16>>2]=n;a[n+24>>2]=p;break}while(0);n=a[e+(t+20)>>2]|0;if(n)if(n>>>0<(a[760]|0)>>>0)Pe();else{a[p+20>>2]=n;a[n+24>>2]=p;break}}}else{r=a[e+(t+8)>>2]|0;i=a[e+(t+12)>>2]|0;n=3064+(o<<1<<2)|0;if((r|0)!=(n|0)){if(r>>>0<c>>>0)Pe();if((a[r+12>>2]|0)!=(g|0))Pe()}if((i|0)==(r|0)){a[756]=a[756]&~(1<<o);break}if((i|0)!=(n|0)){if(i>>>0<c>>>0)Pe();n=i+8|0;if((a[n>>2]|0)==(g|0))m=n;else Pe()}else m=i+8|0;a[r+12>>2]=i;a[m>>2]=r}while(0);a[y+4>>2]=s|1;a[y+s>>2]=s;if((y|0)==(a[761]|0)){a[758]=s;return}}else{a[n>>2]=i&-2;a[y+4>>2]=s|1;a[y+s>>2]=s}n=s>>>3;if(s>>>0<256){i=n<<1;o=3064+(i<<2)|0;r=a[756]|0;n=1<<n;if(r&n){n=3064+(i+2<<2)|0;i=a[n>>2]|0;if(i>>>0<(a[760]|0)>>>0)Pe();else{v=n;b=i}}else{a[756]=r|n;v=3064+(i+2<<2)|0;b=o}a[v>>2]=y;a[b+12>>2]=y;a[y+8>>2]=b;a[y+12>>2]=o;return}n=s>>>8;if(n)if(s>>>0>16777215)o=31;else{v=(n+1048320|0)>>>16&8;b=n<<v;g=(b+520192|0)>>>16&4;b=b<<g;o=(b+245760|0)>>>16&2;o=14-(g|v|o)+(b<<o>>>15)|0;o=s>>>(o+7|0)&1|o<<1}else o=0;n=3328+(o<<2)|0;a[y+28>>2]=o;a[y+20>>2]=0;a[y+16>>2]=0;i=a[757]|0;r=1<<o;if(!(i&r)){a[757]=i|r;a[n>>2]=y;a[y+24>>2]=n;a[y+12>>2]=y;a[y+8>>2]=y;return}n=a[n>>2]|0;e:do if((a[n+4>>2]&-8|0)!=(s|0)){o=s<<((o|0)==31?0:25-(o>>>1)|0);while(1){i=n+16+(o>>>31<<2)|0;r=a[i>>2]|0;if(!r)break;if((a[r+4>>2]&-8|0)==(s|0)){n=r;break e}else{o=o<<1;n=r}}if(i>>>0<(a[760]|0)>>>0)Pe();a[i>>2]=y;a[y+24>>2]=n;a[y+12>>2]=y;a[y+8>>2]=y;return}while(0);i=n+8|0;r=a[i>>2]|0;b=a[760]|0;if(!(r>>>0>=b>>>0&n>>>0>=b>>>0))Pe();a[r+12>>2]=y;a[i>>2]=y;a[y+8>>2]=r;a[y+12>>2]=n;a[y+24>>2]=0;return}function qa(e,t,n,r,s,l,f,h,m,p,g,v){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;l=l|0;f=f|0;h=h|0;m=m|0;p=p|0;g=+g;v=v|0;var b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0,V=0,z=0,W=0,G=0,q=0,Y=0,X=0,K=0,Z=0;W=d;d=d+240|0;x=W+224|0;_=W+216|0;A=W+208|0;S=W+200|0;b=W+136|0;H=W+72|0;B=W;j=W+232|0;V=W+228|0;u[b>>3]=100;u[b+8>>3]=100;u[b+16>>3]=110;u[b+24>>3]=100;u[b+32>>3]=110;u[b+40>>3]=110;u[b+48>>3]=100;u[b+56>>3]=110;u[H>>3]=+u[p>>3];u[H+8>>3]=+u[p+8>>3];u[H+16>>3]=+u[p+16>>3];u[H+24>>3]=+u[p+24>>3];u[H+32>>3]=+u[p+32>>3];u[H+40>>3]=+u[p+40>>3];u[H+48>>3]=+u[p+48>>3];u[H+56>>3]=+u[p+56>>3];Ka(b,H,B);T=+u[H>>3];q=+u[H+16>>3];M=T-q;D=+u[H+8>>3];G=+u[H+24>>3];E=D-G;b=~~(M*M+E*E);E=+u[H+32>>3];M=+u[H+48>>3];X=E-M;w=+u[H+40>>3];k=+u[H+56>>3];Y=w-k;H=~~(X*X+Y*Y);E=q-E;w=G-w;y=~~(E*E+w*w);T=M-T;D=k-D;U=~~(T*T+D*D);b=~~(+(((H|0)>(b|0)?H:b)|0)*g*g);y=~~(+(((U|0)>(y|0)?U:y)|0)*g*g);if(!e){p=n;while(1)if((p|0)<(r|0)&(ne(p,p)|0)<(b|0))p=p<<1;else break;b=n;while(1)if((b|0)<(r|0)&(ne(b,b)|0)<(y|0))b=b<<1;else break}else{p=n;while(1)if((p|0)<(r|0)&(ne(p<<2,p)|0)<(b|0))p=p<<1;else break;b=n;while(1)if((b|0)<(r|0)&(ne(b<<2,b)|0)<(y|0))b=b<<1;else break}U=(p|0)>(r|0)?r:p;F=(b|0)>(r|0)?r:b;L=(U|0)/(n|0)|0;I=(F|0)/(n|0)|0;E=(1-g)*.5*10;D=g*10;H=ne(n,n)|0;e:do if(!t){O=H*3|0;p=Va(O,4)|0;if(!p){to(3,5472,S);Et(1)}do switch(h|0){case 0:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=((ne(y,l)|0)+b|0)*3|0;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y+2)>>0]|0);b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y+1)>>0]|0);e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+(o[s+y>>0]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 1:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=((ne(y,l)|0)+b|0)*3|0;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+y>>0]|0);b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y+1)>>0]|0);e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+(o[s+(y+2)>>0]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 2:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=(ne(y,l)|0)+b<<2;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|2)>>0]|0);b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|1)>>0]|0);e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+(o[s+y>>0]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 3:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=(ne(y,l)|0)+b<<2;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+y>>0]|0);b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|1)>>0]|0);e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+(o[s+(y|2)>>0]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 4:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=(ne(y,l)|0)+b<<2;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|1)>>0]|0);b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|2)>>0]|0);e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+(o[s+(y|3)>>0]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 5:case 12:case 13:case 14:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=o[s+((ne(y,l)|0)+b)>>0]|0;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+y;b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+y;e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+y}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 6:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=(ne(y,l)|0)+b<<2;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|3)>>0]|0);b=p+(e+1<<2)|0;a[b>>2]=(a[b>>2]|0)+(o[s+(y|2)>>0]|0);e=p+(e+2<<2)|0;a[e>>2]=(a[e>>2]|0)+(o[s+(y|1)>>0]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 7:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){Z=ne(y,l)|0;K=(b&65534)+Z<<1;q=+((o[s+K>>0]|0)+-128|0);X=+((o[s+(K+2)>>0]|0)+-128|0);Y=+((o[s+(Z+b<<1|1)>>0]|0)+-16|0)*298.0820007324219;Z=~~(q*516.4110107421875+Y)>>8;K=~~(Y-q*100.29100036621094-X*208.1199951171875)>>8;y=~~(Y+X*408.5830078125)>>8;Z=(Z|0)>0?Z:0;e=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;b=p+(e<<2)|0;a[b>>2]=((Z|0)<255?Z:255)+(a[b>>2]|0);K=(K|0)>0?K:0;b=p+(e+1<<2)|0;a[b>>2]=((K|0)<255?K:255)+(a[b>>2]|0);y=(y|0)>0?y:0;e=p+(e+2<<2)|0;a[e>>2]=((y|0)<255?y:255)+(a[e>>2]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 8:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){y=ne(y,l)|0;K=(b&65534)+y<<1;q=+((o[s+(K|1)>>0]|0)+-128|0);X=+((o[s+(K+3)>>0]|0)+-128|0);Y=+((o[s+(y+b<<1)>>0]|0)+-16|0)*298.0820007324219;b=~~(Y+q*516.4110107421875)>>8;y=~~(Y-q*100.29100036621094-X*208.1199951171875)>>8;K=~~(Y+X*408.5830078125)>>8;b=(b|0)>0?b:0;Z=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;e=p+(Z<<2)|0;a[e>>2]=((b|0)<255?b:255)+(a[e>>2]|0);y=(y|0)>0?y:0;e=p+(Z+1<<2)|0;a[e>>2]=((y|0)<255?y:255)+(a[e>>2]|0);K=(K|0)>0?K:0;Z=p+(Z+2<<2)|0;a[Z>>2]=((K|0)<255?K:255)+(a[Z>>2]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 9:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<1;y=o[s+(K|1)>>0]|0;Z=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;e=p+(Z<<2)|0;a[e>>2]=(y<<3&248|4)+(a[e>>2]|0);K=o[s+K>>0]|0;e=p+(Z+1<<2)|0;a[e>>2]=(K<<5&224|y>>>3&28|2)+(a[e>>2]|0);Z=p+(Z+2<<2)|0;a[Z>>2]=(K&248|4)+(a[Z>>2]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 10:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<1;y=o[s+(K|1)>>0]|0;Z=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;e=p+(Z<<2)|0;a[e>>2]=(y<<2&248|4)+(a[e>>2]|0);K=o[s+K>>0]|0;e=p+(Z+1<<2)|0;a[e>>2]=(K<<5&224|y>>>3&24|4)+(a[e>>2]|0);Z=p+(Z+2<<2)|0;a[Z>>2]=(K&248|4)+(a[Z>>2]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}case 11:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<1;Z=((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)|0)*3|0;e=p+(Z<<2)|0;a[e>>2]=(a[e>>2]|0)+((o[s+(K|1)>>0]|0)&240|8);K=o[s+K>>0]|0;e=p+(Z+1<<2)|0;a[e>>2]=(K<<4&240|8)+(a[e>>2]|0);Z=p+(Z+2<<2)|0;a[Z>>2]=(K&240|8)+(a[Z>>2]|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}break}default:{to(3,4615,A);z=278;break e}}while(0);y=ne(I,L)|0;if(H){b=0;do{i[v+b>>0]=((a[p+(b<<2)>>2]|0)>>>0)/(y>>>0)|0;b=b+1|0}while((b|0)<(O|0))}ja(p);p=0}else{p=Va(H,4)|0;if(!p){to(3,5472,_);Et(1)}t:do if(h>>>0<2){M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)>0){t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=((ne(y,l)|0)+b|0)*3|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+((((o[s+(K+1)>>0]|0)+(o[s+K>>0]|0)+(o[s+(K+2)>>0]|0)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0))}}else{if((h&-2|0)==2){M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break;t=(U|0)>0;x=0;while(1){w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<2;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+((((o[s+(K|1)>>0]|0)+(o[s+K>>0]|0)+(o[s+(K|2)>>0]|0)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0;if((x|0)>=(F|0))break t}}if((h&-3|0)==4){M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break;t=(U|0)>0;x=0;while(1){w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<2;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+((((o[s+(K|2)>>0]|0)+(o[s+(K|1)>>0]|0)+(o[s+(K|3)>>0]|0)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0;if((x|0)>=(F|0))break t}}switch(h|0){case 5:case 12:case 13:case 14:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break t;t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=o[s+((ne(y,l)|0)+b)>>0]|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+K}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0));break}case 7:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break t;t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=o[s+((ne(y,l)|0)+b<<1|1)>>0]|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+K}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0));break}case 8:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break t;t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=o[s+((ne(y,l)|0)+b<<1)>>0]|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+K}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0));break}case 9:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break t;t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<1;O=o[s+K>>0]|0;K=o[s+(K|1)>>0]|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+((((K<<3&248|4)+(O&248|4)+(O<<5&224|K>>>3&28|2)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0));break}case 10:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break t;t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<1;O=o[s+K>>0]|0;K=o[s+(K|1)>>0]|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+((((K<<2&248|4)+(O&248|4)+(O<<5&224|K>>>3&24|4)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0));break}case 11:{M=E+100;k=+(F|0);T=+(U|0);S=B+48|0;A=B+56|0;h=B+64|0;C=B+8|0;$=B+16|0;R=B+24|0;P=B+32|0;N=B+40|0;r=(e|0)==1;if((F|0)<=0)break t;t=(U|0)>0;x=0;do{w=M+D*(+(x|0)+.5)/k;if(t){_=0;do{E=M+D*(+(_|0)+.5)/T;g=+u[h>>3]+(+u[S>>3]*E+w*+u[A>>3]);if(g==0){z=278;break e}X=(+u[$>>3]+(E*+u[B>>3]+w*+u[C>>3]))/g;c[j>>2]=X;E=(+u[N>>3]+(E*+u[R>>3]+w*+u[P>>3]))/g;c[V>>2]=E;Ao(m,X,E,j,V)|0;E=+c[j>>2];if(r){b=((~~(E+1)|0)/2|0)<<1;y=((~~(+c[V>>2]+1)|0)/2|0)<<1}else{b=~~(E+.5);y=~~(+c[V>>2]+.5)}if((b|0)>-1?(y|0)<(f|0)&((y|0)>-1&(b|0)<(l|0)):0){K=(ne(y,l)|0)+b<<1;O=o[s+K>>0]|0;Z=p+((ne((x|0)/(I|0)|0,n)|0)+((_|0)/(L|0)|0)<<2)|0;a[Z>>2]=(a[Z>>2]|0)+((((O<<4&240|8)+(O&240|8)+((o[s+(K|1)>>0]|0)&240|8)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(U|0))}x=x+1|0}while((x|0)<(F|0));break}default:{to(3,4615,x);z=278;break e}}}while(0);b=ne(I,L)|0;if(H){y=0;do{i[v+y>>0]=((a[p+(y<<2)>>2]|0)>>>0)/(b>>>0)|0;y=y+1|0}while((y|0)<(H|0))}ja(p);p=0}while(0);if((z|0)==278){ja(p);p=-1}d=W;return p|0}function Ya(e,t,n,r,s,l,c){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;l=l|0;c=c|0;var f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0;w=d;d=d+32|0;p=w+24|0;m=w+8|0;E=w;e:do if((t+-3|0)>>>0>5){a[n>>2]=-1;a[r>>2]=0;u[s>>3]=-1;f=-1}else{a[m>>2]=0;y=t+-1|0;a[m+4>>2]=ne(y,t)|0;v=ne(t,t)|0;a[m+8>>2]=v+-1;a[m+12>>2]=y;h=i[e+(a[m>>2]|0)>>0]|0;f=(h&255)>0?h:0;h=(h&255)<255?h:-1;b=i[e+(a[m+4>>2]|0)>>0]|0;f=(b&255)>(f&255)?b:f;h=(b&255)<(h&255)?b:h;b=i[e+(a[m+8>>2]|0)>>0]|0;f=(b&255)>(f&255)?b:f;h=(b&255)<(h&255)?b:h;b=i[e+(a[m+12>>2]|0)>>0]|0;f=((b&255)>(f&255)?b:f)&255;h=((b&255)<(h&255)?b:h)&255;if((f-h|0)<30){a[n>>2]=-1;a[r>>2]=0;u[s>>3]=-1;f=-2;break}g=(f+h|0)>>>1;i[p>>0]=(o[e+(a[m>>2]|0)>>0]|0)>>>0<g>>>0&1;i[p+1>>0]=(o[e+(a[m+4>>2]|0)>>0]|0)>>>0<g>>>0&1;i[p+2>>0]=(o[e+(a[m+8>>2]|0)>>0]|0)>>>0<g>>>0&1;i[p+3>>0]=(o[e+(a[m+12>>2]|0)>>0]|0)>>>0<g>>>0&1;h=0;while(1){f=h+1|0;if(((i[p+h>>0]|0)==1?(i[p+((f|0)%4|0)>>0]|0)==1:0)?(i[p+((h+2|0)%4|0)>>0]|0)==0:0){f=h;h=10;break}if((f|0)<4)h=f;else{h=12;break}}if((h|0)==10)a[r>>2]=f;else if((h|0)==12?(f|0)==4:0){a[n>>2]=-1;a[r>>2]=0;u[s>>3]=-1;f=-3;break}if(!v)b=255;else{f=255;h=0;do{b=e+h|0;p=o[b>>0]|0;m=p-g|0;m=(m|0)<0?0-m|0:m;f=(m|0)<(f|0)?m:f;i[b>>0]=p>>>0<g>>>0&1;h=h+1|0}while((h|0)<(v|0));b=f}switch(a[r>>2]|0){case 0:{if((t|0)>0){v=(t|0)==0;h=0;f=0;r=0;do{p=(r|0)==(y|0);g=ne(r,t)|0;if(!v){m=0;do{if((m|r|0)!=0?!(p&((m|0)==0|(m|0)==(y|0))):0){h=qc(h|0,f|0,1)|0;h=(i[e+(m+g)>>0]|0)!=0|h;f=P}m=m+1|0}while((m|0)!=(t|0))}r=r+1|0}while((r|0)<(t|0))}else{h=0;f=0}break}case 1:{if((t|0)>0){v=(t|0)>0;h=0;f=0;r=0;do{p=(r|0)==0;g=(r|0)==(y|0);if(v){m=y;while(1){_=(m|0)==(y|0);if(!(p&_)?!(g&(_|(m|0)==0)):0){h=qc(h|0,f|0,1)|0;h=(i[e+((ne(m,t)|0)+r)>>0]|0)!=0|h;f=P}if((m|0)>0)m=m+-1|0;else break}}r=r+1|0}while((r|0)<(t|0))}else{h=0;f=0}break}case 2:{if((t|0)>0){v=(t|0)>0;h=0;f=0;r=y;while(1){g=(r|0)==(y|0)|(r|0)==0;p=ne(r,t)|0;if(v){m=y;while(1){if(!(g&(m|0)==(y|0)|(m|r|0)==0)){h=qc(h|0,f|0,1)|0;h=(i[e+(m+p)>>0]|0)!=0|h;f=P}if((m|0)>0)m=m+-1|0;else break}}if((r|0)>0)r=r+-1|0;else break}}else{h=0;f=0}break}case 3:{if((t|0)>0){v=(t|0)>0;h=0;f=0;r=y;while(1){p=(r|0)==(y|0);g=(r|0)==0;if(v){m=0;do{if(!(p&(m|0)==0|(m|r|0)==0|g&(m|0)==(y|0))){h=qc(h|0,f|0,1)|0;h=(i[e+((ne(m,t)|0)+r)>>0]|0)!=0|h;f=P}m=m+1|0}while((m|0)<(t|0))}if((r|0)>0)r=r+-1|0;else break}}else{h=0;f=0}break}default:{h=0;f=0}}u[s>>3]=(b|0)>30?1:+(b|0)/30;switch(l|0){case 259:{_=i[4551+h>>0]|0;l=_<<24>>24;c=E;a[c>>2]=l;a[c+4>>2]=((l|0)<0)<<31>>31;if(_<<24>>24<0){a[n>>2]=-1;u[s>>3]=-1;f=-4;break e}break}case 515:{f=i[4423+h>>0]|0;l=f<<24>>24;_=E;a[_>>2]=l;a[_+4>>2]=((l|0)<0)<<31>>31;if(c)a[c>>2]=o[4487+h>>0];if(f<<24>>24<0){a[n>>2]=-1;u[s>>3]=-1;f=-4;break e}break}case 772:case 1028:{f=Za(l,h,f,0,E)|0;if((f|0)<0){a[n>>2]=-1;u[s>>3]=-1;f=-4;break e}if((c|0)!=0&(f|0)>0)a[c>>2]=f;break}default:{_=E;a[_>>2]=h;a[_+4>>2]=f}}a[n>>2]=a[E>>2];f=0}while(0);d=w;return f|0}function Xa(e,t,n,i,r,s,l){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0;A=d;d=d+16|0;c=A+8|0;h=A;e:do if(!e){a[r>>2]=0;a[s>>2]=0;u[l>>3]=-1;t=-1}else switch(t|0){case 0:{m=ne(i,i)|0;k=m*3|0;T=Ba(m*12|0)|0;if(!T){to(3,5472,h);Et(1)}if(!m)t=0;else{t=0;c=0;do{t=((o[n+c>>0]|0)^255)+t|0;c=c+1|0}while((c|0)<(k|0))}c=(t|0)/(k|0)|0;if(!m)f=0;else{h=0;t=0;do{x=((o[n+h>>0]|0)^255)-c|0;a[T+(h<<2)>>2]=x;t=(ne(x,x)|0)+t|0;h=h+1|0}while((h|0)<(k|0));f=+(t|0)}M=+z(+f);if(M/(+(i|0)*1.7320508)<15){a[r>>2]=0;a[s>>2]=0;u[l>>3]=-1;ja(T);t=-2;break e}w=a[e>>2]|0;_=e+12|0;x=e+16|0;if((w|0)>0){E=a[e+8>>2]|0;b=(m|0)==0;h=-1;y=0;f=0;c=-1;t=-1;do{t:while(1){h=h+1|0;switch(a[E+(h<<2)>>2]|0){case 0:break;case 2:break t;default:{S=17;break t}}}if((S|0)==17){S=0;p=h<<2;g=a[x>>2]|0;v=0;do{e=v+p|0;if(b)m=0;else{n=a[(a[_>>2]|0)+(e<<2)>>2]|0;i=0;m=0;do{m=(ne(a[n+(i<<2)>>2]|0,a[T+(i<<2)>>2]|0)|0)+m|0;i=i+1|0}while((i|0)<(k|0))}C=+(m|0)/+u[g+(e<<3)>>3]/M;e=C>f;c=e?v:c;t=e?h:t;f=e?C:f;v=v+1|0}while((v|0)!=4)}y=y+1|0}while((y|0)<(w|0))}else{f=0;c=-1;t=-1}a[s>>2]=c;a[r>>2]=t;u[l>>3]=f;ja(T);t=0;break e}case 1:{k=ne(i,i)|0;T=Ba(k<<2)|0;if(!T){to(3,5472,c);Et(1)}if(!k)t=0;else{t=0;c=0;do{t=((o[n+c>>0]|0)^255)+t|0;c=c+1|0}while((c|0)<(k|0))}c=(t|0)/(k|0)|0;if(!k)f=0;else{h=0;t=0;do{x=((o[n+h>>0]|0)^255)-c|0;a[T+(h<<2)>>2]=x;t=(ne(x,x)|0)+t|0;h=h+1|0}while((h|0)<(k|0));f=+(t|0)}M=+z(+f);if(M/+(i|0)<15){a[r>>2]=0;a[s>>2]=0;u[l>>3]=-1;ja(T);t=-2;break e}w=a[e>>2]|0;_=e+20|0;x=e+24|0;if((w|0)>0){b=a[e+8>>2]|0;y=(k|0)==0;h=-1;E=0;f=0;c=-1;t=-1;do{t:while(1){h=h+1|0;switch(a[b+(h<<2)>>2]|0){case 0:break;case 2:break t;default:{S=37;break t}}}if((S|0)==37){S=0;p=h<<2;g=a[x>>2]|0;v=0;do{e=v+p|0;if(y)m=0;else{n=a[(a[_>>2]|0)+(e<<2)>>2]|0;i=0;m=0;do{m=(ne(a[n+(i<<2)>>2]|0,a[T+(i<<2)>>2]|0)|0)+m|0;i=i+1|0}while((i|0)<(k|0))}C=+(m|0)/+u[g+(e<<3)>>3]/M;e=C>f;c=e?v:c;t=e?h:t;f=e?C:f;v=v+1|0}while((v|0)!=4)}E=E+1|0}while((E|0)<(w|0))}else{f=0;c=-1;t=-1}a[s>>2]=c;a[r>>2]=t;u[l>>3]=f;ja(T);t=0;break e}default:{t=-1;break e}}while(0);d=A;return t|0}function Ka(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0,c=0,d=0,f=0,h=0,m=0,p=0;i=oo(8,8)|0;r=oo(8,1)|0;o=oo(8,1)|0;s=a[i>>2]|0;l=a[r>>2]|0;c=0;do{p=e+(c<<4)|0;d=c<<4;u[s+(d<<3)>>3]=+u[p>>3];m=e+(c<<4)+8|0;u[s+((d|1)<<3)>>3]=+u[m>>3];u[s+((d|2)<<3)>>3]=1;u[s+((d|3)<<3)>>3]=0;u[s+((d|4)<<3)>>3]=0;u[s+((d|5)<<3)>>3]=0;h=t+(c<<4)|0;u[s+((d|6)<<3)>>3]=-(+u[p>>3]*+u[h>>3]);u[s+((d|7)<<3)>>3]=-(+u[m>>3]*+u[h>>3]);u[s+((d|8)<<3)>>3]=0;u[s+((d|9)<<3)>>3]=0;u[s+((d|10)<<3)>>3]=0;u[s+((d|11)<<3)>>3]=+u[p>>3];u[s+((d|12)<<3)>>3]=+u[m>>3];u[s+((d|13)<<3)>>3]=1;f=t+(c<<4)+8|0;u[s+((d|14)<<3)>>3]=-(+u[p>>3]*+u[f>>3]);u[s+((d|15)<<3)>>3]=-(+u[m>>3]*+u[f>>3]);d=c<<1;u[l+(d<<3)>>3]=+u[h>>3];u[l+((d|1)<<3)>>3]=+u[f>>3];c=c+1|0}while((c|0)!=4);go(i)|0;ho(o,i,r)|0;p=a[o>>2]|0;u[n>>3]=+u[p>>3];u[n+8>>3]=+u[p+8>>3];u[n+16>>3]=+u[p+16>>3];p=a[o>>2]|0;u[n+24>>3]=+u[p+24>>3];u[n+32>>3]=+u[p+32>>3];u[n+40>>3]=+u[p+40>>3];p=a[o>>2]|0;u[n+48>>3]=+u[p+48>>3];u[n+56>>3]=+u[p+56>>3];u[n+64>>3]=1;fo(i)|0;fo(r)|0;fo(o)|0;return}function Za(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,N=0,O=0;O=d;d=d+2320|0;c=O+2304|0;M=O+864|0;E=O+784|0;N=O+704|0;_=O+624|0;w=O+548|0;R=O+40|0;C=O;switch(e|0){case 772:{r=9;l=1;u=3;break}case 1028:{r=5;l=2;u=3;break}case 2830:{T=900;b=1472;A=64;$=120;k=127;S=r;l=9;u=6;break}default:n=-1}if((u|0)==3){e=0;while(1){i[c+e>>0]=t&1;t=Xc(t|0,n|0,1)|0;e=e+1|0;if((e|0)==13)break;else n=P}T=840;b=1408;A=r;$=13;k=15;S=c;u=6}do if((u|0)==6){v=l<<1;c=1;n=0;while(1){r=w+(c<<2)|0;a[r>>2]=0;e=0;t=0;do{if(i[S+t>>0]|0){e=e^a[T+(((ne(t,c)|0)%(k|0)|0)<<2)>>2];a[r>>2]=e}t=t+1|0}while((t|0)<($|0));n=(e|0)==0?n:1;a[r>>2]=a[b+(e<<2)>>2];if((c|0)<(v|0))c=c+1|0;else break}x=(n|0)!=0;if(x){a[E>>2]=0;n=a[w+4>>2]|0;a[E+4>>2]=n;a[M>>2]=0;a[M+72>>2]=1;if((v|0)>1){e=1;do{a[M+(e<<2)>>2]=-1;a[M+72+(e<<2)>>2]=0;e=e+1|0}while((e|0)<(v|0))}a[N>>2]=0;a[N+4>>2]=0;a[_>>2]=-1;a[_+4>>2]=0;p=0;g=0;while(1){r=g;g=g+1|0;m=E+(g<<2)|0;if((n|0)==-1){c=r+2|0;a[N+(c<<2)>>2]=p;if((p|0)<0)h=p;else{n=0;while(1){m=M+(g*72|0)+(n<<2)|0;h=a[m>>2]|0;a[M+(c*72|0)+(n<<2)>>2]=h;a[m>>2]=a[b+(h<<2)>>2];if((n|0)<(p|0))n=n+1|0;else{h=p;break}}}}else{e=r;while(1){n=(e|0)>0;if(n&(a[E+(e<<2)>>2]|0)==-1)e=e+-1|0;else break}if(n){t=e;do{n=t;t=t+-1|0;if((a[E+(t<<2)>>2]|0)!=-1)e=(a[_+(e<<2)>>2]|0)<(a[_+(t<<2)>>2]|0)?t:e}while((n|0)>1)}t=N+(e<<2)|0;f=g-e|0;h=f+(a[t>>2]|0)|0;c=r+2|0;h=(p|0)>(h|0)?p:h;a[N+(c<<2)>>2]=h;n=0;do{a[M+(c*72|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)<(v|0));n=a[t>>2]|0;t=E+(e<<2)|0;if((n|0)>=0){u=0;while(1){r=a[M+(e*72|0)+(u<<2)>>2]|0;if((r|0)!=-1)a[M+(c*72|0)+(f+u<<2)>>2]=a[T+(((r+k+(a[m>>2]|0)-(a[t>>2]|0)|0)%(k|0)|0)<<2)>>2];if((u|0)<(n|0))u=u+1|0;else break}}if((p|0)>=0){n=0;while(1){m=M+(g*72|0)+(n<<2)|0;f=a[m>>2]|0;u=M+(c*72|0)+(n<<2)|0;a[u>>2]=a[u>>2]^f;a[m>>2]=a[b+(f<<2)>>2];if((n|0)<(p|0))n=n+1|0;else break}}}a[_+(c<<2)>>2]=g-h;if((g|0)>=(v|0))break;n=a[w+(c<<2)>>2]|0;if((n|0)==-1)n=0;else n=a[T+(n<<2)>>2]|0;r=E+(c<<2)|0;a[r>>2]=n;if((h|0)>=1){t=1;while(1){e=a[w+(c-t<<2)>>2]|0;if((e|0)!=-1?(y=a[M+(c*72|0)+(t<<2)>>2]|0,(y|0)!=0):0){n=n^a[T+((((a[b+(y<<2)>>2]|0)+e|0)%(k|0)|0)<<2)>>2];a[r>>2]=n}if((t|0)<(h|0))t=t+1|0;else break}}n=a[b+(n<<2)>>2]|0;a[r>>2]=n;if((h|0)>(l|0))break;else p=h}if((h|0)>(l|0)){n=-1;break}if((h|0)>=0){n=0;while(1){_=M+(c*72|0)+(n<<2)|0;a[_>>2]=a[b+(a[_>>2]<<2)>>2];if((n|0)<(h|0))n=n+1|0;else break}}if((h|0)>=1){n=1;while(1){a[C+(n<<2)>>2]=a[M+(c*72|0)+(n<<2)>>2];if((n|0)<(h|0))n=n+1|0;else break}}u=(h|0)<1;n=0;f=1;do{if(u)e=1;else{l=1;e=1;while(1){t=C+(l<<2)|0;r=a[t>>2]|0;if((r|0)!=-1){M=(r+l|0)%(k|0)|0;a[t>>2]=M;e=a[T+(M<<2)>>2]^e}if((l|0)<(h|0))l=l+1|0;else break}}if(!e){a[R+(n<<2)>>2]=k-f;n=n+1|0}f=f+1|0}while((k|0)>=(f|0));if((n|0)!=(h|0)){n=-1;break}if((h|0)>0){n=0;do{C=S+(a[R+(n<<2)>>2]|0)|0;i[C>>0]=o[C>>0]^1;n=n+1|0}while((n|0)<(h|0))}}else c=0;e=s;a[e>>2]=0;
a[e+4>>2]=0;e=1;t=0;r=0;l=0;n=$-A|0;while(1){R=nu(o[S+n>>0]|0,0,e|0,t|0)|0;r=Yc(R|0,P|0,r|0,l|0)|0;l=P;R=s;a[R>>2]=r;a[R+4>>2]=l;e=qc(e|0,t|0,1)|0;n=n+1|0;if((n|0)>=($|0))break;else t=P}if(x)n=a[N+(c<<2)>>2]|0;else n=0}while(0);d=O;return n|0}function Ja(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0;T=d;d=d+32|0;k=T+24|0;o=T+16|0;n=T+8|0;do if(e){if(!t){to(3,4674,n);n=-1;break}M=e+8|0;r=a[e+4>>2]|0;e:do if((r|0)>0){i=a[M>>2]|0;n=0;do{if(!(a[i+(n<<2)>>2]|0))break e;n=n+1|0}while((n|0)<(r|0))}else n=0;while(0);if((n|0)!=(r|0)){x=wa(t)|0;if(!x){to(3,4719,o);n=-1;break}v=e+28|0;b=n<<2;y=e+12|0;E=e+20|0;w=e+16|0;_=e+24|0;r=Sa(x,4742)|0;i=0;e:while(1){g=i+b|0;p=0;t=0;do{h=(p|0)==0;m=(p|0)==2;o=a[v>>2]|0;if((o|0)>0){f=0;do{if((o|0)>0){c=0;do{if(!r){i=17;break e}o=da(r)|0;r=Sa(0,4742)|0;o=255-o|0;l=(((ne(a[v>>2]|0,f)|0)+c|0)*3|0)+p|0;a[(a[(a[y>>2]|0)+(g<<2)>>2]|0)+(l<<2)>>2]=o;l=(ne(a[v>>2]|0,f)|0)+c|0;s=a[(a[E>>2]|0)+(g<<2)>>2]|0;l=s+(l<<2)|0;if(!h){a[l>>2]=(a[l>>2]|0)+o;if(m){l=s+((ne(a[v>>2]|0,f)|0)+c<<2)|0;a[l>>2]=(a[l>>2]|0)/3|0}}else a[l>>2]=o;t=o+t|0;c=c+1|0;o=a[v>>2]|0}while((c|0)<(o|0))}f=f+1|0}while((f|0)<(o|0))}p=p+1|0}while((p|0)<3);o=a[v>>2]|0;c=(t|0)/(ne(o*3|0,o)|0)|0;if((ne(o*3|0,o)|0)>0){s=a[(a[y>>2]|0)+(g<<2)>>2]|0;l=0;t=0;do{p=s+(l<<2)|0;o=(a[p>>2]|0)-c|0;a[p>>2]=o;t=(ne(o,o)|0)+t|0;l=l+1|0;o=a[v>>2]|0}while((l|0)<(ne(o*3|0,o)|0))}else t=0;S=+z(+ +(t|0));u[(a[w>>2]|0)+(g<<3)>>3]=S==0?1e-7:S;if(!(ne(o,o)|0))t=0;else{o=a[(a[E>>2]|0)+(g<<2)>>2]|0;s=0;t=0;do{m=o+(s<<2)|0;p=(a[m>>2]|0)-c|0;a[m>>2]=p;t=(ne(p,p)|0)+t|0;s=s+1|0;p=a[v>>2]|0}while((s|0)<(ne(p,p)|0))}S=+z(+ +(t|0));u[(a[_>>2]|0)+(g<<3)>>3]=S==0?1e-7:S;i=i+1|0;if((i|0)>=4){i=32;break}}if((i|0)==17){to(3,4747,k);ja(x);n=-1;break}else if((i|0)==32){ja(x);a[(a[M>>2]|0)+(n<<2)>>2]=1;a[e>>2]=(a[e>>2]|0)+1;break}}else n=-1}else{to(3,4649,T);n=-1}while(0);d=T;return n|0}function Qa(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0,l=0,c=0;c=d;d=d+32|0;l=c+16|0;s=c+8|0;n=c;o=qr(t,4854)|0;do if(o){Jr(o,0,2)|0;n=ta(o)|0;Jr(o,0,0)|0;r=Ba(n+1|0)|0;if(!r){to(3,5472,s);Vr(o)|0;n=-1;break}s=Xr(r,n,1,o)|0;Vr(o)|0;if(!s){a[l>>2]=t;to(3,4820,l);ja(r);n=-1;break}else{i[r+n>>0]=0;n=Ja(e,r)|0;ja(r);break}}else{a[n>>2]=t;to(3,4774,n);n=-1}while(0);d=c;return n|0}function eo(e,t){e=e|0;t=t|0;t=(a[e+8>>2]|0)+(t<<2)|0;if(!(a[t>>2]|0))t=-1;else{a[t>>2]=0;a[e>>2]=(a[e>>2]|0)+-1;t=1}return t|0}function to(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0;l=d;d=d+32|0;s=l+16|0;r=l;a[s>>2]=0;if(((t|0)!=0&(a[496]|0)<=(e|0)?(i[t>>0]|0)!=0:0)?(a[r>>2]=n,o=oa(s,t,r)|0,(o|0)>-1):0){r=a[497]|0;do if(r){if(!(a[498]|0)){zu[r&15](a[s>>2]|0);break}n=ct()|0;e=a[500]|0;if((n|0)==(a[499]|0)){if((e|0)>0){zu[r&15](a[502]|0);a[500]=0;r=a[497]|0}zu[r&15](a[s>>2]|0);break}r=a[501]|0;if((e|0)<(r|0)){t=(a[502]|0)+e|0;if((o|0)<(-3-e+r|0)){ya(t,a[s>>2]|0)|0;a[500]=(a[500]|0)+o;break}else{i[t>>0]=46;i[t+1>>0]=46;i[t+2>>0]=46;i[t+3>>0]=0;a[500]=a[501];break}}}else Yr(a[s>>2]|0,a[659]|0)|0;while(0);ja(a[s>>2]|0)}d=l;return}function no(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,a=0,o=0,s=0;s=0;do{i=e+(s<<5)|0;r=e+(s<<5)+8|0;a=e+(s<<5)+16|0;o=0;do{u[n+(s<<5)+(o<<3)>>3]=+u[i>>3]*+u[t+(o<<3)>>3]+ +u[r>>3]*+u[t+32+(o<<3)>>3]+ +u[a>>3]*+u[t+64+(o<<3)>>3];o=o+1|0}while((o|0)!=4);o=n+(s<<5)+24|0;u[o>>3]=+u[e+(s<<5)+24>>3]+ +u[o>>3];s=s+1|0}while((s|0)!=3);return 0}function io(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0;l=oo(4,4)|0;n=a[l>>2]|0;i=a[l>>2]|0;r=a[l>>2]|0;o=a[l>>2]|0;s=0;do{c=s<<2;u[n+(c<<3)>>3]=+u[e+(s<<5)>>3];u[i+(1+c<<3)>>3]=+u[e+(s<<5)+8>>3];u[r+(2+c<<3)>>3]=+u[e+(s<<5)+16>>3];u[o+(3+c<<3)>>3]=+u[e+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3);n=a[l>>2]|0;i=n+96|0;a[i>>2]=0;a[i+4>>2]=0;a[i+8>>2]=0;a[i+12>>2]=0;a[i+16>>2]=0;a[i+20>>2]=0;u[n+120>>3]=1;go(l)|0;n=a[l>>2]|0;i=a[l>>2]|0;r=a[l>>2]|0;o=a[l>>2]|0;s=0;do{c=s<<2;u[t+(s<<5)>>3]=+u[n+(c<<3)>>3];u[t+(s<<5)+8>>3]=+u[i+(1+c<<3)>>3];u[t+(s<<5)+16>>3]=+u[r+(2+c<<3)>>3];u[t+(s<<5)+24>>3]=+u[o+(3+c<<3)>>3];s=s+1|0}while((s|0)!=3);fo(l)|0;return 0}function ro(e){e=e|0;switch(e|0){case 1:case 0:{e=3;break}case 6:case 4:case 3:case 2:{e=4;break}case 14:case 13:case 12:case 5:{e=1;break}case 11:case 10:case 9:case 8:case 7:{e=2;break}default:e=0}return e|0}function ao(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var a=0;do if((e|0)!=0&(t|0)!=0&(n|0)!=0){a=ka(t,47)|0;if(!a){i[e>>0]=0;break}a=a+((r|0)!=0&1)-t|0;if((a+1|0)>>>0<=n>>>0){Ma(e,t,a)|0;i[e+a>>0]=0}else e=0}else e=0;while(0);return e|0}function oo(e,t){e=e|0;t=t|0;var n=0,i=0;n=Ba(12)|0;do if(n){i=Ba(ne(e<<3,t)|0)|0;a[n>>2]=i;if(!i){ja(n);n=0;break}else{a[n+4>>2]=e;a[n+8>>2]=t;break}}else n=0;while(0);return n|0}function so(e){e=e|0;var t=0;t=oo(a[e+4>>2]|0,a[e+8>>2]|0)|0;if(t){if((uo(t,e)|0)<0){fo(t)|0;t=0}}else t=0;return t|0}function lo(e,t){e=e|0;t=t|0;var n=0;n=oo(a[e+4>>2]|0,a[t+8>>2]|0)|0;if(n){if((ho(n,e,t)|0)<0){fo(n)|0;n=0}}else n=0;return n|0}function co(e){e=e|0;var t=0;t=oo(a[e+8>>2]|0,a[e+4>>2]|0)|0;if(t){if((vo(t,e)|0)<0){fo(t)|0;t=0}}else t=0;return t|0}function uo(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,d=0,f=0;n=a[e+4>>2]|0;if((n|0)==(a[t+4>>2]|0)?(l=a[e+8>>2]|0,(l|0)==(a[t+8>>2]|0)):0)if((n|0)>0){i=(l|0)>0;d=0;do{r=ne(l,d)|0;if(i){o=a[t>>2]|0;s=a[e>>2]|0;c=0;do{f=r+c|0;u[s+(f<<3)>>3]=+u[o+(f<<3)>>3];c=c+1|0}while((c|0)<(l|0))}d=d+1|0}while((d|0)<(n|0));n=0}else n=0;else n=-1;return n|0}function fo(e){e=e|0;if(e){ja(a[e>>2]|0);ja(e)}return 0}function ho(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0,c=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0;h=a[t+8>>2]|0;if(((h|0)==(a[n+4>>2]|0)?(v=a[e+4>>2]|0,(v|0)==(a[t+4>>2]|0)):0)?(m=a[e+8>>2]|0,(m|0)==(a[n+8>>2]|0)):0){b=(m|0)>0?m:0;if((v|0)>0){p=(m|0)>0;g=(h|0)>0;c=a[e>>2]|0;f=0;while(1){e=ne(h,f)|0;if(p){r=0;d=c;while(1){u[d>>3]=0;if(g){i=0;o=0;s=(a[t>>2]|0)+(e<<3)|0;l=(a[n>>2]|0)+(r<<3)|0;while(1){i=i+ +u[s>>3]*+u[l>>3];u[d>>3]=i;o=o+1|0;if((o|0)>=(h|0))break;else{s=s+8|0;l=l+(m<<3)|0}}}r=r+1|0;if((r|0)>=(m|0))break;else d=d+8|0}}f=f+1|0;if((f|0)>=(v|0)){e=0;break}else c=c+(b<<3)|0}}else e=0}else e=-1;return e|0}function mo(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0,l=0,c=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0;g=a[e+4>>2]|0;b=a[e+8>>2]|0;r=(g|0)<(b|0)?g:b;e:do if(((((!((g|0)<2|(b|0)<2)?(a[t+8>>2]|0)==(b|0):0)?(a[t+4>>2]|0)==(r|0):0)?(y=n+4|0,(a[y>>2]|0)==(r|0)):0)?(o=i+4|0,(a[o>>2]|0)==(b|0)):0)?(E=so(e)|0,(E|0)!=0):0){v=+z(+ +(g|0));m=a[E+4>>2]|0;p=a[E+8>>2]|0;if(!((m|0)<1|(p|0)<1)?(a[o>>2]|0)==(p|0):0){if(p){r=a[i>>2]|0;e=0;do{u[r+(e<<3)>>3]=0;e=e+1|0}while((e|0)!=(p|0))}h=a[E>>2]|0;if(m){r=(p|0)==0;e=0;l=h;while(1){if(!r){o=0;c=l;d=a[i>>2]|0;while(1){u[d>>3]=+u[c>>3]+ +u[d>>3];o=o+1|0;if((o|0)==(p|0))break;else{c=c+8|0;d=d+8|0}}}e=e+1|0;if((e|0)==(m|0))break;else l=l+(p<<3)|0}}s=+(m|0);if(p){r=a[i>>2]|0;e=0;do{f=r+(e<<3)|0;u[f>>3]=+u[f>>3]/s;e=e+1|0}while((e|0)!=(p|0))}d=(p|0)>0?p:0;if((m|0)>0){r=(p|0)>0;e=0;l=h;while(1){if(r){o=0;c=l;f=a[i>>2]|0;while(1){u[c>>3]=+u[c>>3]-+u[f>>3];o=o+1|0;if((o|0)>=(p|0))break;else{c=c+8|0;f=f+8|0}}}e=e+1|0;if((e|0)>=(m|0))break;else l=l+(d<<3)|0}}r=ne(b,g)|0;if((r|0)>0){e=0;do{i=h+(e<<3)|0;u[i>>3]=+u[i>>3]/v;e=e+1|0}while((e|0)<(r|0))}r=po(E,t,n)|0;fo(E)|0;l=a[y>>2]|0;if((l|0)>0){e=a[n>>2]|0;o=0;s=0;do{s=s+ +u[e+(o<<3)>>3];o=o+1|0}while((o|0)<(l|0))}else s=0;if((l|0)<=0)break;e=a[n>>2]|0;o=0;while(1){n=e+(o<<3)|0;u[n>>3]=+u[n>>3]/s;o=o+1|0;if((o|0)>=(l|0))break e}}fo(E)|0;r=-1}else r=-1;while(0);return r|0}function po(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0,W=0,G=0,q=0,Y=0,X=0,K=0,Z=0;G=d;d=d+16|0;_=G;R=e+4|0;O=a[R>>2]|0;D=e+8|0;I=a[D>>2]|0;j=(I|0)<(O|0)?I:O;e:do if(((!((O|0)<2|(I|0)<2)?(B=t+8|0,(a[B>>2]|0)==(I|0)):0)?(L=t+4|0,(a[L>>2]|0)==(j|0)):0)?(F=n+4|0,(a[F>>2]|0)==(j|0)):0){W=oo(j,j)|0;H=W+4|0;if((a[H>>2]|0)==(j|0)?(U=W+8|0,(a[U>>2]|0)==(j|0)):0){P=(O|0)<(I|0);b=a[R>>2]|0;y=a[D>>2]|0;if(P){if((j|0)!=(b|0)){fo(W)|0;i=-1;break}o=a[W>>2]|0;if((j|0)>0){f=(j|0)==0;s=(y|0)>0;h=0;v=o;while(1){c=ne(h,y)|0;if(!f){p=0;b=v;while(1){if((p|0)>=(h|0)){i=a[e>>2]|0;u[b>>3]=0;if(s){l=0;m=i+(c<<3)|0;i=i+((ne(p,y)|0)<<3)|0;r=0;while(1){l=l+ +u[m>>3]*+u[i>>3];u[b>>3]=l;r=r+1|0;if((r|0)>=(y|0))break;else{m=m+8|0;i=i+8|0}}}}else u[b>>3]=+u[o+((ne(p,j)|0)+h<<3)>>3];p=p+1|0;if((p|0)==(j|0))break;else b=b+8|0}}h=h+1|0;if((h|0)>=(j|0))break;else v=v+(j<<3)|0}}}else{if((j|0)!=(y|0)){fo(W)|0;i=-1;break}o=a[W>>2]|0;if((j|0)>0){c=(j|0)==0;s=(b|0)>0;f=0;p=o;while(1){if(!c){m=0;v=p;while(1){if((m|0)>=(f|0)){i=a[e>>2]|0;u[v>>3]=0;if(s){l=0;h=i+(f<<3)|0;i=i+(m<<3)|0;r=0;while(1){l=l+ +u[h>>3]*+u[i>>3];u[v>>3]=l;r=r+1|0;if((r|0)>=(b|0))break;else{h=h+(j<<3)|0;i=i+(j<<3)|0}}}}else u[v>>3]=+u[o+((ne(m,j)|0)+f<<3)>>3];m=m+1|0;if((m|0)==(j|0))break;else v=v+8|0}}f=f+1|0;if((f|0)>=(j|0))break;else p=p+(j<<3)|0}}}do if(((j|0)>=2?(a[F>>2]|0)==(j|0):0)?(N=$o(j)|0,(N|0)!=0):0){$=j+-1|0;a[_+4>>2]=$;a[_>>2]=(a[N>>2]|0)+8;if((Oo(W,n,_)|0)<0){Ro(N)|0;break}S=a[N>>2]|0;u[S>>3]=0;if(($|0)>0){A=(j|0)==0;C=$;do{r=C;while(1){if((r|0)<=0)break;w=+V(+ +u[S+(r<<3)>>3]);i=r+-1|0;T=a[n>>2]|0;x=+V(+ +u[T+(i<<3)>>3]);if(w>(x+ +V(+ +u[T+(r<<3)>>3]))*1e-6)r=i;else break}M=C;C=C+-1|0;t:do if((r|0)!=(M|0)){m=S+(M<<3)|0;p=S+(r+1<<3)|0;v=(r|0)<(M|0);k=0;do{if((k|0)>99)break t;k=k+1|0;b=a[n>>2]|0;y=b+(C<<3)|0;_=b+(M<<3)|0;l=+u[_>>3];g=(+u[y>>3]-l)*.5;E=+u[m>>3];E=E*E;w=+z(+(E+g*g));if(v){T=r;g=+u[b+(r<<3)>>3]-l+E/(g+(g<0?-w:w));E=+u[p>>3];while(1){l=+V(+g);do if(!(l>=+V(+E))){w=-g/E;x=1/+z(+(w*w+1));w=w*x}else{if(!(l>1e-16)){w=1;x=0;break}l=-E/g;x=1/+z(+(l*l+1));w=x;x=l*x}while(0);s=b+(T<<3)|0;X=+u[s>>3];h=T;T=T+1|0;c=b+(T<<3)|0;Y=+u[c>>3];l=X-Y;f=S+(T<<3)|0;q=x*(x*l+w*2*+u[f>>3]);u[s>>3]=X-q;u[c>>3]=Y+q;if((h|0)>(r|0)){c=S+(h<<3)|0;u[c>>3]=w*+u[c>>3]-E*x}X=+u[f>>3];u[f>>3]=X+x*(w*l-x*2*X);s=ne(h,j)|0;c=ne(T,j)|0;if(A)l=E;else{i=a[W>>2]|0;o=0;do{Z=i+(o+s<<3)|0;g=+u[Z>>3];K=i+(o+c<<3)|0;l=+u[K>>3];u[Z>>3]=w*g-x*l;u[K>>3]=x*g+w*l;o=o+1|0}while((o|0)!=(j|0))}if((h|0)<(C|0)){g=+u[f>>3];Z=S+(h+2<<3)|0;l=+u[Z>>3];u[Z>>3]=w*l;l=-(x*l)}if((T|0)>=(M|0))break;else E=l}}Y=+V(+ +u[m>>3]);X=+V(+ +u[y>>3])}while(Y>(X+ +V(+ +u[_>>3]))*1e-6)}while(0)}while((M|0)>1)}if($){c=a[n>>2]|0;f=a[W>>2]|0;h=(j|0)==0;m=0;do{o=c+(m<<3)|0;g=+u[o>>3];s=m;m=m+1|0;if((m|0)<(j|0)){i=s;r=m;l=g;do{X=+u[c+(r<<3)>>3];Z=X>l;l=Z?X:l;i=Z?r:i;r=r+1|0}while((r|0)<(j|0))}else{i=s;l=g}u[c+(i<<3)>>3]=g;u[o>>3]=l;if(!h){o=0;r=f+((ne(i,j)|0)<<3)|0;i=f+((ne(s,j)|0)<<3)|0;while(1){X=+u[r>>3];u[r>>3]=+u[i>>3];u[i>>3]=X;o=o+1|0;if((o|0)==(j|0))break;else{r=r+8|0;i=i+8|0}}}}while((m|0)!=($|0))}Ro(N)|0;t:do if(!P){o=a[t>>2]|0;p=(O|0)>(I|0)?I:O;n:do if((j|0)>0){f=a[n>>2]|0;h=(p|0)==0;i=0;m=a[W>>2]|0;do{if(+u[f+(i<<3)>>3]<1e-16)break n;if(!h){r=0;s=m;c=o;while(1){u[c>>3]=+u[s>>3];r=r+1|0;if((r|0)==(p|0))break;else{s=s+8|0;c=c+8|0}}}m=m+(p<<3)|0;o=o+(p<<3)|0;i=i+1|0}while((i|0)<(j|0))}else i=0;while(0);h=(p|0)>0?p:0;if((i|0)<(j|0)){c=a[n>>2]|0;f=(j|0)>0;while(1){u[c+(i<<3)>>3]=0;if(f){r=0;s=o;while(1){u[s>>3]=0;r=r+1|0;if((r|0)>=(j|0))break;else s=s+8|0}}i=i+1|0;if((i|0)>=(j|0))break;else o=o+(h<<3)|0}}}else{_=a[R>>2]|0;y=a[D>>2]|0;do if(!((_|0)<1|(y|0)<1)){if((a[H>>2]|0)!=(_|0))break;if((a[U>>2]|0)!=(_|0))break;if((a[L>>2]|0)!=(_|0))break;if((a[B>>2]|0)!=(y|0))break;if((a[F>>2]|0)!=(_|0))break;r=a[t>>2]|0;n:do if((_|0)>0){p=a[n>>2]|0;b=(y|0)==0;v=(_|0)==0;i=0;do{l=+u[p+(i<<3)>>3];if(l<1e-16)break n;g=1/+z(+ +V(+l));f=ne(i,_)|0;if(!b){h=0;m=r;while(1){if(v)l=0;else{o=0;s=(a[W>>2]|0)+(f<<3)|0;c=(a[e>>2]|0)+(h<<3)|0;l=0;while(1){l=l+ +u[s>>3]*+u[c>>3];o=o+1|0;if((o|0)==(_|0))break;else{s=s+8|0;c=c+(y<<3)|0}}}u[m>>3]=g*l;h=h+1|0;if((h|0)==(y|0))break;else m=m+8|0}}r=r+(y<<3)|0;i=i+1|0}while((i|0)<(_|0))}else i=0;while(0);h=(y|0)>0?y:0;if((i|0)>=(_|0))break t;c=a[n>>2]|0;f=(y|0)>0;o=r;while(1){u[c+(i<<3)>>3]=0;if(f){r=0;s=o;while(1){u[s>>3]=0;r=r+1|0;if((r|0)>=(y|0))break;else s=s+8|0}}i=i+1|0;if((i|0)>=(_|0))break t;else o=o+(h<<3)|0}}while(0);fo(W)|0;i=-1;break e}while(0);fo(W)|0;i=0;break e}while(0);fo(W)|0;i=-1;break}fo(W)|0;i=-1}else i=-1;while(0);d=G;return i|0}function go(e){e=e|0;var t=0,n=0,i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0;w=d;d=d+2e3|0;E=w;t=a[e>>2]|0;y=a[e+4>>2]|0;e:do if((y|0)<=500){switch(y|0){case 0:{t=0;break e}case 1:{u[t>>3]=1/+u[t>>3];break e}default:{}}if((y|0)>0){e=0;do{a[E+(e<<2)>>2]=e;e=e+1|0}while((e|0)<(y|0))}b=t+(y+-1<<3)|0;if((y|0)>0){f=(y|0)==0;p=(y|0)==1;m=(y|0)==0;h=(y|0)==1;g=b;e=0;v=0;while(1){c=t+((ne(v,y)|0)<<3)|0;if((v|0)<(y|0)){i=v;r=0;n=c;while(1){_=+V(+ +u[n>>3]);l=r<_;e=l?i:e;r=l?_:r;i=i+1|0;if((i|0)>=(y|0))break;else n=n+(y<<3)|0}}else r=0;if(r<=1e-10){t=0;break e}o=E+(e<<2)|0;s=a[o>>2]|0;l=E+(v<<2)|0;a[o>>2]=a[l>>2];a[l>>2]=s;if(!f){n=0;i=t+((ne(e,y)|0)<<3)|0;o=c;while(1){_=+u[i>>3];u[i>>3]=+u[o>>3];u[o>>3]=_;n=n+1|0;if((n|0)==(y|0))break;else{i=i+8|0;o=o+8|0}}}r=+u[c>>3];if(!p){n=1;i=c;do{l=i;i=i+8|0;u[l>>3]=+u[i>>3]/r;n=n+1|0}while((n|0)!=(y|0))}u[g>>3]=1/r;if(!m){o=0;s=b;while(1){if((o|0)!=(v|0)){n=t+((ne(o,y)|0)<<3)|0;r=+u[n>>3];if(!h){l=1;i=c;while(1){x=n;n=n+8|0;u[x>>3]=+u[n>>3]-r*+u[i>>3];l=l+1|0;if((l|0)==(y|0))break;else i=i+8|0}}u[s>>3]=-(r*+u[g>>3])}o=o+1|0;if((o|0)==(y|0))break;else s=s+(y<<3)|0}}v=v+1|0;if((v|0)>=(y|0))break;else g=g+(y<<3)|0}}if((y|0)>0){o=(y|0)>0;s=0;do{e=E+(s<<2)|0;t:do if((s|0)<(y|0)){n=s;do{if((a[e>>2]|0)==(s|0))break t;n=n+1|0;e=E+(n<<2)|0}while((n|0)<(y|0))}else n=s;while(0);a[e>>2]=a[E+(s<<2)>>2];if(o){i=0;e=t+(n<<3)|0;n=t+(s<<3)|0;while(1){_=+u[e>>3];u[e>>3]=+u[n>>3];u[n>>3]=_;i=i+1|0;if((i|0)>=(y|0))break;else{e=e+(y<<3)|0;n=n+(y<<3)|0}}}s=s+1|0}while((s|0)<(y|0))}}else t=0;while(0);d=w;return((t|0)==0)<<31>>31|0}function vo(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,d=0;s=a[e+4>>2]|0;if((s|0)==(a[t+8>>2]|0)?(c=a[e+8>>2]|0,(c|0)==(a[t+4>>2]|0)):0){d=(c|0)>0?c:0;if((s|0)>0){l=(c|0)>0;i=a[e>>2]|0;o=0;while(1){if(l){e=0;n=(a[t>>2]|0)+(o<<3)|0;r=i;while(1){u[r>>3]=+u[n>>3];e=e+1|0;if((e|0)>=(c|0))break;else{n=n+(s<<3)|0;r=r+8|0}}}o=o+1|0;if((o|0)>=(s|0)){e=0;break}else i=i+(d<<3)|0}}else e=0}else e=-1;return e|0}function bo(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0;r=+(t|0)/+(a[e>>2]|0);o=+(n|0)/+(a[e+4>>2]|0);a[i>>2]=t;a[i+4>>2]=n;t=0;do{u[i+8+(t<<3)>>3]=r*+u[e+8+(t<<3)>>3];u[i+40+(t<<3)>>3]=o*+u[e+40+(t<<3)>>3];u[i+72+(t<<3)>>3]=+u[e+72+(t<<3)>>3];t=t+1|0}while((t|0)!=4);t=a[e+176>>2]|0;switch(t|0){case 4:{u[i+104>>3]=+u[e+104>>3];u[i+112>>3]=+u[e+112>>3];u[i+120>>3]=+u[e+120>>3];u[i+128>>3]=+u[e+128>>3];u[i+136>>3]=r*+u[e+136>>3];u[i+144>>3]=o*+u[e+144>>3];u[i+152>>3]=r*+u[e+152>>3];u[i+160>>3]=o*+u[e+160>>3];u[i+168>>3]=+u[e+168>>3];s=8;break}case 3:{u[i+104>>3]=r*+u[e+104>>3];u[i+112>>3]=o*+u[e+112>>3];u[i+120>>3]=+u[e+120>>3];u[i+128>>3]=+u[e+128>>3];u[i+136>>3]=+u[e+136>>3]/(r*o);u[i+144>>3]=+u[e+144>>3]/(o*(r*r*o));s=8;break}case 2:{u[i+104>>3]=r*+u[e+104>>3];u[i+112>>3]=o*+u[e+112>>3];u[i+120>>3]=+u[e+120>>3];u[i+128>>3]=+u[e+128>>3]/(r*o);u[i+136>>3]=+u[e+136>>3]/(o*(r*r*o));s=8;break}case 1:{u[i+104>>3]=r*+u[e+104>>3];u[i+112>>3]=o*+u[e+112>>3];u[i+120>>3]=+u[e+120>>3];u[i+128>>3]=+u[e+128>>3]/(r*o);s=8;break}default:t=-1}if((s|0)==8){a[i+176>>2]=t;t=0}return t|0}function yo(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,a=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0;a=d;d=d+96|0;r=a;if(!(+u[e+88>>3]>=0)){i=0;do{u[r+(i<<5)>>3]=-+u[e+(i<<5)>>3];u[r+(i<<5)+8>>3]=-+u[e+(i<<5)+8>>3];u[r+(i<<5)+16>>3]=-+u[e+(i<<5)+16>>3];u[r+(i<<5)+24>>3]=-+u[e+(i<<5)+24>>3];i=i+1|0}while((i|0)!=3)}else{i=0;do{u[r+(i<<5)>>3]=+u[e+(i<<5)>>3];u[r+(i<<5)+8>>3]=+u[e+(i<<5)+8>>3];u[r+(i<<5)+16>>3]=+u[e+(i<<5)+16>>3];u[r+(i<<5)+24>>3]=+u[e+(i<<5)+24>>3];i=i+1|0}while((i|0)!=3)}u[t>>3]=0;u[t+8>>3]=0;u[t+16>>3]=0;u[t+24>>3]=0;u[t+32>>3]=0;u[t+40>>3]=0;u[t+48>>3]=0;u[t+56>>3]=0;u[t+64>>3]=0;u[t+72>>3]=0;u[t+80>>3]=0;u[t+88>>3]=0;o=+u[r+64>>3];m=+u[r+72>>3];p=+u[r+80>>3];x=+z(+(o*o+m*m+p*p));e=t+80|0;u[e>>3]=x;x=o/x;w=n+64|0;u[w>>3]=x;m=m/+u[e>>3];y=n+72|0;u[y>>3]=m;p=p/+u[e>>3];g=n+80|0;u[g>>3]=p;h=n+88|0;u[h>>3]=+u[r+88>>3]/+u[e>>3];o=+u[r+32>>3];l=+u[r+40>>3];b=+u[r+48>>3];p=x*o+m*l+p*b;f=t+48|0;u[f>>3]=p;o=o-p*+u[w>>3];l=l-p*+u[y>>3];p=b-p*+u[g>>3];b=+z(+(o*o+l*l+p*p));c=t+40|0;u[c>>3]=b;_=n+32|0;u[_>>3]=o/b;E=n+40|0;u[E>>3]=l/+u[c>>3];v=n+48|0;u[v>>3]=p/+u[c>>3];p=+u[r>>3];l=+u[r+8>>3];b=+u[r+16>>3];o=+u[w>>3]*p+ +u[y>>3]*l+ +u[g>>3]*b;i=t+16|0;u[i>>3]=o;m=+u[_>>3]*p+ +u[E>>3]*l+ +u[v>>3]*b;s=t+8|0;u[s>>3]=m;p=p-m*+u[_>>3]-o*+u[w>>3];l=l-m*+u[E>>3]-o*+u[y>>3];o=b-m*+u[v>>3]-o*+u[g>>3];m=+z(+(p*p+l*l+o*o));u[t>>3]=m;u[n>>3]=p/m;u[n+8>>3]=l/+u[t>>3];u[n+16>>3]=o/+u[t>>3];o=+u[h>>3];l=(+u[r+56>>3]-+u[f>>3]*o)/+u[c>>3];u[n+56>>3]=l;u[n+24>>3]=(+u[r+24>>3]-l*+u[s>>3]-+u[i>>3]*o)/+u[t>>3];i=0;do{_=t+(i<<5)|0;u[_>>3]=+u[_>>3]/+u[e>>3];_=t+(i<<5)+8|0;u[_>>3]=+u[_>>3]/+u[e>>3];_=t+(i<<5)+16|0;u[_>>3]=+u[_>>3]/+u[e>>3];i=i+1|0}while((i|0)!=3);d=a;return 0}function Eo(e,t,n,i,r,a){e=e|0;t=+t;n=+n;i=i|0;r=r|0;a=a|0;var o=0,s=0,l=0,c=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0;switch(a|0){case 4:{g=+u[e>>3];v=+u[e+8>>3];b=+u[e+16>>3];y=+u[e+24>>3];M=+u[e+32>>3];w=+u[e+40>>3];_=+u[e+48>>3];x=+u[e+56>>3];E=+u[e+64>>3];p=(t-_)/M;l=(n-x)/w;n=p*p;s=l*l;c=b*2;d=y*6;f=y*2;h=b*6;e:do if(s!=0|n!=0){a=1;o=p;t=l;while(1){A=s+n;S=g*A+1+A*(v*A);k=n*3;T=s*k;o=o-(y*(A+n*2)+(t*(c*o)+o*S)-p)/(d*o+(c*t+(g*(s+k)+1+v*(s*s+(n*(n*5)+T)))));k=f*o;t=t-(b*(s*2+A)+t*S+t*k-l)/(h*t+(g*(n+s*3)+1+v*(s*(s*5)+(n*n+T)))+k);if((a|0)==4)break e;n=o*o;s=t*t;if(!(s!=0|n!=0)){o=0;t=0;break}else a=a+1|0}}else{o=0;t=0}while(0);u[i>>3]=_+M*o/E;u[r>>3]=x+w*t/E;a=0;break}case 3:{p=+u[e>>3];o=(t-p)/+u[e+24>>3];m=e+8|0;t=n-+u[m>>3];l=+u[e+32>>3]/1e8;c=+u[e+40>>3]/1e8/1e5;n=o*o+t*t;d=+z(+n);f=l*3;h=c*5;e:do if(d!=0){a=1;s=d;while(1){A=s-(s*(1-l*n-n*(c*n))-d)/(1-f*n-n*(h*n));o=o*A/s;t=t*A/s;if((a|0)==3)break e;n=o*o+t*t;s=+z(+n);if(!(s!=0)){o=0;t=0;break}else a=a+1|0}}else{o=0;t=0}while(0);a=e+16|0;u[i>>3]=o/+u[a>>3]+p;u[r>>3]=t/+u[a>>3]+ +u[m>>3];a=0;break}case 2:{p=+u[e>>3];o=t-p;m=e+8|0;t=n-+u[m>>3];l=+u[e+24>>3]/1e8;c=+u[e+32>>3]/1e8/1e5;n=o*o+t*t;d=+z(+n);f=l*3;h=c*5;e:do if(d!=0){a=1;s=d;while(1){A=s-(s*(1-l*n-n*(c*n))-d)/(1-f*n-n*(h*n));o=o*A/s;t=t*A/s;if((a|0)==3)break e;n=o*o+t*t;s=+z(+n);if(!(s!=0)){o=0;t=0;break}else a=a+1|0}}else{o=0;t=0}while(0);a=e+16|0;u[i>>3]=o/+u[a>>3]+p;u[r>>3]=t/+u[a>>3]+ +u[m>>3];a=0;break}case 1:{f=+u[e>>3];o=t-f;m=e+8|0;t=n-+u[m>>3];l=+u[e+24>>3]/1e8;n=o*o+t*t;c=+z(+n);d=l*3;e:do if(c!=0){a=1;s=c;while(1){A=s-(s*(1-l*n)-c)/(1-d*n);o=o*A/s;t=t*A/s;if((a|0)==3)break e;n=o*o+t*t;s=+z(+n);if(!(s!=0)){o=0;t=0;break}else a=a+1|0}}else{o=0;t=0}while(0);a=e+16|0;u[i>>3]=o/+u[a>>3]+f;u[r>>3]=t/+u[a>>3]+ +u[m>>3];a=0;break}default:a=-1}return a|0}function wo(e,t,n,i,r,a){e=e|0;t=+t;n=+n;i=i|0;r=r|0;a=a|0;var o=0,s=0,l=0,c=0,d=0,f=0,h=0,m=0;switch(a|0){case 4:{l=+u[e+16>>3];c=+u[e+24>>3];h=+u[e+32>>3];d=+u[e+40>>3];m=+u[e+48>>3];f=+u[e+56>>3];s=+u[e+64>>3];t=(t-m)*s/h;s=(n-f)*s/d;o=t*t+s*s;n=+u[e>>3]*o+1+o*(+u[e+8>>3]*o);u[i>>3]=m+h*(c*(t*(t*2)+o)+(l*2*t*s+t*n));u[r>>3]=f+d*(c*2*t*s+(l*(o+s*(s*2))+s*n));a=0;break}case 3:{s=+u[e>>3];m=+u[e+16>>3];o=(t-s)*m;a=e+8|0;t=m*(n-+u[a>>3]);if(o==0&t==0){u[i>>3]=s;t=+u[a>>3]}else{m=o*o+t*t;m=1-m*(+u[e+32>>3]/1e8)-m*(m*(+u[e+40>>3]/1e8/1e5));u[i>>3]=s+ +u[e+24>>3]*(o*m);t=+u[a>>3]+t*m}u[r>>3]=t;a=0;break}case 2:{s=+u[e>>3];m=+u[e+16>>3];o=(t-s)*m;a=e+8|0;t=m*(n-+u[a>>3]);if(o==0&t==0){u[i>>3]=s;t=+u[a>>3]}else{m=o*o+t*t;m=1-m*(+u[e+24>>3]/1e8)-m*(m*(+u[e+32>>3]/1e8/1e5));u[i>>3]=s+o*m;t=+u[a>>3]+t*m}u[r>>3]=t;a=0;break}case 1:{s=+u[e>>3];m=+u[e+16>>3];o=(t-s)*m;a=e+8|0;t=m*(n-+u[a>>3]);if(o==0&t==0){u[i>>3]=s;t=+u[a>>3]}else{m=1-(o*o+t*t)*(+u[e+24>>3]/1e8);u[i>>3]=s+o*m;t=+u[a>>3]+t*m}u[r>>3]=t;a=0;break}default:a=-1}return a|0}function _o(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0;b=d;d=d+256|0;h=b+232|0;f=b+224|0;c=b+216|0;l=b+208|0;s=b+200|0;o=b+192|0;r=b+184|0;p=b+240|0;g=b;do if((e|0)!=0&(t|0)>0&(n|0)!=0){v=qr(e,4854)|0;if(!v){v=dr()|0;a[r>>2]=a[v>>2];a[r+4>>2]=e;to(3,4857,r);e=fr(a[v>>2]|0)|0;a[o>>2]=5367;a[o+4>>2]=e;to(3,5361,o);e=-1;break}Jr(v,0,2)|0;e:do if(!(zr(v)|0)){o=ta(v)|0;ra(v);e=0;do{if((e|0)>=4){m=9;break}r=a[2012+(e<<3)+4>>2]|0;e=e+1|0}while(((o|0)%(r|0)|0|0)!=0);do if((m|0)==9)if((e|0)==4){to(3,4971,c);e=-1;break e}else{r=a[2012+(0<<3)+4>>2]|0;e=0;break}while(0);if((Xr(g,r,1,v)|0)!=1){e=dr()|0;a[f>>2]=a[e>>2];to(3,5051,f);e=fr(a[e>>2]|0)|0;a[h>>2]=5367;a[h+4>>2]=e;to(3,5361,h);e=-1;break}c=g+176|0;a[c>>2]=e;xo(g);f=(e|0)==1;h=g+120|0;if(f){y=+u[h>>3];l=g+128|0;u[h>>3]=+u[l>>3];u[l>>3]=y}else l=g+128|0;Kc(n|0,g|0,184)|0;a[p>>2]=i;r=n+176|0;if((t|0)>1){s=1;while(1){i=(a[p>>2]|0)+(4-1)&~(4-1);o=a[i>>2]|0;a[p>>2]=i+4;a[o+176>>2]=a[r>>2];if((Xr(g,a[2012+((a[r>>2]|0)+-1<<3)+4>>2]|0,1,v)|0)!=1){e=-1;break e}a[c>>2]=e;xo(g);if(f){y=+u[h>>3];u[h>>3]=+u[l>>3];u[l>>3]=y}Kc(o|0,g|0,184)|0;s=s+1|0;if((s|0)>=(t|0)){e=0;break}}}else e=0}else{e=dr()|0;a[s>>2]=a[e>>2];to(3,4926,s);e=fr(a[e>>2]|0)|0;a[l>>2]=5367;a[l+4>>2]=e;to(3,5361,l);e=-1}while(0);Vr(v)|0}else e=-1;while(0);d=b;return e|0}function xo(e){e=e|0;var t=0,n=0,i=0,r=0,o=0;o=d;d=d+192|0;r=o;ko(e,r);ko(e+4|0,r+4|0);t=0;do{Mo(e+8+(t<<5)|0,r+8+(t<<5)|0);Mo(e+8+(t<<5)+8|0,r+8+(t<<5)+8|0);Mo(e+8+(t<<5)+16|0,r+8+(t<<5)+16|0);Mo(e+8+(t<<5)+24|0,r+8+(t<<5)+24|0);t=t+1|0}while((t|0)!=3);n=e+176|0;i=0;do{Mo(e+104+(i<<3)|0,r+104+(i<<3)|0);i=i+1|0;t=a[n>>2]|0}while((i|0)<(a[2012+(t+-1<<3)>>2]|0));a[r+176>>2]=t;Kc(e|0,r|0,184)|0;d=o;return}function Mo(e,t){e=e|0;t=t|0;i[t>>0]=i[e+7>>0]|0;i[t+1>>0]=i[e+6>>0]|0;i[t+2>>0]=i[e+5>>0]|0;i[t+3>>0]=i[e+4>>0]|0;i[t+4>>0]=i[e+3>>0]|0;i[t+5>>0]=i[e+2>>0]|0;i[t+6>>0]=i[e+1>>0]|0;i[t+7>>0]=i[e>>0]|0;return}function ko(e,t){e=e|0;t=t|0;i[t>>0]=i[e+3>>0]|0;i[t+1>>0]=i[e+2>>0]|0;i[t+2>>0]=i[e+1>>0]|0;i[t+3>>0]=i[e>>0]|0;return}function To(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0;x=d;d=d+64|0;y=x+24|0;E=x+16|0;w=x+8|0;_=x;g=Ba(208)|0;if(!g){to(3,5472,x+32|0);Et(1)}Kc(g|0,e|0,184)|0;b=t<<1;v=(a[e>>2]|0)+b|0;a[g+192>>2]=v;b=(a[e+4>>2]|0)+b|0;a[g+196>>2]=b;a[g+200>>2]=t;a[g+204>>2]=t;n=ne(v<<3,b)|0;i=Ba(n)|0;a[g+184>>2]=i;if(!i){to(3,5472,x+40|0);Et(1)}n=Ba(n)|0;a[g+188>>2]=n;if(!n){to(3,5472,x+48|0);Et(1)}p=e+104|0;f=a[e+176>>2]|0;h=(v|0)>0?v<<1:0;if((b|0)>0){m=(v|0)>0;l=0;while(1){r=+(l-t|0);if(m){e=0;o=i;s=n;while(1){M=+(e-t|0);wo(p,M,r,w,_,f)|0;c[o>>2]=+u[w>>3];c[o+4>>2]=+u[_>>3];Eo(p,M,r,y,E,f)|0;c[s>>2]=+u[y>>3];c[s+4>>2]=+u[E>>3];e=e+1|0;if((e|0)>=(v|0))break;else{o=o+8|0;s=s+8|0}}}n=n+(h<<2)|0;l=l+1|0;if((l|0)>=(b|0))break;else i=i+(h<<2)|0}}d=x;return g|0}function So(e){e=e|0;var t=0;if((e|0)!=0?(t=a[e>>2]|0,(t|0)!=0):0){ja(a[t+184>>2]|0);ja(a[(a[e>>2]|0)+188>>2]|0);ja(a[e>>2]|0);a[e>>2]=0;t=0}else t=-1;return t|0}function Ao(e,t,n,i,r){e=e|0;t=+t;n=+n;i=i|0;r=r|0;var o=0,s=0,l=0;s=(a[e+16>>2]|0)+~~(t+.5)|0;o=(a[e+20>>2]|0)+~~(n+.5)|0;if(((s|0)>=0?(l=a[e+8>>2]|0,!((o|0)<0|(s|0)>=(l|0))):0)?(o|0)<(a[e+12>>2]|0):0){e=a[e>>2]|0;o=(ne(l,o)|0)+s<<1;a[i>>2]=a[e+(o<<2)>>2];a[r>>2]=a[e+((o|1)<<2)>>2];o=0}else o=-1;return o|0}function Co(e,t,n,i,r){e=e|0;t=+t;n=+n;i=i|0;r=r|0;var o=0,s=0,l=0;s=(a[e+16>>2]|0)+~~(t+.5)|0;o=(a[e+20>>2]|0)+~~(n+.5)|0;if(((s|0)>=0?(l=a[e+8>>2]|0,!((o|0)<0|(s|0)>=(l|0))):0)?(o|0)<(a[e+12>>2]|0):0){e=a[e+4>>2]|0;o=(ne(l,o)|0)+s<<1;a[i>>2]=a[e+(o<<2)>>2];a[r>>2]=a[e+((o|1)<<2)>>2];o=0}else o=-1;return o|0}function $o(e){e=e|0;var t=0,n=0;t=Ba(8)|0;do if(t){n=Ba(e<<3)|0;a[t>>2]=n;if(!n){ja(t);t=0;break}else{a[t+4>>2]=e;break}}else t=0;while(0);return t|0}function Ro(e){e=e|0;ja(a[e>>2]|0);ja(e);return 0}function Po(e){e=e|0;var t=0,n=0,i=0,r=0,o=0;t=+z(+ +No(e,e));if(t!=0){r=a[e>>2]|0;i=+u[r>>3];t=i<0?-t:t;i=i+t;u[r>>3]=i;i=1/+z(+(i*t));e=a[e+4>>2]|0;if((e|0)>0){n=0;do{o=r+(n<<3)|0;u[o>>3]=i*+u[o>>3];n=n+1|0}while((n|0)<(e|0))}}return+-t}function No(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=a[e+4>>2]|0;if((r|0)!=(a[t+4>>2]|0))Et(0);if((r|0)>0){i=a[e>>2]|0;e=a[t>>2]|0;t=0;n=0;do{n=n+ +u[i+(t<<3)>>3]*+u[e+(t<<3)>>3];t=t+1|0}while((t|0)<(r|0))}else n=0;return+n}function Oo(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$+8|0;C=$;_=a[e+8>>2]|0;if(((_|0)==(a[e+4>>2]|0)?(_|0)==(a[t+4>>2]|0):0)?(_|0)==((a[n+4>>2]|0)+1|0):0){k=_+-2|0;T=A+4|0;S=C+4|0;if((_|0)>2){b=_+-1|0;y=0;do{m=ne(y,_)|0;p=a[e>>2]|0;u[(a[t>>2]|0)+(y<<3)>>3]=+u[p+(m+y<<3)>>3];l=_-y+-1|0;a[T>>2]=l;E=y;y=y+1|0;c=p+(m+y<<3)|0;a[A>>2]=c;v=+Po(A);u[(a[n>>2]|0)+(E<<3)>>3]=v;if(!(v==0)){if((y|0)<(_|0)){f=a[t>>2]|0;h=y;do{if((y|0)<(h|0)){i=a[e>>2]|0;r=y;s=0;do{v=+u[i+((ne(r,_)|0)+h<<3)>>3];s=s+v*+u[p+(r+m<<3)>>3];r=r+1|0}while((r|0)<(h|0))}else s=0;i=ne(h,_)|0;if((h|0)<(_|0)){r=a[e>>2]|0;o=h;do{s=s+ +u[r+(o+i<<3)>>3]*+u[p+(o+m<<3)>>3];o=o+1|0}while((o|0)<(_|0))}u[f+(h<<3)>>3]=s;h=h+1|0}while((h|0)<(_|0))}a[S>>2]=l;a[T>>2]=l;a[A>>2]=c;a[C>>2]=(a[t>>2]|0)+(y<<3);s=+No(A,C)*.5;if((b|0)>(E|0)){i=a[t>>2]|0;l=b;do{g=+u[p+(l+m<<3)>>3];r=i+(l<<3)|0;v=+u[r>>3]-s*g;u[r>>3]=v;r=ne(l,_)|0;if((l|0)<(_|0)){o=a[e>>2]|0;c=l;do{h=o+(c+r<<3)|0;u[h>>3]=+u[h>>3]-(g*+u[i+(c<<3)>>3]+v*+u[p+(c+m<<3)>>3]);c=c+1|0}while((c|0)<(_|0))}l=l+-1|0}while((l|0)>(E|0))}}}while((y|0)<(k|0))}if((_|0)<=1){if((_|0)>0){r=0;o=a[e>>2]|0;i=a[t>>2]|0;w=27}}else{w=ne(k,_)|0;o=a[e>>2]|0;i=a[t>>2]|0;u[i+(k<<3)>>3]=+u[o+(w+k<<3)>>3];r=_+-1|0;u[(a[n>>2]|0)+(k<<3)>>3]=+u[o+(r+w<<3)>>3];w=27}if((w|0)==27)u[i+(r<<3)>>3]=+u[o+((ne(r,_)|0)+r<<3)>>3];if((_|0)>0){f=(_|0)>0;p=_;do{n=p;p=p+-1|0;h=ne(p,_)|0;m=a[e>>2]|0;if((n|0)<=(k|0)?(x=_-p+-1|0,M=m+(h+n<<3)|0,(n|0)<(_|0)):0){i=(n|0)<(_|0);l=n;do{a[S>>2]=x;a[T>>2]=x;a[A>>2]=M;r=ne(l,_)|0;a[C>>2]=(a[e>>2]|0)+(r+n<<3);s=+No(A,C);if(i){o=a[e>>2]|0;c=n;do{w=o+(c+r<<3)|0;u[w>>3]=+u[w>>3]-s*+u[m+(c+h<<3)>>3];c=c+1|0}while((c|0)<(_|0))}l=l+1|0}while((l|0)<(_|0))}if(f){i=0;do{u[m+(i+h<<3)>>3]=0;i=i+1|0}while((i|0)<(_|0))}u[m+(h+p<<3)>>3]=1}while((n|0)>1);i=0}else i=0}else i=-1;d=$;return i|0}function Do(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,a=0,o=0,s=0;a=+u[n>>3];o=+u[n+8>>3];r=+u[n+16>>3];i=+u[t+88>>3]+(a*+u[t+64>>3]+o*+u[t+72>>3]+r*+u[t+80>>3]);if(i==0)n=-1;else{s=+u[t+56>>3]+(a*+u[t+32>>3]+o*+u[t+40>>3]+r*+u[t+48>>3]);u[e>>3]=(+u[t+24>>3]+(a*+u[t>>3]+o*+u[t+8>>3]+r*+u[t+16>>3]))/i;u[e+8>>3]=s/i;n=0}return n|0}function Io(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0;S=d;d=d+1072|0;M=S+1056|0;x=S+768|0;_=S+192|0;T=S+48|0;k=S;I=+u[n>>3];R=+u[i>>3];b=I*R;D=+u[n+8>>3];y=i+8|0;$=+u[y>>3];w=D*$;s=+u[n+16>>3];P=+u[i+16>>3];c=s*P;f=+u[n+24>>3];O=+u[n+32>>3];N=+u[n+40>>3];h=$*N;l=+u[n+48>>3];m=P*l;p=+u[n+56>>3];C=+u[n+64>>3];A=+u[n+72>>3];g=$*A;r=+u[n+80>>3];v=P*r;o=+u[n+88>>3];u[x>>3]=b;u[x+8>>3]=I*$;u[x+16>>3]=I*P;u[x+24>>3]=R*D;u[x+32>>3]=w;u[x+40>>3]=P*D;u[x+48>>3]=R*s;u[x+56>>3]=$*s;u[x+64>>3]=c;u[x+72>>3]=I;u[x+80>>3]=D;u[x+88>>3]=s;s=R*O;u[x+96>>3]=s;u[x+104>>3]=$*O;u[x+112>>3]=P*O;u[x+120>>3]=R*N;u[x+128>>3]=h;u[x+136>>3]=P*N;u[x+144>>3]=R*l;u[x+152>>3]=$*l;u[x+160>>3]=m;u[x+168>>3]=O;u[x+176>>3]=N;u[x+184>>3]=l;l=C*R;u[x+192>>3]=l;u[x+200>>3]=$*C;u[x+208>>3]=P*C;u[x+216>>3]=R*A;$=+u[y>>3];u[x+224>>3]=A*$;u[x+232>>3]=P*A;u[x+240>>3]=R*r;u[x+248>>3]=$*r;u[x+256>>3]=v;u[x+264>>3]=C;u[x+272>>3]=A;u[x+280>>3]=r;i=_+64|0;n=_;y=n+64|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=-1;i=_+72|0;a[i>>2]=0;a[i+4>>2]=0;a[i+8>>2]=0;a[i+12>>2]=0;a[i+16>>2]=0;a[i+20>>2]=0;a[i+24>>2]=0;a[i+28>>2]=0;u[_+104>>3]=1;i=_+160|0;n=_+112|0;y=n+48|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=1;i=_+240|0;n=_+168|0;y=n+72|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=-1;i=_+296|0;n=_+248|0;y=n+48|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=-1;i=_+304|0;a[i>>2]=0;a[i+4>>2]=0;a[i+8>>2]=0;a[i+12>>2]=0;a[i+16>>2]=0;a[i+20>>2]=0;a[i+24>>2]=0;a[i+28>>2]=0;u[_+336>>3]=1;i=_+456|0;n=_+344|0;y=n+112|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=1;i=_+512|0;n=_+464|0;y=n+48|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=1;i=_+568|0;n=_+520|0;y=n+48|0;do{a[n>>2]=0;n=n+4|0}while((n|0)<(y|0));u[i>>3]=1;E=0;do{y=0;do{n=T+(E*48|0)+(y<<3)|0;u[n>>3]=0;r=0;i=0;do{r=r+ +u[x+(E*96|0)+(i<<3)>>3]*+u[_+(i*48|0)+(y<<3)>>3];i=i+1|0}while((i|0)!=12);u[n>>3]=r;y=y+1|0}while((y|0)!=6);E=E+1|0}while((E|0)!=3);D=f+(b+w+c);I=p+(s+h+m);r=o+(l+g+v);o=+u[t>>3];s=+u[t+8>>3];l=+u[t+16>>3];c=+u[t+24>>3]+(D*o+I*s+r*l);f=+u[t+32>>3];h=+u[t+40>>3];m=+u[t+48>>3];p=+u[t+56>>3]+(D*f+I*h+r*m);g=+u[t+64>>3];v=+u[t+72>>3];b=+u[t+80>>3];r=+u[t+88>>3]+(D*g+I*v+r*b);if(r==0){to(3,5089,M);i=-1}else{I=r*r;u[k>>3]=(o*r-c*g)/I;u[k+8>>3]=(r*s-c*v)/I;u[k+16>>3]=(r*l-c*b)/I;u[k+24>>3]=(r*f-p*g)/I;u[k+32>>3]=(r*h-p*v)/I;u[k+40>>3]=(r*m-p*b)/I;n=0;do{r=+u[k+(n*24|0)>>3];o=+u[k+(n*24|0)+8>>3];s=+u[k+(n*24|0)+16>>3];i=0;do{M=e+(n*48|0)+(i<<3)|0;u[M>>3]=0;I=r*+u[T+(i<<3)>>3]+0;u[M>>3]=I;I=I+o*+u[T+48+(i<<3)>>3];u[M>>3]=I;u[M>>3]=I+s*+u[T+96+(i<<3)>>3];i=i+1|0}while((i|0)!=6);n=n+1|0}while((n|0)!=2);i=0}d=S;return i|0}function Lo(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0,l=0;l=d;d=d+48|0;s=l+24|0;o=l+12|0;r=l;a[s+4>>2]=6;a[s+8>>2]=1;a[s>>2]=e;a[o+4>>2]=i;a[o+8>>2]=1;a[o>>2]=t;a[r+4>>2]=i;a[r+8>>2]=6;a[r>>2]=n;t=co(r)|0;do if(t){e=lo(t,r)|0;if(!e){fo(t)|0;n=-1;break}n=lo(t,o)|0;if(!n){fo(t)|0;fo(e)|0;n=-1;break}if((go(e)|0)<0){fo(t)|0;fo(e)|0;fo(n)|0;n=-1;break}else{ho(s,e,n)|0;fo(t)|0;fo(e)|0;fo(n)|0;n=0;break}}else n=-1;while(0);d=l;return n|0}function Fo(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,a=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0;h=d;d=d+192|0;c=h+96|0;f=h;o=+u[t>>3];l=+u[t+8>>3];i=+u[t+16>>3];n=o*o+l*l+i*i;if(n==0){s=0;r=0;i=1;n=0}else{n=+z(+n);s=n;r=i/n;i=o/n;n=l/n}E=+u[t+24>>3];v=+u[t+32>>3];l=+u[t+40>>3];m=+G(+s);o=1-m;s=+q(+s);u[c>>3]=m+i*i*o;y=n*i*o;b=r*s;u[c+8>>3]=y-b;g=i*r*o;p=n*s;u[c+16>>3]=g+p;u[c+24>>3]=E;u[c+32>>3]=y+b;u[c+40>>3]=m+n*n*o;n=n*r*o;s=i*s;u[c+48>>3]=n-s;u[c+56>>3]=v;u[c+64>>3]=g-p;u[c+72>>3]=n+s;u[c+80>>3]=m+r*r*o;u[c+88>>3]=l;a=0;do{n=+u[e+(a<<5)>>3];i=+u[e+(a<<5)+8>>3];r=+u[e+(a<<5)+16>>3];t=0;do{u[f+(a<<5)+(t<<3)>>3]=n*+u[c+(t<<3)>>3]+i*+u[c+32+(t<<3)>>3]+r*+u[c+64+(t<<3)>>3];t=t+1|0}while((t|0)!=4);t=f+(a<<5)+24|0;u[t>>3]=+u[e+(a<<5)+24>>3]+ +u[t>>3];a=a+1|0}while((a|0)!=3);t=0;do{u[e+(t<<5)>>3]=+u[f+(t<<5)>>3];u[e+(t<<5)+8>>3]=+u[f+(t<<5)+8>>3];u[e+(t<<5)+16>>3]=+u[f+(t<<5)+16>>3];u[e+(t<<5)+24>>3]=+u[f+(t<<5)+24>>3];t=t+1|0}while((t|0)!=3);d=h;return 0}function Ho(e){e=e|0;var t=0,n=0;t=Ba(136)|0;if(!t)t=0;else{n=0;do{u[t+(n<<5)>>3]=+u[e+(n<<5)>>3];u[t+(n<<5)+8>>3]=+u[e+(n<<5)+8>>3];u[t+(n<<5)+16>>3]=+u[e+(n<<5)+16>>3];u[t+(n<<5)+24>>3]=+u[e+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3);a[t+96>>2]=10;u[t+104>>3]=.10000000149011612;u[t+112>>3]=.9900000095367432;u[t+120>>3]=4;u[t+128>>3]=.5}return t|0}function Uo(e){e=e|0;var t=0;t=a[e>>2]|0;if(!t)t=-1;else{ja(t);a[e>>2]=0;t=0}return t|0}function Bo(e,t){e=e|0;t=+t;if(!e)e=-1;else{u[e+128>>3]=t;e=0}return e|0}function jo(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0;M=d;d=d+176|0;c=M+168|0;l=M+160|0;E=M+48|0;_=M+64|0;w=M;b=t+8|0;o=a[b>>2]|0;do if((o|0)>=3){x=Ba(o*96|0)|0;if(!x){to(3,5109,l);o=-1;break}y=Ba(o<<4)|0;if(!y){to(3,5109,c);ja(x);o=-1;break}else o=0;do{u[i+(o<<5)>>3]=+u[n+(o<<5)>>3];u[i+(o<<5)+8>>3]=+u[n+(o<<5)+8>>3];u[i+(o<<5)+16>>3]=+u[n+(o<<5)+16>>3];u[i+(o<<5)+24>>3]=+u[n+(o<<5)+24>>3];o=o+1|0}while((o|0)!=3);g=t+4|0;c=E+8|0;n=e+104|0;h=e+120|0;m=e+112|0;p=e+96|0;f=0;v=0;e:while(1){no(e,i,_)|0;o=a[b>>2]|0;if((o|0)>0){s=0;l=0;do{if((Do(E,_,(a[g>>2]|0)+(l*24|0)|0)|0)<0){l=10;break e}o=a[t>>2]|0;T=+u[o+(l<<4)>>3]-+u[E>>3];k=+u[o+(l<<4)+8>>3]-+u[c>>3];s=s+(T*T+k*k);o=l<<1;u[y+(o<<3)>>3]=T;u[y+((o|1)<<3)>>3]=k;l=l+1|0;o=a[b>>2]|0}while((l|0)<(o|0))}else s=0;s=s/+(o|0);if(s<+u[n>>3]){l=24;break}if(((v|0)>0?s<+u[h>>3]:0)?s/f>+u[m>>3]:0){l=24;break}if((v|0)==(a[p>>2]|0)){l=24;break}if((o|0)>0){l=0;do{if((Io(x+(l*12<<3)|0,e,i,(a[g>>2]|0)+(l*24|0)|0)|0)<0){l=20;break e}l=l+1|0;o=a[b>>2]|0}while((l|0)<(o|0));
}if((Lo(w,y,x,o<<1)|0)<0){l=22;break}Fo(i,w)|0;f=s;v=v+1|0}if((l|0)==10){Vo(x,y);o=-1;break}else if((l|0)==20){Vo(x,y);o=-1;break}else if((l|0)==22){Vo(x,y);o=-1;break}else if((l|0)==24){u[r>>3]=s;ja(x);ja(y);o=0;break}}else o=-1;while(0);d=M;return o|0}function Vo(e,t){e=e|0;t=t|0;ja(e);ja(t);return}function zo(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0;P=d;d=d+192|0;h=P+184|0;f=P+176|0;c=P+168|0;o=P+160|0;S=P+48|0;C=P+64|0;A=P;T=t+8|0;l=a[T>>2]|0;do if((l|0)>=4){m=~~(+(l|0)*+u[e+128>>3])+-1|0;m=(m|0)<3?3:m;R=Ba(l*96|0)|0;if(!R){to(3,5109,o);o=-1;break}$=Ba(l<<4)|0;if(!$){to(3,5109,c);ja(R);o=-1;break}o=l<<3;k=Ba(o)|0;if(!k){to(3,5109,f);ja(R);ja($);o=-1;break}M=Ba(o)|0;if(!M){to(3,5109,h);ja(R);ja($);ja(k);o=-1;break}else o=0;do{u[i+(o<<5)>>3]=+u[n+(o<<5)>>3];u[i+(o<<5)+8>>3]=+u[n+(o<<5)+8>>3];u[i+(o<<5)+16>>3]=+u[n+(o<<5)+16>>3];u[i+(o<<5)+24>>3]=+u[n+(o<<5)+24>>3];o=o+1|0}while((o|0)!=3);_=t+4|0;x=S+8|0;h=M+(m<<3)|0;n=e+104|0;m=e+120|0;y=e+112|0;E=e+96|0;v=0;w=0;e:while(1){no(e,i,C)|0;o=a[T>>2]|0;if((o|0)>0){l=0;do{if((Do(S,C,(a[_>>2]|0)+(l*24|0)|0)|0)<0){l=14;break e}o=a[t>>2]|0;g=+u[o+(l<<4)>>3]-+u[S>>3];b=+u[o+(l<<4)+8>>3]-+u[x>>3];o=l<<1;u[$+(o<<3)>>3]=g;u[$+((o|1)<<3)>>3]=b;b=g*g+b*b;u[M+(l<<3)>>3]=b;u[k+(l<<3)>>3]=b;l=l+1|0;o=a[T>>2]|0}while((l|0)<(o|0))}fa(M,o,8,1);b=+u[h>>3]*4;b=b<16?16:b;l=a[T>>2]|0;g=b/6;if((l|0)>0){s=0;o=0;do{p=+u[M+(o<<3)>>3];if(p>b)p=g;else{p=1-p/b;p=g*(1-p*(p*p))}s=s+p;o=o+1|0}while((o|0)<(l|0))}else s=0;s=s/+(l|0);if(s<+u[n>>3]){l=36;break}if(((w|0)>0?s<+u[m>>3]:0)?s/v>+u[y>>3]:0){l=36;break}if((w|0)==(a[E>>2]|0)){l=36;break}if((l|0)>0){f=0;o=0;do{p=+u[k+(f<<3)>>3];if(p<=b){l=o*6|0;c=R+(l<<3)|0;if((Io(c,e,i,(a[_>>2]|0)+(f*24|0)|0)|0)<0){l=28;break e}v=1-p/b;v=v*v;u[c>>3]=+u[c>>3]*v;c=R+((l|1)<<3)|0;u[c>>3]=+u[c>>3]*v;c=R+(l+2<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+3<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+4<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+5<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+6<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+7<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+8<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+9<<3)|0;u[c>>3]=v*+u[c>>3];c=R+(l+10<<3)|0;u[c>>3]=v*+u[c>>3];l=R+(l+11<<3)|0;u[l>>3]=v*+u[l>>3];l=f<<1;u[$+(o<<3)>>3]=v*+u[$+(l<<3)>>3];u[$+(o+1<<3)>>3]=v*+u[$+((l|1)<<3)>>3];l=a[T>>2]|0;o=o+2|0}f=f+1|0}while((f|0)<(l|0))}else o=0;if((o|0)<6){l=32;break}if((Lo(A,$,R,o)|0)<0){l=34;break}Fo(i,A)|0;v=s;w=w+1|0}if((l|0)==14){Wo(R,$,k,M);o=-1;break}else if((l|0)==28){Wo(R,$,k,M);o=-1;break}else if((l|0)==32){Wo(R,$,k,M);o=-1;break}else if((l|0)==34){Wo(R,$,k,M);o=-1;break}else if((l|0)==36){u[r>>3]=s;ja(R);ja($);ja(k);ja(M);o=0;break}}else o=-1;while(0);d=P;return o|0}function Wo(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;ja(e);ja(t);ja(n);ja(i);return}function Go(e,t){e=e|0;t=t|0;var n=0;n=+u[e>>3]-+u[t>>3];return(n<0?-1:n>0&1)|0}function qo(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0,V=0,W=0,G=0,q=0,Y=0,X=0,K=0,Z=0;G=d;d=d+64|0;C=G+48|0;k=G+40|0;M=G+32|0;x=G+24|0;E=G+16|0;m=G+8|0;c=G;e:do if((i|0)>=4){o=0;while(1){if((o|0)>=(i|0))break;if(+u[n+(o*24|0)+16>>3]!=0){o=-1;break e}else o=o+1|0}if((((((((!(+u[e>>3]==0)?!(+u[e+32>>3]!=0):0)?(S=e+40|0,!(+u[S>>3]==0)):0)?!(+u[e+64>>3]!=0):0)?!(+u[e+72>>3]!=0):0)?!(+u[e+80>>3]!=1):0)?!(+u[e+24>>3]!=0):0)?!(+u[e+56>>3]!=0):0)?!(+u[e+88>>3]!=0):0){o=i<<1;A=oo(o,8)|0;if(!A){to(3,5124,c);o=-1;break}_=oo(o,1)|0;if(!_){fo(A)|0;to(3,5150,m);o=-1;break}if(i){o=a[A>>2]|0;c=a[_>>2]|0;m=0;do{Z=n+(m*24|0)|0;q=m<<4;u[o+(q<<3)>>3]=+u[Z>>3];K=n+(m*24|0)+8|0;u[o+((q|1)<<3)>>3]=+u[K>>3];u[o+((q|2)<<3)>>3]=1;u[o+((q|3)<<3)>>3]=0;u[o+((q|4)<<3)>>3]=0;u[o+((q|5)<<3)>>3]=0;X=t+(m<<4)|0;u[o+((q|6)<<3)>>3]=-(+u[Z>>3]*+u[X>>3]);u[o+((q|7)<<3)>>3]=-(+u[K>>3]*+u[X>>3]);u[o+((q|8)<<3)>>3]=0;u[o+((q|9)<<3)>>3]=0;u[o+((q|10)<<3)>>3]=0;u[o+((q|11)<<3)>>3]=+u[Z>>3];u[o+((q|12)<<3)>>3]=+u[K>>3];u[o+((q|13)<<3)>>3]=1;Y=t+(m<<4)+8|0;u[o+((q|14)<<3)>>3]=-(+u[Z>>3]*+u[Y>>3]);u[o+((q|15)<<3)>>3]=-(+u[K>>3]*+u[Y>>3]);q=m<<1;u[c+(q<<3)>>3]=+u[X>>3];u[c+((q|1)<<3)>>3]=+u[Y>>3];m=m+1|0}while((m|0)!=(i|0))}i=co(A)|0;if(!i){fo(A)|0;fo(_)|0;to(3,5176,E);o=-1;break}m=lo(i,A)|0;if(!m){fo(A)|0;fo(_)|0;fo(i)|0;to(3,5202,x);o=-1;break}c=lo(i,_)|0;if(!c){fo(A)|0;fo(_)|0;fo(i)|0;fo(m)|0;to(3,5228,M);o=-1;break}if((go(m)|0)<0){fo(A)|0;fo(_)|0;fo(i)|0;fo(m)|0;fo(c)|0;to(3,5254,k);o=-1;break}o=lo(m,c)|0;if(!o){fo(A)|0;fo(_)|0;fo(i)|0;fo(m)|0;fo(c)|0;to(3,5280,C);o=-1;break}Z=a[o>>2]|0;p=+u[Z+48>>3];V=+u[e+48>>3];y=+u[S>>3];s=(+u[Z+24>>3]-p*V)/y;b=+u[e+16>>3];W=+u[e+8>>3];v=+u[e>>3];g=(+u[Z>>3]-p*b-s*W)/v;l=+u[Z+56>>3];f=(+u[Z+32>>3]-V*l)/y;h=(+u[Z+8>>3]-b*l-W*f)/v;y=(+u[Z+40>>3]-V)/y;v=(+u[Z+16>>3]-b-W*y)/v;fo(A)|0;fo(_)|0;fo(i)|0;fo(m)|0;fo(c)|0;fo(o)|0;W=+z(+(p*p+(s*s+g*g)));b=+z(+(l*l+(f*f+h*h)));g=g/W;s=s/W;p=p/W;h=h/b;f=f/b;l=l/b;b=(W+b)*.5;v=v/b;W=1/b;if(W<0){U=-s;l=-l;f=-f;p=-p;h=-h;B=-g;V=-v;j=-W}else{U=s;B=g;V=v;j=y/b}s=l*U-f*p;g=h*p-l*B;v=f*B-h*U;b=+z(+(v*v+(s*s+g*g)));do if(!(b==0)){y=s/b;g=g/b;s=v/b;H=l*p+(f*U+h*B);H=H<0?-H:H;H=(+z(+(H+1))+ +z(+(1-H)))*.5;if(B*g-U*y!=0){o=0;$=B;w=U;R=p;O=y;N=g}else{Z=B*s-p*y!=0;o=Z?1:2;$=Z?B:p;w=Z?p:U;R=Z?U:B;O=Z?y:s;N=Z?s:g;s=Z?g:y}v=$*N;b=w*O;g=v-b;if(g==0){g=U;s=B;break}P=(w*s-R*N)/g;T=H*N/g;v=b-v;g=($*s-R*O)/v;v=H*O/v;b=P*P+g*g+1;y=P*T+g*v;w=y*y-b*(T*T+v*v+-1);if(w<0){g=U;s=B;break}F=+z(+w);L=(F-y)/b;R=T+P*L;I=v+g*L;F=(-y-F)/b;P=T+P*F;v=v+g*F;Z=(o|0)==1;g=Z?N:s;b=Z?s:N;D=Z?L:I;L=Z?I:L;I=Z?F:v;N=Z?v:F;Z=(o|0)==2&(Z^1);v=Z?O:g;g=Z?g:O;F=Z?L:R;L=Z?R:L;s=Z?N:P;O=Z?P:N;if(h*b-f*g!=0){o=0;$=h;w=f;R=l;N=g;T=b}else{Z=h*v-l*g!=0;o=Z?1:2;$=Z?h:l;w=Z?l:f;R=Z?f:h;N=Z?g:v;T=Z?v:b;v=Z?b:g}b=$*T;y=w*N;g=b-y;if(g==0){g=U;s=B;break}P=(w*v-R*T)/g;T=H*T/g;g=y-b;w=($*v-R*N)/g;g=H*N/g;v=P*P+w*w+1;b=P*T+w*g;y=b*b-v*(T*T+g*g+-1);if(y<0){g=U;s=B;break}y=+z(+y);l=(y-b)/v;B=T+P*l;U=g+w*l;y=(-b-y)/v;p=T+P*y;h=g+w*y;Z=(o|0)==1;f=Z?l:U;l=Z?U:l;w=Z?y:h;y=Z?h:y;Z=(o|0)==2&(Z^1);h=Z?l:B;l=Z?B:l;T=Z?y:p;y=Z?p:y;p=L*l+(D*f+F*h);p=p<0?-p:p;g=L*y+(D*w+F*T);g=g<0?-g:g;v=O*l+(I*f+s*h);v=v<0?-v:v;b=O*y+(I*w+s*T);b=b<0?-b:b;if(p<g)if(p<v){if(p<b){g=D;p=L;s=F;break}g=I;l=y;f=w;p=O;h=T;break}else{if(v<b){g=I;p=O;break}g=I;l=y;f=w;p=O;h=T;break}else if(g<v){if(g<b){g=D;l=y;f=w;p=L;h=T;s=F;break}g=I;l=y;f=w;p=O;h=T;break}else{if(v<b){g=I;p=O;break}g=I;l=y;f=w;p=O;h=T;break}}else{g=U;s=B}while(0);F=l*g-f*p;H=h*p-l*s;U=f*s-h*g;B=+z(+(U*U+(F*F+H*H)));u[r>>3]=s;u[r+32>>3]=g;u[r+64>>3]=p;u[r+8>>3]=h;u[r+40>>3]=f;u[r+72>>3]=l;u[r+16>>3]=F/B;u[r+48>>3]=H/B;u[r+80>>3]=U/B;u[r+24>>3]=V;u[r+56>>3]=j;u[r+88>>3]=W;o=0}else o=-1}else o=-1;while(0);d=G;return o|0}function Yo(e){e=e|0;ja(a[e>>2]|0);ja(e);return 0}function Xo(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;return+ +Zo(e,t,n,i,0)}function Ko(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;return+ +Zo(e,t,n,i,1)}function Zo(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+208|0;k=R+200|0;M=R+192|0;T=R+96|0;S=R;A=i+4|0;p=a[A>>2]|0;g=i+112|0;v=i+120|0;if((p|0)>0){E=a[i>>2]|0;w=(n|0)>0;_=(n|0)>0;x=0;do{if(!(a[E+(x*320|0)+4>>2]|0)){if(w){l=a[E+(x*320|0)>>2]|0;c=0;s=-1;do{if((a[t+(c<<8)+8>>2]|0)==(l|0)?(h=+u[t+(c<<8)+40>>3],!(h<+u[g>>3])):0)if(!((s|0)!=-1?!(+u[t+(s<<8)+40>>3]<h):0))s=c;c=c+1|0}while((c|0)<(n|0))}else s=-1;a[E+(x*320|0)+304>>2]=s;if((s|0)>-1)a[t+(s<<8)+16>>2]=a[t+(s<<8)+20>>2]}else{c=E+(x*320|0)+312|0;f=E+(x*320|0)|0;if(_){m=0;s=-1;do{l=a[t+(m<<8)+12>>2]|0;if((l|0)==0?(y=t+(m<<8)+248|0,b=a[y>>2]|0,y=a[y+4>>2]|0,!((b|0)==0&(y|0)==0)):0){l=c;if((b|0)==(a[l>>2]|0)?(y|0)==(a[l+4>>2]|0):0)$=20}else if((l|0)==(a[f>>2]|0))$=20;if(($|0)==20){$=0;o=+u[t+(m<<8)+48>>3];if(!(o<+u[v>>3]))if(!((s|0)!=-1?!(+u[t+(s<<8)+48>>3]<o):0))s=m}m=m+1|0}while((m|0)<(n|0))}else s=-1;a[E+(x*320|0)+304>>2]=s;if((s|0)>-1)a[t+(s<<8)+16>>2]=a[t+(s<<8)+24>>2]}x=x+1|0}while((x|0)<(p|0))}if((p|0)>0){g=0;s=0;p=0;l=0;while(1){c=a[i>>2]|0;f=a[c+(g*320|0)+304>>2]|0;do if((f|0)<0)c=p;else{m=t+(f<<8)|0;if(+Ec(e,m,+u[c+(g*320|0)+8>>3],S)>4){a[(a[i>>2]|0)+(g*320|0)+304>>2]=-1;c=t+(f<<8)+236|0;if(a[c>>2]|0){c=p;break}a[c>>2]=7;c=p;break}c=a[m>>2]|0;if((l|0)==0|(p|0)<(c|0)){s=0;do{u[T+(s<<5)>>3]=+u[S+(s<<5)>>3];u[T+(s<<5)+8>>3]=+u[S+(s<<5)+8>>3];u[T+(s<<5)+16>>3]=+u[S+(s<<5)+16>>3];u[T+(s<<5)+24>>3]=+u[S+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3);s=g}else c=p;l=l+1|0}while(0);g=g+1|0;if((g|0)>=(a[A>>2]|0))break;else p=c}}else{s=0;l=0}do if((l|0)!=0?(l|0)>=(a[i+128>>2]|0):0){no(T,(a[i>>2]|0)+(s*320|0)+112|0,S)|0;p=l<<2;v=Ba(l<<6)|0;if(!v){to(3,5472,M);Et(1)}g=Ba(l*96|0)|0;if(!g){to(3,5472,k);Et(1)}c=a[A>>2]|0;if((c|0)>0){f=a[i>>2]|0;m=0;s=0;do{l=a[f+(m*320|0)+304>>2]|0;if((l|0)>=0){M=a[t+(l<<8)+16>>2]|0;n=(4-M|0)%4|0;k=s<<3;u[v+(k<<3)>>3]=+u[t+(l<<8)+168+(n<<4)>>3];u[v+((k|1)<<3)>>3]=+u[t+(l<<8)+168+(n<<4)+8>>3];n=(5-M|0)%4|0;u[v+((k|2)<<3)>>3]=+u[t+(l<<8)+168+(n<<4)>>3];u[v+((k|3)<<3)>>3]=+u[t+(l<<8)+168+(n<<4)+8>>3];n=(6-M|0)%4|0;u[v+((k|4)<<3)>>3]=+u[t+(l<<8)+168+(n<<4)>>3];u[v+((k|5)<<3)>>3]=+u[t+(l<<8)+168+(n<<4)+8>>3];M=(7-M|0)%4|0;u[v+((k|6)<<3)>>3]=+u[t+(l<<8)+168+(M<<4)>>3];u[v+((k|7)<<3)>>3]=+u[t+(l<<8)+168+(M<<4)+8>>3];k=s*12|0;u[g+(k<<3)>>3]=+u[f+(m*320|0)+208>>3];u[g+((k|1)<<3)>>3]=+u[f+(m*320|0)+216>>3];u[g+((k|2)<<3)>>3]=+u[f+(m*320|0)+224>>3];u[g+((k|3)<<3)>>3]=+u[f+(m*320|0)+232>>3];u[g+(k+4<<3)>>3]=+u[f+(m*320|0)+240>>3];u[g+(k+5<<3)>>3]=+u[f+(m*320|0)+248>>3];u[g+(k+6<<3)>>3]=+u[f+(m*320|0)+256>>3];u[g+(k+7<<3)>>3]=+u[f+(m*320|0)+264>>3];u[g+(k+8<<3)>>3]=+u[f+(m*320|0)+272>>3];u[g+(k+9<<3)>>3]=+u[f+(m*320|0)+280>>3];M=a[i>>2]|0;u[g+(k+10<<3)>>3]=+u[M+(m*320|0)+288>>3];u[g+(k+11<<3)>>3]=+u[M+(m*320|0)+296>>3];s=s+1|0}m=m+1|0}while((m|0)<(c|0))}f=i+104|0;l=(r|0)!=0;if(!(a[f>>2]|0)){s=i+8|0;o=+_c(e,S,v,g,p,s);if(l&o>=20){Bo(a[e>>2]|0,.8)|0;o=+xc(e,S,v,g,p,s);if(o>=20){Bo(a[e>>2]|0,.6)|0;o=+xc(e,S,v,g,p,s);if(o>=20){Bo(a[e>>2]|0,.4)|0;o=+xc(e,S,v,g,p,s);if(o>=20){Bo(a[e>>2]|0,0)|0;o=+xc(e,S,v,g,p,s)}}}}ja(g);ja(v)}else{o=+_c(e,S,v,g,p,T);c=i+8|0;h=+_c(e,c,v,g,p,c);s=o<h;do if(l){if(s){s=0;do{u[i+8+(s<<5)>>3]=+u[T+(s<<5)>>3];u[i+8+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[i+8+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[i+8+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20){Bo(a[e>>2]|0,.8)|0;o=+xc(e,S,v,g,p,T);h=+xc(e,c,v,g,p,c);if(o<h){s=0;do{u[i+8+(s<<5)>>3]=+u[T+(s<<5)>>3];u[i+8+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[i+8+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[i+8+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20){Bo(a[e>>2]|0,.6)|0;o=+xc(e,S,v,g,p,T);h=+xc(e,c,v,g,p,c);if(o<h){s=0;do{u[i+8+(s<<5)>>3]=+u[T+(s<<5)>>3];u[i+8+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[i+8+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[i+8+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20){Bo(a[e>>2]|0,.4)|0;o=+xc(e,S,v,g,p,T);h=+xc(e,c,v,g,p,c);if(o<h){s=0;do{u[i+8+(s<<5)>>3]=+u[T+(s<<5)>>3];u[i+8+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[i+8+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[i+8+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20){Bo(a[e>>2]|0,0)|0;o=+xc(e,S,v,g,p,T);h=+xc(e,c,v,g,p,c);if(o<h)s=0;else{o=h;break}do{u[i+8+(s<<5)>>3]=+u[T+(s<<5)>>3];u[i+8+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[i+8+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[i+8+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}}}}}else if(s){s=0;do{u[i+8+(s<<5)>>3]=+u[T+(s<<5)>>3];u[i+8+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[i+8+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[i+8+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;while(0);ja(g);ja(v)}if(o<20){a[f>>2]=1;break}a[f>>2]=0;f=a[A>>2]|0;if((f|0)>0){s=a[i>>2]|0;c=0;do{l=a[s+(c*320|0)+304>>2]|0;if((l|0)>=0?(C=t+(l<<8)+236|0,(a[C>>2]|0)==0):0)a[C>>2]=8;c=c+1|0}while((c|0)<(f|0))}}else $=38;while(0);if(($|0)==38){a[i+104>>2]=0;o=-1}d=R;return+o}function Jo(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0,V=0,z=0,W=0,G=0,q=0,Y=0;G=d;d=d+2544|0;z=G+208|0;V=G+200|0;P=G+184|0;j=G+176|0;R=G+168|0;$=G+152|0;B=G+144|0;C=G+136|0;F=G+128|0;L=G+120|0;I=G+112|0;A=G+104|0;s=G+96|0;o=G+88|0;r=G+80|0;i=G+72|0;n=G+64|0;N=G;O=G+2280|0;D=G+232|0;k=G+224|0;U=G+220|0;T=G+216|0;S=G+212|0;W=qr(e,5306)|0;e:do if(!W){a[n>>2]=e;to(3,5308,n);n=fr(a[(dr()|0)>>2]|0)|0;a[i>>2]=5367;a[i+4>>2]=n;to(3,5361,i);n=0}else{Qo(O,W);a[r>>2]=U;if((aa(O,5368,r)|0)!=1){a[o>>2]=e;to(3,5371,o);Vr(W)|0;n=0;break}n=a[U>>2]|0;H=Ba(n*320|0)|0;if(!H){to(3,5472,s);Et(1)}v=N+8|0;b=N+16|0;y=N+24|0;E=N+32|0;w=N+40|0;_=N+48|0;x=N+56|0;M=(t|0)==0;t:do if((n|0)>0){n=0;r=0;n:while(1){Qo(O,W);i=H+(n*320|0)|0;o=H+(n*320|0)+312|0;a[A>>2]=o;a[A+4>>2]=k;if((aa(O,5489,A)|0)==1){g=a[o>>2]|0;a[i>>2]=(g&-32768|0)==0&0==0?g&32767:0;a[H+(n*320|0)+4>>2]=1;r=r|2}else{if(M){i=10;break}if(!(ao(D,e,2048,1)|0)){i=12;break}xa(D,O,2047-(_a(D)|0)|0)|0;g=Qa(t,D)|0;a[i>>2]=g;if((g|0)<0){i=14;break}a[H+(n*320|0)+4>>2]=0;r=r|1}Qo(O,W);i=H+(n*320|0)+8|0;a[C>>2]=i;if((aa(O,5785,C)|0)!=1){i=18;break}Qo(O,W);m=H+(n*320|0)+16|0;p=H+(n*320|0)+24|0;g=H+(n*320|0)+40|0;a[$>>2]=m;a[$+4>>2]=p;a[$+8>>2]=H+(n*320|0)+32;a[$+12>>2]=g;if((aa(O,5894,$)|0)!=4){a[R>>2]=T;a[R+4>>2]=S;if((aa(O,5910,R)|0)==2)o=0;else{i=21;break}}else o=1;do{Qo(O,W);a[P>>2]=H+(n*320|0)+16+(o<<5);a[P+4>>2]=H+(n*320|0)+16+(o<<5)+8;a[P+8>>2]=H+(n*320|0)+16+(o<<5)+16;a[P+12>>2]=H+(n*320|0)+16+(o<<5)+24;if((aa(O,5894,P)|0)!=4){i=23;break n}o=o+1|0}while((o|0)<3);io(m,H+(n*320|0)+112|0)|0;Y=+u[i>>3];q=Y*-.5;u[N>>3]=q;Y=Y*.5;u[v>>3]=Y;u[b>>3]=Y;u[y>>3]=Y;u[E>>3]=Y;u[w>>3]=q;u[_>>3]=q;u[x>>3]=q;i=H+(n*320|0)+48|0;o=H+(n*320|0)+56|0;s=H+(n*320|0)+72|0;l=H+(n*320|0)+80|0;c=H+(n*320|0)+88|0;f=H+(n*320|0)+104|0;h=0;do{q=+u[N+(h<<4)>>3];Y=+u[N+(h<<4)+8>>3];u[H+(n*320|0)+208+(h*24|0)>>3]=+u[g>>3]+(+u[m>>3]*q+ +u[p>>3]*Y);u[H+(n*320|0)+208+(h*24|0)+8>>3]=+u[s>>3]+(+u[i>>3]*q+ +u[o>>3]*Y);u[H+(n*320|0)+208+(h*24|0)+16>>3]=+u[f>>3]+(+u[l>>3]*q+ +u[c>>3]*Y);h=h+1|0}while((h|0)!=4);n=n+1|0;if((n|0)>=(a[U>>2]|0))break t}if((i|0)==10){a[I>>2]=e;a[I+4>>2]=O;to(3,5496,I)}else if((i|0)==12){a[L>>2]=e;to(3,5624,L)}else if((i|0)==14){a[F>>2]=e;a[F+4>>2]=D;to(3,5708,F)}else if((i|0)==18){a[B>>2]=e;a[B+4>>2]=n+1;to(3,5789,B)}else if((i|0)==21){a[j>>2]=e;a[j+4>>2]=n+1;to(3,5916,j)}else if((i|0)==23){a[V>>2]=e;a[V+4>>2]=n+1;to(3,5916,V)}Vr(W)|0;ja(H);n=0;break e}else r=0;while(0);Vr(W)|0;n=Ba(136)|0;if(!n){to(3,5472,z);Et(1)}a[n>>2]=H;a[n+4>>2]=a[U>>2];a[n+104>>2]=0;do if((r&3|0)!=3){i=n+108|0;if(!(r&1)){a[i>>2]=1;break}else{a[i>>2]=0;break}}else a[n+108>>2]=2;while(0);u[n+112>>3]=.5;u[n+120>>3]=.5}while(0);d=G;return n|0}function Qo(e,t){e=e|0;t=t|0;var n=0,r=0;e:do if(Gr(e,256,t)|0)while(1){n=_a(e)|0;t:do if(n)while(1){n=n+-1|0;r=e+n|0;switch(i[r>>0]|0){case 13:case 10:break;default:break t}i[r>>0]=0;if(!n)break t}while(0);switch(i[e>>0]|0){case 0:case 35:break;default:break e}if(!(Gr(e,256,t)|0))break e}while(0);return}function es(e,t,n,i){e=e|0;t=+t;n=+n;i=i|0;var r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0;v=d;d=d+400|0;h=v+296|0;g=v+200|0;m=v+128|0;p=v;l=a[e>>2]|0;r=a[e+4>>2]|0;if((yo(e+8|0,h,g)|0)<0)to(3,6025,v+392|0);else{s=+(r+-1|0);r=h+32|0;u[r>>3]=s*+u[h+64>>3]-+u[r>>3];r=h+40|0;u[r>>3]=s*+u[h+72>>3]-+u[r>>3];r=h+48|0;u[r>>3]=s*+u[h+80>>3]-+u[r>>3];r=h+56|0;u[r>>3]=s*+u[h+88>>3]-+u[r>>3];o=+u[h+80>>3];r=0;do{u[m+(r*24|0)>>3]=+u[h+(r<<5)>>3]/o;u[m+(r*24|0)+8>>3]=+u[h+(r<<5)+8>>3]/o;u[m+(r*24|0)+16>>3]=+u[h+(r<<5)+16>>3]/o;r=r+1|0}while((r|0)!=3);o=+(l+-1|0);u[p>>3]=+u[m>>3]*2/o;u[p+8>>3]=+u[m+8>>3]*2/o;u[p+16>>3]=+u[m+16>>3]*2/o+-1;l=p+24|0;a[l>>2]=0;a[l+4>>2]=0;a[l+8>>2]=0;a[l+12>>2]=0;u[p+40>>3]=+u[m+32>>3]*2/s;u[p+48>>3]=+u[m+40>>3]*2/s+-1;l=p+56|0;o=n-t;a[l>>2]=0;a[l+4>>2]=0;a[l+8>>2]=0;a[l+12>>2]=0;a[l+16>>2]=0;a[l+20>>2]=0;u[p+80>>3]=(t+n)/o;u[p+88>>3]=n*-2*t/o;l=p+96|0;a[l>>2]=0;a[l+4>>2]=0;a[l+8>>2]=0;a[l+12>>2]=0;u[p+112>>3]=1;u[p+120>>3]=0;o=+u[g+24>>3];s=+u[g+56>>3];n=+u[g+88>>3];l=0;do{t=+u[p+(l<<5)>>3];r=p+(l<<5)+8|0;e=p+(l<<5)+16|0;c=+u[r>>3];f=+u[e>>3];h=0;do{u[i+((h<<2)+l<<3)>>3]=t*+u[g+(h<<3)>>3]+c*+u[g+32+(h<<3)>>3]+f*+u[g+64+(h<<3)>>3];h=h+1|0}while((h|0)!=3);u[i+(l+12<<3)>>3]=+u[p+(l<<5)+24>>3]+(t*o+ +u[r>>3]*s+ +u[e>>3]*n);l=l+1|0}while((l|0)!=4)}d=v;return}function ts(e){e=e|0;a[496]=e;return}function ns(){return a[496]|0}function is(e){e=e|0;var t=0,n=0;t=e+212|0;n=a[t>>2]|0;if(n){Dc(n)|0;Jl(a[t>>2]|0)|0;a[t>>2]=0}t=e+224|0;if(a[t>>2]|0){ql(t)|0;a[t>>2]=0}t=e+192|0;if(a[t>>2]|0){So(t)|0;a[t>>2]=0}return}function rs(e){e=e|0;var t=0,n=0,i=0,r=0,o=0;o=d;d=d+16|0;n=o;a[n>>2]=e;if(!(Ws(2044,n)|0))e=-1;else{r=Gs(2044,n)|0;e=r+196|0;t=a[e>>2]|0;if(t){ja(t);a[e>>2]=0;a[r+200>>2]=0}is(r);Fc(a[r+216>>2]|0)|0;qs(2044,n)|0;n=r+248|0;i=r+252|0;e=a[n>>2]|0;if((a[i>>2]|0)!=(e|0)){t=0;do{Yo(a[e+(t<<3)+4>>2]|0)|0;t=t+1|0;e=a[n>>2]|0}while(t>>>0<(a[i>>2]|0)-e>>3>>>0)}Ys(n);Pi(n);Ys(r+248|0);Pi(r);e=0}d=o;return e|0}function as(e){e=e|0;var t=0,n=0,r=0,o=0,s=0;s=d;d=d+208|0;o=s+192|0;r=s;n=s+196|0;if(!(i[e>>0]&1))t=e+1|0;else t=a[e+8>>2]|0;if((_o(t,1,r,s+184|0)|0)<0){if(!(i[e>>0]&1))t=e+1|0;else t=a[e+8>>2]|0;a[o>>2]=t;to(3,6093,o);t=-1}else{t=a[521]|0;a[521]=t+1;a[n>>2]=t;Kc(Xs(2064,n)|0,r|0,184)|0}d=s;return t|0}function os(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0;h=d;d=d+48|0;f=h+24|0;c=h+16|0;s=h+8|0;r=h;n=h+32|0;i=h+28|0;a[n>>2]=e;a[i>>2]=t;do if((Ws(2044,n)|0)!=0?(l=Gs(2044,n)|0,(Ks(2064,i)|0)!=0):0){o=l+8|0;Kc(o|0,Xs(2064,i)|0,184)|0;i=a[o>>2]|0;n=l+204|0;t=a[l+12>>2]|0;e=l+208|0;if(!((i|0)==(a[n>>2]|0)?(t|0)==(a[e>>2]|0):0)){a[r>>2]=i;a[r+4>>2]=t;to(2,6152,r);bo(o,a[n>>2]|0,a[e>>2]|0,o)|0}is(l);n=To(o,15)|0;e=l+192|0;a[e>>2]=n;if(!n){to(3,6199,s);n=-1;break}n=Yl(n)|0;t=l+212|0;a[t>>2]=n;if(!n){to(3,6237,c);n=-1;break}Xl(n,2)|0;c=Wl(o)|0;a[l+224>>2]=c;if(!c){to(3,6274,f);n=-1;break}else{Oc(a[t>>2]|0,a[l+216>>2]|0)|0;es(a[e>>2]|0,+u[l+232>>3],+u[l+240>>3],l+264|0);n=0;break}}else n=-1;while(0);d=h;return n|0}function ss(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0,l=0;l=d;d=d+16|0;s=l+8|0;o=l;n=l+12|0;a[n>>2]=e;if(Ws(2044,n)|0){r=Gs(2044,n)|0;if(!(i[t>>0]&1))t=t+1|0;else t=a[t+8>>2]|0;e=r+216|0;n=Qa(a[e>>2]|0,t)|0;a[r+260>>2]=n;if((n|0)<0){a[o>>2]=t;to(3,6312,o);Fc(a[e>>2]|0)|0;to(3,6358,s);n=-1}}else n=-1;d=l;return n|0}function ls(e,t){e=e|0;t=t|0;var n=0,r=0,o=0,s=0,l=0,c=0,u=0;u=d;d=d+32|0;o=u+16|0;r=u+8|0;n=u+20|0;c=u;a[n>>2]=e;do if(Ws(2044,n)|0){l=Gs(2044,n)|0;if(!(i[t>>0]&1))n=t+1|0;else n=a[t+8>>2]|0;e=a[l+212>>2]|0;t=l+216|0;s=l+220|0;n=Jo(n,a[t>>2]|0)|0;a[s>>2]=n;if(!n){to(3,6402,r);Fc(a[t>>2]|0)|0;to(3,6429,o);n=-1;break}switch(a[n+108>>2]|0){case 0:{sc(e,0)|0;break}case 1:{sc(e,2)|0;break}default:sc(e,3)|0}e=l+248|0;t=l+252|0;r=a[t>>2]|0;n=r-(a[e>>2]|0)>>3;o=c;a[o>>2]=0;a[o+4>>2]=0;a[c>>2]=n;a[c+4>>2]=a[s>>2];if((r|0)==(a[l+256>>2]|0)){Zs(e,c);break}else{l=c;n=a[l>>2]|0;l=a[l+4>>2]|0;c=r;a[c>>2]=n;a[c+4>>2]=l;a[t>>2]=(a[t>>2]|0)+8;break}}else n=-1;while(0);d=u;return n|0}function cs(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0;o=d;d=d+16|0;n=o;a[n>>2]=e;if(((Ws(2044,n)|0)!=0?(i=Gs(2044,n)|0,(t|0)>=0):0)?(r=a[i+248>>2]|0,(a[i+252>>2]|0)-r>>3>>>0>t>>>0):0)n=a[(a[r+(t<<3)+4>>2]|0)+4>>2]|0;else n=-1;d=o;return n|0}function us(e){e=e|0;var t=0,n=0;n=d;d=d+16|0;t=n;a[t>>2]=e;if(!(Ws(2044,t)|0))t=-1;else{t=Gs(2044,t)|0;t=(a[t+252>>2]|0)-(a[t+248>>2]|0)>>3}d=n;return t|0}function ds(e,t){e=e|0;t=+t;var n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;if(Ws(2044,n)|0)u[(Gs(2044,n)|0)+232>>3]=t;d=i;return}function fs(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;if(!(Ws(2044,n)|0))t=-1;else t=+u[(Gs(2044,n)|0)+232>>3];d=i;return+t}function hs(e,t){e=e|0;t=+t;var n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;if(Ws(2044,n)|0)u[(Gs(2044,n)|0)+240>>3]=t;d=i;return}function ms(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;if(!(Ws(2044,n)|0))t=-1;else t=+u[(Gs(2044,n)|0)+240>>3];d=i;return+t}function ps(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;i=r;n=r+4|0;a[n>>2]=e;if((Ws(2044,n)|0)!=0?(sc(a[(Gs(2044,n)|0)+212>>2]|0,t)|0)==0:0){a[i>>2]=t;to(1,6478,i)}d=r;return}function gs(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0)){d=i;return-1}else{e=(uc(a[(Gs(2044,t)|0)+212>>2]|0,n)|0)==0;d=i;return(e?a[n>>2]|0:-1)|0}return 0}function vs(e,t){e=e|0;t=+t;var n=0,i=0,r=0,o=0,s=0,l=0;l=d;d=d+16|0;s=l;n=l+8|0;a[n>>2]=e;if((((Ws(2044,n)|0)!=0?(i=Gs(2044,n)|0,!(t<=0|t>=1)):0)?(r=t,o=a[i+212>>2]|0,(o|0)!=0):0)?(dc(o,r)|0)==0:0){u[s>>3]=r;to(1,6513,s)}d=l;return}function bs(e){e=e|0;var t=0,n=0,i=0,r=0;r=d;d=d+16|0;t=r+8|0;i=r;a[t>>2]=e;if((Ws(2044,t)|0)!=0?(n=a[(Gs(2044,t)|0)+212>>2]|0,(n|0)!=0):0){e=(fc(n,i)|0)==0;d=r;return+(e?+u[i>>3]:-1)}d=r;return-1}function ys(e,t){e=e|0;t=t|0;var n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;if(Ws(2044,n)|0)lc(a[(Gs(2044,n)|0)+212>>2]|0,t)|0;d=i;return}function Es(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0))t=-1;else{cc(a[(Gs(2044,t)|0)+212>>2]|0,n)|0;t=a[n>>2]|0}d=i;return t|0}function ws(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;i=r;n=r+4|0;a[n>>2]=e;if((Ws(2044,n)|0)!=0?(ec(a[(Gs(2044,n)|0)+212>>2]|0,t)|0)==0:0){a[i>>2]=t;to(1,6544,i)}d=r;return}function _s(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0)){d=i;return-1}else{e=(tc(a[(Gs(2044,t)|0)+212>>2]|0,n)|0)==0;d=i;return(e?a[n>>2]|0:-1)|0}return 0}function xs(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0;o=d;d=d+16|0;r=o;n=o+4|0;a[n>>2]=e;if(((Ws(2044,n)|0)!=0?(i=Gs(2044,n)|0,t>>>0<=255):0)?(nc(a[i+212>>2]|0,t)|0)==0:0){a[r>>2]=t;to(1,6569,r)}d=o;return}function Ms(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0)){d=i;return-1}else{e=(ic(a[(Gs(2044,t)|0)+212>>2]|0,n)|0)==0;d=i;return(e?a[n>>2]|0:-1)|0}return 0}function ks(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;i=r;n=r+4|0;a[n>>2]=e;if((Ws(2044,n)|0)!=0?(Zl(a[(Gs(2044,n)|0)+212>>2]|0,t)|0)==0:0){a[i>>2]=t;to(1,6590,i)}d=r;return}function Ts(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0)){d=i;return-1}else{e=(rc(a[(Gs(2044,t)|0)+212>>2]|0,n)|0)==0;d=i;return(e?a[n>>2]|0:-1)|0}return 0}function Ss(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;i=r;n=r+4|0;a[n>>2]=e;if(!(Ws(2044,n)|0))t=0;else{e=(t|0)!=0;Kl(a[(Gs(2044,n)|0)+212>>2]|0,e&1)|0;a[i>>2]=e?6616:6620;to(1,6625,i)}d=r;return t|0}function As(e){e=e|0;var t=0,n=0;n=d;d=d+16|0;t=n;a[t>>2]=e;if(!(Ws(2044,t)|0))t=0;else t=a[(a[(Gs(2044,t)|0)+212>>2]|0)+4834148>>2]|0;d=n;return t|0}function Cs(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0))t=0;else{Ql(a[(Gs(2044,t)|0)+212>>2]|0,n)|0;t=a[n>>2]|0}d=i;return t|0}function $s(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;i=r;n=r+4|0;a[n>>2]=e;if((Ws(2044,n)|0)!=0?(ac(a[(Gs(2044,n)|0)+212>>2]|0,t)|0)==0:0){a[i>>2]=t;to(1,6647,i)}d=r;return}function Rs(e){e=e|0;var t=0,n=0,i=0;i=d;d=d+16|0;t=i+4|0;n=i;a[t>>2]=e;if(!(Ws(2044,t)|0)){d=i;return-1}else{e=(oc(a[(Gs(2044,t)|0)+212>>2]|0,n)|0)==0;d=i;return(e?a[n>>2]|0:-1)|0}return 0}function Ps(e,t){e=e|0;t=t|0;var n=0;n=0;do{u[t+(n<<5)>>3]=+u[e+(n<<5)>>3];u[t+(n<<5)+8>>3]=+u[e+(n<<5)+8>>3];u[t+(n<<5)+16>>3]=+u[e+(n<<5)+16>>3];u[t+(n<<5)+24>>3]=+u[e+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3);return}function Ns(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;r=d;d=d+16|0;i=r;a[i>>2]=e;do if(Ws(2044,i)|0){i=Gs(2044,i)|0;e=a[i+212>>2]|0;if((a[e+44>>2]|0)>(t|0)){+Ec(a[i+224>>2]|0,(t|0)<0?8:e+48+(t<<8)|0,+(n|0),264);i=0;break}else{i=a[523]|0;break}}else i=a[522]|0;while(0);d=r;return i|0}function Os(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;r=d;d=d+16|0;i=r;a[i>>2]=e;do if(Ws(2044,i)|0){i=Gs(2044,i)|0;e=a[i+212>>2]|0;if((a[e+44>>2]|0)>(t|0)){+wc(a[i+224>>2]|0,(t|0)<0?8:e+48+(t<<8)|0,264,+(n|0),264);i=0;break}else{i=a[523]|0;break}}else i=a[522]|0;while(0);d=r;return i|0}function Ds(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;r=d;d=d+16|0;i=r;a[i>>2]=e;do if(Ws(2044,i)|0){i=a[(Gs(2044,i)|0)+212>>2]|0;if((a[i+44>>2]|0)>(t|0)){a[((t|0)<0?8:i+48+(t<<8)|0)+16>>2]=n;i=0;break}else{i=a[523]|0;break}}else i=a[522]|0;while(0);d=r;return i|0}function Is(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0;i=d;d=d+16|0;n=i;a[n>>2]=e;do if(Ws(2044,n)|0){n=a[(Gs(2044,n)|0)+212>>2]|0;if((a[n+44>>2]|0)>(t|0)){n=(t|0)<0?8:n+48+(t<<8)|0;m=+u[33];u[n+168>>3]=m;l=+u[34];u[n+176>>3]=l;h=+u[35];u[n+184>>3]=h;s=+u[36];u[n+192>>3]=s;f=+u[37];u[n+200>>3]=f;o=+u[38];u[n+208>>3]=o;c=+u[39];u[n+216>>3]=c;r=+u[40];u[n+224>>3]=r;u[n+56>>3]=(m+h+f+c)*.25;u[n+64>>3]=(l+s+o+r)*.25;n=0;break}else{n=a[523]|0;break}}else n=a[522]|0;while(0);d=i;return n|0}function Ls(e,t){e=e|0;t=t|0;var n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;do if(Ws(2044,n)|0){n=Gs(2044,n)|0;e=a[n+248>>2]|0;if((t|0)<0?1:(a[n+252>>2]|0)-e>>3>>>0<=t>>>0){n=a[524]|0;break}else{t=a[e+(t<<3)+4>>2]|0;e=a[n+212>>2]|0;+Ko(a[n+224>>2]|0,e+48|0,a[e+44>>2]|0,t);Ps(t+8|0,264);n=0;break}}else n=a[522]|0;while(0);d=i;return n|0}function Fs(e,t){e=e|0;t=t|0;var n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;do if(Ws(2044,n)|0){n=Gs(2044,n)|0;e=a[n+248>>2]|0;if((t|0)<0?1:(a[n+252>>2]|0)-e>>3>>>0<=t>>>0){n=a[524]|0;break}else{t=a[e+(t<<3)+4>>2]|0;e=a[n+212>>2]|0;+Xo(a[n+224>>2]|0,e+48|0,a[e+44>>2]|0,t);Ps(t+8|0,264);n=0;break}}else n=a[522]|0;while(0);d=i;return n|0}function Hs(e){e=e|0;var t=0,n=0;n=d;d=d+16|0;t=n;a[t>>2]=e;if(!(Ws(2044,t)|0))t=a[522]|0;else{t=Gs(2044,t)|0;t=hc(a[t+212>>2]|0,a[t+196>>2]|0)|0}d=n;return t|0}function Us(e){e=e|0;var t=0,n=0;n=d;d=d+16|0;t=n;a[t>>2]=e;if(!(Ws(2044,t)|0))t=2088;else t=(a[(Gs(2044,t)|0)+212>>2]|0)+44|0;d=n;return a[t>>2]|0}function Bs(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;r=d;d=d+16|0;i=r;a[i>>2]=e;do if(Ws(2044,i)|0){e=Gs(2044,i)|0;i=a[e+248>>2]|0;if((t|0)<0?1:(a[e+252>>2]|0)-i>>3>>>0<=t>>>0){i=a[524]|0;break}i=a[i+(t<<3)+4>>2]|0;if((n|0)<0?1:(a[i+4>>2]|0)<=(n|0)){i=a[523]|0;break}else{i=a[i>>2]|0;Ps(i+(n*320|0)+16|0,264);Ut(0,a[i+(n*320|0)+304>>2]|0,a[i+(n*320|0)>>2]|0,a[i+(n*320|0)+4>>2]|0,+ +u[i+(n*320|0)+8>>3])|0;i=0;break}}else i=a[522]|0;while(0);d=r;return i|0}function js(e,t){e=e|0;t=t|0;var n=0,i=0;i=d;d=d+16|0;n=i;a[n>>2]=e;do if(Ws(2044,n)|0){n=a[(Gs(2044,n)|0)+212>>2]|0;if((a[n+44>>2]|0)>(t|0)){n=(t|0)<0?8:n+48+(t<<8)|0;We(1,a[n>>2]|0,a[n+4>>2]|0,a[n+8>>2]|0,a[n+12>>2]|0,a[n+16>>2]|0,a[n+20>>2]|0,a[n+24>>2]|0,+ +u[n+32>>3],+ +u[n+40>>3],+ +u[n+48>>3],+ +u[n+56>>3],+ +u[n+64>>3],+ +u[n+72>>3],+ +u[n+80>>3],+ +u[n+88>>3],+ +u[n+96>>3],+ +u[n+104>>3],+ +u[n+112>>3],+ +u[n+120>>3],+ +u[n+128>>3],+ +u[n+136>>3],+ +u[n+144>>3],+ +u[n+152>>3],+ +u[n+160>>3],+ +u[n+168>>3],+ +u[n+176>>3],+ +u[n+184>>3],+ +u[n+192>>3],+ +u[n+200>>3],+ +u[n+208>>3],+ +u[n+216>>3],+ +u[n+224>>3],a[n+240>>2]|0)|0;n=0;break}else{n=a[523]|0;break}}else n=a[522]|0;while(0);d=i;return n|0}function Vs(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0,o=0,s=0,l=0;s=d;d=d+16|0;o=s+8|0;r=s+12|0;i=a[525]|0;a[525]=i+1;a[r>>2]=i;r=Gs(2044,r)|0;a[r>>2]=i;a[r+204>>2]=e;a[r+208>>2]=t;l=ne(e<<2,t)|0;t=r+200|0;a[t>>2]=l;e=r+196|0;a[e>>2]=Ba(l)|0;l=Ic()|0;a[r+216>>2]=l;if(!l)to(3,8285,s);os(i,n)|0;a[o>>2]=a[t>>2];to(1,8322,o);Ht(2,a[r>>2]|0,a[e>>2]|0,a[t>>2]|0,r+264|0,264)|0;d=s;return a[r>>2]|0}function zs(e){e=e|0;var t=0;e=d;d=d+16|0;t=e;Js(8591,7);Qs(8597,3);el(8606,2);el(8617,3);tl(8633,4);Qs(8651,4);nl(8671,5);Js(8683,8);tl(8700,5);Js(8720,9);Js(8738,10);tl(8760,6);tl(8783,7);Qs(8812,6);Qs(8825,7);Js(8838,11);tl(8857,8);tl(8867,9);Qs(8880,8);Qs(8893,9);il(8912,10);rl(8924,1);al(8936,1);ol(8959,1);al(8982,2);ol(9004,2);sl(9026,1);Qs(9043,10);sl(9060,2);Qs(9073,11);sl(9086,3);Qs(9110,12);ll(9134,3);ol(9147,3);sl(9160,4);Qs(9178,13);sl(9196,5);Qs(9212,14);sl(9228,6);Qs(9245,15);cl(9262,2088);cl(9291,2096);cl(9319,2092);Rt(9352,680,0);Rt(9369,680,1);Rt(9385,680,0);Rt(9407,680,0);Rt(9432,680,1);Rt(9457,680,1);Rt(9482,680,100);Rt(9509,680,0);Rt(9535,680,1);Rt(9561,680,0);Rt(9588,680,0);Rt(9615,680,1);Rt(9641,680,2);Rt(9666,680,3);Rt(9704,680,4);Rt(9741,680,0);Rt(9775,680,0);Rt(9799,680,1);Rt(9825,680,2);Rt(9852,680,2);Rt(9886,680,5);u[t>>3]=.5;ul(9904,t);Rt(9925,680,0);Rt(9944,680,1);Rt(9962,680,2);Rt(9980,680,3);Rt(9999,680,4);Rt(10021,680,3);Rt(10040,680,515);Rt(10069,680,259);Rt(10097,680,4);Rt(10116,680,772);Rt(10146,680,1028);Rt(10176,680,0);Rt(10207,680,1);Rt(10243,680,2);Rt(10277,680,3);Rt(10315,680,0);Rt(10348,680,1);Rt(10395,680,2);Rt(10437,680,3);Rt(10480,680,4);Rt(10532,680,5);Rt(10583,680,6);Rt(10628,680,7);Rt(10667,680,8);Rt(10712,680,9);d=e;return}function Ws(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0;n=a[t>>2]|0;r=a[e+4>>2]|0;e:do if(r){o=r+-1|0;s=(o&r|0)==0;if(s)i=o&n;else i=(n>>>0)%(r>>>0)|0;t=a[(a[e>>2]|0)+(i<<2)>>2]|0;if(t){do{t=a[t>>2]|0;if(!t){t=0;break e}e=a[t+4>>2]|0;if(s)e=e&o;else e=(e>>>0)%(r>>>0)|0;if((e|0)!=(i|0)){t=0;break e}}while((a[t+8>>2]|0)!=(n|0))}else t=0}else t=0;while(0);return t|0}function Gs(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0;o=d;d=d+32|0;r=o+8|0;i=o;n=Ws(e,t)|0;if(!n){vi(r,e,t);bi(i,e,a[r>>2]|0);n=a[i>>2]|0;a[r>>2]=0}d=o;return n+16|0}function qs(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;n=r+4|0;i=r;t=Ws(e,t)|0;if(!t)t=0;else{a[i>>2]=t;a[n>>2]=a[i>>2];pi(e,n)|0;t=1}d=r;return t|0}function Ys(e){e=e|0;var t=0,n=0;n=a[e>>2]|0;if(n){t=e+4|0;e=a[t>>2]|0;if((e|0)!=(n|0)){do e=e+-8|0;while((e|0)!=(n|0));a[t>>2]=e}Pi(n)}return}function Xs(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0;o=d;d=d+32|0;r=o+8|0;i=o;n=Ks(e,t)|0;if(!n){Nl(r,e,t);Ol(i,e,a[r>>2]|0);n=a[i>>2]|0;a[r>>2]=0}d=o;return n+16|0}function Ks(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0;n=a[t>>2]|0;r=a[e+4>>2]|0;e:do if(r){o=r+-1|0;s=(o&r|0)==0;if(s)i=o&n;else i=(n>>>0)%(r>>>0)|0;t=a[(a[e>>2]|0)+(i<<2)>>2]|0;if(t){do{t=a[t>>2]|0;if(!t){t=0;break e}e=a[t+4>>2]|0;if(s)e=e&o;else e=(e>>>0)%(r>>>0)|0;if((e|0)!=(i|0)){t=0;break e}}while((a[t+8>>2]|0)!=(n|0))}else t=0}else t=0;while(0);return t|0}function Zs(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0;l=d;d=d+32|0;s=l;o=e+4|0;n=a[e>>2]|0;r=((a[o>>2]|0)-n>>3)+1|0;if(r>>>0>536870911)$i(e);i=n;n=(a[e+8>>2]|0)-i|0;if(n>>3>>>0<268435455){n=n>>2;n=n>>>0<r>>>0?r:n}else n=536870911;$l(s,n,(a[o>>2]|0)-i>>3,e+8|0);o=s+8|0;r=a[o>>2]|0;n=t;i=a[n+4>>2]|0;t=r;a[t>>2]=a[n>>2];a[t+4>>2]=i;a[o>>2]=r+8;Rl(e,s);Pl(s);d=l;return}function Js(e,t){e=e|0;t=t|0;Ve(e|0,4,2200,10911,1,t|0);return}function Qs(e,t){e=e|0;t=t|0;Ve(e|0,2,2192,10801,10,t|0);return}function el(e,t){e=e|0;t=t|0;Ve(e|0,3,2180,10906,12,t|0);return}function tl(e,t){e=e|0;t=t|0;Ve(e|0,3,2168,10906,13,t|0);return}function nl(e,t){e=e|0;t=t|0;Ve(e|0,2,2160,10801,11,t|0);return}function il(e,t){e=e|0;t=t|0;Ve(e|0,2,2152,10797,7,t|0);return}function rl(e,t){e=e|0;t=t|0;Ve(e|0,1,2148,10794,16,t|0);return}function al(e,t){e=e|0;t=t|0;Ve(e|0,3,2136,10789,1,t|0);return}function ol(e,t){e=e|0;t=t|0;Ve(e|0,2,2128,10785,1,t|0);return}function sl(e,t){e=e|0;t=t|0;Ve(e|0,3,2116,10780,1,t|0);return}function ll(e,t){e=e|0;t=t|0;Ve(e|0,3,2104,10775,2,t|0);return}function cl(e,t){e=e|0;t=t|0;Rt(e|0,680,a[t>>2]|0);return}function ul(e,t){e=e|0;t=t|0;Rt(e|0,720,~~+u[t>>3]>>>0|0);return}function dl(){a[511]=0;a[512]=0;a[513]=0;a[514]=0;c[515]=1;xt(11,2044,g|0)|0;a[516]=0;a[517]=0;a[518]=0;a[519]=0;c[520]=1;xt(12,2064,g|0)|0;zs(0);return}function fl(e){e=e|0;gl(e);return}function hl(e){e=e|0;ml(e);return}function ml(e){e=e|0;var t=0;pl(e,a[e+8>>2]|0);t=a[e>>2]|0;a[e>>2]=0;if(t)Pi(t);return}function pl(e,t){e=e|0;t=t|0;if(t)do{e=t;t=a[t>>2]|0;Pi(e)}while((t|0)!=0);return}function gl(e){e=e|0;var t=0;vl(e,a[e+8>>2]|0);t=a[e>>2]|0;a[e>>2]=0;if(t)Pi(t);return}function vl(e,t){e=e|0;t=t|0;if(t)do{e=t;t=a[t>>2]|0;Ys(e+264|0);Pi(e)}while((t|0)!=0);return}function bl(e,t,n){e=e|0;t=t|0;n=+n;Bu[e&3](t,n);return}function yl(e,t,n){e=e|0;t=t|0;n=n|0;Wu[e&7](t,n);return}function El(e,t){e=e|0;t=t|0;return+ +ju[e&3](t)}function wl(e,t,n){e=e|0;t=t|0;n=+n;Bu[e&3](t,n);return}function _l(e){e=e|0;return Vu[e&1]()|0}function xl(e,t){e=e|0;t=t|0;zu[e&15](t);return}function Ml(e,t){e=e|0;t=t|0;var n=0,i=0;n=d;d=d+16|0;i=n;kl(i,t);e=Gu[e&31](i)|0;Vc(i);d=n;return e|0}function kl(e,t){e=e|0;t=t|0;jc(e,t+4|0,a[t>>2]|0);return}function Tl(e,t,n){e=e|0;t=t|0;n=n|0;return Ju[e&15](t,n)|0}function Sl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,r=0;i=d;d=d+16|0;r=i;kl(r,n);e=Ju[e&15](t,r)|0;Vc(r);d=i;return e|0}function Al(e,t){
e=e|0;t=t|0;return Gu[e&31](t)|0}function Cl(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;return Fu[e&15](t,n,i)|0}function $l(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;a[e+12>>2]=0;a[e+16>>2]=i;if(!t)i=0;else i=Ri(t<<3)|0;a[e>>2]=i;n=i+(n<<3)|0;a[e+8>>2]=n;a[e+4>>2]=n;a[e+12>>2]=i+(t<<3);return}function Rl(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0;i=a[e>>2]|0;o=e+4|0;n=t+4|0;r=(a[o>>2]|0)-i|0;s=(a[n>>2]|0)+(0-(r>>3)<<3)|0;a[n>>2]=s;Kc(s|0,i|0,r|0)|0;r=a[e>>2]|0;a[e>>2]=a[n>>2];a[n>>2]=r;r=t+8|0;i=a[o>>2]|0;a[o>>2]=a[r>>2];a[r>>2]=i;r=e+8|0;e=t+12|0;i=a[r>>2]|0;a[r>>2]=a[e>>2];a[e>>2]=i;a[t>>2]=a[n>>2];return}function Pl(e){e=e|0;var t=0,n=0,i=0;n=a[e+4>>2]|0;i=e+8|0;t=a[i>>2]|0;if((t|0)!=(n|0)){do t=t+-8|0;while((t|0)!=(n|0));a[i>>2]=t}t=a[e>>2]|0;if(t)Pi(t);return}function Nl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;i=Ri(200)|0;a[i+8>>2]=a[n>>2];Gc(i+16|0,0,184)|0;a[e>>2]=i;e=e+4|0;a[e>>2]=t+8;a[e+4>>2]=257;return}function Ol(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0;f=a[n+8>>2]|0;b=n+4|0;a[b>>2]=f;v=t+4|0;d=a[v>>2]|0;g=(d|0)==0;e:do if(!g){h=d+-1|0;m=(h&d|0)==0;if(m)o=h&f;else o=(f>>>0)%(d>>>0)|0;r=a[(a[t>>2]|0)+(o<<2)>>2]|0;if(!r)p=12;else while(1){s=a[r>>2]|0;if(!s){p=12;break e}r=a[s+4>>2]|0;if(m)r=r&h;else r=(r>>>0)%(d>>>0)|0;if((r|0)!=(o|0)){p=12;break e}if((a[s+8>>2]|0)==(f|0)){r=0;n=s;break}else r=s}}else{o=0;p=12}while(0);if((p|0)==12){f=t+12|0;l=+(((a[f>>2]|0)+1|0)>>>0);u=+c[t+16>>2];do if(g|l>+(d>>>0)*u){if(d>>>0>2)r=(d+-1&d|0)==0;else r=0;s=(r&1|d<<1)^1;r=~~+te(+(l/u))>>>0;hi(t,s>>>0<r>>>0?r:s);s=a[v>>2]|0;r=a[b>>2]|0;o=s+-1|0;if(!(o&s)){d=s;o=o&r;break}else{d=s;o=(r>>>0)%(s>>>0)|0;break}}while(0);r=a[(a[t>>2]|0)+(o<<2)>>2]|0;if(!r){r=t+8|0;a[n>>2]=a[r>>2];a[r>>2]=n;a[(a[t>>2]|0)+(o<<2)>>2]=r;r=a[n>>2]|0;if(r){r=a[r+4>>2]|0;o=d+-1|0;if(!(o&d))r=r&o;else r=(r>>>0)%(d>>>0)|0;a[(a[t>>2]|0)+(r<<2)>>2]=n}}else{a[n>>2]=a[r>>2];a[r>>2]=n}a[f>>2]=(a[f>>2]|0)+1;r=1}a[e>>2]=n;i[e+4>>0]=r;return}function Dl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c*3|0)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){do if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(T|0)){i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}else{r[e>>1]=0;i[c>>0]=0;s=v}while(0);y=y+1|0;h=b+3|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+6|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Il(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<1)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){p=o[b>>0]|0;g=o[b+1>>0]|0;do if(((p&248)+10+(p<<5&224)+(g>>>3&28)+(g<<3&248)|0)>(T|0)){i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}else{r[e>>1]=0;i[c>>0]=0;s=v}while(0);y=y+1|0;h=b+2|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+4|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Ll(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<2)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){do if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(T|0)){i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}else{r[e>>1]=0;i[c>>0]=0;s=v}while(0);y=y+1|0;h=b+4|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+8|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Fl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<1)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){g=o[b>>0]|0;do if(((g&240)+24+(g<<4&240)+((o[b+1>>0]|0)&240)|0)>(T|0)){i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}else{r[e>>1]=0;i[c>>0]=0;s=v}while(0);y=y+1|0;h=b+2|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+4|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Hl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<1)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){p=o[b>>0]|0;g=o[b+1>>0]|0;do if(((p&248)+12+(p<<5&224)+(g>>>3&24)+(g<<2&248)|0)>(T|0)){i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}else{r[e>>1]=0;i[c>>0]=0;s=v}while(0);y=y+1|0;h=b+2|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+4|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Ul(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;p=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=p;h=p+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=s*3|0;k=t+-1|0;if((n|0)>0){c=0;s=p;f=p+(k<<1)|0;while(1){r[f>>1]=0;r[s>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{s=s+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;c=t+1|0;_=0-t|0;E=1-t|0;w=~t;e:do if((S|0)>1){x=(k|0)>1;m=(a[l+4>>2]|0)+c|0;M=1;h=e+(c<<2)|0;e=p+(c<<1)|0;s=0;t:while(1){if(x){c=m;y=1;b=h;v=s;while(1){do if(((o[b+2>>0]|0)+(o[b+1>>0]|0)+(o[b+3>>0]|0)|0)>(T|0)){i[c>>0]=-1;s=r[e+(_<<1)>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}m=r[e+(E<<1)>>1]|0;p=m<<16>>16;s=r[e+(w<<1)>>1]|0;g=s<<16>>16;h=s<<16>>16>0;if(m<<16>>16<=0){if(h){r[e>>1]=s;s=g*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-3<<2)|0;if((a[h>>2]|0)<(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=r[e+-2>>1]|0;if(s<<16>>16>0){r[e>>1]=s;s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;s=l+1310736+(s+-3<<2)|0;if((a[s>>2]|0)>=(y|0)){s=v;break}a[s>>2]=y;s=v;break}else{s=v+1|0;if((v|0)>32767)break t;r[e>>1]=s;a[l+1179664+(v<<2)>>2]=s<<16>>16;v=v*7|0;a[l+1310736+(v<<2)>>2]=1;a[l+1310736+(v+1<<2)>>2]=y;a[l+1310736+(v+2<<2)>>2]=M;a[l+1310736+(v+3<<2)>>2]=y;a[l+1310736+(v+4<<2)>>2]=y;a[l+1310736+(v+5<<2)>>2]=M;a[l+1310736+(v+6<<2)>>2]=M;break}}if(h){s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+(g+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;g=l+1310736+(s+-5<<2)|0;a[g>>2]=(a[g>>2]|0)+M;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}h=r[e+-2>>1]|0;if(h<<16>>16<=0){r[e>>1]=m;s=p*7|0;h=l+1310736+(s+-7<<2)|0;a[h>>2]=(a[h>>2]|0)+1;h=l+1310736+(s+-6<<2)|0;a[h>>2]=(a[h>>2]|0)+y;h=l+1310736+(s+-5<<2)|0;a[h>>2]=(a[h>>2]|0)+M;h=l+1310736+(s+-4<<2)|0;if((a[h>>2]|0)>(y|0))a[h>>2]=y;a[l+1310736+(s+-1<<2)>>2]=M;s=v;break}s=a[l+1179664+(p+-1<<2)>>2]|0;p=a[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(p|0)){r[e>>1]=p;if((v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(s|0))a[m>>2]=p;h=h+1|0;if((h|0)>=(v|0)){s=p;break}else m=m+4|0}}else s=p}else{r[e>>1]=s;if((s|0)<(p|0)&(v|0)>0){h=0;m=f;while(1){if((a[m>>2]|0)==(p|0))a[m>>2]=s;h=h+1|0;if((h|0)>=(v|0))break;else m=m+4|0}}}s=(s<<16>>16)*7|0;g=l+1310736+(s+-7<<2)|0;a[g>>2]=(a[g>>2]|0)+1;g=l+1310736+(s+-6<<2)|0;a[g>>2]=(a[g>>2]|0)+y;s=l+1310736+(s+-5<<2)|0;a[s>>2]=(a[s>>2]|0)+M;s=v}else{r[e>>1]=0;i[c>>0]=0;s=v}while(0);y=y+1|0;h=b+4|0;e=e+2|0;c=c+1|0;if((y|0)>=(k|0))break;else{b=h;v=s}}}else c=m;M=M+1|0;if((M|0)>=(S|0)){p=s;C=52;break e}else{m=c+2|0;h=h+8|0;e=e+4|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){e=l+12|0;if((p|0)<1)s=1;else{h=1;s=1;while(1){c=a[f>>2]|0;if((c|0)==(h|0)){c=s;s=s+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[f>>2]=c;if((h|0)<(p|0)){h=h+1|0;f=f+4|0}else break}}m=l+8|0;c=s+-1|0;a[m>>2]=c;if(c){Gc(e|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((s|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[m>>2]|0))}if((p|0)>0){e=0;do{f=(a[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;c=l+12+(f<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(h<<2)>>2]|0);c=f<<1;s=l+655376+(c<<3)|0;u[s>>3]=+u[s>>3]+ +(a[l+1310736+(h+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(h+2<<2)>>2]|0);f=f<<2;c=l+131084+(f<<2)|0;s=a[l+1310736+(h+3<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;c=l+131084+((f|1)<<2)|0;s=a[l+1310736+(h+4<<2)>>2]|0;if((a[c>>2]|0)<(s|0))a[c>>2]=s;c=l+131084+((f|2)<<2)|0;s=a[l+1310736+(h+5<<2)>>2]|0;if((a[c>>2]|0)>(s|0))a[c>>2]=s;s=l+131084+((f|3)<<2)|0;c=a[l+1310736+(h+6<<2)>>2]|0;if((a[s>>2]|0)<(c|0))a[s>>2]=c;e=e+1|0}while((e|0)<(p|0))}if((a[m>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[m>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Bl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;c=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;p=(a[l+4>>2]|0)+c|0;k=1;e=e+c|0;m=m+(c<<1)|0;f=0;t:while(1){if(M){c=p;E=1;y=e;b=f;while(1){do if((o[y>>0]|0|0)>(s|0)){i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0;
}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}else{r[m>>1]=0;i[c>>0]=0;f=b}while(0);E=E+1|0;e=y+1|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}else c=p;k=k+1|0;if((k|0)>=(S|0)){g=f;C=52;break e}else{p=c+2|0;e=e+2|0;m=m+4|0}}to(3,3904,A);c=-1}else{g=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((g|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(g|0)){e=e+1|0;h=h+4|0}else break}}p=l+8|0;c=f+-1|0;a[p>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[p>>2]|0))}if((g|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(g|0))}if((a[p>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[p>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function jl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;c=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;p=(a[l+4>>2]|0)+c|0;k=1;e=e+(c<<1)|0;m=m+(c<<1)|0;f=0;t:while(1){if(M){c=p;E=1;y=e;b=f;while(1){do if((o[y+1>>0]|0|0)>(s|0)){i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}else{r[m>>1]=0;i[c>>0]=0;f=b}while(0);E=E+1|0;e=y+2|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}else c=p;k=k+1|0;if((k|0)>=(S|0)){g=f;C=52;break e}else{p=c+2|0;e=e+4|0;m=m+4|0}}to(3,3904,A);c=-1}else{g=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((g|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(g|0)){e=e+1|0;h=h+4|0}else break}}p=l+8|0;c=f+-1|0;a[p>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[p>>2]|0))}if((g|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(g|0))}if((a[p>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[p>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Vl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;c=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;p=(a[l+4>>2]|0)+c|0;k=1;e=e+(c<<1)|0;m=m+(c<<1)|0;f=0;t:while(1){if(M){c=p;E=1;y=e;b=f;while(1){do if((o[y>>0]|0|0)>(s|0)){i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}else{r[m>>1]=0;i[c>>0]=0;f=b}while(0);E=E+1|0;e=y+2|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}else c=p;k=k+1|0;if((k|0)>=(S|0)){g=f;C=52;break e}else{p=c+2|0;e=e+4|0;m=m+4|0}}to(3,3904,A);c=-1}else{g=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((g|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(g|0)){e=e+1|0;h=h+4|0}else break}}p=l+8|0;c=f+-1|0;a[p>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[p>>2]|0))}if((g|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(g|0))}if((a[p>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[p>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function zl(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0;$=d;d=d+16|0;A=$;m=a[l>>2]|0;S=n+-1|0;if((t|0)>0){c=0;f=m;h=m+((ne(S,t)|0)<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((n|0)>0){c=0;f=m;h=m+(T<<1)|0;while(1){r[h>>1]=0;r[f>>1]=0;c=c+1|0;if((c|0)>=(n|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;f=t+1|0;x=0-t|0;w=1-t|0;_=~t;e:do if((S|0)>1){M=(T|0)>1;c=(a[l+4>>2]|0)+f|0;k=1;e=e+f|0;m=m+(f<<1)|0;s=s+f|0;f=0;t:while(1){if(M){E=1;y=e;b=f;while(1){do if((o[y>>0]|0)>(o[s>>0]|0)){i[c>>0]=-1;f=r[m+(x<<1)>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}p=r[m+(w<<1)>>1]|0;g=p<<16>>16;f=r[m+(_<<1)>>1]|0;v=f<<16>>16;e=f<<16>>16>0;if(p<<16>>16<=0){if(e){r[m>>1]=f;f=v*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-3<<2)|0;if((a[e>>2]|0)<(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=r[m+-2>>1]|0;if(f<<16>>16>0){r[m>>1]=f;f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;f=l+1310736+(f+-3<<2)|0;if((a[f>>2]|0)>=(E|0)){f=b;break}a[f>>2]=E;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;r[m>>1]=f;a[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;a[l+1310736+(b<<2)>>2]=1;a[l+1310736+(b+1<<2)>>2]=E;a[l+1310736+(b+2<<2)>>2]=k;a[l+1310736+(b+3<<2)>>2]=E;a[l+1310736+(b+4<<2)>>2]=E;a[l+1310736+(b+5<<2)>>2]=k;a[l+1310736+(b+6<<2)>>2]=k;break}}if(e){f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+(v+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;v=l+1310736+(f+-5<<2)|0;a[v>>2]=(a[v>>2]|0)+k;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}e=r[m+-2>>1]|0;if(e<<16>>16<=0){r[m>>1]=p;f=g*7|0;e=l+1310736+(f+-7<<2)|0;a[e>>2]=(a[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;a[e>>2]=(a[e>>2]|0)+E;e=l+1310736+(f+-5<<2)|0;a[e>>2]=(a[e>>2]|0)+k;e=l+1310736+(f+-4<<2)|0;if((a[e>>2]|0)>(E|0))a[e>>2]=E;a[l+1310736+(f+-1<<2)>>2]=k;f=b;break}f=a[l+1179664+(g+-1<<2)>>2]|0;g=a[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(g|0)){r[m>>1]=g;if((b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(f|0))a[p>>2]=g;e=e+1|0;if((e|0)>=(b|0)){f=g;break}else p=p+4|0}}else f=g}else{r[m>>1]=f;if((f|0)<(g|0)&(b|0)>0){e=0;p=h;while(1){if((a[p>>2]|0)==(g|0))a[p>>2]=f;e=e+1|0;if((e|0)>=(b|0))break;else p=p+4|0}}}f=(f<<16>>16)*7|0;v=l+1310736+(f+-7<<2)|0;a[v>>2]=(a[v>>2]|0)+1;v=l+1310736+(f+-6<<2)|0;a[v>>2]=(a[v>>2]|0)+E;f=l+1310736+(f+-5<<2)|0;a[f>>2]=(a[f>>2]|0)+k;f=b}else{r[m>>1]=0;i[c>>0]=0;f=b}while(0);E=E+1|0;e=y+1|0;s=s+1|0;m=m+2|0;c=c+1|0;if((E|0)>=(T|0))break;else{y=e;b=f}}}k=k+1|0;if((k|0)>=(S|0)){p=f;C=52;break e}else{c=c+2|0;e=e+2|0;m=m+4|0;s=s+2|0}}to(3,3904,A);c=-1}else{p=0;C=52}while(0);if((C|0)==52){m=l+12|0;if((p|0)<1)f=1;else{e=1;f=1;while(1){c=a[h>>2]|0;if((c|0)==(e|0)){c=f;f=f+1|0}else c=a[l+1179664+(c+-1<<2)>>2]|0;a[h>>2]=c;if((e|0)<(p|0)){e=e+1|0;h=h+4|0}else break}}s=l+8|0;c=f+-1|0;a[s>>2]=c;if(c){Gc(m|0,0,c<<2|0)|0;Gc(l+655376|0,0,c<<4|0)|0;if((f|0)>1){c=0;do{C=c<<2;a[l+131084+(C<<2)>>2]=t;a[l+131084+((C|1)<<2)>>2]=0;a[l+131084+((C|2)<<2)>>2]=n;a[l+131084+((C|3)<<2)>>2]=0;c=c+1|0}while((c|0)<(a[s>>2]|0))}if((p|0)>0){m=0;do{h=(a[l+1179664+(m<<2)>>2]|0)+-1|0;e=m*7|0;c=l+12+(h<<2)|0;a[c>>2]=(a[c>>2]|0)+(a[l+1310736+(e<<2)>>2]|0);c=h<<1;f=l+655376+(c<<3)|0;u[f>>3]=+u[f>>3]+ +(a[l+1310736+(e+1<<2)>>2]|0);c=l+655376+((c|1)<<3)|0;u[c>>3]=+u[c>>3]+ +(a[l+1310736+(e+2<<2)>>2]|0);h=h<<2;c=l+131084+(h<<2)|0;f=a[l+1310736+(e+3<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;c=l+131084+((h|1)<<2)|0;f=a[l+1310736+(e+4<<2)>>2]|0;if((a[c>>2]|0)<(f|0))a[c>>2]=f;c=l+131084+((h|2)<<2)|0;f=a[l+1310736+(e+5<<2)>>2]|0;if((a[c>>2]|0)>(f|0))a[c>>2]=f;f=l+131084+((h|3)<<2)|0;c=a[l+1310736+(e+6<<2)>>2]|0;if((a[f>>2]|0)<(c|0))a[f>>2]=c;m=m+1|0}while((m|0)<(p|0))}if((a[s>>2]|0)>0){c=0;do{t=l+12+(c<<2)|0;n=c<<1;C=l+655376+(n<<3)|0;u[C>>3]=+u[C>>3]/+(a[t>>2]|0);n=l+655376+((n|1)<<3)|0;u[n>>3]=+u[n>>3]/+(a[t>>2]|0);c=c+1|0}while((c|0)<(a[s>>2]|0));c=0}else c=0}else c=0}d=$;return c|0}function Wl(e){e=e|0;return Gl(e+8|0)|0}function Gl(e){e=e|0;var t=0,n=0;n=d;d=d+16|0;t=Ba(4)|0;if(!t){to(3,5472,n);Et(1)}e=Ho(e)|0;a[t>>2]=e;if(!e){ja(t);t=0}d=n;return t|0}function ql(e){e=e|0;var t=0;t=a[e>>2]|0;if(!t)t=-1;else{Uo(t)|0;ja(a[e>>2]|0);a[e>>2]=0;t=0}return t|0}function Yl(e){e=e|0;var t=0,n=0,i=0;n=d;d=d+16|0;t=Ba(7062432)|0;if(!t){to(3,5472,n);Et(1)}a[t>>2]=0;a[t+4834148>>2]=0;a[t+7062408>>2]=0;a[t+4>>2]=-1;a[t+8>>2]=0;a[t+12>>2]=1;a[t+16>>2]=100;a[t+20>>2]=0;a[t+24>>2]=0;a[t+28>>2]=2;u[t+7062416>>3]=.5;a[t+7062424>>2]=3;a[t+32>>2]=e;i=a[e>>2]|0;a[t+36>>2]=i;e=a[e+4>>2]|0;a[t+40>>2]=e;a[t+44>>2]=0;a[t+15408>>2]=0;a[t+4834152>>2]=0;a[t+4818296>>2]=0;e=Ba(ne(i<<1,e)|0)|0;a[t+4834144>>2]=e;if(!e){to(3,5472,n+8|0);Et(1)}else{a[t+7062384>>2]=0;Xl(t,2)|0;Kl(t,0)|0;a[t+7062388>>2]=-1;Zl(t,0)|0;a[t+7062392>>2]=7;a[t+7062396>>2]=0;d=n;return t|0}return 0}function Xl(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0;o=d;d=d+16|0;n=o;e:do if(e){i=e+4|0;if((a[i>>2]|0)!=(t|0)){switch(t|0){case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 3:case 2:case 1:case 0:{r=0;break}case 14:case 13:case 12:case 5:{r=1;break}default:{a[n>>2]=t;to(3,3936,n);n=-1;break e}}a[i>>2]=t;a[e+8>>2]=ro(t)|0;n=e+7062408|0;t=a[n>>2]|0;if(t){kc(t);a[n>>2]=Mc(a[e+36>>2]|0,a[e+40>>2]|0,a[i>>2]|0,0)|0}n=e+24|0;t=a[n>>2]|0;if(!r)switch(t|0){case 1:{a[n>>2]=4;n=0;break e}case 4:{a[n>>2]=3;n=0;break e}default:{n=0;break e}}else switch(t|0){case 0:{a[n>>2]=1;n=0;break e}case 3:{a[n>>2]=4;n=0;break e}default:{n=0;break e}}}else n=0}else n=-1;while(0);d=o;return n|0}function Kl(e,t){e=e|0;t=t|0;var n=0,i=0,r=0;r=d;d=d+16|0;i=r;do if(e)if((a[e>>2]|0)!=(t|0)){a[e>>2]=t;if(!t){n=e+4834148|0;ja(a[n>>2]|0);a[n>>2]=0;n=0;break}t=Ba(ne(a[e+40>>2]|0,a[e+36>>2]|0)|0)|0;a[e+4834148>>2]=t;if(!t){to(3,5472,i);Et(1)}else n=0}else n=0;else n=-1;while(0);d=r;return n|0}function Zl(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0;l=d;d=d+16|0;s=l+8|0;r=l;if(e){o=e+7062388|0;if((a[o>>2]|0)!=(t|0)){n=e+7062408|0;i=a[n>>2]|0;if(i){kc(i);a[n>>2]=0}switch(t|0){case 3:case 2:case 1:{a[n>>2]=Mc(a[e+36>>2]|0,a[e+40>>2]|0,a[e+4>>2]|0,0)|0;break}case 4:{a[e+7062404>>2]=1;a[e+7062400>>2]=1;t=4;break}case 0:{t=0;break}default:{to(3,3985,r);t=0}}a[o>>2]=t;if((a[e>>2]|0)==1){a[s>>2]=a[760+(t<<2)>>2];to(3,4059,s);t=0}else t=0}else t=0}else t=-1;d=l;return t|0}function Jl(e){e=e|0;var t=0,n=0;if(!e)t=-1;else{t=e+7062408|0;n=a[t>>2]|0;if(n){kc(n);a[t>>2]=0}ja(a[e+4834144>>2]|0);ja(a[e+4834148>>2]|0);ja(e);t=0}return t|0}function Ql(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){a[t>>2]=a[e>>2];e=0}else e=-1;return e|0}function ec(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<2){a[e+12>>2]=t;e=0}else e=-1;return e|0}function tc(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){a[t>>2]=a[e+12>>2];e=0}else e=-1;return e|0}function nc(e,t){e=e|0;t=t|0;if((e|0)==0|t>>>0>255)e=-1;else{a[e+16>>2]=t;e=0}return e|0}function ic(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){a[t>>2]=a[e+16>>2];e=0}else e=-1;return e|0}function rc(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){a[t>>2]=a[e+7062388>>2];e=0}else e=-1;return e|0}function ac(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<2){a[e+20>>2]=t;e=0}else e=-1;return e|0}function oc(e,t){e=e|0;t=t|0;if(!e)e=-1;else{a[t>>2]=a[e+20>>2];e=0}return e|0}function sc(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<5){a[e+24>>2]=t;e=0}else e=-1;return e|0}function lc(e,t){e=e|0;t=t|0;if(!e)e=-1;else{a[e+7062424>>2]=t;e=0}return e|0}function cc(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){a[t>>2]=a[e+7062424>>2];e=0}else e=-1;return e|0}function uc(e,t){e=e|0;t=t|0;if(!e)e=-1;else{a[t>>2]=a[e+24>>2];e=0}return e|0}function dc(e,t){e=e|0;t=+t;if((e|0)!=0?!(t<=0|t>=1):0){u[e+7062416>>3]=t;e=0}else e=-1;return e|0}function fc(e,t){e=e|0;t=t|0;if(!e)e=-1;else{u[t>>3]=+u[e+7062416>>3];e=0}return e|0}function hc(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0,H=0,U=0,B=0,j=0,V=0,z=0;j=d;d=d+80|0;F=j+32|0;P=j+24|0;k=j;M=j+52|0;C=j+40|0;L=j+64|0;B=e+44|0;a[B>>2]=0;D=e+7062388|0;i=a[D>>2]|0;e:do if((i|0)==4){O=e+7062396|0;n=a[O>>2]|0;do if((n|0)>0){i=4;n=n+-1|0}else{A=e+16|0;R=a[A>>2]|0;$=e+7062400|0;T=(a[$>>2]|0)+R|0;T=(T|0)>255?255:T;a[M>>2]=T;N=e+7062404|0;S=R-(a[N>>2]|0)|0;S=(S|0)<0?0:S;a[M+4>>2]=S;a[M+8>>2]=R;n=e+36|0;i=e+40|0;r=e+4|0;l=e+12|0;c=e+20|0;f=e+4834144|0;p=e+15416|0;g=e+15408|0;v=e+7062384|0;b=e+24|0;y=e+32|0;E=e+7062416|0;w=e+48|0;_=e+7062424|0;x=0;do{if((Nc(t,a[n>>2]|0,a[i>>2]|0,a[r>>2]|0,a[e>>2]|0,a[l>>2]|0,a[M+(x<<2)>>2]|0,a[c>>2]|0,f,0)|0)<0){n=-1;break e}if((pc(a[n>>2]|0,a[i>>2]|0,f,a[c>>2]|0,1e6,70,1,p,g)|0)<0){n=-1;break e}if((yc(t,a[n>>2]|0,a[i>>2]|0,a[r>>2]|0,p,a[g>>2]|0,a[v>>2]|0,a[c>>2]|0,a[b>>2]|0,(a[y>>2]|0)+184|0,+u[E>>3],w,B,a[_>>2]|0)|0)<0){n=-1;break e}a[C+(x<<2)>>2]=a[B>>2];x=x+1|0}while((x|0)<3);if((a[e>>2]|0)==1){H=a[C+4>>2]|0;r=a[C+8>>2]|0;i=a[C>>2]|0;a[k>>2]=S;a[k+4>>2]=H;a[k+8>>2]=R;a[k+12>>2]=r;a[k+16>>2]=T;a[k+20>>2]=i;to(3,4153,k)}else{i=a[C>>2]|0;r=a[C+8>>2]|0}n=a[C+4>>2]|0;if((i|0)>(r|0)|(n|0)>(r|0)){i=(i|0)>=(n|0)?T:S;a[A>>2]=i;n=i-R|0;if((n|0)>0){a[$>>2]=n;n=1}else{a[$>>2]=1;n=0-n|0}a[N>>2]=n;if((a[e>>2]|0)==1){a[P>>2]=i;to(3,4229,P)}i=a[D>>2]|0;n=a[e+7062392>>2]|0;break}n=a[$>>2]|0;i=a[N>>2]|0;do if((n|0)>=(i|0))if((n|0)>(i|0)){a[N>>2]=i+1;break}else{n=n+1|0;a[$>>2]=n;a[N>>2]=i+1;break}else{n=n+1|0;a[$>>2]=n}while(0);if((n+R|0)>254){a[$>>2]=1;n=1}if((R|0)<=(n|0))a[N>>2]=1;a[O>>2]=a[e+7062392>>2];H=47;break e}while(0);a[O>>2]=n;H=30}else H=30;while(0);e:do if((H|0)==30){t:do switch(i|0){case 3:{i=e+7062408|0;n=Pc(a[i>>2]|0,t,9,-7)|0;if((n|0)<0)break e;n=a[i>>2]|0;i=e+4834144|0;n=Nc(a[n>>2]|0,a[n+8>>2]|0,a[n+12>>2]|0,5,a[e>>2]|0,a[e+12>>2]|0,0,0,i,a[n+4>>2]|0)|0;if((n|0)<0)break e;n=e+36|0;r=e+40|0;l=e+20|0;break}case 2:case 1:{r=e+7062396|0;n=a[r>>2]|0;if((n|0)>0){a[r>>2]=n+-1;H=44;break t}n=a[e+7062408>>2]|0;if((i|0)==1)n=$c(n,t,L)|0;else n=Rc(n,t,L)|0;if((n|0)<0)break e;n=e+16|0;if((a[e>>2]|0)==1?(I=o[L>>0]|0,(a[n>>2]|0)!=(I|0)):0){a[F>>2]=(a[D>>2]|0)==1?4281:4288;a[F+4>>2]=I;to(3,4293,F)}a[n>>2]=o[L>>0];a[r>>2]=a[e+7062392>>2];H=44;break}default:H=44}while(0);if((H|0)==44){n=e+36|0;r=e+40|0;l=e+20|0;i=e+4834144|0;if((Nc(t,a[n>>2]|0,a[r>>2]|0,a[e+4>>2]|0,a[e>>2]|0,a[e+12>>2]|0,a[e+16>>2]|0,a[l>>2]|0,i,0)|0)<0){n=-1;break}}c=e+15416|0;f=e+15408|0;if((pc(a[n>>2]|0,a[r>>2]|0,i,a[l>>2]|0,1e6,70,1,c,f)|0)>=0?(yc(t,a[n>>2]|0,a[r>>2]|0,a[e+4>>2]|0,c,a[f>>2]|0,a[e+7062384>>2]|0,a[l>>2]|0,a[e+24>>2]|0,(a[e+32>>2]|0)+184|0,+u[e+7062416>>3],e+48|0,B,a[e+7062424>>2]|0)|0)>=0:0)H=47;else n=-1}while(0);e:do if((H|0)==47){y=e+28|0;if((a[y>>2]|0)==1){mc(e);n=0;break}E=e+4818296|0;v=e+24|0;g=a[E>>2]|0;if((g|0)>0){b=0;do{i=a[B>>2]|0;r=e+4818304+(b*264|0)+56|0;l=e+4818304+(b*264|0)+64|0;if((i|0)>0){m=+(a[e+4818304+(b*264|0)>>2]|0);n=-1;c=0;h=.5;while(1){s=+(a[e+48+(c<<8)>>2]|0);V=m/s;if(!(V<.7|V>1.43)?(V=+u[e+48+(c<<8)+56>>3]-+u[r>>3],U=+u[e+48+(c<<8)+64>>3]-+u[l>>3],U=(V*V+U*U)/s,U<h):0){n=c;s=U}else s=h;c=c+1|0;if((c|0)>=(i|0)){p=n;break}else h=s}}else p=-1;t:do if((p|0)>-1){f=a[v>>2]|0;switch(f|0){case 2:case 1:case 0:break;case 4:case 3:{r=e+48+(p<<8)+40|0;s=+u[e+4818304+(b*264|0)+40>>3];if(!(+u[r>>3]<s)){n=e+48+(p<<8)+48|0;i=e+4818304+(b*264|0)+48|0;if(!(+u[n>>3]<+u[i>>3]))break t}else{i=e+4818304+(b*264|0)+48|0;n=e+48+(p<<8)+48|0}u[r>>3]=s;a[e+48+(p<<8)+8>>2]=a[e+4818304+(b*264|0)+8>>2];u[n>>3]=+u[i>>3];a[e+48+(p<<8)+12>>2]=a[e+4818304+(b*264|0)+12>>2];n=-1;h=1e8;r=0;while(1){s=0;i=0;do{t=(i+r|0)%4|0;m=+u[e+4818304+(b*264|0)+168+(i<<4)>>3]-+u[e+48+(p<<8)+168+(t<<4)>>3];V=+u[e+4818304+(b*264|0)+168+(i<<4)+8>>3]-+u[e+48+(p<<8)+168+(t<<4)+8>>3];s=s+(m*m+V*V);i=i+1|0}while((i|0)!=4);i=s<h;n=i?r:n;r=r+1|0;if((r|0)==4)break;else h=i?s:h}t=4-n|0;a[e+48+(p<<8)+20>>2]=(t+(a[e+4818304+(b*264|0)+20>>2]|0)|0)%4|0;a[e+48+(p<<8)+24>>2]=(t+(a[e+4818304+(b*264|0)+24>>2]|0)|0)%4|0;break t}default:{n=-1;break e}}n=e+48+(p<<8)+32|0;m=+u[e+4818304+(b*264|0)+32>>3];if(+u[n>>3]<m){u[n>>3]=m;c=a[e+4818304+(b*264|0)+4>>2]|0;a[e+48+(p<<8)+4>>2]=c;r=e+4818304+(b*264|0)+16|0;n=-1;h=1e8;l=0;while(1){s=0;i=0;do{t=(i+l|0)%4|0;z=+u[e+4818304+(b*264|0)+168+(i<<4)>>3]-+u[e+48+(p<<8)+168+(t<<4)>>3];V=+u[e+4818304+(b*264|0)+168+(i<<4)+8>>3]-+u[e+48+(p<<8)+168+(t<<4)+8>>3];s=s+(z*z+V*V);i=i+1|0}while((i|0)!=4);if(s<h)n=(4-l+(a[r>>2]|0)|0)%4|0;else s=h;l=l+1|0;if((l|0)==4)break;else h=s}a[e+48+(p<<8)+16>>2]=n;if(f>>>0<2){a[e+48+(p<<8)+8>>2]=c;u[e+48+(p<<8)+40>>3]=m;a[e+48+(p<<8)+20>>2]=n;break}else{a[e+48+(p<<8)+12>>2]=c;u[e+48+(p<<8)+48>>3]=m;a[e+48+(p<<8)+24>>2]=n;break}}}while(0);b=b+1|0}while((b|0)<(g|0))}mc(e);if((a[E>>2]|0)>0){r=0;n=0;do{i=e+4818304+(r*264|0)|0;H=e+4818304+(r*264|0)+256|0;t=(a[H>>2]|0)+1|0;a[H>>2]=t;if((t|0)<4){if((r|0)!=(n|0))Kc(e+4818304+(n*264|0)|0,i|0,264)|0;n=n+1|0}r=r+1|0}while((r|0)<(a[E>>2]|0))}else n=0;a[E>>2]=n;n=a[B>>2]|0;t:do if((n|0)>0){f=0;do{l=e+48+(f<<8)|0;r=a[e+48+(f<<8)+4>>2]|0;if((r|0)>=0){c=a[E>>2]|0;n:do if((c|0)>0){i=0;do{if((a[e+4818304+(i*264|0)+4>>2]|0)==(r|0))break n;i=i+1|0}while((i|0)<(c|0))}else i=0;while(0);if((i|0)==(c|0)){if((c|0)==60)break t;a[E>>2]=c+1}Kc(e+4818304+(i*264|0)|0,l|0,256)|0;a[e+4818304+(i*264|0)+256>>2]=1}f=f+1|0;n=a[B>>2]|0}while((f|0)<(n|0))}while(0);if((a[y>>2]|0)!=2?(a[E>>2]|0)>0:0){c=0;while(1){r=e+4818304+(c*264|0)+56|0;l=e+4818304+(c*264|0)+64|0;t:do if((n|0)>0){h=+(a[e+4818304+(c*264|0)>>2]|0);i=0;do{s=+(a[e+48+(i<<8)>>2]|0);z=h/s;if(!(z<.7|z>1.43)?(V=+u[e+48+(i<<8)+56>>3]-+u[r>>3],z=+u[e+48+(i<<8)+64>>3]-+u[l>>3],(V*V+z*z)/s<.5):0)break t;i=i+1|0}while((i|0)<(n|0))}else i=0;while(0);if((i|0)==(n|0)){Kc(e+48+(n<<8)|0,e+4818304+(c*264|0)|0,256)|0;n=(a[B>>2]|0)+1|0;a[B>>2]=n}c=c+1|0;if((c|0)>=(a[E>>2]|0)){n=0;break}}}else n=0}while(0);d=j;return n|0}function mc(e){e=e|0;var t=0,n=0,i=0,r=0;switch(a[e+24>>2]|0){case 1:case 0:{n=a[e+44>>2]|0;if((n|0)>0){i=0;do{t=e+48+(i<<8)+4|0;if((a[t>>2]|0)>-1?+u[e+48+(i<<8)+32>>3]<.5:0){a[e+48+(i<<8)+8>>2]=-1;a[t>>2]=-1;a[e+48+(i<<8)+236>>2]=6}i=i+1|0}while((i|0)<(n|0))}break}case 2:{n=a[e+44>>2]|0;if((n|0)>0){i=0;do{t=e+48+(i<<8)+4|0;if((a[t>>2]|0)>-1?+u[e+48+(i<<8)+32>>3]<.5:0){a[e+48+(i<<8)+12>>2]=-1;a[t>>2]=-1;a[e+48+(i<<8)+236>>2]=6}i=i+1|0}while((i|0)<(n|0))}break}default:{i=a[e+44>>2]|0;if((i|0)>0){r=0;do{t=e+48+(r<<8)+8|0;if((a[t>>2]|0)>-1?+u[e+48+(r<<8)+40>>3]<.5:0){a[t>>2]=-1;n=0}else n=1;t=e+48+(r<<8)+12|0;if(((a[t>>2]|0)>-1?+u[e+48+(r<<8)+48>>3]<.5:0)?(a[t>>2]=-1,(n|0)==0):0)a[e+48+(r<<8)+236>>2]=6;r=r+1|0}while((r|0)<(i|0))}}}return}function pc(e,t,n,i,r,o,s,l,c){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;s=+s;l=l|0;c=c|0;var f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0,F=0;L=d;d=d+96|0;R=L+56|0;N=L+48|0;P=L+8|0;O=L;I=(i|0)==1;if(I){e=(e|0)/2|0;t=(t|0)/2|0;r=(r|0)/4|0;o=(o|0)/4|0}a[c>>2]=0;A=n+8|0;C=e+-2|0;k=t+-2|0;T=n+1179664|0;e:do if((a[A>>2]|0)>0){S=0;while(1){_=n+12+(S<<2)|0;M=a[_>>2]|0;t:do if(((((!((M|0)<(o|0)|(M|0)>(r|0))?($=n+131084+(S<<4)|0,(a[$>>2]|0)!=1):0)?(a[n+131084+(S<<4)+4>>2]|0)!=(C|0):0)?(a[n+131084+(S<<4)+8>>2]|0)!=1:0)?(a[n+131084+(S<<4)+12>>2]|0)!=(k|0):0)?(gc(a[n>>2]|0,e,0,T,S+1|0,$,l+((a[c>>2]|0)*80048|0)|0)|0)>=0:0){y=a[_>>2]|0;x=a[c>>2]|0;E=l+(x*80048|0)+28|0;t=a[E>>2]|0;w=l+(x*80048|0)+40028|0;h=a[w>>2]|0;M=l+(x*80048|0)+24|0;m=(a[M>>2]|0)+-1|0;if((m|0)>1){v=0;b=1;i=0;while(1){p=(a[l+(x*80048|0)+28+(b<<2)>>2]|0)-t|0;p=ne(p,p)|0;g=(a[l+(x*80048|0)+40028+(b<<2)>>2]|0)-h|0;p=(ne(g,g)|0)+p|0;g=(p|0)>(v|0);i=g?b:i;b=b+1|0;if((b|0)>=(m|0))break;else v=g?p:v}}else i=0;f=+(y|0)/.75*.01*s;a[N>>2]=0;a[O>>2]=0;n:do if((vc(E,w,0,i,f,R,N)|0)>=0?(vc(E,w,i,(a[M>>2]|0)+-1|0,f,P,O)|0)>=0:0){t=a[N>>2]|0;h=a[O>>2]|0;do if((t|0)==1&(h|0)==1){t=a[P>>2]|0;h=a[R>>2]|0}else{if((t|0)>1&(h|0)==0){t=(i|0)/2|0;a[O>>2]=0;a[N>>2]=0;if((vc(E,w,0,t,f,R,N)|0)<0)break n;if((vc(E,w,t,i,f,P,O)|0)<0)break n;if(!((a[N>>2]|0)==1&(a[O>>2]|0)==1))break n;t=i;h=a[R>>2]|0;i=a[P>>2]|0;break}if(!((t|0)==0&(h|0)>1))break n;t=(i+-1+(a[M>>2]|0)|0)/2|0;a[O>>2]=0;a[N>>2]=0;if((vc(E,w,i,t,f,R,N)|0)<0)break n;if((vc(E,w,t,(a[M>>2]|0)+-1|0,f,P,O)|0)<0)break n;if(!((a[N>>2]|0)==1&(a[O>>2]|0)==1))break n;t=a[P>>2]|0;h=i;i=a[R>>2]|0}while(0);a[l+(x*80048|0)+80028>>2]=0;a[l+(x*80048|0)+80032>>2]=h;a[l+(x*80048|0)+80036>>2]=i;a[l+(x*80048|0)+80040>>2]=t;a[l+(x*80048|0)+80044>>2]=(a[M>>2]|0)+-1;a[l+((a[c>>2]|0)*80048|0)>>2]=a[_>>2];M=a[c>>2]|0;u[l+(M*80048|0)+8>>3]=+u[n+655376+(S<<4)>>3];u[l+(M*80048|0)+16>>3]=+u[n+655376+(S<<4)+8>>3];M=M+1|0;a[c>>2]=M;if((M|0)==60){i=60;break e}else break t}while(0)}while(0);S=S+1|0;if((S|0)>=(a[A>>2]|0)){D=4;break}}}else D=4;while(0);if((D|0)==4)i=a[c>>2]|0;if((i|0)>0){m=0;do{e=m;m=m+1|0;o=l+(e*80048|0)+16|0;h=l+(e*80048|0)|0;if((m|0)<(i|0)){s=+u[l+(e*80048|0)+8>>3];r=m;do{F=s-+u[l+(r*80048|0)+8>>3];f=+u[o>>3]-+u[l+(r*80048|0)+16>>3];f=F*F+f*f;i=a[h>>2]|0;e=l+(r*80048|0)|0;t=a[e>>2]|0;if((i|0)>(t|0)){if(f<+((i|0)/4|0|0))a[e>>2]=0}else if(f<+((t|0)/4|0|0))a[h>>2]=0;r=r+1|0;i=a[c>>2]|0}while((r|0)<(i|0))}}while((m|0)<(i|0))}if((i|0)>0){r=0;do{if(!(a[l+(r*80048|0)>>2]|0)){e=r+1|0;if((e|0)<(i|0)){i=r;t=e;while(1){Kc(l+(i*80048|0)|0,l+(t*80048|0)|0,80048)|0;i=a[c>>2]|0;e=t+1|0;if((e|0)<(i|0)){i=t;t=e}else break}}i=i+-1|0;a[c>>2]=i}r=r+1|0}while((r|0)<(i|0))}if(I&(i|0)>0){t=0;while(1){a[l>>2]=a[l>>2]<<2;i=l+8|0;u[i>>3]=+u[i>>3]*2;i=l+16|0;u[i>>3]=+u[i>>3]*2;i=l+24|0;if((a[i>>2]|0)>0){e=0;do{I=l+28+(e<<2)|0;a[I>>2]=a[I>>2]<<1;I=l+40028+(e<<2)|0;a[I>>2]=a[I>>2]<<1;e=e+1|0}while((e|0)<(a[i>>2]|0))}t=t+1|0;if((t|0)>=(a[c>>2]|0))break;else l=l+80048|0}}d=L;return 0}function gc(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0;_=d;d=d+80032|0;p=_+16|0;m=_+8|0;u=_;E=_+40024|0;w=_+24|0;y=a[s+8>>2]|0;n=a[s>>2]|0;s=a[s+4>>2]|0;e:do if((n|0)<=(s|0)){c=n;n=e+((ne(y,t)|0)+n<<1)|0;while(1){b=r[n>>1]|0;if(b<<16>>16>0?(a[i+((b<<16>>16)+-1<<2)>>2]|0)==(o|0):0){h=c;break}if((c|0)<(s|0)){c=c+1|0;n=n+2|0}else{x=6;break e}}g=l+24|0;a[g>>2]=1;v=l+28|0;a[v>>2]=h;b=l+40028|0;a[b>>2]=y;i=y;f=h;c=1;n=5;while(1){s=(n+5|0)%8|0;n=0;while(1){o=a[776+(s<<2)>>2]|0;u=a[808+(s<<2)>>2]|0;if((r[e+(u+f+(ne(o+i|0,t)|0)<<1)>>1]|0)>0){n=o;o=s;break}n=n+1|0;s=(s+1|0)%8|0;if((n|0)>=8){x=11;break}}if((x|0)==11){x=0;if((n|0)==8){x=13;break}u=a[808+(s<<2)>>2]|0;n=a[776+(s<<2)>>2]|0;o=s}a[l+28+(c<<2)>>2]=u+f;s=a[g>>2]|0;a[l+40028+(s<<2)>>2]=n+(a[l+40028+(s+-1<<2)>>2]|0);n=a[g>>2]|0;s=l+28+(n<<2)|0;if((a[s>>2]|0)==(h|0)?(a[l+40028+(n<<2)>>2]|0)==(y|0):0){i=n;x=16;break}c=n+1|0;a[g>>2]=c;if((c|0)==9999){x=19;break}i=a[l+40028+(n<<2)>>2]|0;f=a[s>>2]|0;n=o}if((x|0)==13){to(3,4347,m);n=-1;break}else if((x|0)==16){if((i|0)>1){u=0;o=1;s=0;while(1){n=(a[l+28+(o<<2)>>2]|0)-h|0;n=ne(n,n)|0;c=(a[l+40028+(o<<2)>>2]|0)-y|0;n=(ne(c,c)|0)+n|0;c=(n|0)>(u|0);s=c?o:s;o=o+1|0;if((o|0)>=(i|0))break;else u=c?n:u}}else s=0;if((s|0)>0){n=0;do{a[E+(n<<2)>>2]=a[l+28+(n<<2)>>2];a[w+(n<<2)>>2]=a[l+40028+(n<<2)>>2];n=n+1|0}while((n|0)<(s|0))}if((s|0)<(i|0)){n=s;do{y=n-s|0;a[l+28+(y<<2)>>2]=a[l+28+(n<<2)>>2];a[l+40028+(y<<2)>>2]=a[l+40028+(n<<2)>>2];n=n+1|0}while((n|0)<(a[g>>2]|0))}if((s|0)>0){n=0;do{y=n-s|0;a[l+28+((a[g>>2]|0)+y<<2)>>2]=a[E+(n<<2)>>2];a[l+40028+((a[g>>2]|0)+y<<2)>>2]=a[w+(n<<2)>>2];n=n+1|0}while((n|0)<(s|0))}a[l+28+(a[g>>2]<<2)>>2]=a[v>>2];a[l+40028+(a[g>>2]<<2)>>2]=a[b>>2];a[g>>2]=(a[g>>2]|0)+1;n=0;break}else if((x|0)==19){to(3,4354,p);n=-1;break}}else x=6;while(0);if((x|0)==6){to(3,4340,u);n=-1}d=_;return n|0}function vc(e,t,n,i,r,o,s){e=e|0;t=t|0;n=n|0;i=i|0;r=+r;o=o|0;s=s|0;var l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0;
l=a[t+(i<<2)>>2]|0;g=a[t+(n<<2)>>2]|0;m=+(l-g|0);d=a[e+(n<<2)>>2]|0;v=a[e+(i<<2)>>2]|0;f=+(d-v|0);u=+((ne(v,g)|0)-(ne(d,l)|0)|0);l=n+1|0;if((l|0)<(i|0)){c=0;d=l;do{b=u+(m*+(a[e+(d<<2)>>2]|0)+f*+(a[t+(d<<2)>>2]|0));b=b*b;v=b>c;c=v?b:c;l=v?d:l;d=d+1|0}while((d|0)<(i|0))}else c=0;if(c/(m*m+f*f)>r)if(((vc(e,t,n,l,r,o,s)|0)>=0?(h=a[s>>2]|0,(h|0)<=5):0)?(a[o+(h<<2)>>2]=l,a[s>>2]=(a[s>>2]|0)+1,(vc(e,t,l,i,r,o,s)|0)>=0):0)p=7;else l=-1;else p=7;if((p|0)==7)l=0;return l|0}function bc(e,t,n,i,r,o,s){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;var l=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0;M=d;d=d+16|0;y=M+4|0;E=M;w=$o(2)|0;_=$o(2)|0;x=oo(2,2)|0;g=0;e:while(1){v=g;g=g+1|0;b=a[i+(g<<2)>>2]|0;l=a[i+(v<<2)>>2]|0;p=+(b+1-l|0)*.05+.5;l=~~(+(l|0)+p);b=~~(+(b|0)-p)-l|0;h=b+1|0;n=oo(h,2)|0;if((b|0)>-1){b=0;do{k=b+l|0;if((Co(r,+(a[e+(k<<2)>>2]|0),+(a[t+(k<<2)>>2]|0),y,E)|0)<0){l=10;break e}k=b<<1;T=a[n>>2]|0;u[T+(k<<3)>>3]=+c[y>>2];u[T+((k|1)<<3)>>3]=+c[E>>2];b=b+1|0}while((b|0)<(h|0))}if((mo(n,x,w,_)|0)<0){l=10;break}T=a[x>>2]|0;m=+u[T+8>>3];u[o+(v*24|0)>>3]=m;p=-+u[T>>3];u[o+(v*24|0)+8>>3]=p;T=a[_>>2]|0;u[o+(v*24|0)+16>>3]=-(m*+u[T>>3]+ +u[T+8>>3]*p);fo(n)|0;if((g|0)>=4){l=7;break}}e:do if((l|0)==7){fo(x)|0;Ro(_)|0;Ro(w)|0;g=0;while(1){n=(g+3|0)%4|0;l=o+(n*24|0)|0;f=+u[o+(g*24|0)+8>>3];h=o+(g*24|0)|0;m=+u[o+(n*24|0)+8>>3];p=+u[l>>3]*f-+u[h>>3]*m;if(+V(+p)<1e-4){n=-1;break e}T=o+(g*24|0)+16|0;k=o+(n*24|0)+16|0;u[s+(g<<4)>>3]=(m*+u[T>>3]-f*+u[k>>3])/p;u[s+(g<<4)+8>>3]=(+u[h>>3]*+u[k>>3]-+u[l>>3]*+u[T>>3])/p;g=g+1|0;if((g|0)>=4){n=0;break}}}else if((l|0)==10){fo(n)|0;fo(x)|0;Ro(_)|0;Ro(w)|0;n=-1}while(0);d=M;return n|0}function yc(e,t,n,i,r,o,s,l,f,h,m,p,g,v){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;l=l|0;f=f|0;h=h|0;m=+m;p=p|0;g=g|0;v=v|0;var b=0,y=0,E=0,w=0,_=0,x=0,M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0;R=d;d=d+16|0;C=R+4|0;$=R;k=f>>>0<2;T=(f|0)==2;if((o|0)>0){A=0;b=0;do{a[p+(b<<8)>>2]=a[r+(A*80048|0)>>2];if((Co(h,+u[r+(A*80048|0)+8>>3],+u[r+(A*80048|0)+16>>3],C,$)|0)>=0?(u[p+(b<<8)+56>>3]=+c[C>>2],u[p+(b<<8)+64>>3]=+c[$>>2],S=p+(b<<8)+168|0,(bc(r+(A*80048|0)+28|0,r+(A*80048|0)+40028|0,a[r+(A*80048|0)+24>>2]|0,r+(A*80048|0)+80028|0,h,p+(b<<8)+72|0,S)|0)>=0):0){y=p+(b<<8)+8|0;E=p+(b<<8)+20|0;w=p+(b<<8)+40|0;_=p+(b<<8)+12|0;x=p+(b<<8)+24|0;M=p+(b<<8)+48|0;switch(Hc(s,l,f,e,t,n,i,h,S,m,y,E,w,_,x,M,v,p+(b<<8)+240|0,p+(b<<8)+248|0)|0){case 0:{a[p+(b<<8)+236>>2]=0;break}case-1:{a[p+(b<<8)+236>>2]=2;break}case-2:{a[p+(b<<8)+236>>2]=3;break}case-3:{a[p+(b<<8)+236>>2]=4;break}case-4:{a[p+(b<<8)+236>>2]=5;break}case-5:{a[p+(b<<8)+236>>2]=9;break}case-6:{a[p+(b<<8)+236>>2]=1;break}default:{}}if(!k){if(T){a[p+(b<<8)+4>>2]=a[_>>2];a[p+(b<<8)+16>>2]=a[x>>2];u[p+(b<<8)+32>>3]=+u[M>>3]}}else{a[p+(b<<8)+4>>2]=a[y>>2];a[p+(b<<8)+16>>2]=a[E>>2];u[p+(b<<8)+32>>3]=+u[w>>3]}b=b+1|0}A=A+1|0}while((A|0)<(o|0))}else b=0;a[g>>2]=b;d=R;return 0}function Ec(e,t,n,i){e=e|0;t=t|0;n=+n;i=i|0;var r=0,o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0;l=d;d=d+288|0;f=l+200|0;c=l+104|0;r=l+264|0;s=l+8|0;o=l;m=a[t+16>>2]|0;p=(4-m|0)%4|0;u[f>>3]=+u[t+168+(p<<4)>>3];u[f+8>>3]=+u[t+168+(p<<4)+8>>3];p=(5-m|0)%4|0;u[f+16>>3]=+u[t+168+(p<<4)>>3];u[f+24>>3]=+u[t+168+(p<<4)+8>>3];p=(6-m|0)%4|0;u[f+32>>3]=+u[t+168+(p<<4)>>3];u[f+40>>3]=+u[t+168+(p<<4)+8>>3];m=(7-m|0)%4|0;u[f+48>>3]=+u[t+168+(m<<4)>>3];u[f+56>>3]=+u[t+168+(m<<4)+8>>3];h=n*-.5;u[c>>3]=h;n=n*.5;u[c+8>>3]=n;u[c+16>>3]=0;u[c+24>>3]=n;u[c+32>>3]=n;u[c+40>>3]=0;u[c+48>>3]=n;u[c+56>>3]=h;u[c+64>>3]=0;u[c+72>>3]=h;u[c+80>>3]=h;u[c+88>>3]=0;a[r>>2]=f;a[r+4>>2]=c;a[r+8>>2]=4;if((qo(a[e>>2]|0,f,c,4,s)|0)<0)n=1e8;else{p=(jo(a[e>>2]|0,r,s,i,o)|0)<0;n=p?1e8:+u[o>>3]}d=l;return+n}function wc(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=+i;r=r|0;var o=0,s=0,l=0,c=0,f=0,h=0,m=0,p=0;s=d;d=d+192|0;f=s+104|0;c=s+8|0;l=s+168|0;o=s;m=a[t+16>>2]|0;p=(4-m|0)%4|0;u[f>>3]=+u[t+168+(p<<4)>>3];u[f+8>>3]=+u[t+168+(p<<4)+8>>3];p=(5-m|0)%4|0;u[f+16>>3]=+u[t+168+(p<<4)>>3];u[f+24>>3]=+u[t+168+(p<<4)+8>>3];p=(6-m|0)%4|0;u[f+32>>3]=+u[t+168+(p<<4)>>3];u[f+40>>3]=+u[t+168+(p<<4)+8>>3];m=(7-m|0)%4|0;u[f+48>>3]=+u[t+168+(m<<4)>>3];u[f+56>>3]=+u[t+168+(m<<4)+8>>3];h=i*-.5;u[c>>3]=h;i=i*.5;u[c+8>>3]=i;u[c+16>>3]=0;u[c+24>>3]=i;u[c+32>>3]=i;u[c+40>>3]=0;u[c+48>>3]=i;u[c+56>>3]=h;u[c+64>>3]=0;u[c+72>>3]=h;u[c+80>>3]=h;u[c+88>>3]=0;a[l>>2]=f;a[l+4>>2]=c;a[l+8>>2]=4;t=(jo(a[e>>2]|0,l,n,r,o)|0)<0;d=s;return+(t?1e8:+u[o>>3])}function _c(e,t,n,i,r,o){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;var s=0,l=0,c=0,f=0,h=0,m=0,p=0;p=d;d=d+32|0;f=p+20|0;h=p;s=Ba(r<<4)|0;a[f>>2]=s;if(!s){to(3,5472,p+8|0);Et(1)}l=Ba(r*24|0)|0;c=f+4|0;a[c>>2]=l;if(!l){to(3,5472,p+16|0);Et(1)}if((r|0)>0){m=0;do{u[s+(m<<4)>>3]=+u[n+(m<<4)>>3];u[s+(m<<4)+8>>3]=+u[n+(m<<4)+8>>3];u[l+(m*24|0)>>3]=+u[i+(m*24|0)>>3];u[l+(m*24|0)+8>>3]=+u[i+(m*24|0)+8>>3];u[l+(m*24|0)+16>>3]=+u[i+(m*24|0)+16>>3];m=m+1|0}while((m|0)<(r|0))}a[f+8>>2]=r;if((jo(a[e>>2]|0,f,t,o,h)|0)<0)u[h>>3]=1e8;ja(a[f>>2]|0);ja(a[c>>2]|0);d=p;return+ +u[h>>3]}function xc(e,t,n,i,r,o){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;o=o|0;var s=0,l=0,c=0,f=0,h=0,m=0,p=0;p=d;d=d+32|0;f=p+20|0;h=p;s=Ba(r<<4)|0;a[f>>2]=s;if(!s){to(3,5472,p+8|0);Et(1)}l=Ba(r*24|0)|0;c=f+4|0;a[c>>2]=l;if(!l){to(3,5472,p+16|0);Et(1)}if((r|0)>0){m=0;do{u[s+(m<<4)>>3]=+u[n+(m<<4)>>3];u[s+(m<<4)+8>>3]=+u[n+(m<<4)+8>>3];u[l+(m*24|0)>>3]=+u[i+(m*24|0)>>3];u[l+(m*24|0)+8>>3]=+u[i+(m*24|0)+8>>3];u[l+(m*24|0)+16>>3]=+u[i+(m*24|0)+16>>3];m=m+1|0}while((m|0)<(r|0))}a[f+8>>2]=r;if((zo(a[e>>2]|0,f,t,o,h)|0)<0)u[h>>3]=1e8;ja(a[f>>2]|0);ja(a[c>>2]|0);d=p;return+ +u[h>>3]}function Mc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0;r=Ba(2080)|0;e:do if(r){a[r+2068>>2]=n;t:do if(!i){switch(n|0){case 5:case 12:case 13:case 14:break;default:{o=4;break t}}a[r+2076>>2]=0}else o=4;while(0);do if((o|0)==4){o=Ba(ne(t,e)|0)|0;a[r>>2]=o;if(!o){ja(r);r=0;break e}else{a[r+2076>>2]=1;break}}while(0);a[r+2072>>2]=i;a[r+4>>2]=0;a[r+8>>2]=e;a[r+12>>2]=t}while(0);return r|0}function kc(e){e=e|0;if(e){if(a[e+2076>>2]|0)ja(a[e>>2]|0);ja(a[e+4>>2]|0);ja(e)}return}function Tc(e,t){e=e|0;t=t|0;var n=0,r=0,s=0,l=0,c=0,u=0,f=0;c=d;d=d+16|0;r=c;n=a[e+2068>>2]|0;e:do switch(n|0){case 5:case 12:case 13:case 14:if(!(a[e+2072>>2]|0)){a[e>>2]=t;n=0;break e}else{Kc(a[e>>2]|0,t|0,ne(a[e+12>>2]|0,a[e+8>>2]|0)|0)|0;n=0;break e}default:{if((n&-2|0)==2){n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){i[(a[e>>2]|0)+s>>0]=(((o[t+(l|1)>>0]|0)+(o[t+l>>0]|0)+(o[t+(l|2)>>0]|0)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break e}else l=l+4|0}}if((n&-3|0)==4){n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){i[(a[e>>2]|0)+s>>0]=(((o[t+(l|2)>>0]|0)+(o[t+(l|1)>>0]|0)+(o[t+(l|3)>>0]|0)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break e}else l=l+4|0}}if(n>>>0<2){n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){i[(a[e>>2]|0)+s>>0]=(((o[t+(l+1)>>0]|0)+(o[t+l>>0]|0)+(o[t+(l+2)>>0]|0)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break e}else l=l+3|0}}switch(n|0){case 8:{n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){i[(a[e>>2]|0)+s>>0]=i[t+l>>0]|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break}else l=l+2|0}break}case 7:{n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){i[(a[e>>2]|0)+s>>0]=i[t+(l|1)>>0]|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break}else l=l+2|0}break}case 9:{n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){f=o[t+l>>0]|0;u=o[t+(l|1)>>0]|0;i[(a[e>>2]|0)+s>>0]=(((f&248)+10+(f<<5&224)+(u>>>3&28)+(u<<3&248)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break}else l=l+2|0}break}case 10:{n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){u=o[t+l>>0]|0;f=o[t+(l|1)>>0]|0;i[(a[e>>2]|0)+s>>0]=(((u&248)+12+(u<<5&224)+(f>>>3&24)+(f<<2&248)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break}else l=l+2|0}break}case 11:{n=e+8|0;r=e+12|0;if(!(ne(a[r>>2]|0,a[n>>2]|0)|0)){n=0;break e}else{s=0;l=0}while(1){f=o[t+l>>0]|0;i[(a[e>>2]|0)+s>>0]=(((f&240)+24+(f<<4&240)+((o[t+(l|1)>>0]|0)&240)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(ne(a[r>>2]|0,a[n>>2]|0)|0)>>>0){n=0;break}else l=l+2|0}break}default:{to(3,4361,r);n=-1;break e}}}}while(0);d=c;return n|0}function Sc(e,t){e=e|0;t=t|0;var n=0,i=0;if((e|0)!=0&(t|0)!=0?(Tc(e,t)|0)>=0:0){Gc(e+16|0,0,1024)|0;t=a[e>>2]|0;i=ne(a[e+12>>2]|0,a[e+8>>2]|0)|0;n=t+i|0;if((i|0)>0){do{i=e+16+((o[t>>0]|0)<<2)|0;a[i>>2]=(a[i>>2]|0)+1;t=t+1|0}while(t>>>0<n>>>0);t=0}else t=0}else t=-1;return t|0}function Ac(e,t){e=e|0;t=t|0;var n=0;t=Sc(e,t)|0;if((t|0)>=0){t=0;n=0;do{t=(a[e+16+(n<<2)>>2]|0)+t|0;a[e+1040+(n<<2)>>2]=t;n=n+1|0}while((n|0)!=256);t=0}return t|0}function Cc(e,t,n,r){e=e|0;t=t|0;n=+n;r=r|0;var o=0,s=0,l=0;if(!(n<0|n>1)){t=Ac(e,t)|0;if((t|0)>=0){l=~~(+(ne(a[e+12>>2]|0,a[e+8>>2]|0)|0)*n)>>>0;t=0;while(1){s=t&255;o=a[e+1040+(s<<2)>>2]|0;if(o>>>0<l>>>0)t=t+1<<24>>24;else break}if((o|0)==(l|0))do t=t+1<<24>>24;while((a[e+1040+((t&255)<<2)>>2]|0)==(l|0));i[r>>0]=((t&255)+s|0)>>>1;t=0}}else t=-1;return t|0}function $c(e,t,n){e=e|0;t=t|0;n=n|0;return Cc(e,t,.5,n)|0}function Rc(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0;t=Sc(e,t)|0;if((t|0)>=0){t=1;r=0;do{r=r+ +((ne(a[e+16+(t<<2)>>2]|0,t)|0)>>>0);t=t+1|0}while((t|0)!=256);u=+(ne(a[e+12>>2]|0,a[e+8>>2]|0)|0);d=0;s=0;t=0;c=0;f=0;while(1){o=a[e+16+(d<<2)>>2]|0;f=f+ +(o>>>0);if(f!=0){l=u-f;if(l==0)break;s=s+ +((ne(d,o)|0)>>>0);h=s/f-(r-s)/l;l=h*(f*l*h);if(l>c)t=d&255;else l=c}else l=c;if((d&255)<<24>>24==-1)break;else{d=d+1|0;c=l}}i[n>>0]=t;t=0}return t|0}function Pc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0,g=0,v=0,b=0,y=0,E=0;t=Sc(e,t)|0;do if((t|0)>=0){y=e+4|0;if(!(a[y>>2]|0)){t=e+8|0;s=e+12|0;b=Ba(ne(a[s>>2]|0,a[t>>2]|0)|0)|0;a[y>>2]=b;if(!b){t=-1;break}else b=t}else{b=e+8|0;s=e+12|0}g=n>>1;v=0-g|0;t=a[s>>2]|0;if((t|0)>0){h=(g|0)<(v|0);m=(g|0)<(v|0);p=0;do{t=a[b>>2]|0;if((t|0)>0){f=0;do{if(h){l=0;n=0}else{l=0;d=v;n=0;while(1){c=d+p|0;if(((c|0)>=0?(c|0)<(a[s>>2]|0):0)?(E=ne(t,c)|0,!m):0){u=v;while(1){c=u+f|0;if((c|0)>-1&(c|0)<(t|0)){l=l+1|0;n=(o[(a[e>>2]|0)+(E+c)>>0]|0)+n|0}if((u|0)<(g|0))u=u+1|0;else break}}if((d|0)<(g|0))d=d+1|0;else break}}d=(ne(t,p)|0)+f|0;i[(a[y>>2]|0)+d>>0]=(n|0)/(l|0)|0;f=f+1|0;t=a[b>>2]|0}while((f|0)<(t|0))}p=p+1|0;t=a[s>>2]|0}while((p|0)<(t|0))}if((r|0)!=0?(ne(t,a[b>>2]|0)|0)>0:0){t=0;do{e=(a[y>>2]|0)+t|0;i[e>>0]=(o[e>>0]|0)+r;t=t+1|0}while((t|0)<(ne(a[s>>2]|0,a[b>>2]|0)|0));t=0}else t=0}while(0);return t|0}function Nc(e,t,n,i,r,a,o,s,l,c){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;a=a|0;o=o|0;s=s|0;l=l|0;c=c|0;var u=0;e:do switch(r|0){case 0:{switch(a|0){case 1:{if(c){u=Bn(e,t,n,c,l)|0;break e}switch(s|0){case 0:{if(i>>>0<2){u=Pn(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=On(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=Ln(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=Fn(e,t,n,o,l)|0;break e}case 8:{u=Un(e,t,n,o,l)|0;break e}case 7:{u=Hn(e,t,n,o,l)|0;break e}case 9:{u=Nn(e,t,n,o,l)|0;break e}case 10:{u=In(e,t,n,o,l)|0;break e}case 11:{u=Dn(e,t,n,o,l)|0;break e}default:Et(0)}break}case 1:{if(i>>>0<2){u=xn(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=kn(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=An(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=Cn(e,t,n,o,l)|0;break e}case 8:{u=Rn(e,t,n,o,l)|0;break e}case 7:{u=$n(e,t,n,o,l)|0;break e}case 9:{u=Mn(e,t,n,o,l)|0;break e}case 10:{u=Sn(e,t,n,o,l)|0;break e}case 11:{u=Tn(e,t,n,o,l)|0;break e}default:Et(0)}break}default:Et(0)}break}case 0:{if(c){u=oi(e,t,n,c,l)|0;break e}switch(s|0){case 0:{if(i>>>0<2){u=Zn(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=Qn(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=ni(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=ii(e,t,n,o,l)|0;break e}case 8:{u=ai(e,t,n,o,l)|0;break e}case 7:{u=ri(e,t,n,o,l)|0;break e}case 9:{u=Jn(e,t,n,o,l)|0;break e}case 10:{u=ti(e,t,n,o,l)|0;break e}case 11:{u=ei(e,t,n,o,l)|0;break e}default:Et(0)}break}case 1:{if(i>>>0<2){u=jn(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=zn(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=qn(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=Yn(e,t,n,o,l)|0;break e}case 8:{u=Kn(e,t,n,o,l)|0;break e}case 7:{u=Xn(e,t,n,o,l)|0;break e}case 9:{u=Vn(e,t,n,o,l)|0;break e}case 10:{u=Gn(e,t,n,o,l)|0;break e}case 11:{u=Wn(e,t,n,o,l)|0;break e}default:Et(0)}break}default:Et(0)}break}default:Et(0)}break}case 1:{switch(a|0){case 1:{if(c){u=rn(e,t,n,c,l)|0;break e}switch(s|0){case 0:{if(i>>>0<2){u=Yt(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=Kt(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=Qt(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=en(e,t,n,o,l)|0;break e}case 8:{u=nn(e,t,n,o,l)|0;break e}case 7:{u=tn(e,t,n,o,l)|0;break e}case 9:{u=Xt(e,t,n,o,l)|0;break e}case 10:{u=Jt(e,t,n,o,l)|0;break e}case 11:{u=Zt(e,t,n,o,l)|0;break e}default:Et(0)}break}case 1:{if(i>>>0<2){u=si(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=ci(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=fi(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=Wt(e,t,n,o,l)|0;break e}case 8:{u=qt(e,t,n,o,l)|0;break e}case 7:{u=Gt(e,t,n,o,l)|0;break e}case 9:{u=li(e,t,n,o,l)|0;break e}case 10:{u=di(e,t,n,o,l)|0;break e}case 11:{u=ui(e,t,n,o,l)|0;break e}default:Et(0)}break}default:Et(0)}break}case 0:{if(c){u=zl(e,t,n,c,l)|0;break e}switch(s|0){case 0:{if(i>>>0<2){u=Dl(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=Ll(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=Ul(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=Bl(e,t,n,o,l)|0;break e}case 8:{u=Vl(e,t,n,o,l)|0;break e}case 7:{u=jl(e,t,n,o,l)|0;break e}case 9:{u=Il(e,t,n,o,l)|0;break e}case 10:{u=Hl(e,t,n,o,l)|0;break e}case 11:{u=Fl(e,t,n,o,l)|0;break e}default:Et(0)}break}case 1:{if(i>>>0<2){u=an(e,t,n,o,l)|0;break e}if((i&-2|0)==2){u=sn(e,t,n,o,l)|0;break e}if((i&-3|0)==4){u=un(e,t,n,o,l)|0;break e}switch(i|0){case 5:case 12:case 13:case 14:{u=dn(e,t,n,o,l)|0;break e}case 8:{u=hn(e,t,n,o,l)|0;break e}case 7:{u=fn(e,t,n,o,l)|0;break e}case 9:{u=on(e,t,n,o,l)|0;break e}case 10:{u=cn(e,t,n,o,l)|0;break e}case 11:{u=ln(e,t,n,o,l)|0;break e}default:Et(0)}break}default:Et(0)}break}default:Et(0)}break}default:Et(0)}while(0);return u|0}function Oc(e,t){e=e|0;t=t|0;var n=0;if((e|0)!=0?(n=e+7062384|0,(a[n>>2]|0)==0):0){a[n>>2]=t;n=0}else n=-1;return n|0}function Dc(e){e=e|0;var t=0;if((e|0)!=0?(t=e+7062384|0,(a[t>>2]|0)!=0):0){a[t>>2]=0;t=0}else t=-1;return t|0}function Ic(){return Lc(16,50)|0}function Lc(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,p=0,g=0,v=0;v=d;d=d+64|0;g=v+56|0;p=v+48|0;l=v+40|0;s=v+32|0;o=v+24|0;r=v+16|0;i=v+8|0;n=v;e:do if(!((e+-16|0)>>>0>48|(t|0)<1)){h=Ba(32)|0;if(!h){to(3,5472,n);Et(1)}a[h>>2]=0;a[h+4>>2]=t;a[h+28>>2]=e;f=Ba(t<<2)|0;a[h+8>>2]=f;if(!f){to(3,5472,i);Et(1)}n=t<<4;u=Ba(n)|0;a[h+12>>2]=u;if(!u){to(3,5472,r);Et(1)}r=Ba(n)|0;c=h+20|0;a[c>>2]=r;if(!r){to(3,5472,o);Et(1)}n=t<<5;o=Ba(n)|0;a[h+16>>2]=o;if(!o){to(3,5472,s);Et(1)}s=Ba(n)|0;a[h+24>>2]=s;if(!s){to(3,5472,l);Et(1)}i=ne(e,e)|0;n=i*12|0;i=i<<2;if((t|0)>0){e=0;t:while(1){a[f+(e<<2)>>2]=0;r=e<<2;s=0;while(1){if((s|0)>=4)break;l=Ba(n)|0;o=s+r|0;a[u+(o<<2)>>2]=l;if(!l){n=18;break t}l=Ba(i)|0;a[(a[c>>2]|0)+(o<<2)>>2]=l;if(!l){n=20;break t}else s=s+1|0}e=e+1|0;if((e|0)>=(t|0)){m=h;break e}}if((n|0)==18){to(3,5472,p);Et(1)}else if((n|0)==20){to(3,5472,g);Et(1)}}else m=h}else m=0;while(0);d=v;return m|0}function Fc(e){e=e|0;var t=0,n=0,i=0,r=0,o=0,s=0,l=0;if(!e)t=-1;else{t=e+4|0;n=e+8|0;i=e+12|0;r=e+20|0;if((a[t>>2]|0)>0){o=0;do{if(a[(a[n>>2]|0)+(o<<2)>>2]|0)eo(e,o)|0;s=o<<2;ja(a[(a[i>>2]|0)+(s<<2)>>2]|0);ja(a[(a[r>>2]|0)+(s<<2)>>2]|0);l=1+s|0;ja(a[(a[i>>2]|0)+(l<<2)>>2]|0);ja(a[(a[r>>2]|0)+(l<<2)>>2]|0);l=2+s|0;ja(a[(a[i>>2]|0)+(l<<2)>>2]|0);ja(a[(a[r>>2]|0)+(l<<2)>>2]|0);s=3+s|0;ja(a[(a[i>>2]|0)+(s<<2)>>2]|0);ja(a[(a[r>>2]|0)+(s<<2)>>2]|0);o=o+1|0}while((o|0)<(a[t>>2]|0))}ja(e);t=0}return t|0}function Hc(e,t,n,r,s,l,c,f,h,m,p,g,v,b,y,E,w,_,x){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;l=l|0;c=c|0;f=f|0;h=h|0;m=+m;p=p|0;g=g|0;v=v|0;b=b|0;y=y|0;E=E|0;w=w|0;_=_|0;x=x|0;var M=0,k=0,T=0,S=0,A=0,C=0,$=0,R=0,P=0,N=0,O=0,D=0,I=0,L=0;L=d;d=d+12448|0;T=L+12440|0;k=L+8|0;D=L;O=L+12312|0;I=L+24|0;do if((n+-2|0)>>>0<3){if((w|0)!=2830){M=w&255;if((qa(t,2,M,M*3|0,r,s,l,c,f,h,m,I)|0)<0){a[b>>2]=-1;M=-6;break}M=Ya(I,M,b,y,E,w,_)|0;if(!x)break;a[x>>2]=0;a[x+4>>2]=0;break}if((qa(t,2,14,42,r,s,l,c,f,h,.875,I)|0)<0){a[b>>2]=-1;M=-6;break}a[k>>2]=0;a[k+4>>2]=182;a[k+8>>2]=195;a[k+12>>2]=13;w=i[I+(a[k>>2]|0)>>0]|0;M=(w&255)>0?w:0;w=(w&255)<255?w:-1;N=i[I+(a[k+4>>2]|0)>>0]|0;M=(N&255)>(M&255)?N:M;w=(N&255)<(w&255)?N:w;N=i[I+(a[k+8>>2]|0)>>0]|0;M=(N&255)>(M&255)?N:M;w=(N&255)<(w&255)?N:w;N=i[I+(a[k+12>>2]|0)>>0]|0;M=((N&255)>(M&255)?N:M)&255;w=((N&255)<(w&255)?N:w)&255;e:do if((M-w|0)>=30){N=(M+w|0)>>>1;i[T>>0]=(o[I+(a[k>>2]|0)>>0]|0)>>>0<N>>>0&1;i[T+1>>0]=(o[I+(a[k+4>>2]|0)>>0]|0)>>>0<N>>>0&1;i[T+2>>0]=(o[I+(a[k+8>>2]|0)>>0]|0)>>>0<N>>>0&1;i[T+3>>0]=(o[I+(a[k+12>>2]|0)>>0]|0)>>>0<N>>>0&1;w=0;while(1){M=w+1|0;if(((i[T+w>>0]|0)==1?(i[T+((M|0)%4|0)>>0]|0)==1:0)?(i[T+((w+2|0)%4|0)>>0]|0)==0:0){P=w;break}if((M|0)<4)w=M;else{P=M;break}}switch(P|0){case 4:{a[y>>2]=0;u[E>>3]=-1;M=-3;w=0;k=0;break e}case 0:{k=119;M=255;w=0;do{C=w+-3|0;S=(w&-2|0)==12;A=w*14|0;T=0;do{if(((T+-3|C)>>>0>=8?(R=T&-2,(T|w)>>>0>=2):0)?!(S&((R|0)==0|(R|0)==12)):0){$=(o[I+(T+A)>>0]|0)-N|0;i[O+k>>0]=$>>>31;$=($|0)>-1?$:0-$|0;k=k+-1|0;M=($|0)<(M|0)?$:M}T=T+1|0}while((T|0)!=14);w=w+1|0}while((w|0)!=14);break}case 1:{k=119;M=255;w=0;do{C=w+-3|0;A=w&-2;S=(A|0)==0;A=(A|0)==12;T=13;while(1){if(((T+-3|C)>>>0>=8?($=(T&-2|0)==12,!(S&$)):0)?!(A&(T>>>0<2|$)):0){R=(o[I+((T*14|0)+w)>>0]|0)-N|0;i[O+k>>0]=R>>>31;R=(R|0)>-1?R:0-R|0;k=k+-1|0;M=(R|0)<(M|0)?R:M}if((T|0)>0)T=T+-1|0;else break}w=w+1|0}while((w|0)!=14);break}case 2:{w=119;M=255;C=13;while(1){S=C+-3|0;A=C>>>0<2|(C&-2|0)==12;T=C*14|0;k=13;while(1){if((k+-3|S)>>>0>=8?!((k|C)>>>0<2|A&(k&-2|0)==12):0){R=(o[I+(k+T)>>0]|0)-N|0;i[O+w>>0]=R>>>31;R=(R|0)>-1?R:0-R|0;w=w+-1|0;M=(R|0)<(M|0)?R:M}if((k|0)>0)k=k+-1|0;else break}if((C|0)>0)C=C+-1|0;else break}break}case 3:{w=119;M=255;C=13;while(1){A=C+-3|0;S=C&-2;T=(S|0)==12;S=(S|0)==0;k=0;do{if(((k+-3|A)>>>0>=8?!(T&k>>>0<2|(k|C)>>>0<2):0)?!(S&(k&-2|0)==12):0){R=(o[I+((k*14|0)+C)>>0]|0)-N|0;i[O+w>>0]=R>>>31;R=(R|0)>-1?R:0-R|0;w=w+-1|0;M=(R|0)<(M|0)?R:M}k=k+1|0}while((k|0)!=14);if((C|0)>0)C=C+-1|0;else break}break}default:M=255}a[y>>2]=P;u[E>>3]=(M|0)>30?1:+(M|0)/30;M=Za(2830,0,0,O,D)|0;if((M|0)<0){M=-4;w=0;k=0}else{if(_)a[_>>2]=M;k=D;M=0;w=a[k>>2]|0;k=a[k+4>>2]|0}}else{a[y>>2]=0;u[E>>3]=-1;M=-2;w=0;k=0}while(0);if((M|0)<0){a[b>>2]=-1;break}if((w|0)==-1&(k|0)==-1){a[b>>2]=-1;M=-5;break}a[b>>2]=(w&-32768|0)==0&0==0?w&32767:0;if(!x)M=0;else{M=x;a[M>>2]=w;a[M+4>>2]=k;M=0}}else M=1;while(0);e:do switch(n|0){case 0:case 1:case 3:case 4:{if(!e){a[p>>2]=-1;w=-1;break e}w=e+28|0;k=a[w>>2]|0;T=k<<2;switch(n|0){case 0:case 3:if((qa(t,0,k,T,r,s,l,c,f,h,m,I)|0)<0){a[p>>2]=-1;w=-6;break e}else{w=Xa(e,0,I,a[w>>2]|0,p,g,v)|0;break e}default:if((qa(t,1,k,T,r,s,l,c,f,h,m,I)|0)<0){a[p>>2]=-1;w=-6;break e}else{w=Xa(e,1,I,a[w>>2]|0,p,g,v)|0;break e}}}default:w=1}while(0);if((M|0)!=1){if((w|0)!=1)M=(w&M|0)<0?w:0}else M=w;d=L;return M|0}function Uc(e){e=e|0;var t=0,n=0,i=0,r=0,o=0,s=0,l=0,c=0;c=d;d=d+16|0;t=c+8|0;s=c+4|0;n=c;a[s>>2]=e;do if(e>>>0>=212){o=(e>>>0)/210|0;i=o*210|0;a[n>>2]=e-i;t=(Bc(3712,3904,n,t)|0)-3712>>2;r=t;t=(a[3712+(t<<2)>>2]|0)+i|0;e:while(1){i=5;while(1){if(i>>>0>=47){i=211;l=8;break}n=a[3520+(i<<2)>>2]|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=106;break e}if((t|0)==(ne(e,n)|0))break;else i=i+1|0}t:do if((l|0)==8)while(1){l=0;n=(t>>>0)/(i>>>0)|0;if(n>>>0<i>>>0){l=105;break e}if((t|0)==(ne(n,i)|0))break t;n=i+10|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+12|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+16|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+18|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+22|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+28|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+30|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+36|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+40|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+42|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+46|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+52|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+58|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+60|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+66|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+70|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+72|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+78|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+82|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+88|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+96|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+100|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+102|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+106|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+108|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+112|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+120|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+126|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+130|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+136|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+138|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+142|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+148|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+150|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+156|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+162|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+166|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+168|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+172|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+178|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+180|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+186|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+190|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+192|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+196|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+198|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break t;n=i+208|0;e=(t>>>0)/(n>>>0)|0;if(e>>>0<n>>>0){l=105;break e}if((t|0)==(ne(e,n)|0))break;else{i=i+210|0;l=8}}while(0);i=r+1|0;t=(i|0)==48;i=t?0:i;t=(t&1)+o|0;r=i;o=t;t=(a[3712+(i<<2)>>2]|0)+(t*210|0)|0}if((l|0)==105){a[s>>2]=t;break}else if((l|0)==106){a[s>>2]=t;break}}else t=a[(Bc(3520,3712,s,t)|0)>>2]|0;while(0);d=c;return t|0}function Bc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0;r=a[n>>2]|0;i=e;n=t-e>>2;e:while(1){while(1){if(!n)break e;e=(n|0)/2|0;if((a[i+(e<<2)>>2]|0)>>>0<r>>>0)break;else n=e}i=i+(e+1<<2)|0;n=n+-1-e|0}return i|0}function jc(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0;if(n>>>0>4294967279)cr(e);if(n>>>0<11){i[e>>0]=n<<1;e=e+1|0}else{o=n+16&-16;r=Ri(o)|0;a[e+8>>2]=r;a[e>>2]=o|1;a[e+4>>2]=n;e=r}Kc(e|0,t|0,n|0)|0;i[e+n>>0]=0;return}function Vc(e){e=e|0;if(i[e>>0]&1)Pi(a[e+8>>2]|0);return}function zc(){}function Wc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;i=t-i-(n>>>0>e>>>0|0)>>>0;return(P=i,e-n>>>0|0)|0}function Gc(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,o=0,s=0,l=0;r=e+n|0;if((n|0)>=20){t=t&255;s=e&3;l=t|t<<8|t<<16|t<<24;o=r&~3;if(s){s=e+4-s|0;while((e|0)<(s|0)){i[e>>0]=t;e=e+1|0}}while((e|0)<(o|0)){a[e>>2]=l;e=e+4|0}}while((e|0)<(r|0)){i[e>>0]=t;e=e+1|0}return e-n|0}function qc(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){P=t<<n|(e&(1<<n)-1<<32-n)>>>32-n;return e<<n}P=e<<n-32;return 0}function Yc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;n=e+n>>>0;return(P=t+i+(n>>>0<e>>>0|0)>>>0,n|0)|0}function Xc(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){P=t>>>n;return e>>>n|(t&(1<<n)-1)<<32-n}P=0;return t>>>n-32|0}function Kc(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if((n|0)>=4096)return Je(e|0,t|0,n|0)|0;r=e|0;if((e&3)==(t&3)){while(e&3){if(!n)return r|0;i[e>>0]=i[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}while((n|0)>=4){a[e>>2]=a[t>>2];e=e+4|0;t=t+4|0;n=n-4|0}}while((n|0)>0){i[e>>0]=i[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}return r|0}function Zc(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){P=t>>n;return e>>>n|(t&(1<<n)-1)<<32-n}P=(t|0)<0?-1:0;return t>>n-32|0}function Jc(e){e=e|0;var t=0;t=i[p+(e&255)>>0]|0;if((t|0)<8)return t|0;t=i[p+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=i[p+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(i[p+(e>>>24)>>0]|0)+24|0}function Qc(e,t){e=e|0;t=t|0;var n=0,i=0,r=0,a=0;a=e&65535;r=t&65535;n=ne(r,a)|0;i=e>>>16;e=(n>>>16)+(ne(r,i)|0)|0;r=t>>>16;t=ne(r,a)|0;return(P=(e>>>16)+(ne(r,i)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|n&65535|0)|0}function eu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,a=0,o=0,s=0,l=0,c=0;c=t>>31|((t|0)<0?-1:0)<<1;l=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;a=i>>31|((i|0)<0?-1:0)<<1;r=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;s=Wc(c^e,l^t,c,l)|0;o=P;e=a^c;t=r^l;return Wc((au(s,o,Wc(a^n,r^i,a,r)|0,P,0)|0)^e,P^t,e,t)|0}function tu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0,s=0,l=0,c=0,u=0;r=d;d=d+16|0;l=r|0;s=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;u=i>>31|((i|0)<0?-1:0)<<1;c=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;e=Wc(s^e,o^t,s,o)|0;t=P;au(e,t,Wc(u^n,c^i,u,c)|0,P,l)|0;i=Wc(a[l>>2]^s,a[l+4>>2]^o,s,o)|0;n=P;d=r;return(P=n,i)|0}function nu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,a=0;r=e;a=n;n=Qc(r,a)|0;e=P;return(P=(ne(t,a)|0)+(ne(i,r)|0)+e|e&0,n|0|0)|0}function iu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;return au(e,t,n,i,0)|0}function ru(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var r=0,o=0;o=d;d=d+16|0;r=o|0;au(e,t,n,i,r)|0;d=o;return(P=a[r+4>>2]|0,a[r>>2]|0)|0}function au(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;var o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,m=0,p=0;d=e;c=t;u=c;s=n;h=i;l=h;if(!u){o=(r|0)!=0;if(!l){if(o){a[r>>2]=(d>>>0)%(s>>>0);a[r+4>>2]=0}h=0;r=(d>>>0)/(s>>>0)>>>0;return(P=h,r)|0}else{if(!o){h=0;r=0;return(P=h,r)|0}a[r>>2]=e|0;a[r+4>>2]=t&0;h=0;r=0;return(P=h,r)|0}}o=(l|0)==0;do if(s){if(!o){o=(re(l|0)|0)-(re(u|0)|0)|0;if(o>>>0<=31){f=o+1|0;l=31-o|0;t=o-31>>31;s=f;e=d>>>(f>>>0)&t|u<<l;t=u>>>(f>>>0)&t;o=0;l=d<<l;break}if(!r){h=0;r=0;return(P=h,r)|0}a[r>>2]=e|0;a[r+4>>2]=c|t&0;h=0;r=0;return(P=h,r)|0}o=s-1|0;if(o&s){l=(re(s|0)|0)+33-(re(u|0)|0)|0;p=64-l|0;f=32-l|0;c=f>>31;m=l-32|0;t=m>>31;s=l;e=f-1>>31&u>>>(m>>>0)|(u<<f|d>>>(l>>>0))&t;t=t&u>>>(l>>>0);o=d<<p&c;l=(u<<p|d>>>(m>>>0))&c|d<<f&l-33>>31;break}if(r){a[r>>2]=o&d;a[r+4>>2]=0}if((s|0)==1){m=c|t&0;p=e|0|0;return(P=m,p)|0}else{p=Jc(s|0)|0;m=u>>>(p>>>0)|0;p=u<<32-p|d>>>(p>>>0)|0;return(P=m,p)|0}}else{if(o){if(r){a[r>>2]=(u>>>0)%(s>>>0);a[r+4>>2]=0}m=0;p=(u>>>0)/(s>>>0)>>>0;return(P=m,p)|0}if(!d){if(r){a[r>>2]=0;a[r+4>>2]=(u>>>0)%(l>>>0)}m=0;p=(u>>>0)/(l>>>0)>>>0;return(P=m,p)|0}o=l-1|0;if(!(o&l)){if(r){a[r>>2]=e|0;a[r+4>>2]=o&u|t&0}m=0;p=u>>>((Jc(l|0)|0)>>>0);return(P=m,p)|0}o=(re(l|0)|0)-(re(u|0)|0)|0;if(o>>>0<=30){t=o+1|0;l=31-o|0;s=t;e=u<<l|d>>>(t>>>0);t=u>>>(t>>>0);o=0;l=d<<l;break}if(!r){m=0;p=0;return(P=m,p)|0}a[r>>2]=e|0;a[r+4>>2]=c|t&0;m=0;p=0;return(P=m,p)|0}while(0);if(!s){u=l;c=0;l=0}else{f=n|0|0;d=h|i&0;u=Yc(f|0,d|0,-1,-1)|0;n=P;c=l;l=0;do{i=c;c=o>>>31|c<<1;o=l|o<<1;i=e<<1|i>>>31|0;h=e>>>31|t<<1|0;Wc(u,n,i,h)|0;p=P;m=p>>31|((p|0)<0?-1:0)<<1;l=m&1;e=Wc(i,h,m&f,(((p|0)<0?-1:0)>>31|((p|0)<0?-1:0)<<1)&d)|0;t=P;s=s-1|0}while((s|0)!=0);u=c;c=0}s=0;if(r){a[r>>2]=e;a[r+4>>2]=t}m=(o|0)>>>31|(u|s)<<1|(s<<1|o>>>31)&0|c;p=(o<<1|0>>>31)&-2|l;return(P=m,p)|0}function ou(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;return Fu[e&15](t|0,n|0,i|0)|0}function su(e,t,n,i,r,a){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;a=a|0;Hu[e&3](t|0,n|0,i|0,r|0,a|0)}function lu(e,t,n){e=e|0;t=t|0;n=n|0;return+Uu[e&1](t|0,n|0)}function cu(e,t,n){e=e|0;t=t|0;n=+n;Bu[e&3](t|0,+n)}function uu(e,t){e=e|0;t=t|0;return+ju[e&3](t|0)}function du(e){e=e|0;return Vu[e&1]()|0}function fu(e,t){e=e|0;t=t|0;zu[e&15](t|0)}function hu(e,t,n){e=e|0;t=t|0;n=n|0;Wu[e&7](t|0,n|0)}function mu(e,t){e=e|0;t=t|0;return Gu[e&31](t|0)|0}function pu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;qu[e&1](t|0,n|0,i|0)}function gu(e){e=e|0;Yu[e&0]()}function vu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=+i;Xu[e&3](t|0,n|0,+i)}function bu(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;return Ku[e&1](t|0,n|0,i|0,r|0)|0}function yu(e,t,n,i,r,a,o){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;a=a|0;o=o|0;Zu[e&3](t|0,n|0,i|0,r|0,a|0,o|0)}function Eu(e,t,n){e=e|0;t=t|0;n=n|0;return Ju[e&15](t|0,n|0)|0}function wu(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;Qu[e&3](t|0,n|0,i|0,r|0)}function _u(e,t,n){e=e|0;t=t|0;n=n|0;ae(0);return 0}function xu(e,t,n,i,r){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;ae(1)}function Mu(e,t){e=e|0;t=t|0;ae(2);return 0}function ku(e,t){e=e|0;t=+t;ae(3)}function Tu(e){e=e|0;ae(4);return 0}function Su(){ae(5);return 0}function Au(e){e=e|0;ae(6)}function Cu(e,t){e=e|0;t=t|0;ae(7)}function $u(e){e=e|0;ae(8);return 0}function Ru(e,t,n){e=e|0;t=t|0;n=n|0;ae(9)}function Pu(){ae(10)}function Nu(e,t,n){e=e|0;t=t|0;n=+n;ae(11)}function Ou(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;ae(12);return 0}function Du(e,t,n,i,r,a){e=e|0;t=t|0;n=n|0;i=i|0;r=r|0;a=a|0;ae(13)}function Iu(e,t){e=e|0;t=t|0;ae(14);return 0}function Lu(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;ae(15)}var Fu=[_u,Gi,qi,La,Lr,Ir,Fr,Vs,Ds,Ns,Os,Bs,Sl,Tl,Dr,Na];var Hu=[xu,ar,rr,tr];var Uu=[Mu,El];var Bu=[ku,ds,hs,vs];var ju=[Tu,fs,ms,bs];var Vu=[Su,ns];var zu=[Au,Ni,Oi,Hi,ji,Ui,Bi,Vi,zi,Wi,ts,fl,hl,Ca,$a,Au];var Wu=[Cu,ks,xs,ps,ys,ws,$s,xl];var Gu=[$u,Di,Or,rs,us,as,Hs,Us,Cs,As,Ts,Ms,gs,Es,_s,Rs,_l,$u,$u,$u,$u,$u,$u,$u,$u,$u,$u,$u,$u,$u,$u,$u];var qu=[Ru,yl];var Yu=[Pu];var Xu=[Nu,wl,bl,Nu];var Ku=[Ou,Cl];var Zu=[Du,lr,sr,or];var Ju=[Iu,Go,ss,ls,cs,Is,Fs,Ls,js,Ss,Al,Ml,Iu,Iu,Iu,Iu];var Qu=[Lu,Xi,Ki,Ji];return{_i64Subtract:Wc,_fflush:Wr,_i64Add:Yc,_memset:Gc,_malloc:Ba,_memcpy:Kc,___getTypeName:wi,_bitshift64Lshr:Xc,_free:ja,___errno_location:dr,_bitshift64Shl:qc,__GLOBAL__sub_I_ARToolKitJS_cpp:dl,__GLOBAL__sub_I_bind_cpp:xi,runPostSets:zc,stackAlloc:mn,stackSave:pn,stackRestore:gn,establishStackSpace:vn,setThrew:bn,setTempRet0:wn,getTempRet0:_n,dynCall_iiii:ou,dynCall_viiiii:su,dynCall_dii:lu,dynCall_vid:cu,dynCall_di:uu,dynCall_i:du,dynCall_vi:fu,dynCall_vii:hu,dynCall_ii:mu,dynCall_viii:pu,dynCall_v:gu,dynCall_viid:vu,dynCall_iiiii:bu,dynCall_viiiiii:yu,dynCall_iii:Eu,dynCall_viiii:wu}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_i64Subtract=Module._i64Subtract=asm._i64Subtract,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,_fflush=Module._fflush=asm._fflush,__GLOBAL__sub_I_ARToolKitJS_cpp=Module.__GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp,_i64Add=Module._i64Add=asm._i64Add,_memset=Module._memset=asm._memset,runPostSets=Module.runPostSets=asm.runPostSets,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,___getTypeName=Module.___getTypeName=asm.___getTypeName,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_free=Module._free=asm._free,___errno_location=Module.___errno_location=asm.___errno_location,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;
Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){function t(){for(var e=0;e<3;e++)i.push(0)}assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var n=e.length+1,i=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];t();for(var r=0;r<n-1;r+=1)i.push(allocate(intArrayFromString(e[r]),"i8",ALLOC_NORMAL)),t();i.push(0),i=allocate(i,"i32",ALLOC_NORMAL);try{var a=Module._main(n,i,0);exit(a,!0)}catch(o){if(o instanceof ExitStatus)return;if("SimulateInfiniteLoop"==o)return void(Module.noExitRuntime=!0);throw o&&"object"==typeof o&&o.stack&&Module.printErr("exception thrown: "+[o,o.stack]),o}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),function(){"use strict";function e(){h.forEach(function(e){f[e]=Module[e]});for(var e in Module)e.match(/^AR/)&&(f[e]=Module[e])}function t(e,t,n){var i="/marker_"+m++;l(t,i,function(){var t=Module._addMarker(e,i);n&&n(t)})}function n(e){return String.fromCharCode.apply(String,e)}function i(e){var t=n(e),i=t.split("\n"),r=[],a=0,o=0;return i.forEach(function(e){if(e=e.trim(),e&&!e.startsWith("#"))switch(a){case 0:return o=+e,void(a=1);case 1:e.match(/^\d+$/)||r.push(e);case 2:case 3:case 4:return void a++;case 5:return void(a=1)}}),r}function r(e,t,n){var r="/multi_marker_"+p++;l(t,r,function(a){function o(){var t=Module._addMultiMarker(e,r),i=Module.getMultiMarkerNum(e,t);n&&n(t,i)}var s=i(a);if(!s.length)return o();var l=t.split("/").slice(0,-1).join("/");s=s.map(function(e){return"patt.hiro"===e||"patt.kanji"===e||"patt2.hiro"===e||"patt2.kanji"===e?["http://127.0.0.1:8080/data/data/"+e,e]:[l+"/"+e,e]}),c(s,o)})}function a(e,t){var n="/camera_param_"+g++,i=function(){var e=Module._loadCamera(n);t&&t(e)};"object"==typeof e?s(n,e,i):e.indexOf("\n")>-1?o(n,e,i):l(e,n,i)}function o(e,t,n){for(var i=new Uint8Array(t.length),r=0;r<i.length;r++)i[r]=255&t.charCodeAt(r);s(e,i,n)}function s(e,t,n){FS.writeFile(e,t,{encoding:"binary"}),n(t)}function l(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(e){var r=i.response,a=new Uint8Array(r);s(t,a,n)},i.send()}function c(e,t){var n=e.pop();n?l(n[0],n[1],function(){c(e,t)}):t()}var u=function(e,t,n){var i=e,r=t;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var a=e;n=t,i=a.videoWidth||a.width,r=a.videoHeight||a.height,this.image=a}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=r,this.ctx=this.canvas.getContext("2d"),this.videoWidth=i,this.videoHeight=r,"string"==typeof n){var o=this;this.cameraParam=new d(n,function(){o._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=n,this._initialize()};u.prototype.dispose=function(){f.teardown(this.id);for(var e in this)this[e]=null},u.prototype.process=function(e){this.detectMarker(e);var t,n,i=this.getMarkerNum();for(t in this.patternMarkers)n=this.patternMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(t in this.barcodeMarkers)n=this.barcodeMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(var r=0;r<i;r++){var a=this.getMarker(r),o=f.UNKNOWN_MARKER,s=this.trackPatternMarkerId(-1);a.idPatt>-1&&(a.id===a.idPatt||a.idMatrix===-1)?(s=this.trackPatternMarkerId(a.idPatt),o=f.PATTERN_MARKER,a.dir!==a.dirPatt&&this.setMarkerInfoDir(r,a.dirPatt)):a.idMatrix>-1&&(s=this.trackBarcodeMarkerId(a.idMatrix),o=f.BARCODE_MARKER,a.dir!==a.dirMatrix&&this.setMarkerInfoDir(r,a.dirMatrix)),o!==f.UNKNOWN_MARKER&&s.inPrevious?this.getTransMatSquareCont(r,s.markerWidth,s.matrix,s.matrix):this.getTransMatSquare(r,s.markerWidth,s.matrix),s.inCurrent=!0,this.transMatToGLMat(s.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:r,type:o,marker:a,matrix:this.transform_mat}})}for(var l=this.getMultiMarkerCount(),r=0;r<l;r++){var c=this.getMultiMarkerPatternCount(r),s=!1;f.getTransMatMultiSquareRobust(this.id,r),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var u=0;u<c;u++){var d=this.getMultiEachMarker(r,u);if(d.visible>=0){s=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:r,matrix:this.transform_mat}});break}}if(s)for(var u=0;u<c;u++){var d=this.getMultiEachMarker(r,u);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:r,markerIndex:u,marker:d,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},u.prototype.trackPatternMarkerId=function(e,t){var n=this.patternMarkers[e];return n||(this.patternMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},u.prototype.trackBarcodeMarkerId=function(e,t){var n=this.barcodeMarkers[e];return n||(this.barcodeMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},u.prototype.getMultiMarkerCount=function(){return f.getMultiMarkerCount(this.id)},u.prototype.getMultiMarkerPatternCount=function(e){return f.getMultiMarkerNum(this.id,e)},u.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},u.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}},u.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var n=0;n<t.length;n++)t[n].call(this,e)},u.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},u.prototype.loadMarker=function(e,t,n){return f.addMarker(this.id,e,t,n)},u.prototype.loadMultiMarker=function(e,t,n){return f.addMultiMarker(this.id,e,t,n)},u.prototype.getTransMatSquare=function(e,t,n){return f.getTransMatSquare(this.id,e,t),n.set(this.marker_transform_mat),n},u.prototype.getTransMatSquareCont=function(e,t,n,i){return this.marker_transform_mat.set(n),f.getTransMatSquareCont(this.id,e,t),i.set(this.marker_transform_mat),i},u.prototype.getTransMatMultiSquare=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},u.prototype.getTransMatMultiSquareRobust=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},u.prototype.transMatToGLMat=function(e,t,n){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,void 0!=n&&0!==n&&(t[12]*=n,t[13]*=n,t[14]*=n),t},u.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?f.detectMarker(this.id):-99},u.prototype.getMarkerNum=function(){return f.getMarkerNum(this.id)},u.prototype.getMarker=function(e){if(0===f.getMarker(this.id,e))return f.markerInfo},u.prototype.setMarkerInfoVertex=function(e,t){for(var n=0;n<t.length;n++)this.marker_transform_mat[2*n+0]=t[n][0],this.marker_transform_mat[2*n+1]=t[n][1];return f.setMarkerInfoVertex(this.id,e)},u.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},u.prototype.getMultiEachMarker=function(e,t){if(0===f.getMultiEachMarker(this.id,e,t))return f.multiEachMarkerInfo},u.prototype.getTransformationMatrix=function(){return this.transform_mat},u.prototype.getCameraMatrix=function(){return this.camera_mat},u.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},u.prototype.setDebugMode=function(e){return f.setDebugMode(this.id,e)},u.prototype.getDebugMode=function(){return f.getDebugMode(this.id)},u.prototype.getProcessingImage=function(){return f.getProcessingImage(this.id)},u.prototype.setLogLevel=function(e){return f.setLogLevel(e)},u.prototype.getLogLevel=function(){return f.getLogLevel()},u.prototype.setMarkerInfoDir=function(e,t){return f.setMarkerInfoDir(this.id,e,t)},u.prototype.setProjectionNearPlane=function(e){return f.setProjectionNearPlane(this.id,e)},u.prototype.getProjectionNearPlane=function(){return f.getProjectionNearPlane(this.id)},u.prototype.setProjectionFarPlane=function(e){return f.setProjectionFarPlane(this.id,e)},u.prototype.getProjectionFarPlane=function(){return f.getProjectionFarPlane(this.id)},u.prototype.setThresholdMode=function(e){return f.setThresholdMode(this.id,e)},u.prototype.getThresholdMode=function(){return f.getThresholdMode(this.id)},u.prototype.setThreshold=function(e){return f.setThreshold(this.id,e)},u.prototype.getThreshold=function(){return f.getThreshold(this.id)},u.prototype.setPatternDetectionMode=function(e){return f.setPatternDetectionMode(this.id,e)},u.prototype.getPatternDetectionMode=function(){return f.getPatternDetectionMode(this.id)},u.prototype.setMatrixCodeType=function(e){return f.setMatrixCodeType(this.id,e)},u.prototype.getMatrixCodeType=function(){return f.getMatrixCodeType(this.id)},u.prototype.setLabelingMode=function(e){return f.setLabelingMode(this.id,e)},u.prototype.getLabelingMode=function(){return f.getLabelingMode(this.id)},u.prototype.setPattRatio=function(e){return f.setPattRatio(this.id,e)},u.prototype.getPattRatio=function(){return f.getPattRatio(this.id)},u.prototype.setImageProcMode=function(e){return f.setImageProcMode(this.id,e)},u.prototype.getImageProcMode=function(){return f.getImageProcMode(this.id)},u.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var n=this.getMarkerNum(),i=0;i<n;i++)this._debugMarker(this.getMarker(i))},u.prototype._initialize=function(){this.id=f.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=f.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},u.prototype._copyImageToHeap=function(e){e||(e=this.image),"portrait"===this.orientation?(this.ctx.save(),this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width),this.ctx.restore()):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height);var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.data;return!!this.dataHeap&&(this.dataHeap.set(n),!0)},u.prototype._debugMarker=function(e){var t,n;t=e.vertex;var i=this.ctx;i.strokeStyle="red",i.beginPath(),i.moveTo(t[0][0],t[0][1]),i.lineTo(t[1][0],t[1][1]),i.stroke(),i.beginPath(),i.moveTo(t[2][0],t[2][1]),i.lineTo(t[3][0],t[3][1]),i.stroke(),i.strokeStyle="green",i.beginPath(),i.lineTo(t[1][0],t[1][1]),i.lineTo(t[2][0],t[2][1]),i.stroke(),i.beginPath(),i.moveTo(t[3][0],t[3][1]),i.lineTo(t[0][0],t[0][1]),i.stroke(),n=e.pos,i.beginPath(),i.arc(n[0],n[1],8,0,2*Math.PI),i.fillStyle="red",i.fill()},u.getUserMedia=function(e){var t=e.facingMode||"environment",n=e.onSuccess,i=e.onError||function(e){console.error("ARController.getUserMedia",e)},r=document.createElement("video"),a=function(){0!==this.videoWidth&&n(r)},o=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],l=function(e){o&&(r.play(),r.paused||s.forEach(function(e){window.removeEventListener(e,l,!0)}))};s.forEach(function(e){window.addEventListener(e,l,!0)});var c=function(e){r.addEventListener("loadedmetadata",a,!1),r.src=window.URL.createObjectURL(e),o=!0,l()},u={},d={};e.width&&(d.width=e.width,"object"==typeof e.width?(e.width.max&&(u.maxWidth=e.width.max),e.width.min&&(u.minWidth=e.width.max)):u.maxWidth=e.width),e.height&&(d.height=e.height,"object"==typeof e.height?(e.height.max&&(u.maxHeight=e.height.max),e.height.min&&(u.minHeight=e.height.max)):u.maxHeight=e.height),d.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var f={audio:!1,video:{mandatory:u}};return navigator.getUserMedia?navigator.getUserMedia(f,c,i):i("navigator.getUserMedia is not supported on your browser"),r},u.getUserMediaARController=function(e){var t={};for(var n in e)t[n]=e[n];var i=e.onSuccess,r=e.cameraParam;t.onSuccess=function(){new d(r,function(){var t=this,n=e.maxARVideoSize||Math.max(a.videoWidth,a.videoHeight),r=n/Math.max(a.videoWidth,a.videoHeight),o=r*a.videoWidth,s=r*a.videoHeight;if(a.videoWidth<a.videoHeight){var l=o;o=s,s=l}var c=new u(o,s,t);c.image=a,a.videoWidth<a.videoHeight?(c.orientation="portrait",c.videoWidth=a.videoHeight,c.videoHeight=a.videoWidth):(c.orientation="landscape",c.videoWidth=a.videoWidth,c.videoHeight=a.videoHeight),i(c,t)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var a=this.getUserMedia(t);return a};var d=function(e,t,n){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=n,e&&this.load(e)};d.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;f.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(d.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),d.prototype.dispose=function(){this.id!==-1&&f.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var f={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:a,addMarker:t,addMultiMarker:r},h=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"],m=0,p=0,g=0;window.artoolkit=f,window.ARController=u,window.ARCameraParam=d,window.Module?e():window.Module={onRuntimeInitialized:function(){e()}}}();var AR=AR||{};AR.Marker=function(e,t){this.id=e,this.corners=t},AR.Detector=function(){this.grey=new CV.Image,this.thres=new CV.Image,this.homography=new CV.Image,this.binary=[],this.contours=[],this.polys=[],this.candidates=[]},AR.Detector.prototype.detect=function(e){return CV.grayscale(e,this.grey),CV.adaptiveThreshold(this.grey,this.thres,2,7),this.contours=CV.findContours(this.thres,this.binary),this.candidates=this.findCandidates(this.contours,.2*e.width,.05,10),this.candidates=this.clockwiseCorners(this.candidates),this.candidates=this.notTooNear(this.candidates,10),this.findMarkers(this.grey,this.candidates,49)},AR.Detector.prototype.findCandidates=function(e,t,n,i){var r,a,o,s=[],l=e.length;for(this.polys=[],o=0;o<l;++o)r=e[o],r.length>=t&&(a=CV.approxPolyDP(r,r.length*n),this.polys.push(a),4===a.length&&CV.isContourConvex(a)&&CV.minEdgeLength(a)>=i&&s.push(a));return s},AR.Detector.prototype.clockwiseCorners=function(e){var t,n,i,r,a,o,s=e.length;for(o=0;o<s;++o)t=e[o][1].x-e[o][0].x,i=e[o][1].y-e[o][0].y,n=e[o][2].x-e[o][0].x,r=e[o][2].y-e[o][0].y,t*r-i*n<0&&(a=e[o][1],e[o][1]=e[o][3],e[o][3]=a);return e},AR.Detector.prototype.notTooNear=function(e,t){var n,i,r,a,o,s,l=[],c=e.length;for(a=0;a<c;++a)for(o=a+1;o<c;++o){for(n=0,s=0;s<4;++s)i=e[a][s].x-e[o][s].x,r=e[a][s].y-e[o][s].y,n+=i*i+r*r;n/4<t*t&&(CV.perimeter(e[a])<CV.perimeter(e[o])?e[a].tooNear=!0:e[o].tooNear=!0)}for(a=0;a<c;++a)e[a].tooNear||l.push(e[a]);return l},AR.Detector.prototype.findMarkers=function(e,t,n){var i,r,a,o=[],s=t.length;for(a=0;a<s;++a)i=t[a],CV.warp(e,this.homography,i,n),CV.threshold(this.homography,this.homography,CV.otsu(this.homography)),r=this.getMarker(this.homography,i),r&&o.push(r);return o},AR.Detector.prototype.getMarker=function(e,t){var n,i,r,a,o,s=e.width/7>>>0,l=s*s>>1,c=[],u=[],d=[];for(a=0;a<7;++a)for(r=0===a||6===a?1:6,o=0;o<7;o+=r)if(n={x:o*s,y:a*s,width:s,height:s},CV.countNonZero(e,n)>l)return null;for(a=0;a<5;++a)for(c[a]=[],o=0;o<5;++o)n={x:(o+1)*s,y:(a+1)*s,width:s,height:s},c[a][o]=CV.countNonZero(e,n)>l?1:0;for(u[0]=c,d[0]=this.hammingDistance(u[0]),i={first:d[0],second:0},a=1;a<4;++a)u[a]=this.rotate(u[a-1]),d[a]=this.hammingDistance(u[a]),d[a]<i.first&&(i.first=d[a],i.second=a);return 0!==i.first?null:new AR.Marker(this.mat2id(u[i.second]),this.rotate2(t,4-i.second))},AR.Detector.prototype.hammingDistance=function(e){var t,n,i,r,a,o=[[1,0,0,0,0],[1,0,1,1,1],[0,1,0,0,1],[0,1,1,1,0]],s=0;for(i=0;i<5;++i){for(n=1/0,r=0;r<4;++r){for(t=0,a=0;a<5;++a)t+=e[i][a]===o[r][a]?0:1;t<n&&(n=t)}s+=n}return s},AR.Detector.prototype.mat2id=function(e){var t,n=0;for(t=0;t<5;++t)n<<=1,n|=e[t][1],n<<=1,n|=e[t][3];return n},AR.Detector.prototype.rotate=function(e){var t,n,i=[],r=e.length;for(t=0;t<r;++t)for(i[t]=[],n=0;n<e[t].length;++n)i[t][n]=e[e[t].length-n-1][t];return i},AR.Detector.prototype.rotate2=function(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i[n]=e[(t+n)%r];return i};var CV=CV||{};CV.Image=function(e,t,n){this.width=e||0,this.height=t||0,this.data=n||[]},CV.grayscale=function(e,t){for(var n=e.data,i=t.data,r=n.length,a=0,o=0;a<r;a+=4)i[o++]=.299*n[a]+.587*n[a+1]+.114*n[a+2]+.5&255;return t.width=e.width,t.height=e.height,t},CV.threshold=function(e,t,n){var i,r=e.data,a=t.data,o=r.length,s=[];for(i=0;i<256;++i)s[i]=i<=n?0:255;for(i=0;i<o;++i)a[i]=s[r[i]];return t.width=e.width,t.height=e.height,t},CV.adaptiveThreshold=function(e,t,n,i){var r,a=e.data,o=t.data,s=a.length,l=[];for(CV.stackBoxBlur(e,t,n),r=0;r<768;++r)l[r]=r-255<=-i?255:0;for(r=0;r<s;++r)o[r]=l[a[r]-o[r]+255];return t.width=e.width,t.height=e.height,t},CV.otsu=function(e){var t,n,i,r=e.data,a=r.length,o=[],s=0,l=0,c=0,u=0,d=0,f=0;for(i=0;i<256;++i)o[i]=0;for(i=0;i<a;++i)o[r[i]]++;for(i=0;i<256;++i)l+=o[i]*i;for(i=0;i<256;++i)if(u+=o[i],0!==u){if(d=a-u,0===d)break;c+=o[i]*i,t=c/u-(l-c)/d,n=u*d*t*t,n>f&&(f=n,s=i)}return s},CV.stackBoxBlurMult=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265],CV.stackBoxBlurShift=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13],CV.BlurStack=function(){this.color=0,this.next=null},CV.stackBoxBlur=function(e,t,n){var i,r,a,o,s,l,c,u,d,f,h=e.data,m=t.data,p=e.height,g=e.width,v=p-1,b=g-1,y=n+n+1,E=n+1,w=CV.stackBoxBlurMult[n],_=CV.stackBoxBlurShift[n];for(i=r=new CV.BlurStack,f=1;f<y;++f)i=i.next=new CV.BlurStack;for(i.next=r,s=0,d=0;d<p;++d){for(l=s,a=h[s],o=E*a,i=r,f=0;f<E;++f)i.color=a,i=i.next;for(f=1;f<E;++f)i.color=h[s+f],o+=i.color,i=i.next;for(i=r,u=0;u<g;++u)m[s++]=o*w>>>_,c=u+E,c=l+(c<b?c:b),o-=i.color-h[c],i.color=h[c],i=i.next}for(u=0;u<g;++u){for(s=u,l=s+g,a=m[s],o=E*a,i=r,f=0;f<E;++f)i.color=a,i=i.next;for(f=1;f<E;++f)i.color=m[l],o+=i.color,i=i.next,l+=g;for(i=r,d=0;d<p;++d)m[s]=o*w>>>_,c=d+E,c=u+(c<v?c:v)*g,o-=i.color-m[c],i.color=m[c],i=i.next,s+=g}return t},CV.gaussianBlur=function(e,t,n,i){var r=CV.gaussianKernel(i);return t.width=e.width,t.height=e.height,n.width=e.width,n.height=e.height,CV.gaussianBlurFilter(e,n,r,!0),CV.gaussianBlurFilter(n,t,r,!1),t},CV.gaussianBlurFilter=function(e,t,n,i){var r,a,o,s,l,c=e.data,u=t.data,d=e.height,f=e.width,h=0,m=n.length>>1;for(o=0;o<d;++o)for(s=0;s<f;++s){for(a=0,l=-m;l<=m;++l)i?(r=h+l,s+l<0?r=h:s+l>=f&&(r=h)):(r=h+l*f,o+l<0?r=h:o+l>=d&&(r=h)),a+=n[m+l]*c[r];u[h++]=i?a:a+.5&255}return t},CV.gaussianKernel=function(e){var t,n,i,r,a,o,s=[[1],[.25,.5,.25],[.0625,.25,.375,.25,.0625],[.03125,.109375,.21875,.28125,.21875,.109375,.03125]],l=[];if(e<=7&&e%2===1)l=s[e>>1];else{for(t=.5*(e-1),n=.8+.3*(t-1),i=-.5/(n*n),r=0,o=0;o<e;++o)a=o-t,r+=l[o]=Math.exp(i*a*a);for(r=1/r,o=0;o<e;++o)l[o]*=r}return l},CV.findContours=function(e,t){var n,i,r,a,o,s,l,c,u,d=e.width,f=e.height,h=[];for(n=CV.binaryBorder(e,t),i=CV.neighborhoodDeltas(d+2),r=d+3,o=1,c=0;c<f;++c,r+=2)for(u=0;u<d;++u,++r)a=n[r],0!==a&&(s=l=!1,1===a&&0===n[r-1]?s=!0:a>=1&&0===n[r+1]&&(l=!0),(s||l)&&(++o,h.push(CV.borderFollowing(n,r,o,{x:u,y:c},l,i))));return h},CV.borderFollowing=function(e,t,n,i,r,a){var o,s,l,c,u,d,f=[];f.hole=r,c=u=r?0:4;do if(c=c-1&7,o=t+a[c],0!==e[o])break;while(c!==u);if(c===u)e[t]=-n,f.push({x:i.x,y:i.y});else for(s=t,d=4^c;;){u=c;do l=s+a[++c];while(0===e[l]);if(c&=7,c-1>>>0<u>>>0?e[s]=-n:1===e[s]&&(e[s]=n),f.push({x:i.x,y:i.y}),d=c,i.x+=CV.neighborhood[c][0],i.y+=CV.neighborhood[c][1],l===t&&s===o)break;s=l,c=c+4&7}return f},CV.neighborhood=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]],CV.neighborhoodDeltas=function(e){for(var t=[],n=CV.neighborhood.length,i=0;i<n;++i)t[i]=CV.neighborhood[i][0]+CV.neighborhood[i][1]*e;return t.concat(t)},CV.approxPolyDP=function(e,t){var n,i,r,a,o,s,l,c,u,d,f,h={start_index:0,end_index:0},m={start_index:0,end_index:0},p=[],g=[],v=e.length;for(t*=t,f=0,u=0;u<3;++u)for(o=0,f=(f+m.start_index)%v,i=e[f],++f===v&&(f=0),d=1;d<v;++d)n=e[f],++f===v&&(f=0),l=n.x-i.x,c=n.y-i.y,a=l*l+c*c,a>o&&(o=a,m.start_index=d);for(o<=t?p.push({x:i.x,y:i.y}):(h.start_index=f,h.end_index=m.start_index+=h.start_index,m.start_index-=m.start_index>=v?v:0,m.end_index=h.start_index,m.end_index<m.start_index&&(m.end_index+=v),g.push({start_index:m.start_index,end_index:m.end_index}),g.push({start_index:h.start_index,end_index:h.end_index}));0!==g.length;){if(h=g.pop(),r=e[h.end_index%v],i=e[f=h.start_index%v],++f===v&&(f=0),h.end_index<=h.start_index+1)s=!0;else{for(o=0,l=r.x-i.x,c=r.y-i.y,u=h.start_index+1;u<h.end_index;++u)n=e[f],++f===v&&(f=0),a=Math.abs((n.y-i.y)*l-(n.x-i.x)*c),a>o&&(o=a,m.start_index=u);s=o*o<=t*(l*l+c*c)}s?p.push({x:i.x,y:i.y}):(m.end_index=h.end_index,h.end_index=m.start_index,g.push({start_index:m.start_index,end_index:m.end_index}),g.push({start_index:h.start_index,end_index:h.end_index}))}return p},CV.warp=function(e,t,n,i){var r,a,o,s,l,c,u,d,f,h,m,p,g,v,b,y,E,w,_,x,M,k,T,S=e.data,A=t.data,C=e.width,$=e.height,R=0;for(g=CV.getPerspectiveTransform(n,i-1),v=g[8],b=g[2],y=g[5],k=0;k<i;++k)for(v+=g[7],b+=g[1],y+=g[4],E=v,w=b,_=y,T=0;T<i;++T)E+=g[6],w+=g[0],_+=g[3],x=w/E,M=_/E,r=x>>>0,a=r===C-1?r:r+1,o=x-r,s=1-o,l=M>>>0,c=l===$-1?l:l+1,u=M-l,d=1-u,f=h=l*C,m=p=c*C,A[R++]=d*(s*S[f+r]+o*S[h+a])+u*(s*S[m+r]+o*S[p+a])&255;return t.width=i,t.height=i,t},CV.getPerspectiveTransform=function(e,t){var n=CV.square2quad(e);return n[0]/=t,n[1]/=t,n[3]/=t,n[4]/=t,n[6]/=t,n[7]/=t,n},CV.square2quad=function(e){var t,n,i,r,a,o,s,l=[];return t=e[0].x-e[1].x+e[2].x-e[3].x,n=e[0].y-e[1].y+e[2].y-e[3].y,0===t&&0===n?(l[0]=e[1].x-e[0].x,l[1]=e[2].x-e[1].x,l[2]=e[0].x,l[3]=e[1].y-e[0].y,l[4]=e[2].y-e[1].y,l[5]=e[0].y,l[6]=0,l[7]=0,l[8]=1):(i=e[1].x-e[2].x,r=e[3].x-e[2].x,a=e[1].y-e[2].y,o=e[3].y-e[2].y,s=i*o-r*a,l[6]=(t*o-r*n)/s,l[7]=(i*n-t*a)/s,l[8]=1,l[0]=e[1].x-e[0].x+l[6]*e[1].x,l[1]=e[3].x-e[0].x+l[7]*e[3].x,l[2]=e[0].x,l[3]=e[1].y-e[0].y+l[6]*e[1].y,l[4]=e[3].y-e[0].y+l[7]*e[3].y,l[5]=e[0].y),l},CV.isContourConvex=function(e){var t,n,i,r,a,o,s,l,c=0,u=!0,d=e.length,f=0,h=0;for(n=e[d-1],t=e[0],a=t.x-n.x,o=t.y-n.y;f<d;++f){if(++h===d&&(h=0),n=t,t=e[h],s=t.x-n.x,l=t.y-n.y,i=s*o,r=l*a,c|=r>i?1:r<i?2:3,3===c){u=!1;break}a=s,o=l}return u},CV.perimeter=function(e){for(var t,n,i=e.length,r=0,a=i-1,o=0;r<i;a=r++)t=e[r].x-e[a].x,n=e[r].y-e[a].y,o+=Math.sqrt(t*t+n*n);return o},CV.minEdgeLength=function(e){for(var t,n,i,r=e.length,a=0,o=r-1,s=1/0;a<r;o=a++)n=e[a].x-e[o].x,i=e[a].y-e[o].y,t=n*n+i*i,t<s&&(s=t);return Math.sqrt(s)},CV.countNonZero=function(e,t){var n,i,r=e.data,a=t.height,o=t.width,s=t.x+t.y*e.width,l=e.width-o,c=0;for(n=0;n<a;++n){for(i=0;i<o;++i)0!==r[s++]&&++c;s+=l}return c},CV.binaryBorder=function(e,t){var n,i,r=e.data,a=e.height,o=e.width,s=0,l=0;for(i=-2;i<o;++i)t[l++]=0;for(n=0;n<a;++n){for(t[l++]=0,i=0;i<o;++i)t[l++]=0===r[s++]?0:1;t[l++]=0}for(i=-2;i<o;++i)t[l++]=0;return t};var POS=POS||{};POS.Posit=function(e,t){this.objectPoints=this.buildModel(e),this.focalLength=t,this.objectVectors=[],this.objectNormal=[],this.objectMatrix=[[],[],[]],this.init()},POS.Posit.prototype.buildModel=function(e){var t=e/2;return[[-t,t,0],[t,t,0],[t,-t,0],[-t,-t,0]]},POS.Posit.prototype.init=function(){var e,t=this.objectPoints.length,n=[],i=[],r=0,a=2;for(e=0;e<t;++e)this.objectVectors[e]=[this.objectPoints[e][0]-this.objectPoints[0][0],this.objectPoints[e][1]-this.objectPoints[0][1],this.objectPoints[e][2]-this.objectPoints[0][2]],n[e]=[this.objectVectors[e][0],this.objectVectors[e][1],this.objectVectors[e][2]];for(;0===r;)i[0]=this.objectVectors[1][1]*this.objectVectors[a][2]-this.objectVectors[1][2]*this.objectVectors[a][1],i[1]=this.objectVectors[1][2]*this.objectVectors[a][0]-this.objectVectors[1][0]*this.objectVectors[a][2],i[2]=this.objectVectors[1][0]*this.objectVectors[a][1]-this.objectVectors[1][1]*this.objectVectors[a][0],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]),++a;for(e=0;e<3;++e)this.objectNormal[e]=i[e]/r;POS.pseudoInverse(n,t,this.objectMatrix)},POS.Posit.prototype.pose=function(e){var t,n,i,r,a,o,s=[[],[],[]],l=[[],[],[]],c=[],u=[[],[],[]],d=[[],[],[]],f=[],h=[];for(this.pos(e,s,l,c),i=this.isValid(s,c),t=i?this.iterate(e,s,c,u,f):{euclidean:-1,pixels:-1,maximum:-1},r=this.isValid(l,c),n=r?this.iterate(e,l,c,d,h):{euclidean:-1,pixels:-1,maximum:-1},a=0;a<3;++a)for(o=0;o<3;++o)i&&(f[a]-=u[a][o]*this.objectPoints[0][o]),r&&(h[a]-=d[a][o]*this.objectPoints[0][o]);return t.euclidean<n.euclidean?new POS.Pose(t.pixels,u,f,n.pixels,d,h):new POS.Pose(n.pixels,d,h,t.pixels,u,f)},POS.Posit.prototype.pos=function(e,t,n,i){var r,a,o,s,l,c,u,d,f,h,m=this.objectPoints.length,p=[],g=[],v=[],b=[],y=[],E=[],w=[],_=[];for(f=0;f<m;++f)p[f]=[e[f].x-e[0].x,e[f].y-e[0].y];for(f=0;f<3;++f)for(g[f]=0,v[f]=0,h=0;h<m;++h)g[f]+=this.objectMatrix[f][h]*p[h][0],v[f]+=this.objectMatrix[f][h]*p[h][1];for(r=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],a=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],o=g[0]*v[0]+g[1]*v[1]+g[2]*v[2],s=(a-r)*(a-r)+4*(o*o),l=a-r>=0?(a-r+Math.sqrt(s))/2:(a-r-Math.sqrt(s))/2,l>=0?(c=Math.sqrt(l),u=0===c?0:-o/c):(c=Math.sqrt(-(o*o)/l),u=0===c?Math.sqrt(r-a):-o/c),f=0;f<3;++f)b[f]=g[f]+c*this.objectNormal[f],y[f]=v[f]+u*this.objectNormal[f];for(d=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]),f=0;f<3;++f)E[f]=b[f]/d,w[f]=y[f]/d;for(_[0]=E[1]*w[2]-E[2]*w[1],_[1]=E[2]*w[0]-E[0]*w[2],_[2]=E[0]*w[1]-E[1]*w[0],f=0;f<3;++f)t[0][f]=E[f],t[1][f]=w[f],t[2][f]=_[f];for(f=0;f<3;++f)b[f]=g[f]-c*this.objectNormal[f],y[f]=v[f]-u*this.objectNormal[f];for(f=0;f<3;++f)E[f]=b[f]/d,w[f]=y[f]/d;for(_[0]=E[1]*w[2]-E[2]*w[1],_[1]=E[2]*w[0]-E[0]*w[2],_[2]=E[0]*w[1]-E[1]*w[0],f=0;f<3;++f)n[0][f]=E[f],n[1][f]=w[f],n[2][f]=_[f];i[0]=e[0].x/d,i[1]=e[0].y/d,i[2]=this.focalLength/d},POS.Posit.prototype.isValid=function(e,t){for(var n,i=this.objectPoints.length,r=1/0,a=0;a<i;++a)n=t[2]+(e[2][0]*this.objectVectors[a][0]+e[2][1]*this.objectVectors[a][1]+e[2][2]*this.objectVectors[a][2]),n<r&&(r=n);return r>=0},POS.Posit.prototype.iterate=function(e,t,n,i,r){var a,o,s,l,c,u,d,f,h,m=this.objectPoints.length,p=[],g=[],v=[[],[],[]],b=[[],[],[]],y=[],E=[],w=!1,_=0;for(f=0;f<m;++f)p[f]={x:e[f].x,y:e[f].y};for(f=0;f<3;++f){for(h=0;h<3;++h)i[f][h]=t[f][h];r[f]=n[f]}for(f=0;f<m;++f){for(s=0,h=0;h<3;++h)s+=this.objectVectors[f][h]*i[2][h]/r[2];g[f]={x:(1+s)*e[f].x,y:(1+s)*e[f].y}}for(o=0,f=0;f<m;++f)o+=Math.abs(g[f].x-p[f].x),o+=Math.abs(g[f].y-p[f].y);for(f=0;f<3;++f)y[f]=r[f]-(i[f][0]*this.objectPoints[0][0]+i[f][1]*this.objectPoints[0][1]+i[f][2]*this.objectPoints[0][2]);for(l=c=this.error(e,i,y),w=0===c.pixels||o<.01;_++<100&&!w;){for(f=0;f<m;++f)p[f].x=g[f].x,p[f].y=g[f].y;for(this.pos(g,v,b,r),f=0;f<3;++f)y[f]=r[f]-(v[f][0]*this.objectPoints[0][0]+v[f][1]*this.objectPoints[0][1]+v[f][2]*this.objectPoints[0][2]),E[f]=r[f]-(b[f][0]*this.objectPoints[0][0]+b[f][1]*this.objectPoints[0][1]+b[f][2]*this.objectPoints[0][2]);if(c=this.error(e,v,y),u=this.error(e,b,E),c.euclidean>=0&&u.euclidean>=0)if(u.euclidean<c.euclidean)for(l=u,f=0;f<3;++f)for(h=0;h<3;++h)i[f][h]=b[f][h];else for(l=c,f=0;f<3;++f)for(h=0;h<3;++h)i[f][h]=v[f][h];if(c.euclidean<0&&u.euclidean>=0)for(l=u,f=0;f<3;++f)for(h=0;h<3;++h)i[f][h]=b[f][h];if(u.euclidean<0&&c.euclidean>=0)for(l=c,f=0;f<3;++f)for(h=0;h<3;++h)i[f][h]=v[f][h];for(f=0;f<m;++f){for(s=0,h=0;h<3;++h)s+=this.objectVectors[f][h]*i[2][h]/r[2];g[f].x=(1+s)*e[f].x,g[f].y=(1+s)*e[f].y}for(a=o,o=0,f=0;f<m;++f)o+=Math.abs(g[f].x-p[f].x),o+=Math.abs(g[f].y-p[f].y);d=Math.abs(o-a),w=0===l.pixels||d<.01}return l},POS.Posit.prototype.error=function(e,t,n){var i,r,a,o=this.objectPoints.length,s=[],l=[],c=[],u=0,d=0,f=0;if(!this.isValid(t,n))return{euclidean:-1,pixels:-1,maximum:-1};for(i=0;i<o;++i)for(s[i]=[],r=0;r<3;++r)s[i][r]=n[r];for(i=0;i<o;++i)for(r=0;r<3;++r)for(a=0;a<3;++a)s[i][r]+=t[r][a]*this.objectPoints[i][a];for(i=0;i<o;++i)for(l[i]=[],r=0;r<2;++r)l[i][r]=this.focalLength*s[i][r]/s[i][2];for(i=0;i<o;++i)c[i]=[l[i][0]-e[i].x,l[i][1]-e[i].y];for(i=0;i<o;++i)u+=Math.sqrt(c[i][0]*c[i][0]+c[i][1]*c[i][1]),d+=Math.abs(Math.round(l[i][0])-Math.round(e[i].x))+Math.abs(Math.round(l[i][1])-Math.round(e[i].y)),Math.abs(c[i][0])>f&&(f=Math.abs(c[i][0])),Math.abs(c[i][1])>f&&(f=Math.abs(c[i][1]));return{euclidean:u/o,pixels:d,maximum:f}},POS.pseudoInverse=function(e,t,n){var i,r,a,o=[],s=[[],[],[]],l=[[],[],[]],c=0,u=0;for(SVD.svdcmp(e,t,3,o,s),i=0;i<3;++i)o[i]>c&&(c=o[i]);for(c*=.01,i=0;i<3;++i)o[i]<c&&(o[i]=0);for(r=0;r<3;++r)if(0===o[r])for(++u,a=r;a<2;++a){for(i=0;i<t;++i)e[i][a]=e[i][a+1];for(i=0;i<3;++i)s[i][a]=s[i][a+1]}for(r=0;r<2;++r)0===o[r]&&(o[r]=o[r+1]);for(i=0;i<3;++i)for(r=0;r<3-u;++r)l[i][r]=s[i][r]/o[r];for(i=0;i<3;++i)for(r=0;r<t;++r)for(n[i][r]=0,a=0;a<3-u;++a)n[i][r]+=l[i][a]*e[r][a]},POS.Pose=function(e,t,n,i,r,a){this.bestError=e,this.bestRotation=t,this.bestTranslation=n,this.alternativeError=i,this.alternativeRotation=r,this.alternativeTranslation=a};var SVD=SVD||{};SVD.svdcmp=function(e,t,n,i,r){var a,o,s,l,c,u,d,f,h,m,p,g,v,b,y,E=0,w=0,_=0,x=[];for(o=0;o<n;++o){if(d=o+1,x[o]=_*w,w=g=_=0,o<t){for(u=o;u<t;++u)_+=Math.abs(e[u][o]);if(0!==_){for(u=o;u<t;++u)e[u][o]/=_,g+=e[u][o]*e[u][o];for(m=e[o][o],w=-SVD.sign(Math.sqrt(g),m),p=m*w-g,e[o][o]=m-w,l=d;l<n;++l){for(g=0,u=o;u<t;++u)g+=e[u][o]*e[u][l];for(m=g/p,u=o;u<t;++u)e[u][l]+=m*e[u][o]}for(u=o;u<t;++u)e[u][o]*=_}}if(i[o]=_*w,w=g=_=0,o<t&&o!==n-1){for(u=d;u<n;++u)_+=Math.abs(e[o][u]);if(0!==_){for(u=d;u<n;++u)e[o][u]/=_,g+=e[o][u]*e[o][u];for(m=e[o][d],w=-SVD.sign(Math.sqrt(g),m),p=m*w-g,e[o][d]=m-w,u=d;u<n;++u)x[u]=e[o][u]/p;for(l=d;l<t;++l){for(g=0,u=d;u<n;++u)g+=e[l][u]*e[o][u];for(u=d;u<n;++u)e[l][u]+=g*x[u]}for(u=d;u<n;++u)e[o][u]*=_}}E=Math.max(E,Math.abs(i[o])+Math.abs(x[o]))}for(o=n-1;o>=0;--o){if(o<n-1){if(0!==w){for(l=d;l<n;++l)r[l][o]=e[o][l]/e[o][d]/w;
for(l=d;l<n;++l){for(g=0,u=d;u<n;++u)g+=e[o][u]*r[u][l];for(u=d;u<n;++u)r[u][l]+=g*r[u][o]}}for(l=d;l<n;++l)r[o][l]=r[l][o]=0}r[o][o]=1,w=x[o],d=o}for(o=Math.min(n,t)-1;o>=0;--o){for(d=o+1,w=i[o],l=d;l<n;++l)e[o][l]=0;if(0!==w){for(w=1/w,l=d;l<n;++l){for(g=0,u=d;u<t;++u)g+=e[u][o]*e[u][l];for(m=g/e[o][o]*w,u=o;u<t;++u)e[u][l]+=m*e[u][o]}for(l=o;l<t;++l)e[l][o]*=w}else for(l=o;l<t;++l)e[l][o]=0;++e[o][o]}for(u=n-1;u>=0;--u)for(s=1;s<=30;++s){for(a=!0,d=u;d>=0;--d){if(f=d-1,Math.abs(x[d])+E===E){a=!1;break}if(Math.abs(i[f])+E===E)break}if(a)for(h=0,g=1,o=d;o<=u&&(m=g*x[o],Math.abs(m)+E!==E);++o)for(w=i[o],p=SVD.pythag(m,w),i[o]=p,p=1/p,h=w*p,g=-m*p,l=1;l<=t;++l)b=e[l][f],y=e[l][o],e[l][f]=b*h+y*g,e[l][o]=y*h-b*g;if(y=i[u],d===u){if(y<0)for(i[u]=-y,l=0;l<n;++l)r[l][u]=-r[l][u];break}if(30===s)return!1;for(v=i[d],f=u-1,b=i[f],w=x[f],p=x[u],m=((b-y)*(b+y)+(w-p)*(w+p))/(2*p*b),w=SVD.pythag(m,1),m=((v-y)*(v+y)+p*(b/(m+SVD.sign(w,m))-p))/v,h=g=1,l=d;l<=f;++l){for(o=l+1,w=x[o],b=i[o],p=g*w,w=h*w,y=SVD.pythag(m,p),x[l]=y,h=m/y,g=p/y,m=v*h+w*g,w=w*h-v*g,p=b*g,b*=h,c=0;c<n;++c)v=r[c][l],y=r[c][o],r[c][l]=v*h+y*g,r[c][o]=y*h-v*g;for(y=SVD.pythag(m,p),i[l]=y,0!==y&&(y=1/y,h=m*y,g=p*y),m=h*w+g*b,v=h*b-g*w,c=0;c<t;++c)b=e[c][l],y=e[c][o],e[c][l]=b*h+y*g,e[c][o]=y*h-b*g}x[d]=0,x[u]=m,i[u]=v}return!0},SVD.pythag=function(e,t){var n,i=Math.abs(e),r=Math.abs(t);return i>r?(n=r/i,i*Math.sqrt(1+n*n)):0===r?0:(n=i/r,r*Math.sqrt(1+n*n))},SVD.sign=function(e,t){return t>=0?Math.abs(e):-Math.abs(e)};var THREEx=THREEx||{};THREEx.ArucoContext=function(e){e=e||{},this.parameters={debug:void 0!==e.debug&&e.debug,canvasWidth:void 0!==e.canvasWidth?e.canvasWidth:640,canvasHeight:void 0!==e.canvasHeight?e.canvasHeight:480},this.canvas=document.createElement("canvas"),this.detector=new AR.Detector,this.debug=null,1==e.debug&&(this.debug=new THREEx.ArucoDebug(this)),this.setSize(this.parameters.canvasWidth,this.parameters.canvasHeight)},THREEx.ArucoContext.prototype.setSize=function(e,t){this.canvas.width=e,this.canvas.height=t,null!==this.debug&&this.debug.setSize(e,t)},THREEx.ArucoContext.prototype.detect=function(e){var t=this.canvas,n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height);var i=n.getImageData(0,0,t.width,t.height),r=this.detector.detect(i);return r},THREEx.ArucoContext.prototype.updateObject3D=function(e,t,n,i){for(var r=i.corners,a=this.canvas,o=new Array(r.length),s=0;s<r.length;++s){var l=r[s];o[s]={x:l.x-a.width/2,y:-l.y+a.height/2}}var c=t.pose(o),u=c.bestRotation,d=c.bestTranslation;e.position.x=d[0],e.position.y=d[1],e.position.z=-d[2],e.rotation.x=-Math.asin(-u[1][2]),e.rotation.y=-Math.atan2(u[0][2],u[2][2]),e.rotation.z=Math.atan2(u[1][0],u[1][1]),e.scale.x=n,e.scale.y=n,e.scale.z=n};var THREEx=THREEx||{};AR.Detector.prototype.detect=function(e){var t=this.datGUIOptions;return CV.grayscale(e,this.grey),CV.adaptiveThreshold(this.grey,this.thres,t.adaptativeThreshold.kernelSize,t.adaptativeThreshold.threshold),this.contours=CV.findContours(this.thres,this.binary),this.candidates=this.findCandidates(this.contours,e.width*t.candidates.minSize,t.candidates.epsilon,t.candidates.minLength),this.candidates=this.clockwiseCorners(this.candidates),this.candidates=this.notTooNear(this.candidates,t.notTooNear.minDist),this.findMarkers(this.grey,this.candidates,t.findMarkers.warpSize)},AR.Detector.prototype.datGUIOptions={adaptativeThreshold:{kernelSize:2,threshold:7},candidates:{minSize:.2,epsilon:.05,minLength:10},notTooNear:{minDist:10},findMarkers:{warpSize:49}},THREEx.addArucoDatGui=function(e,t){var n=(e.detector.datGUIOptions,{resolution:"640x480"}),i=function(){var t=n.resolution.match(/(\d+)x(\d+)/),i=parseInt(t[1]),r=parseInt(t[2]);e.setSize(i,r)};i(),t.add(n,"resolution",["320x240","640x480"]).onChange(i);var r=t.addFolder("Adaptative Threshold");r.open(),r.add(e.detector.datGUIOptions.adaptativeThreshold,"kernelSize").min(0).step(1).onChange(i),r.add(e.detector.datGUIOptions.adaptativeThreshold,"threshold").min(0).step(1).onChange(i);var r=t.addFolder("Candidates");r.open(),r.add(e.detector.datGUIOptions.candidates,"minSize").min(0).max(1).onChange(i),r.add(e.detector.datGUIOptions.candidates,"epsilon").min(0).onChange(i),r.add(e.detector.datGUIOptions.candidates,"minLength").min(0).step(1).onChange(i);var r=t.addFolder("notTooNear");r.open(),r.add(e.detector.datGUIOptions.notTooNear,"minDist").min(0).step(1).onChange(i);var r=t.addFolder("findMarkers");r.open(),r.add(e.detector.datGUIOptions.findMarkers,"warpSize").min(0).step(1).onChange(i)};var THREEx=THREEx||{};THREEx.ArucoDebug=function(e){this.arucoContext=e,this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.arucoContext.canvas.width,this.canvasElement.height=this.arucoContext.canvas.height},THREEx.ArucoDebug.prototype.setSize=function(e,t){this.canvasElement.width!==e&&(this.canvasElement.width=e),this.canvasElement.height!==t&&(this.canvasElement.height=t)},THREEx.ArucoDebug.prototype.clear=function(){var e=this.canvasElement,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},THREEx.ArucoDebug.prototype.drawContoursContours=function(){var e=this.arucoContext.detector.contours,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(e){return e?"magenta":"blue"})},THREEx.ArucoDebug.prototype.drawContoursPolys=function(){var e=this.arucoContext.detector.polys,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(){return"green"})},THREEx.ArucoDebug.prototype.drawContoursCandidates=function(){var e=this.arucoContext.detector.candidates,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(){return"red"})},THREEx.ArucoDebug.prototype.drawContours=function(e,t,n,i,r,a){var o,s,l,c=e.length,u=this.canvasElement,d=u.getContext("2d");for(d.save();c--;){for(s=e[c],d.strokeStyle=a(s.hole),d.beginPath(),o=0;o<s.length;++o)l=s[o],d.moveTo(t+l.x,n+l.y),l=s[(o+1)%s.length],d.lineTo(t+l.x,n+l.y);d.stroke(),d.closePath()}d.restore()},THREEx.ArucoDebug.prototype.drawDetectorGrey=function(){var e=arucoContext.detector.grey;this.drawCVImage(e)},THREEx.ArucoDebug.prototype.drawDetectorThreshold=function(){var e=arucoContext.detector.thres;this.drawCVImage(e)},THREEx.ArucoDebug.prototype.drawCVImage=function(e){var t=(this.arucoContext.detector,this.canvasElement),n=t.getContext("2d"),i=n.createImageData(t.width,t.height);this.copyCVImage2ImageData(e,i),n.putImageData(i,0,0)},THREEx.ArucoDebug.prototype.copyCVImage2ImageData=function(e,t){for(var n=e.data.length,i=4*n+3;n--;)t.data[i-=4]=255,t.data[i-1]=t.data[i-2]=t.data[i-3]=e.data[n];return t},THREEx.ArucoDebug.prototype.drawVideo=function(e){var t=this.canvasElement,n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height)},THREEx.ArucoDebug.prototype.drawMarkerIDs=function(e){var t,n,i,r,a,o,s=this.canvasElement,l=s.getContext("2d");for(l.save(),l.strokeStyle="blue",l.lineWidth=1,a=0;a!==e.length;++a){for(t=e[a].corners,i=1/0,r=1/0,o=0;o!==t.length;++o)n=t[o],i=Math.min(i,n.x),r=Math.min(r,n.y);l.strokeText(e[a].id,i,r)}l.restore()},THREEx.ArucoDebug.prototype.drawMarkerCorners=function(e){var t,n,i,r,a=this.canvasElement,o=a.getContext("2d");for(o.save(),o.lineWidth=3,i=0;i<e.length;++i){for(t=e[i].corners,o.strokeStyle="red",o.beginPath(),r=0;r<t.length;++r)n=t[r],o.moveTo(n.x,n.y),n=t[(r+1)%t.length],o.lineTo(n.x,n.y);o.stroke(),o.closePath(),o.strokeStyle="green",o.strokeRect(t[0].x-2,t[0].y-2,4,4)}o.restore()};var THREEx=THREEx||{};THREEx.ArucoMarkerGenerator=function(){},THREEx.ArucoMarkerGenerator.createSVG=function(e,t){var n=document.createElement("div");return n.innerHTML=new ArucoMarker(e).toSVG(t),n},THREEx.ArucoMarkerGenerator.createImage=function(e,t){var n=this.createCanvas(e,t),i=n.toDataURL(),r=document.createElement("img");return r.src=i,r},THREEx.ArucoMarkerGenerator.createCanvas=function(e,t){var n=document.createElement("canvas"),i=n.getContext("2d");n.width=t,n.height=t;var r=new ArucoMarker(e),a=r.markerMatrix(),o=.1*n.width,s=t-2*o,l=s/7;i.fillStyle="white",i.fillRect(0,0,n.width,n.height),i.fillStyle="black",i.fillRect(o,o,n.width-2*o,n.height-2*o);for(var c=0;c<5;c++)for(var u=0;u<5;u++)1===a[u][c]&&(i.fillStyle="white",i.fillRect(o+(u+1)*l,o+(c+1)*l,l+1,l+1));return n};var THREE=THREE||require("three");THREE.WebAR={},THREE.WebAR.MAX_FLOAT32_VALUE=3.4028e38,THREE.WebAR.VRPointCloud=function(e){this._vrDisplay=e,this._numberOfPointsInLastPointCloud=0,this._bufferGeometry=new THREE.BufferGeometry,this._bufferGeometry.frustumCulled=!1;var t=null;e?(this._pointCloud=new VRPointCloud,e.getPointCloud(this._pointCloud,!1,0,!1),t=this._pointCloud.points):t=new Float32Array([-1,1,-2,1,1,-2,1,-1,-2,-1,-1,-2]);for(var n=new Float32Array(t.length),i=new THREE.Color,r=0;r<n.length;r+=3)e&&(t[r]=THREE.WebAR.MAX_FLOAT32_VALUE,t[r+1]=THREE.WebAR.MAX_FLOAT32_VALUE,t[r+2]=THREE.WebAR.MAX_FLOAT32_VALUE),i.setRGB(1,1,1),n[r]=i.r,n[r+1]=i.g,n[r+2]=i.b;return this._positions=new THREE.BufferAttribute(t,3),this._bufferGeometry.addAttribute("position",this._positions),this._colors=new THREE.BufferAttribute(n,3),this._bufferGeometry.addAttribute("color",this._colors),this._bufferGeometry.computeBoundingSphere(),this},THREE.WebAR.VRPointCloud.prototype.getBufferGeometry=function(){return this._bufferGeometry},THREE.WebAR.VRPointCloud.prototype.update=function(e,t,n){this._vrDisplay&&(this._vrDisplay.getPointCloud(this._pointCloud,!e,"number"==typeof t?t:0,!!n),e&&this._pointCloud.numberOfPoints>0&&(this._positions.needsUpdate=!0))},THREE.WebAR.getIndexFromOrientation=function(e){var t=0;switch(e){case 90:t=1;break;case 180:t=2;break;case 270:t=3;break;default:t=0}return t},THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations=function(e){var t=screen.orientation.angle,n=e?e.getSeeThroughCamera():null,i=n?n.orientation:0,r=THREE.WebAR.getIndexFromOrientation(i),a=THREE.WebAR.getIndexFromOrientation(t);return ret=a-r,ret<0&&(ret+=4),ret%4},THREE.WebAR.createVRSeeThroughCameraMesh=function(e,t){var n,i=new THREE.BufferGeometry;if(e){var r=e.getSeeThroughCamera();if(!r)throw"ERROR: Could not get the see through camera!";n=r,n.readyState=2,n.HAVE_CURRENT_DATA=2;var a=r.width/r.textureWidth,o=r.height/r.textureHeight;i.WebAR_textureCoords=[new Float32Array([0,0,0,o,a,0,a,o]),new Float32Array([a,0,0,0,a,o,0,o]),new Float32Array([a,o,a,0,0,o,0,0]),new Float32Array([0,o,a,o,0,0,a,0])]}else{var n=document.createElement("video");n.src="string"==typeof t?t:"../../resources/videos/sintel.webm",n.play(),i.WebAR_textureCoords=[new Float32Array([0,0,0,1,1,0,1,1]),new Float32Array([1,0,0,0,1,1,0,1]),new Float32Array([1,1,1,0,0,1,0,0]),new Float32Array([0,1,1,1,0,0,1,0])]}i.addAttribute("position",new THREE.BufferAttribute(new Float32Array([-1,1,0,-1,-1,0,1,1,0,1,-1,0]),3)),i.setIndex(new THREE.BufferAttribute(new Uint16Array([0,1,2,2,1,3]),1)),i.WebAR_textureCoordIndex=THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations(e);var s=i.WebAR_textureCoords[i.WebAR_textureCoordIndex];i.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(s),2)),i.computeBoundingSphere();var l=new THREE.VideoTexture(n);l.minFilter=THREE.NearestFilter,l.magFilter=THREE.NearestFilter,l.format=THREE.RGBFormat,l.flipY=!1;var c;if(e){var u=["attribute vec3 position;","attribute vec2 uv;","","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","","varying vec2 vUV;","","void main(void) {","    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","    vUV = uv;","}"],d=["#extension GL_OES_EGL_image_external : require","precision mediump float;","","varying vec2 vUV;","","uniform samplerExternalOES map;","","void main(void) {","   gl_FragColor = texture2D(map, vUV);","}"];c=new THREE.RawShaderMaterial({uniforms:{map:{type:"t",value:l}},vertexShader:u.join("\r\n"),fragmentShader:d.join("\r\n"),side:THREE.DoubleSide})}else c=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,map:l});var f=new THREE.Mesh(i,c);return f},THREE.WebAR.updateCameraMeshOrientation=function(e,t){var n=THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations(e);if(n!=t.geometry.WebAR_textureCoordIndex){var i=t.geometry.getAttribute("uv"),r=t.geometry.WebAR_textureCoords[n];t.geometry.WebAR_textureCoordIndex=n;for(var a=0;a<i.length;a++)i.array[a]=r[a];i.needsUpdate=!0}},THREE.WebAR.createVRSeeThroughCamera=function(e,t,n){var i=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,t,n);return e&&THREE.WebAR.resizeVRSeeThroughCamera(e,i),i},THREE.WebAR.resizeVRSeeThroughCamera=function(e,t){if(t.aspect=window.innerWidth/window.innerHeight,e){var n=window.innerWidth>window.innerHeight,i=e.getSeeThroughCamera();if(i){var r=i.width>i.height,a=!(n&&r),o=a?i.height:i.width,s=a?i.width:i.height,l=a?i.focalLengthY:i.focalLengthX,c=a?i.focalLengthX:i.focalLengthY,u=a?i.pointY:i.pointX,d=a?i.pointX:i.pointY,f=t.near/l,h=t.near/c,m=(u-o/2)*f,p=-(d-s/2)*h,g=f*-o/2-m,v=f*o/2-m,b=h*-s/2-p,y=h*s/2-p;t.projectionMatrix.makePerspective(g,v,y,b,t.near,t.far),t.fov=2*THREE.Math.radToDeg(Math.atan(y*t.zoom/t.near))}}else t.updateProjectionMatrix()},THREE.WebAR._worldUp=new THREE.Vector3(0,1,0),THREE.WebAR._normalY=new THREE.Vector3,THREE.WebAR._normalZ=new THREE.Vector3,THREE.WebAR._rotationMatrix=new THREE.Matrix4,THREE.WebAR._planeNormal=new THREE.Vector3,THREE.WebAR.rotateObject3D=function(e,t,n){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)THREE.WebAR._planeNormal.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown normal1 type.";THREE.WebAR._planeNormal.set(e[0],e[1],e[2])}if(t instanceof THREE.Vector3||t instanceof THREE.Vector4)THREE.WebAR._normalZ.set(t.x,t.y,t.z);else{if(!(e instanceof Float32Array))throw"Unknown normal2 type.";THREE.WebAR._normalZ.set(t[0],t[1],t[2])}THREE.WebAR._normalY.crossVectors(THREE.WebAR._planeNormal,THREE.WebAR._normalZ).normalize(),THREE.WebAR._rotationMatrix.elements[0]=THREE.WebAR._planeNormal.x,THREE.WebAR._rotationMatrix.elements[1]=THREE.WebAR._planeNormal.y,THREE.WebAR._rotationMatrix.elements[2]=THREE.WebAR._planeNormal.z,THREE.WebAR._rotationMatrix.elements[4]=THREE.WebAR._normalZ.x,THREE.WebAR._rotationMatrix.elements[5]=THREE.WebAR._normalZ.y,THREE.WebAR._rotationMatrix.elements[6]=THREE.WebAR._normalZ.z,THREE.WebAR._rotationMatrix.elements[8]=THREE.WebAR._normalY.x,THREE.WebAR._rotationMatrix.elements[9]=THREE.WebAR._normalY.y,THREE.WebAR._rotationMatrix.elements[10]=THREE.WebAR._normalY.z,n.quaternion.setFromRotationMatrix(THREE.WebAR._rotationMatrix)},THREE.WebAR.rotateObject3DWithPickingPlane=function(e,t){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)THREE.WebAR._planeNormal.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown plane type.";THREE.WebAR._planeNormal.set(e[0],e[1],e[2])}THREE.WebAR._normalY.set(0,1,0);var n=.5;Math.abs(THREE.WebAR._planeNormal.dot(THREE.WebAR._worldUp))>n&&THREE.WebAR._normalY.set(0,0,1),THREE.WebAR._normalZ.crossVectors(THREE.WebAR._planeNormal,THREE.WebAR._normalY).normalize(),THREE.WebAR._normalY.crossVectors(THREE.WebAR._normalZ,THREE.WebAR._planeNormal).normalize(),THREE.WebAR._rotationMatrix.elements[0]=THREE.WebAR._planeNormal.x,THREE.WebAR._rotationMatrix.elements[1]=THREE.WebAR._planeNormal.y,THREE.WebAR._rotationMatrix.elements[2]=THREE.WebAR._planeNormal.z,THREE.WebAR._rotationMatrix.elements[4]=THREE.WebAR._normalY.x,THREE.WebAR._rotationMatrix.elements[5]=THREE.WebAR._normalY.y,THREE.WebAR._rotationMatrix.elements[6]=THREE.WebAR._normalY.z,THREE.WebAR._rotationMatrix.elements[8]=THREE.WebAR._normalZ.x,THREE.WebAR._rotationMatrix.elements[9]=THREE.WebAR._normalZ.y,THREE.WebAR._rotationMatrix.elements[10]=THREE.WebAR._normalZ.z,t.quaternion.setFromRotationMatrix(THREE.WebAR._rotationMatrix)},THREE.WebAR.positionObject3DWithPickingPoint=function(e,t){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)t.position.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown point type.";t.position.set(e[0],e[1],e[2])}},THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud=function(e,t,n){THREE.WebAR.rotateObject3DWithPickingPlane(e.plane,t),THREE.WebAR.positionObject3DWithPickingPoint(e.point,t),t.position.add(THREE.WebAR._planeNormal.multiplyScalar(n))},THREE.WebAR.positionAndRotateObject3D=function(e,t,n,i,r){THREE.WebAR.rotateObject3D(t,n,i),THREE.WebAR.positionObject3DWithPickingPoint(e,i),i.position.add(THREE.WebAR._planeNormal.multiplyScalar(r))},function(e,t){"function"==typeof define&&define.amd?define(["WebAR"],t):"object"==typeof exports?module.exports=t():e.WebAR=t()}(this,function(){return THREE.WebAR});var THREEx=THREEx||{};THREEx.ArBaseControls=function(e){this.id=THREEx.ArBaseControls.id++,this.object3d=e,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1},THREEx.ArBaseControls.id=0,Object.assign(THREEx.ArBaseControls.prototype,THREE.EventDispatcher.prototype),THREEx.ArBaseControls.prototype.update=function(){console.assert(!1,"you need to implement your own update")},THREEx.ArBaseControls.prototype.name=function(){return console.assert(!1,"you need to implement your own .name()"),"Not yet implemented - name()"};var THREEx=THREEx||{};THREEx.ARClickability=function(e){this._sourceElement=e;var t=parseInt(e.style.width),n=parseInt(e.style.height);this._cameraPicking=new THREE.PerspectiveCamera(42,t/n,.1,100),console.warn("THREEx.ARClickability works only in modelViewMatrix"),console.warn("OBSOLETE OBSOLETE! instead use THREEx.HitTestingPlane or THREEx.HitTestingTango")},THREEx.ARClickability.prototype.onResize=function(){var e=this._sourceElement,t=this._cameraPicking,n=parseInt(e.style.width),i=parseInt(e.style.height);t.aspect=n/i,t.updateProjectionMatrix()},THREEx.ARClickability.prototype.computeIntersects=function(e,t){var n=this._sourceElement,i=this._cameraPicking,r=new THREE.Vector3;r.x=e.layerX/parseInt(n.style.width)*2-1,r.y=2*-(e.layerY/parseInt(n.style.height))+1;var a=new THREE.Raycaster;a.setFromCamera(r,i);var o=a.intersectObjects(t);return o},THREEx.ARClickability.prototype.update=function(){},THREEx.ARClickability.tangoPickingPointCloud=function(e,t,n){var i=e._tangoContext.vrDisplay;if(null===i)return null;var r=i.getPickingPointAndPlaneInPointCloud(t,n);if(null==r)return console.warn("Could not retrieve the correct point and plane."),null;var a=.01,o=new THREE.Object3D;THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud(r,o,a),o.rotateZ(-Math.PI/2);var s={};return s.position=o.position,s.quaternion=o.quaternion,s};var THREEx=THREEx||{};THREEx.ArMarkerCloak=function(e){function t(e,t){var n=new THREE.Vector3;d[0].forEach(function(i,r){i.forEach(function(i,a){n.x=2*i.x-1,n.y=2*i.y-1,n.z=0,n.applyMatrix4(e),n.applyMatrix4(t),n.x/=n.z,n.y/=n.z,n.x=n.x/2+.5,n.y=n.y/2+.5,o.geometry.faceVertexUvs[0][r][a].set(n.x,n.y)})}),o.geometry.uvsNeedUpdate=!0}function n(e,t){var n=[];m.forEach(function(i,r){var a=i.clone();a.applyMatrix4(e),a.applyMatrix4(t),a.x/=a.z,a.y/=a.z,n.push(a)});for(var i=0;i<n.length;i++)p.geometry.vertices[i].copy(n[i]);p.geometry.computeBoundingSphere(),p.geometry.verticesNeedUpdate=!0}var i=!0,r=new THREE.PlaneGeometry(1.55,2.1,1,8).translate(0,-.3,0),a=new THREE.ShaderMaterial({vertexShader:THREEx.ArMarkerCloak.vertexShader,fragmentShader:THREEx.ArMarkerCloak.fragmentShader,transparent:!0,uniforms:{texture:{value:e},opacity:{value:.5}},defines:{updateInShaderEnabled:i?1:0}}),o=new THREE.Mesh(r,a);o.rotation.x=-Math.PI/2,this.object3d=o;for(var s=-.65,l=.65,c=.75,u=1.05,d=[[]],f=0;f<o.geometry.faces.length;f++)d[0][f]=[],d[0][f][0]=new THREE.Vector2,d[0][f][1]=new THREE.Vector2,d[0][f][2]=new THREE.Vector2;for(var h=0;h<o.geometry.parameters.heightSegments/2;h++)d[0][4*h+0][0].set(s/2+.5,u/2+.5),d[0][4*h+0][1].set(s/2+.5,c/2+.5),d[0][4*h+0][2].set(l/2+.5,u/2+.5),d[0][4*h+1][0].set(s/2+.5,c/2+.5),d[0][4*h+1][1].set(l/2+.5,c/2+.5),d[0][4*h+1][2].set(l/2+.5,u/2+.5),d[0][4*h+2][0].set(s/2+.5,c/2+.5),d[0][4*h+2][1].set(s/2+.5,u/2+.5),d[0][4*h+2][2].set(l/2+.5,c/2+.5),d[0][4*h+3][0].set(s/2+.5,u/2+.5),d[0][4*h+3][1].set(l/2+.5,u/2+.5),d[0][4*h+3][2].set(l/2+.5,c/2+.5);i===!0&&(o.geometry.faceVertexUvs=d,o.geometry.uvsNeedUpdate=!0);var m=[];m.push(new THREE.Vector3(s,u,0)),m.push(new THREE.Vector3(l,u,0)),m.push(new THREE.Vector3(s,c,0)),m.push(new THREE.Vector3(l,c,0));var a=new THREE.MeshNormalMaterial({transparent:!0,opacity:.5,side:THREE.DoubleSide}),r=new THREE.PlaneGeometry(1,1),p=new THREE.Mesh(r,a);this.orthoMesh=p,this.update=function(e,r){n(e,r),i===!1&&t(e,r)}},THREEx.ArMarkerCloak.markerSpaceShaderFunction="\n        vec2 transformUvToMarkerSpace(vec2 originalUv){\n                vec3 transformedUv;\n                // set transformedUv - from UV coord to clip coord\n                transformedUv.x = originalUv.x * 2.0 - 1.0;\n                transformedUv.y = originalUv.y * 2.0 - 1.0;\n                transformedUv.z = 0.0;\n\n\t\t// apply modelViewMatrix and projectionMatrix\n                transformedUv = (projectionMatrix * modelViewMatrix * vec4( transformedUv, 1.0 ) ).xyz;\n\n\t\t// apply perspective\n\t\ttransformedUv.x /= transformedUv.z;\n\t\ttransformedUv.y /= transformedUv.z;\n\n                // set back from clip coord to Uv coord\n                transformedUv.x = transformedUv.x / 2.0 + 0.5;\n                transformedUv.y = transformedUv.y / 2.0 + 0.5;\n\n                // return the result\n                return transformedUv.xy;\n        }",THREEx.ArMarkerCloak.vertexShader=THREEx.ArMarkerCloak.markerSpaceShaderFunction+"\tvarying vec2 vUv;\n\n\tvoid main(){\n                // pass the UV to the fragment\n                #if (updateInShaderEnabled == 1)\n\t\t        vUv = transformUvToMarkerSpace(uv);\n                #else\n\t\t        vUv = uv;\n                #endif\n\n                // compute gl_Position\n\t\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}",THREEx.ArMarkerCloak.fragmentShader="\n\tvarying vec2 vUv;\n\tuniform sampler2D texture;\n\tuniform float opacity;\n\n\tvoid main(void){\n\t\tvec3 color = texture2D( texture, vUv ).rgb;\n\n\t\tgl_FragColor = vec4( color, opacity);\n\t}";var THREEx=THREEx||{};THREEx.ArMarkerControls=function(e,t,n){function i(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var i=r.parameters[t];void 0!==i?r.parameters[t]=n:console.warn("THREEx.ArMarkerControls: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArMarkerControls: '"+t+"' parameter is undefined.")}}var r=this;THREEx.ArBaseControls.call(this,t),this.context=e,this.parameters={size:1,type:"unknown",patternUrl:null,barcodeValue:null,changeMatrixMode:"modelViewMatrix",minConfidence:.6};var a=["pattern","barcode","unknown"];console.assert(a.indexOf(this.parameters.type)!==-1,"illegal value",this.parameters.type);var a=["modelViewMatrix","cameraTransformMatrix"];console.assert(a.indexOf(this.parameters.changeMatrixMode)!==-1,"illegal value",this.parameters.changeMatrixMode),this.object3d=t,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1,i(n),e.addMarker(this),"artoolkit"===r.context.parameters.trackingBackend?this._initArtoolkit():"aruco"===r.context.parameters.trackingBackend?this._arucoPosit=new POS.Posit(this.parameters.size,r.context.arucoContext.canvas.width):"tango"===r.context.parameters.trackingBackend?this._initTango():console.assert(!1)},THREEx.ArMarkerControls.prototype=Object.create(THREEx.ArBaseControls.prototype),THREEx.ArMarkerControls.prototype.constructor=THREEx.ArMarkerControls,THREEx.ArMarkerControls.prototype.dispose=function(){this.context.removeMarker(this)},THREEx.ArMarkerControls.prototype.updateWithModelViewMatrix=function(e){var t=this.object3d;if(t.visible=!0,"artoolkit"===this.context.parameters.trackingBackend){var n=(new THREE.Matrix4).copy(this.context._artoolkitProjectionAxisTransformMatrix);n.multiply(e),e.copy(n)}else"aruco"===this.context.parameters.trackingBackend||"tango"===this.context.parameters.trackingBackend||console.assert(!1);if("tango"!==this.context.parameters.trackingBackend){var i=(new THREE.Matrix4).makeRotationX(Math.PI/2);e.multiply(i)}"modelViewMatrix"===this.parameters.changeMatrixMode?t.matrix.copy(e):"cameraTransformMatrix"===this.parameters.changeMatrixMode?t.matrix.getInverse(e):console.assert(!1),t.matrix.decompose(t.position,t.quaternion,t.scale),this.dispatchEvent({type:"markerFound"})},THREEx.ArMarkerControls.prototype.name=function(){var e="";if(e+=this.parameters.type,"pattern"===this.parameters.type){var t=this.parameters.patternUrl,n=t.replace(/^.*\//g,"");e+=" - "+n}else"barcode"===this.parameters.type?e+=" - "+this.parameters.barcodeValue:console.assert(!1,"no .name() implemented for this marker controls");return e},THREEx.ArMarkerControls.prototype._initArtoolkit=function(){function e(){var e=n.context.arController;console.assert(null!==e),"pattern"===n.parameters.type?e.loadMarker(n.parameters.patternUrl,function(t){i=t,e.trackPatternMarkerId(i,n.parameters.size)}):"barcode"===n.parameters.type?(i=n.parameters.barcodeValue,e.trackBarcodeMarkerId(i,n.parameters.size)):"unknown"===n.parameters.type?i=null:console.log(!1,"invalid marker type",n.parameters.type),e.addEventListener("getMarker",function(e){if(e.data.type===artoolkit.PATTERN_MARKER&&"pattern"===n.parameters.type){if(null===i)return;e.data.marker.idPatt===i&&t(e)}else if(e.data.type===artoolkit.BARCODE_MARKER&&"barcode"===n.parameters.type){if(null===i)return;e.data.marker.idMatrix===i&&t(e)}else e.data.type===artoolkit.UNKNOWN_MARKER&&"unknown"===n.parameters.type&&t(e)})}function t(e){if(!(e.data.type===artoolkit.PATTERN_MARKER&&e.data.marker.cfPatt<n.parameters.minConfidence||e.data.type===artoolkit.BARCODE_MARKER&&e.data.marker.cfMatt<n.parameters.minConfidence)){var t=(new THREE.Matrix4).fromArray(e.data.matrix);n.updateWithModelViewMatrix(t)}}var n=this,i=null,r=setInterval(function(){var t=n.context.arController;null!==t&&(clearInterval(r),r=null,e())},20)},THREEx.ArMarkerControls.prototype._initAruco=function(){this._arucoPosit=new POS.Posit(this.parameters.size,_this.context.arucoContext.canvas.width)},THREEx.ArMarkerControls.prototype._initTango=function(){console.log("init tango ArMarkerControls")};var THREEx=THREEx||{};THREEx.ArMarkerHelper=function(e){this.object3d=new THREE.Group;var t=new THREE.AxisHelper;this.object3d.add(t);var n=e.id,i=document.createElement("canvas");i.width=64,i.height=64;var r=i.getContext("2d"),a=new THREE.CanvasTexture(i);r.font="48px monospace",r.fillStyle="rgba(192,192,255, 0.5)",r.fillRect(0,0,i.width,i.height),r.fillStyle="darkblue",r.fillText(n,i.width/4,3*i.height/4),a.needsUpdate=!0;var o=new THREE.PlaneGeometry(1,1),s=new THREE.MeshBasicMaterial({map:a,transparent:!0}),t=new THREE.Mesh(o,s);t.rotation.x=-Math.PI/2,this.object3d.add(t)};var THREEx=THREEx||{};THREEx.ArSmoothedControls=function(e,t){function n(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=i.parameters[t];void 0!==r?i.parameters[t]=n:console.warn("THREEx.ArSmoothedControls: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArSmoothedControls: '"+t+"' parameter is undefined.")}}var i=this;THREEx.ArBaseControls.call(this,e),this.object3d.visible=!1,this._lastLerpStepAt=null,this._visibleStartedAt=null,this._unvisibleStartedAt=null,t=t||{},this.parameters={lerpPosition:.8,lerpQuaternion:.2,lerpScale:.7,lerpStepDelay:1/60,minVisibleDelay:0,minUnvisibleDelay:.2},n(t)},THREEx.ArSmoothedControls.prototype=Object.create(THREEx.ArBaseControls.prototype),THREEx.ArSmoothedControls.prototype.constructor=THREEx.ArSmoothedControls,THREEx.ArSmoothedControls.prototype.update=function(e){function t(){i.position.copy(e.position),i.quaternion.copy(e.quaternion),i.scale.copy(e.scale)}function n(){i.position.lerp(e.position,r.lerpPosition),i.quaternion.slerp(e.quaternion,r.lerpQuaternion),i.scale.lerp(e.scale,r.lerpScale)}var i=this.object3d,r=this.parameters,a=i.visible,o=performance.now()/1e3;if(e.visible===!1&&(this._visibleStartedAt=null),e.visible===!0&&(this._unvisibleStartedAt=null),e.visible===!0&&null===this._visibleStartedAt&&(this._visibleStartedAt=o),e.visible===!1&&null===this._unvisibleStartedAt&&(this._unvisibleStartedAt=o),a===!1&&e.visible===!0){var s=o-this._visibleStartedAt;s>=this.parameters.minVisibleDelay&&(i.visible=!0,t())}if(a===!0&&e.visible===!1){var l=o-this._unvisibleStartedAt;l>=this.parameters.minUnvisibleDelay&&(i.visible=!1)}if(null===this._lastLerpStepAt)n(),this._lastLerpStepAt=o;else for(var c=Math.floor((o-this._lastLerpStepAt)/this.parameters.lerpStepDelay),u=0;u<c;u++)n(),this._lastLerpStepAt+=this.parameters.lerpStepDelay;this.object3d.updateMatrix(),a===!1&&i.visible===!0&&this.dispatchEvent({type:"becameVisible"}),a===!0&&i.visible===!1&&this.dispatchEvent({type:"becameUnVisible"})};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Context=THREEx.ArToolkitContext=function(e){function t(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var r=n.parameters[t];void 0!==r?n.parameters[t]=i:console.warn("THREEx.ArToolkitContext: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArToolkitContext: '"+t+"' parameter is undefined.")}}var n=this;n._updatedAt=null,this.parameters={trackingBackend:"artoolkit",debug:!1,detectionMode:"mono",matrixCodeType:"3x3",cameraParametersUrl:ARjs.Context.baseURL+"parameters/camera_para.dat",maxDetectionRate:60,canvasWidth:640,canvasHeight:480,imageSmoothingEnabled:!1},console.assert(["artoolkit","aruco","tango"].indexOf(this.parameters.trackingBackend)!==-1,"invalid parameter trackingBackend",this.parameters.trackingBackend),console.assert(["color","color_and_matrix","mono","mono_and_matrix"].indexOf(this.parameters.detectionMode)!==-1,"invalid parameter detectionMode",this.parameters.detectionMode),this.arController=null,this.arucoContext=null,n.initialized=!1,this._arMarkersControls=[],t(e)},Object.assign(ARjs.Context.prototype,THREE.EventDispatcher.prototype),ARjs.Context.baseURL="https://jeromeetienne.github.io/AR.js/three.js/",ARjs.Context.REVISION="1.5.1",ARjs.Context.createDefaultCamera=function(e){if(console.assert(!1,"use ARjs.Utils.createDefaultCamera instead"),"artoolkit"===e)var t=new THREE.Camera;else if("aruco"===e)var t=new THREE.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else if("tango"===e)var t=new THREE.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else console.assert(!1);return t},ARjs.Context.prototype.init=function(e){function t(){n.dispatchEvent({type:"initialized"}),n.initialized=!0,e&&e()}var n=this;"artoolkit"===this.parameters.trackingBackend?this._initArtoolkit(t):"aruco"===this.parameters.trackingBackend?this._initAruco(t):"tango"===this.parameters.trackingBackend?this._initTango(t):console.assert(!1)},ARjs.Context.prototype.update=function(e){if("artoolkit"===this.parameters.trackingBackend&&null===this.arController)return!1;var t=performance.now();return!(null!==this._updatedAt&&t-this._updatedAt<1e3/this.parameters.maxDetectionRate)&&(this._updatedAt=t,this._arMarkersControls.forEach(function(e){e.object3d.visible=!1}),"artoolkit"===this.parameters.trackingBackend?this._updateArtoolkit(e):"aruco"===this.parameters.trackingBackend?this._updateAruco(e):"tango"===this.parameters.trackingBackend?this._updateTango(e):console.assert(!1),this.dispatchEvent({type:"sourceProcessed"}),!0)},ARjs.Context.prototype.addMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls),this._arMarkersControls.push(e)},ARjs.Context.prototype.removeMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls);var t=this.arMarkerControlss.indexOf(artoolkitMarker);console.assert(t!==t),this._arMarkersControls.splice(t,1)},ARjs.Context.prototype._initArtoolkit=function(e){var t=this;this._artoolkitProjectionAxisTransformMatrix=new THREE.Matrix4,this._artoolkitProjectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationY(Math.PI)),this._artoolkitProjectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationZ(Math.PI));
var n=new ARCameraParam(t.parameters.cameraParametersUrl,function(){var i=new ARController(t.parameters.canvasWidth,t.parameters.canvasHeight,n);t.arController=i,i.ctx.mozImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,i.ctx.webkitImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,i.ctx.msImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,i.ctx.imageSmoothingEnabled=t.parameters.imageSmoothingEnabled,t.parameters.debug===!0&&(i.debugSetup(),i.canvas.style.position="absolute",i.canvas.style.top="0px",i.canvas.style.opacity="0.6",i.canvas.style.pointerEvents="none",i.canvas.style.zIndex="-1");var r={color:artoolkit.AR_TEMPLATE_MATCHING_COLOR,color_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_COLOR_AND_MATRIX,mono:artoolkit.AR_TEMPLATE_MATCHING_MONO,mono_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX},a=r[t.parameters.detectionMode];console.assert(void 0!==a),i.setPatternDetectionMode(a);var o={"3x3":artoolkit.AR_MATRIX_CODE_3x3,"3x3_HAMMING63":artoolkit.AR_MATRIX_CODE_3x3_HAMMING63,"3x3_PARITY65":artoolkit.AR_MATRIX_CODE_3x3_PARITY65,"4x4":artoolkit.AR_MATRIX_CODE_4x4,"4x4_BCH_13_9_3":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_9_3,"4x4_BCH_13_5_5":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5},s=o[t.parameters.matrixCodeType];console.assert(void 0!==s),i.setMatrixCodeType(s),e()});return this},ARjs.Context.prototype.getProjectionMatrix=function(e){if("aruco"===this.parameters.trackingBackend)console.assert(!1,"dont call this function with aruco");else if("artoolkit"===this.parameters.trackingBackend){console.assert(this.arController,"arController MUST be initialized to call this function");var t=this.arController.getCameraMatrix(),n=(new THREE.Matrix4).fromArray(t)}else console.assert(!1);return n.multiply(this._artoolkitProjectionAxisTransformMatrix),n},ARjs.Context.prototype._updateArtoolkit=function(e){this.arController.process(e)},ARjs.Context.prototype._initAruco=function(e){this.arucoContext=new THREEx.ArucoContext,this.arucoContext.canvas.width=this.parameters.canvasWidth,this.arucoContext.canvas.height=this.parameters.canvasHeight;var t=this.arucoContext.canvas.getContext("2d");t.webkitImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,t.msImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,t.imageSmoothingEnabled=this.parameters.imageSmoothingEnabled,setTimeout(function(){e()},0)},ARjs.Context.prototype._updateAruco=function(e){var t=this,n=this._arMarkersControls,i=this.arucoContext.detect(e);i.forEach(function(e){for(var i=null,r=0;r<n.length;r++)if(console.assert("barcode"===n[r].parameters.type),n[r].parameters.barcodeValue===e.id){i=n[r];break}if(null!==i){var a=new THREE.Object3D;t.arucoContext.updateObject3D(a,i._arucoPosit,i.parameters.size,e),a.updateMatrix(),i.updateWithModelViewMatrix(a.matrix)}})},ARjs.Context.prototype._initTango=function(e){var t=this;navigator.getVRDisplays||(navigator.getVRDevices?alert("Your browser supports WebVR but not the latest version. See <a href='http://webvr.info'>webvr.info</a> for more info."):alert("Your browser does not support WebVR. See <a href='http://webvr.info'>webvr.info</a> for assistance.")),this._tangoContext={vrDisplay:null,vrPointCloud:null,frameData:new VRFrameData},navigator.getVRDisplays().then(function(n){0===n.length&&alert("no vrDisplays available");var i=t._tangoContext.vrDisplay=n[0];console.log("vrDisplays.displayName :",i.displayName),"Tango VR Device"===i.displayName&&(t._tangoContext.vrPointCloud=new THREE.WebAR.VRPointCloud(i,(!0))),e()})},ARjs.Context.prototype._updateTango=function(e){var t=this,n=(this._arMarkersControls,this._tangoContext,this._tangoContext.vrDisplay);if(null!==n){if("Tango VR Device"===n.displayName){var i=!0,r=0;t._tangoContext.vrPointCloud.update(i,r,!0)}if(0!==this._arMarkersControls.length){var a=this._arMarkersControls[0],o=this._tangoContext.frameData;if(n.getFrameData(o),null!==o.pose.position&&null!==o.pose.orientation){var s=(new THREE.Vector3).fromArray(o.pose.position),l=(new THREE.Quaternion).fromArray(o.pose.orientation),c=new THREE.Vector3(1,1,1),u=(new THREE.Matrix4).compose(s,l,c),d=new THREE.Matrix4;d.getInverse(u),a.updateWithModelViewMatrix(d)}}}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Profile=THREEx.ArToolkitProfile=function(){this.reset(),this.performance("default")},ARjs.Profile.prototype._guessPerformanceLabel=function(){var e=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i));return e===!0?"phone-normal":"desktop-normal"},ARjs.Profile.prototype.reset=function(){return this.sourceParameters={sourceType:"webcam"},this.contextParameters={cameraParametersUrl:THREEx.ArToolkitContext.baseURL+"../data/data/camera_para.dat",detectionMode:"mono"},this.defaultMarkerParameters={type:"pattern",patternUrl:THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro",changeMatrixMode:"modelViewMatrix"},this},ARjs.Profile.prototype.performance=function(e){return"default"===e&&(e=this._guessPerformanceLabel()),"desktop-fast"===e?(this.contextParameters.canvasWidth=1920,this.contextParameters.canvasHeight=1440,this.contextParameters.maxDetectionRate=30):"desktop-normal"===e?(this.contextParameters.canvasWidth=640,this.contextParameters.canvasHeight=480,this.contextParameters.maxDetectionRate=60):"phone-normal"===e?(this.contextParameters.canvasWidth=320,this.contextParameters.canvasHeight=240,this.contextParameters.maxDetectionRate=30):"phone-slow"===e?(this.contextParameters.canvasWidth=240,this.contextParameters.canvasHeight=180,this.contextParameters.maxDetectionRate=30):console.assert(!1,"unknonwn label "+e),this},ARjs.Profile.prototype.defaultMarker=function(e){return e=e||this.contextParameters.trackingBackend,"artoolkit"===e?(this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="pattern",this.defaultMarkerParameters.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro"):"aruco"===e?(this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="barcode",this.defaultMarkerParameters.barcodeValue=1001):"tango"===e?(this.defaultMarkerParameters.type="barcode",this.defaultMarkerParameters.barcodeValue=1001):console.assert(!1),this},ARjs.Profile.prototype.sourceWebcam=function(){return this.sourceParameters.sourceType="webcam",delete this.sourceParameters.sourceUrl,this},ARjs.Profile.prototype.sourceVideo=function(e){return this.sourceParameters.sourceType="video",this.sourceParameters.sourceUrl=e,this},ARjs.Profile.prototype.sourceImage=function(e){return this.sourceParameters.sourceType="image",this.sourceParameters.sourceUrl=e,this},ARjs.Profile.prototype.trackingBackend=function(e){return console.warn("stop profile.trackingBackend() obsolete function. use .trackingMethod instead"),this.contextParameters.trackingBackend=e,this},ARjs.Profile.prototype.changeMatrixMode=function(e){return this.defaultMarkerParameters.changeMatrixMode=e,this},ARjs.Profile.prototype.trackingMethod=function(e){var t=ARjs.Utils.parseTrackingMethod(e);return this.defaultMarkerParameters.markersAreaEnabled=t.markersAreaEnabled,this.contextParameters.trackingBackend=t.trackingBackend,this},ARjs.Profile.prototype.checkIfValid=function(){return"tango"===this.contextParameters.trackingBackend&&this.sourceImage(THREEx.ArToolkitContext.baseURL+"../data/images/img.jpg"),this};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Source=THREEx.ArToolkitSource=function(e){function t(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var r=n.parameters[t];void 0!==r?n.parameters[t]=i:console.warn("THREEx.ArToolkitSource: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArToolkitSource: '"+t+"' parameter is undefined.")}}var n=this;this.ready=!1,this.domElement=null,this.parameters={sourceType:"webcam",sourceUrl:null,sourceWidth:640,sourceHeight:480,displayWidth:640,displayHeight:480},t(e)},ARjs.Source.prototype.init=function(e,t){function n(){document.body.appendChild(i.domElement),i.ready=!0,e&&e()}var i=this;if("image"===this.parameters.sourceType)var r=this._initSourceImage(n,t);else if("video"===this.parameters.sourceType)var r=this._initSourceVideo(n,t);else if("webcam"===this.parameters.sourceType)var r=this._initSourceWebcam(n,t);else console.assert(!1);return this.domElement=r,this.domElement.style.position="absolute",this.domElement.style.top="0px",this.domElement.style.left="0px",this.domElement.style.zIndex="-2",this},ARjs.Source.prototype._initSourceImage=function(e){var t=document.createElement("img");t.src=this.parameters.sourceUrl,t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var n=setInterval(function(){t.naturalWidth&&(e(),clearInterval(n))},20);return t},ARjs.Source.prototype._initSourceVideo=function(e){var t=document.createElement("video");t.src=this.parameters.sourceUrl,t.style.objectFit="initial",t.autoplay=!0,t.webkitPlaysinline=!0,t.controls=!1,t.loop=!0,t.muted=!0,document.body.addEventListener("click",function i(){document.body.removeEventListener("click",i),t.play()}),t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var n=setInterval(function(){t.videoWidth&&(e(),clearInterval(n))},20);return t},ARjs.Source.prototype._initSourceWebcam=function(e,t){var n=this;t=t||function(e){alert("Webcam Error\nName: "+e.name+"\nMessage: "+e.message)};var i=document.createElement("video");if(i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.setAttribute("playsinline",""),i.style.width=this.parameters.displayWidth+"px",i.style.height=this.parameters.displayHeight+"px",void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.enumerateDevices||void 0===navigator.mediaDevices.getUserMedia){if(void 0===navigator.mediaDevices)var r="navigator.mediaDevices";else if(void 0===navigator.mediaDevices.enumerateDevices)var r="navigator.mediaDevices.enumerateDevices";else if(void 0===navigator.mediaDevices.getUserMedia)var r="navigator.mediaDevices.getUserMedia";else console.assert(!1);return t({name:"",message:"WebRTC issue-! "+r+" not present in your browser"}),null}return navigator.mediaDevices.enumerateDevices().then(function(r){var a={audio:!1,video:{facingMode:"environment",width:{ideal:n.parameters.sourceWidth},height:{ideal:n.parameters.sourceHeight}}};navigator.mediaDevices.getUserMedia(a).then(function(t){i.srcObject=t,document.body.addEventListener("click",function(){i.play()});var n=setInterval(function(){i.videoWidth&&(e(),clearInterval(n))},20)})["catch"](function(e){t({name:e.name,message:e.message})})})["catch"](function(e){t({message:e.message})}),i},ARjs.Source.prototype.hasMobileTorch=function(){var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream==!1)return!1;void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var t=e.getVideoTracks()[0];if(void 0===t.getCapabilities)return!1;var n=t.getCapabilities();return!!n.torch},ARjs.Source.prototype.toggleMobileTorch=function(){console.assert(this.hasMobileTorch()===!0);var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream==!1)return void alert("enabling mobile torch is available only on webcam");void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var t=e.getVideoTracks()[0],n=t.getCapabilities();return n.torch?(this._currentTorchStatus=this._currentTorchStatus===!1,void t.applyConstraints({advanced:[{torch:this._currentTorchStatus}]})["catch"](function(e){console.log(e)})):void alert("no mobile torch is available on your camera")},ARjs.Source.prototype.onResizeElement=function(e){var t=this,n=window.innerWidth,i=window.innerHeight;if("IMG"===this.domElement.nodeName)var r=this.domElement.naturalWidth,a=this.domElement.naturalHeight;else if("VIDEO"===this.domElement.nodeName)var r=this.domElement.videoWidth,a=this.domElement.videoHeight;else console.assert(!1);var o=r/a,s=n/i;if(s<o){var l=o*i;this.domElement.style.width=l+"px",this.domElement.style.marginLeft=-(l-n)/2+"px",this.domElement.style.height=i+"px",this.domElement.style.marginTop="0px"}else{var c=1/(o/n);this.domElement.style.height=c+"px",this.domElement.style.marginTop=-(c-i)/2+"px",this.domElement.style.width=n+"px",this.domElement.style.marginLeft="0px"}0!==arguments.length&&console.warn("use bad signature for arToolkitSource.copyElementSizeTo"),void 0===e&&(e=[]),e instanceof Array==!1&&(e=[e]),e.forEach(function(e){t.copyElementSizeTo(e)})},ARjs.Source.prototype.copyElementSizeTo=function(e){e.style.width=this.domElement.style.width,e.style.height=this.domElement.style.height,e.style.marginLeft=this.domElement.style.marginLeft,e.style.marginTop=this.domElement.style.marginTop},ARjs.Source.prototype.copySizeTo=function(){console.warn("obsolete function arToolkitSource.copySizeTo. Use arToolkitSource.copyElementSizeTo"),this.copyElementSizeTo.apply(this,arguments)},ARjs.Source.prototype.onResize=function(e,t,n){if(3!==arguments.length)return console.warn("obsolete function arToolkitSource.onResize. Use arToolkitSource.onResizeElement"),this.onResizeElement.apply(this,arguments);var i=e.parameters.trackingBackend;if("artoolkit"===i){this.onResizeElement();var r=!!t.domElement.dataset.aframeCanvas;r===!1&&this.copyElementSizeTo(t.domElement),null!==e.arController&&this.copyElementSizeTo(e.arController.canvas)}else"aruco"===i?(this.onResizeElement(),this.copyElementSizeTo(t.domElement),this.copyElementSizeTo(e.arucoContext.canvas)):"tango"===i?t.setSize(window.innerWidth,window.innerHeight):console.assert(!1,"unhandled trackingBackend "+i);if("artoolkit"===i)null!==e.arController&&n.projectionMatrix.copy(e.getProjectionMatrix());else if("aruco"===i)n.aspect=t.domElement.width/t.domElement.height,n.updateProjectionMatrix();else if("tango"===i){var a=e._tangoContext.vrDisplay;a&&"Tango VR Device"===a.displayName&&THREE.WebAR.resizeVRSeeThroughCamera(a,n)}else console.assert(!1,"unhandled trackingBackend "+i)};var THREEx=THREEx||{};THREEx.ArVideoInWebgl=function(e){var t=new THREE.PlaneGeometry(2,2),n=new THREE.MeshBasicMaterial({map:e}),i=new THREE.Mesh(t,n);this.object3d=i,this.update=function(e){e.updateMatrixWorld(!0);var t=new THREE.Vector3((-0),0,(-20)),t=new THREE.Vector3((-0),0,(-20));i.position.copy(t),e.localToWorld(i.position),e.matrixWorld.decompose(e.position,e.quaternion,e.scale),i.quaternion.copy(e.quaternion);var n=2*THREE.Math.radToDeg(Math.atan(1/e.projectionMatrix.elements[5])),r=parseFloat(arToolkitSource.domElement.style.width.replace(/px$/,""),10),a=parseFloat(arToolkitSource.domElement.style.height.replace(/px$/,""),10),o=r/a;i.scale.y=Math.tan(THREE.Math.DEG2RAD*n/2)*t.length(),i.scale.x=i.scale.y*o}};var THREEx=THREEx||{};THREEx.HitTestingPlane=function(e){this._sourceElement=e,this._pickingScene=new THREE.Scene;var t=new THREE.PlaneGeometry(20,20,19,19).rotateX(-Math.PI/2),n=new THREE.MeshBasicMaterial({wireframe:!0});this._pickingPlane=new THREE.Mesh(t,n),this._pickingScene.add(this._pickingPlane);var i=parseInt(e.style.width),r=parseInt(e.style.height);this._pickingCamera=new THREE.PerspectiveCamera(42,i/r,.1,30)},THREEx.HitTestingPlane.prototype.update=function(e,t,n){if(this.onResize(),"modelViewMatrix"===n){var i=this._pickingPlane;t.parent.updateMatrixWorld(),i.matrix.copy(t.parent.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale)}else if("cameraTransformMatrix"===n){var r=this._pickingCamera;e.updateMatrixWorld(),r.matrix.copy(e.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale)}else console.assert(!1)},THREEx.HitTestingPlane.prototype.onResize=function(){var e=this._sourceElement,t=this._pickingCamera,n=parseInt(e.style.width),i=parseInt(e.style.height);t.aspect=n/i,t.updateProjectionMatrix()},THREEx.HitTestingPlane.prototype.test=function(e,t){e=2*(e-.5),t=2*-(t-.5),this._pickingScene.updateMatrixWorld(!0);var n=new THREE.Raycaster,i=new THREE.Vector3(e,t,1);n.setFromCamera(i,this._pickingCamera);var r=n.intersectObjects([this._pickingPlane]);if(0===r.length)return null;var a=this._pickingPlane.worldToLocal(r[0].point.clone()),o=new THREE.Quaternion,s=new THREE.Vector3(1,1,1);return{position:a,quaternion:o,scale:s}},THREEx.HitTestingPlane.prototype.renderDebug=function(e){e.render(this._pickingScene,this._pickingCamera)};var THREEx=THREEx||{};THREEx.HitTestingTango=function(e){this._arContext=e,this.boundingSphereRadius=.01,this.resultScale=new THREE.Vector3(1,1,1).multiplyScalar(1)},THREEx.HitTestingTango.prototype.update=function(){},THREEx.HitTestingTango.prototype.test=function(e,t){var n=this._arContext._tangoContext.vrDisplay;if(null===n)return null;if("Tango VR Device"!==n.displayName)return null;var i=n.getPickingPointAndPlaneInPointCloud(e,t);if(null==i)return console.warn("Could not retrieve the correct point and plane."),null;var r=new THREE.Object3D;THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud(i,r,this.boundingSphereRadius),r.rotateZ(-Math.PI/2);var a={position:r.position,quaternion:r.quaternion,scale:this.resultScale};return a};var ARjs=ARjs||{};ARjs.Anchor=function(e,t){var n=this,i=e.arContext,r=e.parameters.scene,a=e.parameters.camera;this.arSession=e,this.parameters=t,console.log("ARjs.Anchor -","changeMatrixMode:",this.parameters.changeMatrixMode,"/ markersAreaEnabled:",t.markersAreaEnabled);var o=new THREE.Group;if(r.add(o),"modelViewMatrix"===t.changeMatrixMode)var s=o;else if("cameraTransformMatrix"===t.changeMatrixMode)var s=a;else console.assert(!1);if(t.markersAreaEnabled===!1){new THREEx.ArMarkerControls(i,s,t)}else{if(console.assert("artoolkit"===i.parameters.trackingBackend||"aruco"===i.parameters.trackingBackend),location.hash.substring(1).startsWith("markers-page-resolution=")===!0){var l=location.hash.substring(1),c=l.match(/markers-page-resolution=(\d+)x(\d+)/);console.assert(3===c.length);var u=parseInt(c[1]),d=parseInt(c[2]),i=e.arContext;ARjs.MarkersAreaUtils.storeMarkersAreaFileFromResolution(i.parameters.trackingBackend,u,d)}null===localStorage.getItem("ARjsMultiMarkerFile")&&ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile(i.parameters.trackingBackend),console.assert(null!==localStorage.getItem("ARjsMultiMarkerFile"));var f=localStorage.getItem("ARjsMultiMarkerFile");if("modelViewMatrix"===t.changeMatrixMode)var h=r;else if("cameraTransformMatrix"===t.changeMatrixMode)var h=a;else console.assert(!1);var m=ARjs.MarkersAreaControls.fromJSON(i,h,s,f);m.parameters.changeMatrixMode=t.changeMatrixMode;var p=[];m.subMarkersControls.forEach(function(e){var t=new THREEx.ArMarkerHelper(e);t.object3d.visible=!1,e.object3d.add(t.object3d),p.push(t)}),this.markersArea={},this.markersArea.setSubMarkersVisibility=function(e){p.forEach(function(t){t.object3d.visible=e})}}this.object3d=new THREE.Group;var g=!0;if("tango"===i.parameters.trackingBackend&&(g=!1),g===!0){var v=new THREE.Group;r.add(v);var b=new THREEx.ArSmoothedControls(v);v.add(this.object3d)}else o.add(this.object3d);this.update=function(){n.object3d.visible=n.object3d.parent.visible,void 0!==b&&(void 0!==m&&m.updateSmoothedControls(b),b.update(o))}};var ARjs=ARjs||{};ARjs.SessionDebugUI=function(e,t){var n=e.arContext.parameters.trackingBackend;this.domElement=document.createElement("div"),this.domElement.style.color="rgba(0,0,0,0.9)",this.domElement.style.backgroundColor="rgba(127,127,127,0.5)",this.domElement.style.display="inline-block",this.domElement.style.padding="0.5em",this.domElement.style.margin="0.5em",this.domElement.style.textAlign="left";var i=document.createElement("span");if(i.style.display="block",this.domElement.appendChild(i),i.innerHTML="<b>trackingBackend</b> : "+n,ARjs.SessionDebugUI.AugmentedWebsiteURL){var i=document.createElement("a");i.innerHTML="Share on augmented-websites",i.style.display="block",i.href=ARjs.SessionDebugUI.AugmentedWebsiteURL+"?"+location.href,this.domElement.appendChild(i)}if("tango"===n&&t){var i=document.createElement("button");this.domElement.appendChild(i),i.id="buttonTangoTogglePointCloud",i.innerHTML="toggle-point-cloud",i.href="javascript:void(0)",i.addEventListener("click",function(){var n=e.parameters.scene;t.object3d.parent?n.remove(t.object3d):n.add(t.object3d)})}},ARjs.SessionDebugUI.AugmentedWebsiteURL="https://webxr.io/augmented-website",ARjs.AnchorDebugUI=function(e){var t=e.arSession,n=t.arContext.parameters.trackingBackend;this.domElement=document.createElement("div"),this.domElement.style.color="rgba(0,0,0,0.9)",this.domElement.style.backgroundColor="rgba(127,127,127,0.5)",this.domElement.style.display="inline-block",this.domElement.style.padding="0.5em",this.domElement.style.margin="0.5em",this.domElement.style.textAlign="left";var i=document.createElement("span");if(i.style.display="block",this.domElement.appendChild(i),i.innerHTML="<b>markersAreaEnabled</b> :"+e.parameters.markersAreaEnabled,e.parameters.markersAreaEnabled){var i=document.createElement("button");i.style.display="block",this.domElement.appendChild(i),i.id="buttonToggleMarkerHelpers",i.innerHTML="toggle-marker-helper",i.href="javascript:void(0)";var r=!1;i.addEventListener("click",function(){r=!r,e.markersArea.setSubMarkersVisibility(r)})}if(e.parameters.markersAreaEnabled){var i=document.createElement("button");i.style.display="block",this.domElement.appendChild(i),i.id="buttonMarkersAreaLearner",i.innerHTML="Learn-new-marker-area",i.href="javascript:void(0)",i.addEventListener("click",function(){var e=ARjs.Context.baseURL+"examples/multi-markers/examples/learner.html";ARjs.MarkersAreaUtils.navigateToLearnerPage(e,n)})}if(e.parameters.markersAreaEnabled){var i=document.createElement("button");i.style.display="block",this.domElement.appendChild(i),i.id="buttonMarkersAreaReset",i.innerHTML="Reset-marker-area",i.href="javascript:void(0)",i.addEventListener("click",function(){ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile(n),location.reload()})}};var ARjs=ARjs||{};ARjs.HitTesting=function(e){var t=this,n=e.arContext,i=n.parameters.trackingBackend;this.enabled=!0,this._arSession=e,this._hitTestingPlane=null,this._hitTestingTango=null,"tango"===i?t._hitTestingTango=new THREEx.HitTestingTango(n):t._hitTestingPlane=new THREEx.HitTestingPlane(e.arSource.domElement)},ARjs.HitTesting.prototype.update=function(e,t,n){this.enabled!==!1&&(null!==this._hitTestingTango?this._hitTestingTango.update():null!==this._hitTestingPlane?this._hitTestingPlane.update(e,t,n):console.assert(!1))},ARjs.HitTesting.prototype.testDomEvent=function(e){var t=this._arSession.arContext.parameters.trackingBackend,n=this._arSession.arSource;if(this.enabled===!1)return[];if("tango"===t)var i=e.pageX/window.innerWidth,r=e.pageY/window.innerHeight;else var i=e.layerX/parseInt(n.domElement.style.width),r=e.layerY/parseInt(n.domElement.style.height);return this.test(i,r)},ARjs.HitTesting.prototype.test=function(e,t){var n=this._arSession.arContext,i=n.parameters.trackingBackend,r=[];if(this.enabled===!1)return[];var a=null;if("tango"===i)var a=this._hitTestingTango.test(e,t);else var a=this._hitTestingPlane.test(e,t);if(null===a)return r;var o=new ARjs.HitTesting.Result(a.position,a.quaternion,a.scale);return r.push(o),r},ARjs.HitTesting.Result=function(e,t,n){this.position=e,this.quaternion=t,this.scale=n},ARjs.HitTesting.Result.prototype.apply=function(e){e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.updateMatrix()},ARjs.HitTesting.Result.prototype.applyPosition=function(e){return e.position.copy(this.position),e.updateMatrix(),this},ARjs.HitTesting.Result.prototype.applyQuaternion=function(e){return e.quaternion.copy(this.quaternion),e.updateMatrix(),this};var ARjs=ARjs||{};ARjs.Session=function(e){function t(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var r=n.parameters[t];void 0!==r?n.parameters[t]=i:console.warn("THREEx.Session: '"+t+"' is not a property of this material.")}else console.warn("THREEx.Session: '"+t+"' parameter is undefined.")}}var n=this;this.parameters={renderer:null,camera:null,scene:null,sourceParameters:{},contextParameters:{}},t(e),console.assert(this.parameters.renderer instanceof THREE.WebGLRenderer),console.assert(this.parameters.camera instanceof THREE.Camera),console.assert(this.parameters.scene instanceof THREE.Scene),Object.defineProperty(this,"renderer",{get:function(){return console.warn("use .parameters.renderer renderer"),this.parameters.renderer}}),Object.defineProperty(this,"camera",{get:function(){return console.warn("use .parameters.camera instead"),this.parameters.camera}}),Object.defineProperty(this,"scene",{get:function(){return console.warn("use .parameters.scene instead"),this.parameters.scene}}),console.log("AR.js",ARjs.Context.REVISION,"- trackingBackend:",e.contextParameters.trackingBackend);var i=n.arSource=new ARjs.Source(e.sourceParameters);i.init(function(){i.onResize(r,n.parameters.renderer,n.parameters.camera)}),window.addEventListener("resize",function(){i.onResize(r,n.parameters.renderer,n.parameters.camera)});var r=n.arContext=new ARjs.Context(e.contextParameters);n.arContext.init(),r.addEventListener("initialized",function(e){i.onResize(r,n.parameters.renderer,n.parameters.camera)}),this.update=function(){i.ready!==!1&&r.update(i.domElement)}},ARjs.Session.prototype.onResize=function(){this.arSource.onResize(this.arContext,this.parameters.renderer,this.parameters.camera)};var ARjs=ARjs||{};ARjs.TangoPointCloud=function(e){var t=this,n=e.arContext;this.object3d=new THREE.Group,console.warn("Work only on cameraTransformMatrix - fix me - useless limitation"),n.addEventListener("initialized",function(e){var i=n._tangoContext.vrPointCloud,r=i.getBufferGeometry(),a=new THREE.PointsMaterial({size:.01,depthWrite:!1}),o=new THREE.Points(r,a);o.frustumCulled=!1,o.renderDepth=0,t.object3d.add(o)})};var ARjs=ARjs||{};ARjs.TangoVideoMesh=function(e){var t=e.arContext,n=e.renderer,i=null,r=null,a=new THREE.Scene,o=new THREE.OrthographicCamera((-1),1,1,(-1),0,100);this._sceneOrtho=a,this._cameraOrtho=o,t.addEventListener("initialized",function(e){console.assert("tango"===t.parameters.trackingBackend),r=t._tangoContext.vrDisplay,console.assert(r,"vrDisplay MUST be defined"),"Tango VR Device"===r.displayName&&(i=THREE.WebAR.createVRSeeThroughCameraMesh(r),a.add(i))}),this.update=function(){console.assert("tango"===t.parameters.trackingBackend),null!==i&&THREE.WebAR.updateCameraMeshOrientation(r,i)},this.render=function(){console.assert("tango"===t.parameters.trackingBackend),n.render(a,o),n.clearDepth()}};var ARjs=ARjs||{};ARjs.Utils={},ARjs.Utils.createDefaultCamera=function(e){var t=this.parseTrackingMethod(e).trackingBackend;if("artoolkit"===t)var n=new THREE.Camera;else if("aruco"===t)var n=new THREE.PerspectiveCamera(42,window.innerWidth/window.innerHeight,.01,100);else if("tango"===t)var n=new THREE.PerspectiveCamera(42,window.innerWidth/window.innerHeight,.01,100);else console.assert(!1,"unknown trackingBackend: "+t);return n},ARjs.Utils.isTango=function(){var e=null!==navigator.userAgent.match("Chrome/57.0.2987.5");return e},ARjs.Utils.parseTrackingMethod=function(e){return"best"===e&&(e=ARjs.Utils.isTango()?"tango":"area-artoolkit"),e.startsWith("area-")?{trackingBackend:e.replace("area-",""),markersAreaEnabled:!0}:{trackingBackend:e,markersAreaEnabled:!1}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaControls=THREEx.ArMultiMarkerControls=function(e,t,n){var i=this;THREEx.ArBaseControls.call(this,t),arguments.length>3&&console.assert("wrong api for",THREEx.ArMultiMarkerControls),this.parameters={subMarkersControls:n.subMarkersControls,subMarkerPoses:n.subMarkerPoses,changeMatrixMode:void 0!==n.changeMatrixMode?n.changeMatrixMode:"modelViewMatrix"},this.object3d.visible=!1,this.subMarkersControls=this.parameters.subMarkersControls,this.subMarkerPoses=this.parameters.subMarkerPoses,e.addEventListener("sourceProcessed",function(){i._onSourceProcessed()})},ARjs.MarkersAreaControls.prototype=Object.create(THREEx.ArBaseControls.prototype),ARjs.MarkersAreaControls.prototype.constructor=ARjs.MarkersAreaControls,ARjs.MarkersAreaControls.prototype._onSourceProcessed=function(){var e=this,t={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}},n=e.parameters.subMarkersControls[0].object3d.quaternion;if(this.parameters.subMarkersControls.forEach(function(i,r){var a=i.object3d;if(a.visible!==!1){var o=a.matrix.clone(),s=e.parameters.subMarkerPoses[r];o.multiply((new THREE.Matrix4).getInverse(s));var l=new THREE.Vector3,c=new THREE.Quaternion,u=new THREE.Vector3;o.decompose(l,c,u),t.count++,ARjs.MarkersAreaControls.averageVector3(t.position.sum,l,t.count,t.position.average),ARjs.MarkersAreaControls.averageQuaternion(t.quaternion.sum,c,n,t.count,t.quaternion.average),ARjs.MarkersAreaControls.averageVector3(t.scale.sum,u,t.count,t.scale.average)}}),t.count>0?e.object3d.visible=!0:e.object3d.visible=!1,t.count>0){var i=new THREE.Matrix4;i.compose(t.position.average,t.quaternion.average,t.scale.average),"modelViewMatrix"===this.parameters.changeMatrixMode?e.object3d.matrix.copy(i):"cameraTransformMatrix"===this.parameters.changeMatrixMode?e.object3d.matrix.getInverse(i):console.assert(!1),e.object3d.matrix.decompose(e.object3d.position,e.object3d.quaternion,e.object3d.scale)}},ARjs.MarkersAreaControls.averageQuaternion=function(e,t,n,i,r){return r=r||new THREE.Quaternion,console.assert(n instanceof THREE.Quaternion==!0),t.dot(n)>0&&(t=new THREE.Quaternion((-t.x),(-t.y),(-t.z),(-t.w))),e.x+=t.x,e.y+=t.y,e.z+=t.z,e.w+=t.w,r.x=e.x/i,r.y=e.y/i,r.z=e.z/i,r.w=e.w/i,r.normalize(),r},ARjs.MarkersAreaControls.averageVector3=function(e,t,n,i){return i=i||new THREE.Vector3,e.x+=t.x,e.y+=t.y,e.z+=t.z,i.x=e.x/n,i.y=e.y/n,i.z=e.z/n,i},ARjs.MarkersAreaControls.computeCenter=function(e){var t=JSON.parse(e),n={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}},i=new THREE.Quaternion;t.subMarkersControls.forEach(function(e){var t=(new THREE.Matrix4).fromArray(e.poseMatrix),r=new THREE.Vector3,a=new THREE.Quaternion,o=new THREE.Vector3;t.decompose(r,a,o),n.count++,ARjs.MarkersAreaControls.averageVector3(n.position.sum,r,n.count,n.position.average),ARjs.MarkersAreaControls.averageQuaternion(n.quaternion.sum,a,i,n.count,n.quaternion.average),ARjs.MarkersAreaControls.averageVector3(n.scale.sum,o,n.count,n.scale.average)});var r=new THREE.Matrix4;return r.compose(n.position.average,n.quaternion.average,n.scale.average),r},ARjs.MarkersAreaControls.computeBoundingBox=function(e){var t=JSON.parse(e),n=new THREE.Box3;return t.subMarkersControls.forEach(function(e){var t=(new THREE.Matrix4).fromArray(e.poseMatrix),i=new THREE.Vector3,r=new THREE.Quaternion,a=new THREE.Vector3;t.decompose(i,r,a),n.expandByPoint(i)}),n},ARjs.MarkersAreaControls.prototype.updateSmoothedControls=function(e,t){void 0===t&&(t=[[.4,.1,.3],[.5,.1,.4],[.5,.2,.5],[.6,.2,.7],[.6,.2,.7]]);var n=0;if(this.parameters.subMarkersControls.forEach(function(e,t){var i=e.object3d;i.visible===!0&&n++}),void 0!==t[n-1])var i=t[n-1];else var i=t[t.length-1];e.parameters.lerpPosition=i[0],e.parameters.lerpQuaternion=i[1],e.parameters.lerpScale=i[2]},ARjs.MarkersAreaControls.fromJSON=function(e,t,n,i,r){var a=JSON.parse(i),o=[],s=[];r=r||{},a.subMarkersControls.forEach(function(n){var i=new THREE.Object3D;t.add(i);var r=new THREEx.ArMarkerControls(e,i,n.parameters);o.push(r),s.push((new THREE.Matrix4).fromArray(n.poseMatrix))}),r.subMarkersControls=o,r.subMarkerPoses=s;var l=new THREEx.ArMultiMarkerControls(e,n,r);
return l};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaLearning=THREEx.ArMultiMakersLearning=function(e,t){var n=this;this._arToolkitContext=e,this.subMarkersControls=t,this.enabled=!0,e.addEventListener("sourceProcessed",function(){n._onSourceProcessed()})},ARjs.MarkersAreaLearning.prototype._onSourceProcessed=function(){var e=this.subMarkersControls[0].object3d.quaternion;if(this.enabled!==!1)for(var t=this.subMarkersControls.filter(function(e){return e.object3d.visible===!0}),n=Object.keys(t).length,i=new THREE.Vector3,r=new THREE.Quaternion,a=new THREE.Vector3,o=new THREE.Matrix4,s=0;s<n;s++)for(var l=t[s],c=0;c<n;c++){var u=t[c];if(s!==c){void 0===l.object3d.userData.seenCouples&&(l.object3d.userData.seenCouples={});var d=l.object3d.userData.seenCouples;void 0===d[u.id]&&(d[u.id]={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}}),o.getInverse(l.object3d.matrix),o.multiply(u.object3d.matrix),o.decompose(i,r,a);var f=d[u.id];f.count++,THREEx.ArMultiMarkerControls.averageVector3(f.position.sum,i,f.count,f.position.average),THREEx.ArMultiMarkerControls.averageQuaternion(f.quaternion.sum,r,e,f.count,f.quaternion.average),THREEx.ArMultiMarkerControls.averageVector3(f.scale.sum,a,f.count,f.scale.average)}}},ARjs.MarkersAreaLearning.prototype.computeResult=function(){var e=this,t=this.subMarkersControls[0];this.deleteResult(),t.object3d.userData.result={averageMatrix:new THREE.Matrix4,confidenceFactor:1};do{var n=!1;this.subMarkersControls.forEach(function(t){var i=t.object3d.userData.result,r=void 0!==i&&i.confidenceFactor>=1;if(r!==!0){var a=e._getLearnedCoupleStats(t);if(null!==a){var o=e._getSubMarkerControlsByID(a),s=t.object3d.userData.seenCouples[a],l=new THREE.Matrix4;l.compose(s.position.average,s.quaternion.average,s.scale.average);var c=o.object3d.userData.result.averageMatrix,u=(new THREE.Matrix4).getInverse(c).multiply(l);u=(new THREE.Matrix4).getInverse(u),console.assert(void 0===t.object3d.userData.result),t.object3d.userData.result={averageMatrix:u,confidenceFactor:1},n=!0}}})}while(n===!0)},ARjs.MarkersAreaLearning.prototype._getLearnedCoupleStats=function(e){if(void 0===e.object3d.userData.seenCouples)return null;for(var t=e.object3d.userData.seenCouples,n=Object.keys(t).map(Number),i=0;i<n.length;i++){var r=n[i],a=this._getSubMarkerControlsByID(r),o=a.object3d.userData.result,s=void 0!==o&&o.confidenceFactor>=1;if(s!==!1)return r}return null},ARjs.MarkersAreaLearning.prototype._getSubMarkerControlsByID=function(e){for(var t=0;t<this.subMarkersControls.length;t++){var n=this.subMarkersControls[t];if(n.id===e)return n}return null},ARjs.MarkersAreaLearning.prototype.toJSON=function(){this.computeResult();var e={meta:{createdBy:"Area Learning - AR.js "+THREEx.ArToolkitContext.REVISION,createdAt:(new Date).toJSON()},trackingBackend:this._arToolkitContext.parameters.trackingBackend,subMarkersControls:[]},t=this.subMarkersControls[0];(new THREE.Matrix4).getInverse(t.object3d.matrix);this.subMarkersControls.forEach(function(t,n){if(void 0!==t.object3d.userData.result){var i=t.object3d.userData.result.averageMatrix;console.assert(i instanceof THREE.Matrix4);var r={parameters:{},poseMatrix:i.toArray()};"pattern"===t.parameters.type?(r.parameters.type=t.parameters.type,r.parameters.patternUrl=t.parameters.patternUrl):"barcode"===t.parameters.type?(r.parameters.type=t.parameters.type,r.parameters.barcodeValue=t.parameters.barcodeValue):console.assert(!1),e.subMarkersControls.push(r)}});var n=JSON.stringify(e,null,"\t"),i=!1;if(i===!0){var r=JSON.parse(n);r.subMarkersControls.forEach(function(e){e.poseMatrix=e.poseMatrix.map(function(e){var t=100;return Math.round(e*t)/t})}),n=JSON.stringify(r,null,"\t")}return n},ARjs.MarkersAreaLearning.prototype.resetStats=function(){this.deleteResult(),this.subMarkersControls.forEach(function(e){delete e.object3d.userData.seenCouples})},ARjs.MarkersAreaLearning.prototype.deleteResult=function(){this.subMarkersControls.forEach(function(e){delete e.object3d.userData.result})};var THREEx=THREEx||{},ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaUtils=THREEx.ArMultiMarkerUtils={},ARjs.MarkersAreaUtils.navigateToLearnerPage=function(e,t){var n={backURL:location.href,trackingBackend:t,markersControlsParameters:ARjs.MarkersAreaUtils.createDefaultMarkersControlsParameters(t)};location.href=e+"?"+encodeURIComponent(JSON.stringify(n))},ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile=function(e){var t=ARjs.MarkersAreaUtils.createDefaultMultiMarkerFile(e);localStorage.setItem("ARjsMultiMarkerFile",JSON.stringify(t))},ARjs.MarkersAreaUtils.createDefaultMultiMarkerFile=function(e){console.assert(e);var t=document.createElement("a");t.href=ARjs.Context.baseURL;var n=t.href,i={meta:{createdBy:"AR.js "+ARjs.Context.REVISION+" - Default Marker",createdAt:(new Date).toJSON()},trackingBackend:e,subMarkersControls:[]};return i.subMarkersControls[0]={parameters:{},poseMatrix:(new THREE.Matrix4).makeTranslation(0,0,0).toArray()},"artoolkit"===e?(i.subMarkersControls[0].parameters.type="pattern",i.subMarkersControls[0].parameters.patternUrl=n+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"):"aruco"===e?(i.subMarkersControls[0].parameters.type="barcode",i.subMarkersControls[0].parameters.barcodeValue=1001):console.assert(!1),i},ARjs.MarkersAreaUtils.createDefaultMarkersControlsParameters=function(e){var t=document.createElement("a");t.href=ARjs.Context.baseURL;var n=t.href;if("artoolkit"===e)var i=[{type:"pattern",patternUrl:n+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"},{type:"pattern",patternUrl:n+"examples/marker-training/examples/pattern-files/pattern-kanji.patt"},{type:"pattern",patternUrl:n+"examples/marker-training/examples/pattern-files/pattern-letterA.patt"},{type:"pattern",patternUrl:n+"examples/marker-training/examples/pattern-files/pattern-letterB.patt"},{type:"pattern",patternUrl:n+"examples/marker-training/examples/pattern-files/pattern-letterC.patt"},{type:"pattern",patternUrl:n+"examples/marker-training/examples/pattern-files/pattern-letterF.patt"}];else if("aruco"===e)var i=[{type:"barcode",barcodeValue:1001},{type:"barcode",barcodeValue:1002},{type:"barcode",barcodeValue:1003},{type:"barcode",barcodeValue:1004},{type:"barcode",barcodeValue:1005},{type:"barcode",barcodeValue:1006}];else console.assert(!1);return i},ARjs.MarkersAreaUtils.storeMarkersAreaFileFromResolution=function(e,t,n){var i=this.buildMarkersAreaFileFromResolution(e,t,n);localStorage.setItem("ARjsMultiMarkerFile",JSON.stringify(i))},ARjs.MarkersAreaUtils.buildMarkersAreaFileFromResolution=function(e,t,n){function i(t,n,i){console.log("buildSubMarkerControls",t,n,i);var o={parameters:{},poseMatrix:(new THREE.Matrix4).makeTranslation(n,0,i).toArray()};return"artoolkit"===e?r(o.parameters,t):"aruco"===e?a(o.parameters,t):console.assert(!1),o}function r(e,t){function n(e){var t=document.createElement("a");return t.href=e,t.href}var i=document.createElement("a");i.href=ARjs.Context.baseURL;var r=i.href,a={center:n(r+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"),topleft:n(r+"examples/marker-training/examples/pattern-files/pattern-letterA.patt"),topright:n(r+"examples/marker-training/examples/pattern-files/pattern-letterB.patt"),bottomleft:n(r+"examples/marker-training/examples/pattern-files/pattern-letterC.patt"),bottomright:n(r+"examples/marker-training/examples/pattern-files/pattern-letterF.patt")};console.assert(void 0!==a[t]),e.type="pattern",e.patternUrl=a[t]}function a(e,t){var n={center:1001,topleft:1002,topright:1003,bottomleft:1004,bottomright:1005};console.assert(n[t]),e.type="barcode",e.barcodeValue=n[t]}var o={meta:{createdBy:"AR.js - Augmented Website",createdAt:(new Date).toJSON()},trackingBackend:e,subMarkersControls:[]},s=.1;if(t>n)var l=.4*n;else if(t<n)var l=.4*t;else if(t===n)var l=.33*t;else console.assert(!1);var c=l*(1-2*s),u=(t-l)/2/c,d=(n-l)/2/c,f=i("center",0,0);o.subMarkersControls.push(f);var f=i("topleft",-u,-d);o.subMarkersControls.push(f);var f=i("topright",+u,-d);o.subMarkersControls.push(f);var f=i("bottomleft",-u,+d);o.subMarkersControls.push(f);var f=i("bottomright",+u,+d);return o.subMarkersControls.push(f),o};